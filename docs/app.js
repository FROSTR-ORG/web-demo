var Kb=Object.create;var xc=Object.defineProperty,Gb=Object.defineProperties,Qb=Object.getOwnPropertyDescriptor,Yb=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertyNames,vc=Object.getOwnPropertySymbols,Jb=Object.getPrototypeOf,$d=Object.prototype.hasOwnProperty,W0=Object.prototype.propertyIsEnumerable;var Dd=(e,t,n)=>t in e?xc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))$d.call(t,n)&&Dd(e,n,t[n]);if(vc)for(var n of vc(t))W0.call(t,n)&&Dd(e,n,t[n]);return e},L=(e,t)=>Gb(e,Yb(t));var ji=(e,t)=>{var n={};for(var r in e)$d.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vc)for(var r of vc(e))t.indexOf(r)<0&&W0.call(e,r)&&(n[r]=e[r]);return n};var e_=(e,t)=>()=>(e&&(t=e(e=0)),t);var Qn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Tr=(e,t)=>{for(var n in t)xc(e,n,{get:t[n],enumerable:!0})},t_=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xb(t))!$d.call(e,o)&&o!==n&&xc(e,o,{get:()=>t[o],enumerable:!(r=Qb(t,o))||r.enumerable});return e};var ee=(e,t,n)=>(n=e!=null?Kb(Jb(e)):{},t_(t||!e||!e.__esModule?xc(n,"default",{value:e,enumerable:!0}):n,e));var J=(e,t,n)=>Dd(e,typeof t!="symbol"?t+"":t,n);var og=Qn(se=>{"use strict";var Di=Symbol.for("react.element"),n_=Symbol.for("react.portal"),r_=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),s_=Symbol.for("react.profiler"),i_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),c_=Symbol.for("react.forward_ref"),l_=Symbol.for("react.suspense"),u_=Symbol.for("react.memo"),d_=Symbol.for("react.lazy"),F0=Symbol.iterator;function f_(e){return e===null||typeof e!="object"?null:(e=F0&&e[F0]||e["@@iterator"],typeof e=="function"?e:null)}var Q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y0=Object.assign,X0={};function Cs(e,t,n){this.props=e,this.context=t,this.refs=X0,this.updater=n||Q0}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function J0(){}J0.prototype=Cs.prototype;function Vd(e,t,n){this.props=e,this.context=t,this.refs=X0,this.updater=n||Q0}var qd=Vd.prototype=new J0;qd.constructor=Vd;Y0(qd,Cs.prototype);qd.isPureReactComponent=!0;var K0=Array.isArray,eg=Object.prototype.hasOwnProperty,Zd={current:null},tg={key:!0,ref:!0,__self:!0,__source:!0};function ng(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)eg.call(t,r)&&!tg.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Di,type:e,key:s,ref:i,props:o,_owner:Zd.current}}function h_(e,t){return{$$typeof:Di,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Di}function p_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var G0=/\/+/g;function Hd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p_(""+e.key):t.toString(36)}function bc(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Di:case n_:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Hd(i,0):r,K0(o)?(n="",e!=null&&(n=e.replace(G0,"$&/")+"/"),bc(o,t,n,"",function(l){return l})):o!=null&&(Wd(o)&&(o=h_(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(G0,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",K0(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+Hd(s,a);i+=bc(s,t,n,c,o)}else if(c=f_(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+Hd(s,a++),i+=bc(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function kc(e,t,n){if(e==null)return e;var r=[],o=0;return bc(e,r,"","",function(s){return t.call(n,s,o++)}),r}function m_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},_c={transition:null},g_={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:_c,ReactCurrentOwner:Zd};function rg(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:kc,forEach:function(e,t,n){kc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kc(e,function(){t++}),t},toArray:function(e){return kc(e,function(t){return t})||[]},only:function(e){if(!Wd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Cs;se.Fragment=r_;se.Profiler=s_;se.PureComponent=Vd;se.StrictMode=o_;se.Suspense=l_;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g_;se.act=rg;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Y0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Zd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)eg.call(t,c)&&!tg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Di,type:e.type,key:o,ref:s,props:r,_owner:i}};se.createContext=function(e){return e={$$typeof:a_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i_,_context:e},e.Consumer=e};se.createElement=ng;se.createFactory=function(e){var t=ng.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:c_,render:e}};se.isValidElement=Wd;se.lazy=function(e){return{$$typeof:d_,_payload:{_status:-1,_result:e},_init:m_}};se.memo=function(e,t){return{$$typeof:u_,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=_c.transition;_c.transition={};try{e()}finally{_c.transition=t}};se.unstable_act=rg;se.useCallback=function(e,t){return ht.current.useCallback(e,t)};se.useContext=function(e){return ht.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};se.useEffect=function(e,t){return ht.current.useEffect(e,t)};se.useId=function(){return ht.current.useId()};se.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return ht.current.useMemo(e,t)};se.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};se.useRef=function(e){return ht.current.useRef(e)};se.useState=function(e){return ht.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return ht.current.useTransition()};se.version="18.3.1"});var It=Qn((YT,sg)=>{"use strict";sg.exports=og()});var mg=Qn(ye=>{"use strict";function Qd(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<Ec(o,t))e[r]=t,e[n]=o,n=r;else break e}}function un(e){return e.length===0?null:e[0]}function Cc(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var i=2*(r+1)-1,a=e[i],c=i+1,l=e[c];if(0>Ec(a,n))c<o&&0>Ec(l,a)?(e[r]=l,e[c]=n,r=c):(e[r]=a,e[i]=n,r=i);else if(c<o&&0>Ec(l,n))e[r]=l,e[c]=n,r=c;else break e}}return t}function Ec(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(ig=performance,ye.unstable_now=function(){return ig.now()}):(Fd=Date,ag=Fd.now(),ye.unstable_now=function(){return Fd.now()-ag});var ig,Fd,ag,An=[],Nr=[],y_=1,Wt=null,ot=3,Sc=!1,Po=!1,Hi=!1,ug=typeof setTimeout=="function"?setTimeout:null,dg=typeof clearTimeout=="function"?clearTimeout:null,cg=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Yd(e){for(var t=un(Nr);t!==null;){if(t.callback===null)Cc(Nr);else if(t.startTime<=e)Cc(Nr),t.sortIndex=t.expirationTime,Qd(An,t);else break;t=un(Nr)}}function Xd(e){if(Hi=!1,Yd(e),!Po)if(un(An)!==null)Po=!0,ef(Jd);else{var t=un(Nr);t!==null&&tf(Xd,t.startTime-e)}}function Jd(e,t){Po=!1,Hi&&(Hi=!1,dg(Vi),Vi=-1),Sc=!0;var n=ot;try{for(Yd(t),Wt=un(An);Wt!==null&&(!(Wt.expirationTime>t)||e&&!pg());){var r=Wt.callback;if(typeof r=="function"){Wt.callback=null,ot=Wt.priorityLevel;var o=r(Wt.expirationTime<=t);t=ye.unstable_now(),typeof o=="function"?Wt.callback=o:Wt===un(An)&&Cc(An),Yd(t)}else Cc(An);Wt=un(An)}if(Wt!==null)var s=!0;else{var i=un(Nr);i!==null&&tf(Xd,i.startTime-t),s=!1}return s}finally{Wt=null,ot=n,Sc=!1}}var Pc=!1,Bc=null,Vi=-1,fg=5,hg=-1;function pg(){return!(ye.unstable_now()-hg<fg)}function Kd(){if(Bc!==null){var e=ye.unstable_now();hg=e;var t=!0;try{t=Bc(!0,e)}finally{t?$i():(Pc=!1,Bc=null)}}else Pc=!1}var $i;typeof cg=="function"?$i=function(){cg(Kd)}:typeof MessageChannel<"u"?(Gd=new MessageChannel,lg=Gd.port2,Gd.port1.onmessage=Kd,$i=function(){lg.postMessage(null)}):$i=function(){ug(Kd,0)};var Gd,lg;function ef(e){Bc=e,Pc||(Pc=!0,$i())}function tf(e,t){Vi=ug(function(){e(ye.unstable_now())},t)}ye.unstable_IdlePriority=5;ye.unstable_ImmediatePriority=1;ye.unstable_LowPriority=4;ye.unstable_NormalPriority=3;ye.unstable_Profiling=null;ye.unstable_UserBlockingPriority=2;ye.unstable_cancelCallback=function(e){e.callback=null};ye.unstable_continueExecution=function(){Po||Sc||(Po=!0,ef(Jd))};ye.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fg=0<e?Math.floor(1e3/e):5};ye.unstable_getCurrentPriorityLevel=function(){return ot};ye.unstable_getFirstCallbackNode=function(){return un(An)};ye.unstable_next=function(e){switch(ot){case 1:case 2:case 3:var t=3;break;default:t=ot}var n=ot;ot=t;try{return e()}finally{ot=n}};ye.unstable_pauseExecution=function(){};ye.unstable_requestPaint=function(){};ye.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=ot;ot=e;try{return t()}finally{ot=n}};ye.unstable_scheduleCallback=function(e,t,n){var r=ye.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:y_++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,Qd(Nr,e),un(An)===null&&e===un(Nr)&&(Hi?(dg(Vi),Vi=-1):Hi=!0,tf(Xd,n-r))):(e.sortIndex=o,Qd(An,e),Po||Sc||(Po=!0,ef(Jd))),e};ye.unstable_shouldYield=pg;ye.unstable_wrapCallback=function(e){var t=ot;return function(){var n=ot;ot=t;try{return e.apply(this,arguments)}finally{ot=n}}}});var yg=Qn((JT,gg)=>{"use strict";gg.exports=mg()});var k1=Qn(zt=>{"use strict";var w_=It(),Mt=yg();function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ey=new Set,da={};function $o(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(da[e]=t,e=0;e<t.length;e++)Ey.add(t[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bf=Object.prototype.hasOwnProperty,v_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wg={},vg={};function x_(e){return Bf.call(vg,e)?!0:Bf.call(wg,e)?!1:v_.test(e)?vg[e]=!0:(wg[e]=!0,!1)}function k_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b_(e,t,n,r){if(t===null||typeof t>"u"||k_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var yh=/[\-:]([a-z])/g;function wh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yh,wh);tt[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yh,wh);tt[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yh,wh);tt[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vh(e,t,n,r){var o=tt.hasOwnProperty(t)?tt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b_(t,n,o,r)&&(n=null),r||o===null?x_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ir=w_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tc=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),By=Symbol.for("react.provider"),Cy=Symbol.for("react.context"),kh=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),Pf=Symbol.for("react.suspense_list"),bh=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Sy=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var xg=Symbol.iterator;function qi(e){return e===null||typeof e!="object"?null:(e=xg&&e[xg]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,nf;function Xi(e){if(nf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nf=t&&t[1]||""}return"\n"+nf+e}var rf=!1;function of(e,t){if(!e||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var o=l.stack.split("\n"),s=r.stack.split("\n"),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var c="\n"+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xi(e):""}function __(e){switch(e.tag){case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return e=of(e.type,!1),e;case 11:return e=of(e.type.render,!1),e;case 1:return e=of(e.type,!0),e;default:return""}}function Tf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ns:return"Fragment";case Ts:return"Portal";case Cf:return"Profiler";case xh:return"StrictMode";case Sf:return"Suspense";case Pf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cy:return(e.displayName||"Context")+".Consumer";case By:return(e._context.displayName||"Context")+".Provider";case kh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bh:return t=e.displayName||null,t!==null?t:Tf(e.type)||"Memo";case Ir:t=e._payload,e=e._init;try{return Tf(e(t))}catch(n){}}return null}function E_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tf(t);case 8:return t===xh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Py(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B_(e){var t=Py(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nc(e){e._valueTracker||(e._valueTracker=B_(e))}function Ty(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Py(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Nf(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function kg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ny(e,t){t=t.checked,t!=null&&vh(e,"checked",t,!1)}function Af(e,t){Ny(e,t);var n=Wr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?If(e,t.type,n):t.hasOwnProperty("defaultValue")&&If(e,t.type,Wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function If(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ji=Array.isArray;function $s(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Of(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _g(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Ji(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wr(n)}}function Ay(e,t){var n=Wr(t.value),r=Wr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Eg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Iy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Iy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ac,Oy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ac=Ac||document.createElement("div"),Ac.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ac.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C_=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){C_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),na[t]=na[e]})});function Ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||na.hasOwnProperty(e)&&na[e]?(""+t).trim():t+"px"}function Ry(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Ly(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var S_=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rf(e,t){if(t){if(S_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Mf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=null;function _h(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zf=null,Hs=null,Vs=null;function Bg(e){if(e=Na(e)){if(typeof zf!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Il(t),zf(e.stateNode,e.type,t))}}function My(e){Hs?Vs?Vs.push(e):Vs=[e]:Hs=e}function Uy(){if(Hs){var e=Hs,t=Vs;if(Vs=Hs=null,Bg(e),t)for(e=0;e<t.length;e++)Bg(t[e])}}function zy(e,t){return e(t)}function jy(){}var sf=!1;function Dy(e,t,n){if(sf)return e(t,n);sf=!0;try{return zy(e,t,n)}finally{sf=!1,(Hs!==null||Vs!==null)&&(jy(),Uy())}}function ha(e,t){var n=e.stateNode;if(n===null)return null;var r=Il(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var jf=!1;if(nr)try{Ss={},Object.defineProperty(Ss,"passive",{get:function(){jf=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch(e){jf=!1}var Ss;function P_(e,t,n,r,o,s,i,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var ra=!1,sl=null,il=!1,Df=null,T_={onError:function(e){ra=!0,sl=e}};function N_(e,t,n,r,o,s,i,a,c){ra=!1,sl=null,P_.apply(T_,arguments)}function A_(e,t,n,r,o,s,i,a,c){if(N_.apply(this,arguments),ra){if(ra){var l=sl;ra=!1,sl=null}else throw Error(M(198));il||(il=!0,Df=l)}}function Ho(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cg(e){if(Ho(e)!==e)throw Error(M(188))}function I_(e){var t=e.alternate;if(!t){if(t=Ho(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Cg(o),e;if(s===r)return Cg(o),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Hy(e){return e=I_(e),e!==null?Vy(e):null}function Vy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vy(e);if(t!==null)return t;e=e.sibling}return null}var qy=Mt.unstable_scheduleCallback,Sg=Mt.unstable_cancelCallback,O_=Mt.unstable_shouldYield,L_=Mt.unstable_requestPaint,Oe=Mt.unstable_now,R_=Mt.unstable_getCurrentPriorityLevel,Eh=Mt.unstable_ImmediatePriority,Zy=Mt.unstable_UserBlockingPriority,al=Mt.unstable_NormalPriority,M_=Mt.unstable_LowPriority,Wy=Mt.unstable_IdlePriority,Pl=null,Rn=null;function U_(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch(t){}}var mn=Math.clz32?Math.clz32:D_,z_=Math.log,j_=Math.LN2;function D_(e){return e>>>=0,e===0?32:31-(z_(e)/j_|0)|0}var Ic=64,Oc=4194304;function ea(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=ea(a):(s&=i,s!==0&&(r=ea(s)))}else i=n&~o,i!==0?r=ea(i):s!==0&&(r=ea(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mn(t),o=1<<n,r|=e[n],t&=~o;return r}function $_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-mn(s),a=1<<i,c=o[i];c===-1?((a&n)===0||(a&r)!==0)&&(o[i]=$_(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function $f(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fy(){var e=Ic;return Ic<<=1,(Ic&4194240)===0&&(Ic=64),e}function af(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=n}function V_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-mn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Bh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var he=0;function Ky(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Gy,Ch,Qy,Yy,Xy,Hf=!1,Lc=[],zr=null,jr=null,Dr=null,pa=new Map,ma=new Map,Lr=[],q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pg(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(t.pointerId)}}function Zi(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Na(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Z_(e,t,n,r,o){switch(t){case"focusin":return zr=Zi(zr,e,t,n,r,o),!0;case"dragenter":return jr=Zi(jr,e,t,n,r,o),!0;case"mouseover":return Dr=Zi(Dr,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return pa.set(s,Zi(pa.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ma.set(s,Zi(ma.get(s)||null,e,t,n,r,o)),!0}return!1}function Jy(e){var t=Ao(e.target);if(t!==null){var n=Ho(t);if(n!==null){if(t=n.tag,t===13){if(t=$y(n),t!==null){e.blockedOn=t,Xy(e.priority,function(){Qy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uf=r,n.target.dispatchEvent(r),Uf=null}else return t=Na(n),t!==null&&Ch(t),e.blockedOn=n,!1;t.shift()}return!0}function Tg(e,t,n){Kc(e)&&n.delete(t)}function W_(){Hf=!1,zr!==null&&Kc(zr)&&(zr=null),jr!==null&&Kc(jr)&&(jr=null),Dr!==null&&Kc(Dr)&&(Dr=null),pa.forEach(Tg),ma.forEach(Tg)}function Wi(e,t){e.blockedOn===t&&(e.blockedOn=null,Hf||(Hf=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,W_)))}function ga(e){function t(o){return Wi(o,e)}if(0<Lc.length){Wi(Lc[0],e);for(var n=1;n<Lc.length;n++){var r=Lc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zr!==null&&Wi(zr,e),jr!==null&&Wi(jr,e),Dr!==null&&Wi(Dr,e),pa.forEach(t),ma.forEach(t),n=0;n<Lr.length;n++)r=Lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lr.length&&(n=Lr[0],n.blockedOn===null);)Jy(n),n.blockedOn===null&&Lr.shift()}var qs=ir.ReactCurrentBatchConfig,ll=!0;function F_(e,t,n,r){var o=he,s=qs.transition;qs.transition=null;try{he=1,Sh(e,t,n,r)}finally{he=o,qs.transition=s}}function K_(e,t,n,r){var o=he,s=qs.transition;qs.transition=null;try{he=4,Sh(e,t,n,r)}finally{he=o,qs.transition=s}}function Sh(e,t,n,r){if(ll){var o=Vf(e,t,n,r);if(o===null)pf(e,t,r,ul,n),Pg(e,r);else if(Z_(o,e,t,n,r))r.stopPropagation();else if(Pg(e,r),t&4&&-1<q_.indexOf(e)){for(;o!==null;){var s=Na(o);if(s!==null&&Gy(s),s=Vf(e,t,n,r),s===null&&pf(e,t,r,ul,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else pf(e,t,r,null,n)}}var ul=null;function Vf(e,t,n,r){if(ul=null,e=_h(r),e=Ao(e),e!==null)if(t=Ho(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function ew(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R_()){case Eh:return 1;case Zy:return 4;case al:case M_:return 16;case Wy:return 536870912;default:return 16}default:return 16}}var Mr=null,Ph=null,Gc=null;function tw(){if(Gc)return Gc;var e,t=Ph,n=t.length,r,o="value"in Mr?Mr.value:Mr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Gc=o.slice(e,1<r?1-r:void 0)}function Qc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rc(){return!0}function Ng(){return!1}function Ut(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rc:Ng,this.isPropagationStopped=Ng,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),t}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Th=Ut(ei),Ta=Ee({},ei,{view:0,detail:0}),G_=Ut(Ta),cf,lf,Fi,Tl=Ee({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(cf=e.screenX-Fi.screenX,lf=e.screenY-Fi.screenY):lf=cf=0,Fi=e),cf)},movementY:function(e){return"movementY"in e?e.movementY:lf}}),Ag=Ut(Tl),Q_=Ee({},Tl,{dataTransfer:0}),Y_=Ut(Q_),X_=Ee({},Ta,{relatedTarget:0}),uf=Ut(X_),J_=Ee({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),e3=Ut(J_),t3=Ee({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n3=Ut(t3),r3=Ee({},ei,{data:0}),Ig=Ut(r3),o3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i3[e])?!!t[e]:!1}function Nh(){return a3}var c3=Ee({},Ta,{key:function(e){if(e.key){var t=o3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nh,charCode:function(e){return e.type==="keypress"?Qc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l3=Ut(c3),u3=Ee({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Og=Ut(u3),d3=Ee({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nh}),f3=Ut(d3),h3=Ee({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),p3=Ut(h3),m3=Ee({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g3=Ut(m3),y3=[9,13,27,32],Ah=nr&&"CompositionEvent"in window,oa=null;nr&&"documentMode"in document&&(oa=document.documentMode);var w3=nr&&"TextEvent"in window&&!oa,nw=nr&&(!Ah||oa&&8<oa&&11>=oa),Lg=" ",Rg=!1;function rw(e,t){switch(e){case"keyup":return y3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ow(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function v3(e,t){switch(e){case"compositionend":return ow(t);case"keypress":return t.which!==32?null:(Rg=!0,Lg);case"textInput":return e=t.data,e===Lg&&Rg?null:e;default:return null}}function x3(e,t){if(As)return e==="compositionend"||!Ah&&rw(e,t)?(e=tw(),Gc=Ph=Mr=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nw&&t.locale!=="ko"?null:t.data;default:return null}}var k3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k3[e.type]:t==="textarea"}function sw(e,t,n,r){My(r),t=dl(t,"onChange"),0<t.length&&(n=new Th("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sa=null,ya=null;function b3(e){gw(e,0)}function Nl(e){var t=Ls(e);if(Ty(t))return e}function _3(e,t){if(e==="change")return t}var iw=!1;nr&&(nr?(Uc="oninput"in document,Uc||(df=document.createElement("div"),df.setAttribute("oninput","return;"),Uc=typeof df.oninput=="function"),Mc=Uc):Mc=!1,iw=Mc&&(!document.documentMode||9<document.documentMode));var Mc,Uc,df;function Ug(){sa&&(sa.detachEvent("onpropertychange",aw),ya=sa=null)}function aw(e){if(e.propertyName==="value"&&Nl(ya)){var t=[];sw(t,ya,e,_h(e)),Dy(b3,t)}}function E3(e,t,n){e==="focusin"?(Ug(),sa=t,ya=n,sa.attachEvent("onpropertychange",aw)):e==="focusout"&&Ug()}function B3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(ya)}function C3(e,t){if(e==="click")return Nl(t)}function S3(e,t){if(e==="input"||e==="change")return Nl(t)}function P3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:P3;function wa(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Bf.call(t,o)||!yn(e[o],t[o]))return!1}return!0}function zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jg(e,t){var n=zg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zg(n)}}function cw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lw(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T3(e){var t=lw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cw(n.ownerDocument.documentElement,n)){if(r!==null&&Ih(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=jg(n,s);var i=jg(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var N3=nr&&"documentMode"in document&&11>=document.documentMode,Is=null,qf=null,ia=null,Zf=!1;function Dg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zf||Is==null||Is!==ol(r)||(r=Is,"selectionStart"in r&&Ih(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ia&&wa(ia,r)||(ia=r,r=dl(qf,"onSelect"),0<r.length&&(t=new Th("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Is)))}function zc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Os={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},ff={},uw={};nr&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Al(e){if(ff[e])return ff[e];if(!Os[e])return e;var t=Os[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uw)return ff[e]=t[n];return e}var dw=Al("animationend"),fw=Al("animationiteration"),hw=Al("animationstart"),pw=Al("transitionend"),mw=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){mw.set(e,t),$o(t,[e])}for(jc=0;jc<$g.length;jc++)Dc=$g[jc],Hg=Dc.toLowerCase(),Vg=Dc[0].toUpperCase()+Dc.slice(1),Kr(Hg,"on"+Vg);var Dc,Hg,Vg,jc;Kr(dw,"onAnimationEnd");Kr(fw,"onAnimationIteration");Kr(hw,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(pw,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function qg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,A_(r,t,void 0,e),e.currentTarget=null}function gw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&o.isPropagationStopped())break e;qg(o,a,l),s=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&o.isPropagationStopped())break e;qg(o,a,l),s=c}}}if(il)throw e=Df,il=!1,Df=null,e}function ve(e,t){var n=t[Qf];n===void 0&&(n=t[Qf]=new Set);var r=e+"__bubble";n.has(r)||(yw(t,e,2,!1),n.add(r))}function hf(e,t,n){var r=0;t&&(r|=4),yw(n,e,r,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function va(e){if(!e[$c]){e[$c]=!0,Ey.forEach(function(n){n!=="selectionchange"&&(A3.has(n)||hf(n,!1,e),hf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,hf("selectionchange",!1,t))}}function yw(e,t,n,r){switch(ew(t)){case 1:var o=F_;break;case 4:o=K_;break;default:o=Sh}n=o.bind(null,t,n,e),o=void 0,!jf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function pf(e,t,n,r,o){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Ao(a),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}a=a.parentNode}}r=r.return}Dy(function(){var l=s,u=_h(n),d=[];e:{var f=mw.get(e);if(f!==void 0){var m=Th,w=e;switch(e){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":m=l3;break;case"focusin":w="focus",m=uf;break;case"focusout":w="blur",m=uf;break;case"beforeblur":case"afterblur":m=uf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f3;break;case dw:case fw:case hw:m=e3;break;case pw:m=p3;break;case"scroll":m=G_;break;case"wheel":m=g3;break;case"copy":case"cut":case"paste":m=n3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Og}var g=(t&4)!==0,y=!g&&e==="scroll",h=g?f!==null?f+"Capture":null:f;g=[];for(var p=l,v;p!==null;){v=p;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,h!==null&&(x=ha(p,h),x!=null&&g.push(xa(p,x,v)))),y)break;p=p.return}0<g.length&&(f=new m(f,w,null,n,u),d.push({event:f,listeners:g}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Uf&&(w=n.relatedTarget||n.fromElement)&&(Ao(w)||w[rr]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=l,w=w?Ao(w):null,w!==null&&(y=Ho(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=l),m!==w)){if(g=Ag,x="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Og,x="onPointerLeave",h="onPointerEnter",p="pointer"),y=m==null?f:Ls(m),v=w==null?f:Ls(w),f=new g(x,p+"leave",m,n,u),f.target=y,f.relatedTarget=v,x=null,Ao(u)===l&&(g=new g(h,p+"enter",w,n,u),g.target=v,g.relatedTarget=y,x=g),y=x,m&&w)t:{for(g=m,h=w,p=0,v=g;v;v=Ps(v))p++;for(v=0,x=h;x;x=Ps(x))v++;for(;0<p-v;)g=Ps(g),p--;for(;0<v-p;)h=Ps(h),v--;for(;p--;){if(g===h||h!==null&&g===h.alternate)break t;g=Ps(g),h=Ps(h)}g=null}else g=null;m!==null&&Zg(d,f,m,g,!1),w!==null&&y!==null&&Zg(d,y,w,g,!0)}}e:{if(f=l?Ls(l):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=_3;else if(Mg(f))if(iw)E=S3;else{E=B3;var b=E3}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=C3);if(E&&(E=E(e,l))){sw(d,E,n,u);break e}b&&b(e,f,l),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&If(f,"number",f.value)}switch(b=l?Ls(l):window,e){case"focusin":(Mg(b)||b.contentEditable==="true")&&(Is=b,qf=l,ia=null);break;case"focusout":ia=qf=Is=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,Dg(d,n,u);break;case"selectionchange":if(N3)break;case"keydown":case"keyup":Dg(d,n,u)}var _;if(Ah)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else As?rw(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(nw&&n.locale!=="ko"&&(As||C!=="onCompositionStart"?C==="onCompositionEnd"&&As&&(_=tw()):(Mr=u,Ph="value"in Mr?Mr.value:Mr.textContent,As=!0)),b=dl(l,C),0<b.length&&(C=new Ig(C,e,null,n,u),d.push({event:C,listeners:b}),_?C.data=_:(_=ow(n),_!==null&&(C.data=_)))),(_=w3?v3(e,n):x3(e,n))&&(l=dl(l,"onBeforeInput"),0<l.length&&(u=new Ig("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=_))}gw(d,t)})}function xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ha(e,n),s!=null&&r.unshift(xa(e,s,o)),s=ha(e,t),s!=null&&r.push(xa(e,s,o))),e=e.return}return r}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zg(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,o?(c=ha(n,s),c!=null&&i.unshift(xa(n,c,a))):o||(c=ha(n,s),c!=null&&i.push(xa(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var I3=/\r\n?/g,O3=/\u0000|\uFFFD/g;function Wg(e){return(typeof e=="string"?e:""+e).replace(I3,"\n").replace(O3,"")}function Hc(e,t,n){if(t=Wg(t),Wg(e)!==t&&n)throw Error(M(425))}function fl(){}var Wf=null,Ff=null;function Kf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,L3=typeof clearTimeout=="function"?clearTimeout:void 0,Fg=typeof Promise=="function"?Promise:void 0,R3=typeof queueMicrotask=="function"?queueMicrotask:typeof Fg<"u"?function(e){return Fg.resolve(null).then(e).catch(M3)}:Gf;function M3(e){setTimeout(function(){throw e})}function mf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ga(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ga(t)}function $r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Ln="__reactFiber$"+ti,ka="__reactProps$"+ti,rr="__reactContainer$"+ti,Qf="__reactEvents$"+ti,U3="__reactListeners$"+ti,z3="__reactHandles$"+ti;function Ao(e){var t=e[Ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rr]||n[Ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kg(e);e!==null;){if(n=e[Ln])return n;e=Kg(e)}return t}e=n,n=e.parentNode}return null}function Na(e){return e=e[Ln]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Il(e){return e[ka]||null}var Yf=[],Rs=-1;function Gr(e){return{current:e}}function xe(e){0>Rs||(e.current=Yf[Rs],Yf[Rs]=null,Rs--)}function we(e,t){Rs++,Yf[Rs]=e.current,e.current=t}var Fr={},ct=Gr(Fr),Et=Gr(!1),Mo=Fr;function Ks(e,t){var n=e.type.contextTypes;if(!n)return Fr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bt(e){return e=e.childContextTypes,e!=null}function hl(){xe(Et),xe(ct)}function Gg(e,t,n){if(ct.current!==Fr)throw Error(M(168));we(ct,t),we(Et,n)}function ww(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(M(108,E_(e)||"Unknown",o));return Ee({},n,r)}function pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,Mo=ct.current,we(ct,e),we(Et,Et.current),!0}function Qg(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=ww(e,t,Mo),r.__reactInternalMemoizedMergedChildContext=e,xe(Et),xe(ct),we(ct,e)):xe(Et),we(Et,n)}var Xn=null,Ol=!1,gf=!1;function vw(e){Xn===null?Xn=[e]:Xn.push(e)}function j3(e){Ol=!0,vw(e)}function Qr(){if(!gf&&Xn!==null){gf=!0;var e=0,t=he;try{var n=Xn;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xn=null,Ol=!1}catch(o){throw Xn!==null&&(Xn=Xn.slice(e+1)),qy(Eh,Qr),o}finally{he=t,gf=!1}}return null}var Ms=[],Us=0,ml=null,gl=0,Ft=[],Kt=0,Uo=null,Jn=1,er="";function To(e,t){Ms[Us++]=gl,Ms[Us++]=ml,ml=e,gl=t}function xw(e,t,n){Ft[Kt++]=Jn,Ft[Kt++]=er,Ft[Kt++]=Uo,Uo=e;var r=Jn;e=er;var o=32-mn(r)-1;r&=~(1<<o),n+=1;var s=32-mn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Jn=1<<32-mn(t)+o|n<<o|r,er=s+e}else Jn=1<<s|n<<o|r,er=e}function Oh(e){e.return!==null&&(To(e,1),xw(e,1,0))}function Lh(e){for(;e===ml;)ml=Ms[--Us],Ms[Us]=null,gl=Ms[--Us],Ms[Us]=null;for(;e===Uo;)Uo=Ft[--Kt],Ft[Kt]=null,er=Ft[--Kt],Ft[Kt]=null,Jn=Ft[--Kt],Ft[Kt]=null}var Rt=null,Lt=null,ke=!1,pn=null;function kw(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,Lt=$r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Uo!==null?{id:Jn,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rt=e,Lt=null,!0):!1;default:return!1}}function Xf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jf(e){if(ke){var t=Lt;if(t){var n=t;if(!Yg(e,t)){if(Xf(e))throw Error(M(418));t=$r(n.nextSibling);var r=Rt;t&&Yg(e,t)?kw(r,n):(e.flags=e.flags&-4097|2,ke=!1,Rt=e)}}else{if(Xf(e))throw Error(M(418));e.flags=e.flags&-4097|2,ke=!1,Rt=e}}}function Xg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function Vc(e){if(e!==Rt)return!1;if(!ke)return Xg(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kf(e.type,e.memoizedProps)),t&&(t=Lt)){if(Xf(e))throw bw(),Error(M(418));for(;t;)kw(e,t),t=$r(t.nextSibling)}if(Xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=$r(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Rt?$r(e.stateNode.nextSibling):null;return!0}function bw(){for(var e=Lt;e;)e=$r(e.nextSibling)}function Gs(){Lt=Rt=null,ke=!1}function Rh(e){pn===null?pn=[e]:pn.push(e)}var D3=ir.ReactCurrentBatchConfig;function Ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function qc(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jg(e){var t=e._init;return t(e._payload)}function _w(e){function t(h,p){if(e){var v=h.deletions;v===null?(h.deletions=[p],h.flags|=16):v.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function o(h,p){return h=Zr(h,p),h.index=0,h.sibling=null,h}function s(h,p,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<p?(h.flags|=2,p):v):(h.flags|=2,p)):(h.flags|=1048576,p)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,p,v,x){return p===null||p.tag!==6?(p=_f(v,h.mode,x),p.return=h,p):(p=o(p,v),p.return=h,p)}function c(h,p,v,x){var E=v.type;return E===Ns?u(h,p,v.props.children,x,v.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ir&&Jg(E)===p.type)?(x=o(p,v.props),x.ref=Ki(h,p,v),x.return=h,x):(x=rl(v.type,v.key,v.props,null,h.mode,x),x.ref=Ki(h,p,v),x.return=h,x)}function l(h,p,v,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Ef(v,h.mode,x),p.return=h,p):(p=o(p,v.children||[]),p.return=h,p)}function u(h,p,v,x,E){return p===null||p.tag!==7?(p=Ro(v,h.mode,x,E),p.return=h,p):(p=o(p,v),p.return=h,p)}function d(h,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_f(""+p,h.mode,v),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Tc:return v=rl(p.type,p.key,p.props,null,h.mode,v),v.ref=Ki(h,null,p),v.return=h,v;case Ts:return p=Ef(p,h.mode,v),p.return=h,p;case Ir:var x=p._init;return d(h,x(p._payload),v)}if(Ji(p)||qi(p))return p=Ro(p,h.mode,v,null),p.return=h,p;qc(h,p)}return null}function f(h,p,v,x){var E=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(h,p,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Tc:return v.key===E?c(h,p,v,x):null;case Ts:return v.key===E?l(h,p,v,x):null;case Ir:return E=v._init,f(h,p,E(v._payload),x)}if(Ji(v)||qi(v))return E!==null?null:u(h,p,v,x,null);qc(h,v)}return null}function m(h,p,v,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(v)||null,a(p,h,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tc:return h=h.get(x.key===null?v:x.key)||null,c(p,h,x,E);case Ts:return h=h.get(x.key===null?v:x.key)||null,l(p,h,x,E);case Ir:var b=x._init;return m(h,p,v,b(x._payload),E)}if(Ji(x)||qi(x))return h=h.get(v)||null,u(p,h,x,E,null);qc(p,x)}return null}function w(h,p,v,x){for(var E=null,b=null,_=p,C=p=0,T=null;_!==null&&C<v.length;C++){_.index>C?(T=_,_=null):T=_.sibling;var N=f(h,_,v[C],x);if(N===null){_===null&&(_=T);break}e&&_&&N.alternate===null&&t(h,_),p=s(N,p,C),b===null?E=N:b.sibling=N,b=N,_=T}if(C===v.length)return n(h,_),ke&&To(h,C),E;if(_===null){for(;C<v.length;C++)_=d(h,v[C],x),_!==null&&(p=s(_,p,C),b===null?E=_:b.sibling=_,b=_);return ke&&To(h,C),E}for(_=r(h,_);C<v.length;C++)T=m(_,h,C,v[C],x),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?C:T.key),p=s(T,p,C),b===null?E=T:b.sibling=T,b=T);return e&&_.forEach(function(U){return t(h,U)}),ke&&To(h,C),E}function g(h,p,v,x){var E=qi(v);if(typeof E!="function")throw Error(M(150));if(v=E.call(v),v==null)throw Error(M(151));for(var b=E=null,_=p,C=p=0,T=null,N=v.next();_!==null&&!N.done;C++,N=v.next()){_.index>C?(T=_,_=null):T=_.sibling;var U=f(h,_,N.value,x);if(U===null){_===null&&(_=T);break}e&&_&&U.alternate===null&&t(h,_),p=s(U,p,C),b===null?E=U:b.sibling=U,b=U,_=T}if(N.done)return n(h,_),ke&&To(h,C),E;if(_===null){for(;!N.done;C++,N=v.next())N=d(h,N.value,x),N!==null&&(p=s(N,p,C),b===null?E=N:b.sibling=N,b=N);return ke&&To(h,C),E}for(_=r(h,_);!N.done;C++,N=v.next())N=m(_,h,C,N.value,x),N!==null&&(e&&N.alternate!==null&&_.delete(N.key===null?C:N.key),p=s(N,p,C),b===null?E=N:b.sibling=N,b=N);return e&&_.forEach(function(D){return t(h,D)}),ke&&To(h,C),E}function y(h,p,v,x){if(typeof v=="object"&&v!==null&&v.type===Ns&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Tc:e:{for(var E=v.key,b=p;b!==null;){if(b.key===E){if(E=v.type,E===Ns){if(b.tag===7){n(h,b.sibling),p=o(b,v.props.children),p.return=h,h=p;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ir&&Jg(E)===b.type){n(h,b.sibling),p=o(b,v.props),p.ref=Ki(h,b,v),p.return=h,h=p;break e}n(h,b);break}else t(h,b);b=b.sibling}v.type===Ns?(p=Ro(v.props.children,h.mode,x,v.key),p.return=h,h=p):(x=rl(v.type,v.key,v.props,null,h.mode,x),x.ref=Ki(h,p,v),x.return=h,h=x)}return i(h);case Ts:e:{for(b=v.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(h,p.sibling),p=o(p,v.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=Ef(v,h.mode,x),p.return=h,h=p}return i(h);case Ir:return b=v._init,y(h,p,b(v._payload),x)}if(Ji(v))return w(h,p,v,x);if(qi(v))return g(h,p,v,x);qc(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(h,p.sibling),p=o(p,v),p.return=h,h=p):(n(h,p),p=_f(v,h.mode,x),p.return=h,h=p),i(h)):n(h,p)}return y}var Qs=_w(!0),Ew=_w(!1),yl=Gr(null),wl=null,zs=null,Mh=null;function Uh(){Mh=zs=wl=null}function zh(e){var t=yl.current;xe(yl),e._currentValue=t}function eh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zs(e,t){wl=e,Mh=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_t=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(Mh!==e)if(e={context:e,memoizedValue:t,next:null},zs===null){if(wl===null)throw Error(M(308));zs=e,wl.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return t}var Io=null;function jh(e){Io===null?Io=[e]:Io.push(e)}function Bw(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,jh(t)):(n.next=o.next,o.next=n),t.interleaved=n,or(e,r)}function or(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Or=!1;function Dh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(le&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,or(e,n)}return o=r.interleaved,o===null?(t.next=t,jh(r)):(t.next=o.next,o.next=t),r.interleaved=t,or(e,n)}function Yc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bh(e,n)}}function ey(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vl(e,t,n,r){var o=e.updateQueue;Or=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,l=c.next;c.next=null,i===null?s=l:i.next=l,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var d=o.baseState;i=0,u=l=c=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,g=a;switch(f=t,m=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=Ee({},d,f);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,i|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(u===null&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);jo|=i,e.lanes=i,e.memoizedState=d}}function ty(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(M(191,o));o.call(r)}}}var Aa={},Mn=Gr(Aa),ba=Gr(Aa),_a=Gr(Aa);function Oo(e){if(e===Aa)throw Error(M(174));return e}function $h(e,t){switch(we(_a,t),we(ba,e),we(Mn,Aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lf(t,e)}xe(Mn),we(Mn,t)}function Ys(){xe(Mn),xe(ba),xe(_a)}function Sw(e){Oo(_a.current);var t=Oo(Mn.current),n=Lf(t,e.type);t!==n&&(we(ba,e),we(Mn,n))}function Hh(e){ba.current===e&&(xe(Mn),xe(ba))}var be=Gr(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yf=[];function Vh(){for(var e=0;e<yf.length;e++)yf[e]._workInProgressVersionPrimary=null;yf.length=0}var Xc=ir.ReactCurrentDispatcher,wf=ir.ReactCurrentBatchConfig,zo=0,_e=null,ze=null,Ke=null,kl=!1,aa=!1,Ea=0,$3=0;function st(){throw Error(M(321))}function qh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function Zh(e,t,n,r,o,s){if(zo=s,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xc.current=e===null||e.memoizedState===null?Z3:W3,e=n(r,o),aa){s=0;do{if(aa=!1,Ea=0,25<=s)throw Error(M(301));s+=1,Ke=ze=null,t.updateQueue=null,Xc.current=F3,e=n(r,o)}while(aa)}if(Xc.current=bl,t=ze!==null&&ze.next!==null,zo=0,Ke=ze=_e=null,kl=!1,t)throw Error(M(300));return e}function Wh(){var e=Ea!==0;return Ea=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?_e.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Xt(){if(ze===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ke===null?_e.memoizedState:Ke.next;if(t!==null)Ke=t,ze=e;else{if(e===null)throw Error(M(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ke===null?_e.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ba(e,t){return typeof t=="function"?t(e):t}function vf(e){var t=Xt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=ze,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,c=null,l=s;do{var u=l.lane;if((zo&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,i=r):c=c.next=d,_e.lanes|=u,jo|=u}l=l.next}while(l!==null&&l!==s);c===null?i=r:c.next=a,yn(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,_e.lanes|=s,jo|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xf(e){var t=Xt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);yn(s,t.memoizedState)||(_t=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Pw(){}function Tw(e,t){var n=_e,r=Xt(),o=t(),s=!yn(r.memoizedState,o);if(s&&(r.memoizedState=o,_t=!0),r=r.queue,Fh(Iw.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ca(9,Aw.bind(null,n,r,o,t),void 0,null),Ge===null)throw Error(M(349));(zo&30)!==0||Nw(n,t,o)}return o}function Nw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Aw(e,t,n,r){t.value=n,t.getSnapshot=r,Ow(t)&&Lw(e)}function Iw(e,t,n){return n(function(){Ow(t)&&Lw(e)})}function Ow(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch(r){return!0}}function Lw(e){var t=or(e,1);t!==null&&gn(t,e,1,-1)}function ny(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},t.queue=e,e=e.dispatch=q3.bind(null,_e,e),[t.memoizedState,e]}function Ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rw(){return Xt().memoizedState}function Jc(e,t,n,r){var o=On();_e.flags|=e,o.memoizedState=Ca(1|t,n,void 0,r===void 0?null:r)}function Ll(e,t,n,r){var o=Xt();r=r===void 0?null:r;var s=void 0;if(ze!==null){var i=ze.memoizedState;if(s=i.destroy,r!==null&&qh(r,i.deps)){o.memoizedState=Ca(t,n,s,r);return}}_e.flags|=e,o.memoizedState=Ca(1|t,n,s,r)}function ry(e,t){return Jc(8390656,8,e,t)}function Fh(e,t){return Ll(2048,8,e,t)}function Mw(e,t){return Ll(4,2,e,t)}function Uw(e,t){return Ll(4,4,e,t)}function zw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jw(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4,4,zw.bind(null,t,e),n)}function Kh(){}function Dw(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $w(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hw(e,t,n){return(zo&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n):(yn(n,t)||(n=Fy(),_e.lanes|=n,jo|=n,e.baseState=!0),t)}function H3(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=wf.transition;wf.transition={};try{e(!1),t()}finally{he=n,wf.transition=r}}function Vw(){return Xt().memoizedState}function V3(e,t,n){var r=qr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qw(e))Zw(t,n);else if(n=Bw(e,t,n,r),n!==null){var o=mt();gn(n,e,r,o),Ww(n,t,r)}}function q3(e,t,n){var r=qr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qw(e))Zw(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,yn(a,i)){var c=t.interleaved;c===null?(o.next=o,jh(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch(l){}finally{}n=Bw(e,t,o,r),n!==null&&(o=mt(),gn(n,e,r,o),Ww(n,t,r))}}function qw(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Zw(e,t){aa=kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ww(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bh(e,n)}}var bl={readContext:Yt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Z3={readContext:Yt,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:ry,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jc(4194308,4,zw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jc(4,2,e,t)},useMemo:function(e,t){var n=On();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=On();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=V3.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:ny,useDebugValue:Kh,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=ny(!1),t=e[0];return e=H3.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,o=On();if(ke){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ge===null)throw Error(M(349));(zo&30)!==0||Nw(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,ry(Iw.bind(null,r,s,e),[e]),r.flags|=2048,Ca(9,Aw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=On(),t=Ge.identifierPrefix;if(ke){var n=er,r=Jn;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W3={readContext:Yt,useCallback:Dw,useContext:Yt,useEffect:Fh,useImperativeHandle:jw,useInsertionEffect:Mw,useLayoutEffect:Uw,useMemo:$w,useReducer:vf,useRef:Rw,useState:function(){return vf(Ba)},useDebugValue:Kh,useDeferredValue:function(e){var t=Xt();return Hw(t,ze.memoizedState,e)},useTransition:function(){var e=vf(Ba)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:Pw,useSyncExternalStore:Tw,useId:Vw,unstable_isNewReconciler:!1},F3={readContext:Yt,useCallback:Dw,useContext:Yt,useEffect:Fh,useImperativeHandle:jw,useInsertionEffect:Mw,useLayoutEffect:Uw,useMemo:$w,useReducer:xf,useRef:Rw,useState:function(){return xf(Ba)},useDebugValue:Kh,useDeferredValue:function(e){var t=Xt();return ze===null?t.memoizedState=e:Hw(t,ze.memoizedState,e)},useTransition:function(){var e=xf(Ba)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:Pw,useSyncExternalStore:Tw,useId:Vw,unstable_isNewReconciler:!1};function fn(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function th(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rl={isMounted:function(e){return(e=e._reactInternals)?Ho(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),o=qr(e),s=tr(r,o);s.payload=t,n!=null&&(s.callback=n),t=Hr(e,s,o),t!==null&&(gn(t,e,o,r),Yc(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),o=qr(e),s=tr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Hr(e,s,o),t!==null&&(gn(t,e,o,r),Yc(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=qr(e),o=tr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Hr(e,o,r),t!==null&&(gn(t,e,r,n),Yc(t,e,r))}};function oy(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!wa(n,r)||!wa(o,s):!0}function Fw(e,t,n){var r=!1,o=Fr,s=t.contextType;return typeof s=="object"&&s!==null?s=Yt(s):(o=Bt(t)?Mo:ct.current,r=t.contextTypes,s=(r=r!=null)?Ks(e,o):Fr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function sy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function nh(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Dh(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Yt(s):(s=Bt(t)?Mo:ct.current,o.context=Ks(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(th(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Rl.enqueueReplaceState(o,o.state,null),vl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Xs(e,t){try{var n="",r=t;do n+=__(r),r=r.return;while(r);var o=n}catch(s){o="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:o,digest:null}}function kf(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function rh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K3=typeof WeakMap=="function"?WeakMap:Map;function Kw(e,t,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){El||(El=!0,hh=r),rh(e,t)},n}function Gw(e,t,n){n=tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){rh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rh(e,t),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function iy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K3;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=cE.bind(null,e,t,n),t.then(e,e))}function ay(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cy(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=tr(-1,1),t.tag=2,Hr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var G3=ir.ReactCurrentOwner,_t=!1;function pt(e,t,n,r){t.child=e===null?Ew(t,null,n,r):Qs(t,e.child,n,r)}function ly(e,t,n,r,o){n=n.render;var s=t.ref;return Zs(t,o),r=Zh(e,t,n,r,s,o),n=Wh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,sr(e,t,o)):(ke&&n&&Oh(t),t.flags|=1,pt(e,t,r,o),t.child)}function uy(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!np(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Qw(e,t,s,r,o)):(e=rl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:wa,n(i,r)&&e.ref===t.ref)return sr(e,t,o)}return t.flags|=1,e=Zr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Qw(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(wa(s,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=s,(e.lanes&o)!==0)(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,sr(e,t,o)}return oh(e,t,n,r,o)}function Yw(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ds,Ot),Ot|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Ds,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Ds,Ot),Ot|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,we(Ds,Ot),Ot|=r;return pt(e,t,o,n),t.child}function Xw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oh(e,t,n,r,o){var s=Bt(n)?Mo:ct.current;return s=Ks(t,s),Zs(t,o),n=Zh(e,t,n,r,s,o),r=Wh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,sr(e,t,o)):(ke&&r&&Oh(t),t.flags|=1,pt(e,t,n,o),t.child)}function dy(e,t,n,r,o){if(Bt(n)){var s=!0;pl(t)}else s=!1;if(Zs(t,o),t.stateNode===null)el(e,t),Fw(t,n,r),nh(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,l=n.contextType;typeof l=="object"&&l!==null?l=Yt(l):(l=Bt(n)?Mo:ct.current,l=Ks(t,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==l)&&sy(t,i,r,l),Or=!1;var f=t.memoizedState;i.state=f,vl(t,r,i,o),c=t.memoizedState,a!==r||f!==c||Et.current||Or?(typeof u=="function"&&(th(t,n,u,r),c=t.memoizedState),(a=Or||oy(t,n,a,r,f,c,l))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=l,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Cw(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:fn(t.type,a),i.props=l,d=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yt(c):(c=Bt(n)?Mo:ct.current,c=Ks(t,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==c)&&sy(t,i,r,c),Or=!1,f=t.memoizedState,i.state=f,vl(t,r,i,o);var w=t.memoizedState;a!==d||f!==w||Et.current||Or?(typeof m=="function"&&(th(t,n,m,r),w=t.memoizedState),(l=Or||oy(t,n,l,r,f,w,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=l):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sh(e,t,n,r,s,o)}function sh(e,t,n,r,o,s){Xw(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Qg(t,n,!1),sr(e,t,s);r=t.stateNode,G3.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Qs(t,e.child,null,s),t.child=Qs(t,null,a,s)):pt(e,t,a,s),t.memoizedState=r.state,o&&Qg(t,n,!0),t.child}function Jw(e){var t=e.stateNode;t.pendingContext?Gg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gg(e,t.context,!1),$h(e,t.containerInfo)}function fy(e,t,n,r,o){return Gs(),Rh(o),t.flags|=256,pt(e,t,n,r),t.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function ah(e){return{baseLanes:e,cachePool:null,transitions:null}}function e1(e,t,n){var r=t.pendingProps,o=be.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),we(be,o&1),e===null)return Jf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=zl(i,r,0,null),e=Ro(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ah(n),t.memoizedState=ih,e):Gh(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Q3(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Zr(a,s):(s=Ro(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?ah(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=ih,r}return s=e.child,e=s.sibling,r=Zr(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gh(e,t){return t=zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zc(e,t,n,r){return r!==null&&Rh(r),Qs(t,e.child,null,n),e=Gh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q3(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=kf(Error(M(422))),Zc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=zl({mode:"visible",children:r.children},o,0,null),s=Ro(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&Qs(t,e.child,null,i),t.child.memoizedState=ah(i),t.memoizedState=ih,s);if((t.mode&1)===0)return Zc(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=kf(s,r,void 0),Zc(e,t,i,r)}if(a=(i&e.childLanes)!==0,_t||a){if(r=Ge,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|i))!==0?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,or(e,o),gn(r,e,o,-1))}return tp(),r=kf(Error(M(421))),Zc(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=lE.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Lt=$r(o.nextSibling),Rt=t,ke=!0,pn=null,e!==null&&(Ft[Kt++]=Jn,Ft[Kt++]=er,Ft[Kt++]=Uo,Jn=e.id,er=e.overflow,Uo=t),t=Gh(t,r.children),t.flags|=4096,t)}function hy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eh(e.return,t,n)}function bf(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function t1(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(pt(e,t,r.children,n),r=be.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,n,t);else if(e.tag===19)hy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(be,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),bf(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}bf(t,!0,n,null,s);break;case"together":bf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jo|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Y3(e,t,n){switch(t.tag){case 3:Jw(t),Gs();break;case 5:Sw(t);break;case 1:Bt(t.type)&&pl(t);break;case 4:$h(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;we(yl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(be,be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?e1(e,t,n):(we(be,be.current&1),e=sr(e,t,n),e!==null?e.sibling:null);we(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return t1(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),we(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,Yw(e,t,n)}return sr(e,t,n)}var n1,ch,r1,o1;n1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ch=function(){};r1=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(Mn.current);var s=null;switch(n){case"input":o=Nf(e,o),r=Nf(e,r),s=[];break;case"select":o=Ee({},o,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":o=Of(e,o),r=Of(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fl)}Rf(n,r);var i;n=null;for(l in o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var a=o[l];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(da.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=o!=null?o[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(da.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&ve("scroll",e),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};o1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function X3(e,t,n){var r=t.pendingProps;switch(Lh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return Bt(t.type)&&hl(),it(t),null;case 3:return r=t.stateNode,Ys(),xe(Et),xe(ct),Vh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pn!==null&&(gh(pn),pn=null))),ch(e,t),it(t),null;case 5:Hh(t);var o=Oo(_a.current);if(n=t.type,e!==null&&t.stateNode!=null)r1(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return it(t),null}if(e=Oo(Mn.current),Vc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ln]=t,r[ka]=s,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<ta.length;o++)ve(ta[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":kg(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":_g(r,s),ve("invalid",r)}Rf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hc(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hc(r.textContent,a,e),o=["children",""+a]):da.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ve("scroll",r)}switch(n){case"input":Nc(r),bg(r,s,!0);break;case"textarea":Nc(r),Eg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Iy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Ln]=t,e[ka]=r,n1(e,t,!1,!1),t.stateNode=e;e:{switch(i=Mf(n,r),n){case"dialog":ve("cancel",e),ve("close",e),o=r;break;case"iframe":case"object":case"embed":ve("load",e),o=r;break;case"video":case"audio":for(o=0;o<ta.length;o++)ve(ta[o],e);o=r;break;case"source":ve("error",e),o=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),o=r;break;case"details":ve("toggle",e),o=r;break;case"input":kg(e,r),o=Nf(e,r),ve("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ee({},r,{value:void 0}),ve("invalid",e);break;case"textarea":_g(e,r),o=Of(e,r),ve("invalid",e);break;default:o=r}Rf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Ry(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Oy(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fa(e,c):typeof c=="number"&&fa(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(da.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ve("scroll",e):c!=null&&vh(e,s,c,i))}switch(n){case"input":Nc(e),bg(e,r,!1);break;case"textarea":Nc(e),Eg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?$s(e,!!r.multiple,s,!1):r.defaultValue!=null&&$s(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)o1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Oo(_a.current),Oo(Mn.current),Vc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ln]=t,(s=r.nodeValue!==n)&&(e=Rt,e!==null))switch(e.tag){case 3:Hc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=t,t.stateNode=r}return it(t),null;case 13:if(xe(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&Lt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)bw(),Gs(),t.flags|=98560,s=!1;else if(s=Vc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Ln]=t}else Gs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),s=!1}else pn!==null&&(gh(pn),pn=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?je===0&&(je=3):tp())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Ys(),ch(e,t),e===null&&va(t.stateNode.containerInfo),it(t),null;case 10:return zh(t.type._context),it(t),null;case 17:return Bt(t.type)&&hl(),it(t),null;case 19:if(xe(be),s=t.memoizedState,s===null)return it(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Gi(s,!1);else{if(je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=xl(e),i!==null){for(t.flags|=128,Gi(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(be,be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Oe()>Js&&(t.flags|=128,r=!0,Gi(s,!1),t.lanes=4194304)}else{if(!r)if(e=xl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ke)return it(t),null}else 2*Oe()-s.renderingStartTime>Js&&n!==1073741824&&(t.flags|=128,r=!0,Gi(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Oe(),t.sibling=null,n=be.current,we(be,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return ep(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Ot&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function J3(e,t){switch(Lh(t),t.tag){case 1:return Bt(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ys(),xe(Et),xe(ct),Vh(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Hh(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return Ys(),null;case 10:return zh(t.type._context),null;case 22:case 23:return ep(),null;case 24:return null;default:return null}}var Wc=!1,at=!1,eE=typeof WeakSet=="function"?WeakSet:Set,H=null;function js(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function lh(e,t,n){try{n()}catch(r){Se(e,t,r)}}var py=!1;function tE(e,t){if(Wf=ll,e=lw(),Ih(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var i=0,a=-1,c=-1,l=0,u=0,d=e,f=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(c=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++l===o&&(a=i),f===s&&++u===r&&(c=i),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ff={focusedElem:e,selectionRange:n},ll=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,y=w.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?g:fn(t.type,g),y);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(x){Se(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=py,py=!1,w}function ca(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&lh(t,n,s)}o=o.next}while(o!==r)}}function Ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function s1(e){var t=e.alternate;t!==null&&(e.alternate=null,s1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[ka],delete t[Qf],delete t[U3],delete t[z3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function i1(e){return e.tag===5||e.tag===3||e.tag===4}function my(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(r!==4&&(e=e.child,e!==null))for(dh(e,t,n),e=e.sibling;e!==null;)dh(e,t,n),e=e.sibling}function fh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fh(e,t,n),e=e.sibling;e!==null;)fh(e,t,n),e=e.sibling}var Je=null,hn=!1;function Ar(e,t,n){for(n=n.child;n!==null;)a1(e,t,n),n=n.sibling}function a1(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Pl,n)}catch(a){}switch(n.tag){case 5:at||js(n,t);case 6:var r=Je,o=hn;Je=null,Ar(e,t,n),Je=r,hn=o,Je!==null&&(hn?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(hn?(e=Je,n=n.stateNode,e.nodeType===8?mf(e.parentNode,n):e.nodeType===1&&mf(e,n),ga(e)):mf(Je,n.stateNode));break;case 4:r=Je,o=hn,Je=n.stateNode.containerInfo,hn=!0,Ar(e,t,n),Je=r,hn=o;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&((s&2)!==0||(s&4)!==0)&&lh(n,t,i),o=o.next}while(o!==r)}Ar(e,t,n);break;case 1:if(!at&&(js(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,t,a)}Ar(e,t,n);break;case 21:Ar(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Ar(e,t,n),at=r):Ar(e,t,n);break;default:Ar(e,t,n)}}function gy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eE),t.forEach(function(r){var o=uE.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function dn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,hn=!1;break e;case 3:Je=a.stateNode.containerInfo,hn=!0;break e;case 4:Je=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(Je===null)throw Error(M(160));a1(s,i,o),Je=null,hn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(l){Se(o,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)c1(t,e),t=t.sibling}function c1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),In(e),r&4){try{ca(3,e,e.return),Ml(3,e)}catch(g){Se(e,e.return,g)}try{ca(5,e,e.return)}catch(g){Se(e,e.return,g)}}break;case 1:dn(t,e),In(e),r&512&&n!==null&&js(n,n.return);break;case 5:if(dn(t,e),In(e),r&512&&n!==null&&js(n,n.return),e.flags&32){var o=e.stateNode;try{fa(o,"")}catch(g){Se(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ny(o,s),Mf(a,i);var l=Mf(a,s);for(i=0;i<c.length;i+=2){var u=c[i],d=c[i+1];u==="style"?Ry(o,d):u==="dangerouslySetInnerHTML"?Oy(o,d):u==="children"?fa(o,d):vh(o,u,d,l)}switch(a){case"input":Af(o,s);break;case"textarea":Ay(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$s(o,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?$s(o,!!s.multiple,s.defaultValue,!0):$s(o,!!s.multiple,s.multiple?[]:"",!1))}o[ka]=s}catch(g){Se(e,e.return,g)}}break;case 6:if(dn(t,e),In(e),r&4){if(e.stateNode===null)throw Error(M(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Se(e,e.return,g)}}break;case 3:if(dn(t,e),In(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ga(t.containerInfo)}catch(g){Se(e,e.return,g)}break;case 4:dn(t,e),In(e);break;case 13:dn(t,e),In(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Xh=Oe())),r&4&&gy(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(at=(l=at)||u,dn(t,e),at=l):dn(t,e),In(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&(e.mode&1)!==0)for(H=e,u=e.child;u!==null;){for(d=H=u;H!==null;){switch(f=H,m=f.child,f.tag){case 0:case 11:case 14:case 15:ca(4,f,f.return);break;case 1:js(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Se(r,n,g)}}break;case 5:js(f,f.return);break;case 22:if(f.memoizedState!==null){wy(d);continue}}m!==null?(m.return=f,H=m):wy(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,l?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ly("display",i))}catch(g){Se(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Se(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dn(t,e),In(e),r&4&&gy(e);break;case 21:break;default:dn(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(i1(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(fa(o,""),r.flags&=-33);var s=my(e);fh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=my(e);dh(e,a,i);break;default:throw Error(M(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nE(e,t,n){H=e,l1(e,t,n)}function l1(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var o=H,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Wc;if(!i){var a=o.alternate,c=a!==null&&a.memoizedState!==null||at;a=Wc;var l=at;if(Wc=i,(at=c)&&!l)for(H=o;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?vy(o):c!==null?(c.return=i,H=c):vy(o);for(;s!==null;)H=s,l1(s,t,n),s=s.sibling;H=o,Wc=a,at=l}yy(e,t,n)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,H=s):yy(e,t,n)}}function yy(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:at||Ml(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:fn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ty(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ty(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ga(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}at||t.flags&512&&uh(t)}catch(f){Se(t,t.return,f)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function wy(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function vy(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ml(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Se(t,o,c)}}var s=t.return;try{uh(t)}catch(c){Se(t,s,c)}break;case 5:var i=t.return;try{uh(t)}catch(c){Se(t,i,c)}}}catch(c){Se(t,t.return,c)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var rE=Math.ceil,_l=ir.ReactCurrentDispatcher,Qh=ir.ReactCurrentOwner,Qt=ir.ReactCurrentBatchConfig,le=0,Ge=null,Re=null,et=0,Ot=0,Ds=Gr(0),je=0,Sa=null,jo=0,Ul=0,Yh=0,la=null,bt=null,Xh=0,Js=1/0,Yn=null,El=!1,hh=null,Vr=null,Fc=!1,Ur=null,Bl=0,ua=0,ph=null,tl=-1,nl=0;function mt(){return(le&6)!==0?Oe():tl!==-1?tl:tl=Oe()}function qr(e){return(e.mode&1)===0?1:(le&2)!==0&&et!==0?et&-et:D3.transition!==null?(nl===0&&(nl=Fy()),nl):(e=he,e!==0||(e=window.event,e=e===void 0?16:ew(e.type)),e)}function gn(e,t,n,r){if(50<ua)throw ua=0,ph=null,Error(M(185));Pa(e,n,r),((le&2)===0||e!==Ge)&&(e===Ge&&((le&2)===0&&(Ul|=n),je===4&&Rr(e,et)),Ct(e,r),n===1&&le===0&&(t.mode&1)===0&&(Js=Oe()+500,Ol&&Qr()))}function Ct(e,t){var n=e.callbackNode;H_(e,t);var r=cl(e,e===Ge?et:0);if(r===0)n!==null&&Sg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sg(n),t===1)e.tag===0?j3(xy.bind(null,e)):vw(xy.bind(null,e)),R3(function(){(le&6)===0&&Qr()}),n=null;else{switch(Ky(r)){case 1:n=Eh;break;case 4:n=Zy;break;case 16:n=al;break;case 536870912:n=Wy;break;default:n=al}n=y1(n,u1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function u1(e,t){if(tl=-1,nl=0,(le&6)!==0)throw Error(M(327));var n=e.callbackNode;if(Ws()&&e.callbackNode!==n)return null;var r=cl(e,e===Ge?et:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Cl(e,r);else{t=r;var o=le;le|=2;var s=f1();(Ge!==e||et!==t)&&(Yn=null,Js=Oe()+500,Lo(e,t));do try{iE();break}catch(a){d1(e,a)}while(!0);Uh(),_l.current=s,le=o,Re!==null?t=0:(Ge=null,et=0,t=je)}if(t!==0){if(t===2&&(o=$f(e),o!==0&&(r=o,t=mh(e,o))),t===1)throw n=Sa,Lo(e,0),Rr(e,r),Ct(e,Oe()),n;if(t===6)Rr(e,r);else{if(o=e.current.alternate,(r&30)===0&&!oE(o)&&(t=Cl(e,r),t===2&&(s=$f(e),s!==0&&(r=s,t=mh(e,s))),t===1))throw n=Sa,Lo(e,0),Rr(e,r),Ct(e,Oe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:No(e,bt,Yn);break;case 3:if(Rr(e,r),(r&130023424)===r&&(t=Xh+500-Oe(),10<t)){if(cl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Gf(No.bind(null,e,bt,Yn),t);break}No(e,bt,Yn);break;case 4:if(Rr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-mn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rE(r/1960))-r,10<r){e.timeoutHandle=Gf(No.bind(null,e,bt,Yn),r);break}No(e,bt,Yn);break;case 5:No(e,bt,Yn);break;default:throw Error(M(329))}}}return Ct(e,Oe()),e.callbackNode===n?u1.bind(null,e):null}function mh(e,t){var n=la;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=bt,bt=n,t!==null&&gh(t)),e}function gh(e){bt===null?bt=e:bt.push.apply(bt,e)}function oE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!yn(s(),o))return!1}catch(i){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rr(e,t){for(t&=~Yh,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mn(t),r=1<<n;e[n]=-1,t&=~r}}function xy(e){if((le&6)!==0)throw Error(M(327));Ws();var t=cl(e,0);if((t&1)===0)return Ct(e,Oe()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var r=$f(e);r!==0&&(t=r,n=mh(e,r))}if(n===1)throw n=Sa,Lo(e,0),Rr(e,t),Ct(e,Oe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,No(e,bt,Yn),Ct(e,Oe()),null}function Jh(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Js=Oe()+500,Ol&&Qr())}}function Do(e){Ur!==null&&Ur.tag===0&&(le&6)===0&&Ws();var t=le;le|=1;var n=Qt.transition,r=he;try{if(Qt.transition=null,he=1,e)return e()}finally{he=r,Qt.transition=n,le=t,(le&6)===0&&Qr()}}function ep(){Ot=Ds.current,xe(Ds)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,L3(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Lh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hl();break;case 3:Ys(),xe(Et),xe(ct),Vh();break;case 5:Hh(r);break;case 4:Ys();break;case 13:xe(be);break;case 19:xe(be);break;case 10:zh(r.type._context);break;case 22:case 23:ep()}n=n.return}if(Ge=e,Re=e=Zr(e.current,null),et=Ot=t,je=0,Sa=null,Yh=Ul=jo=0,bt=la=null,Io!==null){for(t=0;t<Io.length;t++)if(n=Io[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Io=null}return e}function d1(e,t){do{var n=Re;try{if(Uh(),Xc.current=bl,kl){for(var r=_e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}kl=!1}if(zo=0,Ke=ze=_e=null,aa=!1,Ea=0,Qh.current=null,n===null||n.return===null){je=1,Sa=t,Re=null;break}e:{var s=e,i=n.return,a=n,c=t;if(t=et,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if((u.mode&1)===0&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ay(i);if(m!==null){m.flags&=-257,cy(m,i,a,s,t),m.mode&1&&iy(s,l,t),t=m,c=l;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if((t&1)===0){iy(s,l,t),tp();break e}c=Error(M(426))}}else if(ke&&a.mode&1){var y=ay(i);if(y!==null){(y.flags&65536)===0&&(y.flags|=256),cy(y,i,a,s,t),Rh(Xs(c,a));break e}}s=c=Xs(c,a),je!==4&&(je=2),la===null?la=[s]:la.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=Kw(s,c,t);ey(s,h);break e;case 1:a=c;var p=s.type,v=s.stateNode;if((s.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Vr===null||!Vr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=Gw(s,a,t);ey(s,x);break e}}s=s.return}while(s!==null)}p1(n)}catch(E){t=E,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function f1(){var e=_l.current;return _l.current=bl,e===null?bl:e}function tp(){(je===0||je===3||je===2)&&(je=4),Ge===null||(jo&268435455)===0&&(Ul&268435455)===0||Rr(Ge,et)}function Cl(e,t){var n=le;le|=2;var r=f1();(Ge!==e||et!==t)&&(Yn=null,Lo(e,t));do try{sE();break}catch(o){d1(e,o)}while(!0);if(Uh(),le=n,_l.current=r,Re!==null)throw Error(M(261));return Ge=null,et=0,je}function sE(){for(;Re!==null;)h1(Re)}function iE(){for(;Re!==null&&!O_();)h1(Re)}function h1(e){var t=g1(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?p1(e):Re=t,Qh.current=null}function p1(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=X3(n,t,Ot),n!==null){Re=n;return}}else{if(n=J3(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Re=null;return}}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);je===0&&(je=5)}function No(e,t,n){var r=he,o=Qt.transition;try{Qt.transition=null,he=1,aE(e,t,n,r)}finally{Qt.transition=o,he=r}return null}function aE(e,t,n,r){do Ws();while(Ur!==null);if((le&6)!==0)throw Error(M(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(V_(e,s),e===Ge&&(Re=Ge=null,et=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Fc||(Fc=!0,y1(al,function(){return Ws(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Qt.transition,Qt.transition=null;var i=he;he=1;var a=le;le|=4,Qh.current=null,tE(e,n),c1(n,e),T3(Ff),ll=!!Wf,Ff=Wf=null,e.current=n,nE(n,e,o),L_(),le=a,he=i,Qt.transition=s}else e.current=n;if(Fc&&(Fc=!1,Ur=e,Bl=o),s=e.pendingLanes,s===0&&(Vr=null),U_(n.stateNode,r),Ct(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(El)throw El=!1,e=hh,hh=null,e;return(Bl&1)!==0&&e.tag!==0&&Ws(),s=e.pendingLanes,(s&1)!==0?e===ph?ua++:(ua=0,ph=e):ua=0,Qr(),null}function Ws(){if(Ur!==null){var e=Ky(Bl),t=Qt.transition,n=he;try{if(Qt.transition=null,he=16>e?16:e,Ur===null)var r=!1;else{if(e=Ur,Ur=null,Bl=0,(le&6)!==0)throw Error(M(331));var o=le;for(le|=4,H=e.current;H!==null;){var s=H,i=s.child;if((H.flags&16)!==0){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(H=l;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:ca(8,u,s)}var d=u.child;if(d!==null)d.return=u,H=d;else for(;H!==null;){u=H;var f=u.sibling,m=u.return;if(s1(u),u===l){H=null;break}if(f!==null){f.return=m,H=f;break}H=m}}}var w=s.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}H=s}}if((s.subtreeFlags&2064)!==0&&i!==null)i.return=s,H=i;else e:for(;H!==null;){if(s=H,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:ca(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,H=h;break e}H=s.return}}var p=e.current;for(H=p;H!==null;){i=H;var v=i.child;if((i.subtreeFlags&2064)!==0&&v!==null)v.return=i,H=v;else e:for(i=p;H!==null;){if(a=H,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Ml(9,a)}}catch(E){Se(a,a.return,E)}if(a===i){H=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,H=x;break e}H=a.return}}if(le=o,Qr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Pl,e)}catch(E){}r=!0}return r}finally{he=n,Qt.transition=t}}return!1}function ky(e,t,n){t=Xs(n,t),t=Kw(e,t,1),e=Hr(e,t,1),t=mt(),e!==null&&(Pa(e,1,t),Ct(e,t))}function Se(e,t,n){if(e.tag===3)ky(e,e,n);else for(;t!==null;){if(t.tag===3){ky(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){e=Xs(n,e),e=Gw(t,e,1),t=Hr(t,e,1),e=mt(),t!==null&&(Pa(t,1,e),Ct(t,e));break}}t=t.return}}function cE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(et&n)===n&&(je===4||je===3&&(et&130023424)===et&&500>Oe()-Xh?Lo(e,0):Yh|=n),Ct(e,t)}function m1(e,t){t===0&&((e.mode&1)===0?t=1:(t=Oc,Oc<<=1,(Oc&130023424)===0&&(Oc=4194304)));var n=mt();e=or(e,t),e!==null&&(Pa(e,t,n),Ct(e,n))}function lE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),m1(e,n)}function uE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),m1(e,n)}var g1;g1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)_t=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return _t=!1,Y3(e,t,n);_t=(e.flags&131072)!==0}else _t=!1,ke&&(t.flags&1048576)!==0&&xw(t,gl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var o=Ks(t,ct.current);Zs(t,n),o=Zh(null,t,r,e,o,n);var s=Wh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(s=!0,pl(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Dh(t),o.updater=Rl,t.stateNode=o,o._reactInternals=t,nh(t,r,e,n),t=sh(null,t,r,!0,s,n)):(t.tag=0,ke&&s&&Oh(t),pt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=fE(r),e=fn(r,e),o){case 0:t=oh(null,t,r,e,n);break e;case 1:t=dy(null,t,r,e,n);break e;case 11:t=ly(null,t,r,e,n);break e;case 14:t=uy(null,t,r,fn(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fn(r,o),oh(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fn(r,o),dy(e,t,r,o,n);case 3:e:{if(Jw(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Cw(e,t),vl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Xs(Error(M(423)),t),t=fy(e,t,r,n,o);break e}else if(r!==o){o=Xs(Error(M(424)),t),t=fy(e,t,r,n,o);break e}else for(Lt=$r(t.stateNode.containerInfo.firstChild),Rt=t,ke=!0,pn=null,n=Ew(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),r===o){t=sr(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return Sw(t),e===null&&Jf(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Kf(r,o)?i=null:s!==null&&Kf(r,s)&&(t.flags|=32),Xw(e,t),pt(e,t,i,n),t.child;case 6:return e===null&&Jf(t),null;case 13:return e1(e,t,n);case 4:return $h(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qs(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fn(r,o),ly(e,t,r,o,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,we(yl,r._currentValue),r._currentValue=i,s!==null)if(yn(s.value,i)){if(s.children===o.children&&!Et.current){t=sr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=tr(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),eh(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(M(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),eh(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}pt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Zs(t,n),o=Yt(o),r=r(o),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,o=fn(r,t.pendingProps),o=fn(r.type,o),uy(e,t,r,o,n);case 15:return Qw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fn(r,o),el(e,t),t.tag=1,Bt(r)?(e=!0,pl(t)):e=!1,Zs(t,n),Fw(t,r,o),nh(t,r,o,n),sh(null,t,r,!0,e,n);case 19:return t1(e,t,n);case 22:return Yw(e,t,n)}throw Error(M(156,t.tag))};function y1(e,t){return qy(e,t)}function dE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,r){return new dE(e,t,n,r)}function np(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fE(e){if(typeof e=="function")return np(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kh)return 11;if(e===bh)return 14}return 2}function Zr(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")np(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ns:return Ro(n.children,o,s,t);case xh:i=8,o|=8;break;case Cf:return e=Gt(12,n,t,o|2),e.elementType=Cf,e.lanes=s,e;case Sf:return e=Gt(13,n,t,o),e.elementType=Sf,e.lanes=s,e;case Pf:return e=Gt(19,n,t,o),e.elementType=Pf,e.lanes=s,e;case Sy:return zl(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case By:i=10;break e;case Cy:i=9;break e;case kh:i=11;break e;case bh:i=14;break e;case Ir:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Gt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Ro(e,t,n,r){return e=Gt(7,e,r,t),e.lanes=n,e}function zl(e,t,n,r){return e=Gt(22,e,r,t),e.elementType=Sy,e.lanes=n,e.stateNode={isHidden:!1},e}function _f(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function Ef(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hE(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function rp(e,t,n,r,o,s,i,a,c){return e=new hE(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Gt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(s),e}function pE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function w1(e){if(!e)return Fr;e=e._reactInternals;e:{if(Ho(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Bt(n))return ww(e,n,t)}return t}function v1(e,t,n,r,o,s,i,a,c){return e=rp(n,r,!0,e,o,s,i,a,c),e.context=w1(null),n=e.current,r=mt(),o=qr(n),s=tr(r,o),s.callback=t!=null?t:null,Hr(n,s,o),e.current.lanes=o,Pa(e,o,r),Ct(e,r),e}function jl(e,t,n,r){var o=t.current,s=mt(),i=qr(o);return n=w1(n),t.context===null?t.context=n:t.pendingContext=n,t=tr(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hr(o,t,i),e!==null&&(gn(e,o,i,s),Yc(e,o,i)),i}function Sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function by(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function op(e,t){by(e,t),(e=e.alternate)&&by(e,t)}function mE(){return null}var x1=typeof reportError=="function"?reportError:function(e){console.error(e)};function sp(e){this._internalRoot=e}Dl.prototype.render=sp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));jl(e,t,null,null)};Dl.prototype.unmount=sp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Do(function(){jl(null,e,null,null)}),t[rr]=null}};function Dl(e){this._internalRoot=e}Dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lr.length&&t!==0&&t<Lr[n].priority;n++);Lr.splice(n,0,e),n===0&&Jy(e)}};function ip(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _y(){}function gE(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var l=Sl(i);s.call(l)}}var i=v1(t,r,e,0,null,!1,!1,"",_y);return e._reactRootContainer=i,e[rr]=i.current,va(e.nodeType===8?e.parentNode:e),Do(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var l=Sl(c);a.call(l)}}var c=rp(e,0,!1,null,null,!1,!1,"",_y);return e._reactRootContainer=c,e[rr]=c.current,va(e.nodeType===8?e.parentNode:e),Do(function(){jl(t,c,n,r)}),c}function Hl(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var c=Sl(i);a.call(c)}}jl(t,i,e,o)}else i=gE(n,t,e,o,r);return Sl(i)}Gy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ea(t.pendingLanes);n!==0&&(Bh(t,n|1),Ct(t,Oe()),(le&6)===0&&(Js=Oe()+500,Qr()))}break;case 13:Do(function(){var r=or(e,1);if(r!==null){var o=mt();gn(r,e,1,o)}}),op(e,1)}};Ch=function(e){if(e.tag===13){var t=or(e,134217728);if(t!==null){var n=mt();gn(t,e,134217728,n)}op(e,134217728)}};Qy=function(e){if(e.tag===13){var t=qr(e),n=or(e,t);if(n!==null){var r=mt();gn(n,e,t,r)}op(e,t)}};Yy=function(){return he};Xy=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};zf=function(e,t,n){switch(t){case"input":if(Af(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Il(r);if(!o)throw Error(M(90));Ty(r),Af(r,o)}}}break;case"textarea":Ay(e,n);break;case"select":t=n.value,t!=null&&$s(e,!!n.multiple,t,!1)}};zy=Jh;jy=Do;var yE={usingClientEntryPoint:!1,Events:[Na,Ls,Il,My,Uy,Jh]},Qi={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wE={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hy(e),e===null?null:e.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||mE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Yi.isDisabled&&Yi.supportsFiber))try{Pl=Yi.inject(wE),Rn=Yi}catch(e){}var Yi;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yE;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ip(t))throw Error(M(200));return pE(e,t,null,n)};zt.createRoot=function(e,t){if(!ip(e))throw Error(M(299));var n=!1,r="",o=x1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=rp(e,1,!1,null,null,n,!1,r,o),e[rr]=t.current,va(e.nodeType===8?e.parentNode:e),new sp(t)};zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Hy(t),e=e===null?null:e.stateNode,e};zt.flushSync=function(e){return Do(e)};zt.hydrate=function(e,t,n){if(!$l(t))throw Error(M(200));return Hl(null,e,t,!0,n)};zt.hydrateRoot=function(e,t,n){if(!ip(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=x1;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=v1(t,null,e,1,n!=null?n:null,o,!1,s,i),e[rr]=t.current,va(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Dl(t)};zt.render=function(e,t,n){if(!$l(t))throw Error(M(200));return Hl(null,e,t,!1,n)};zt.unmountComponentAtNode=function(e){if(!$l(e))throw Error(M(40));return e._reactRootContainer?(Do(function(){Hl(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1};zt.unstable_batchedUpdates=Jh;zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Hl(e,t,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426"});var E1=Qn((tN,_1)=>{"use strict";function b1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b1)}catch(e){console.error(e)}}b1(),_1.exports=k1()});var C1=Qn(ap=>{"use strict";var B1=E1();ap.createRoot=B1.createRoot,ap.hydrateRoot=B1.hydrateRoot;var nN});var pb=Qn(Md=>{"use strict";var TT=It(),NT=Symbol.for("react.element"),AT=Symbol.for("react.fragment"),IT=Object.prototype.hasOwnProperty,OT=TT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LT={key:!0,ref:!0,__self:!0,__source:!0};function hb(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)IT.call(t,r)&&!LT.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:NT,type:e,key:s,ref:i,props:o,_owner:OT.current}}Md.Fragment=AT;Md.jsx=hb;Md.jsxs=hb});var ue=Qn((ZU,mb)=>{"use strict";mb.exports=pb()});var Tb={};Tr(Tb,{createWorker:()=>DT});var DT,Nb=e_(()=>{DT=()=>new Worker(URL.createObjectURL(new Blob(['class x{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}static createEmpty(a,b){return new x(new Uint8ClampedArray(a*b),a)}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}setRegion(a,b,c,d,e){for(let f=b;f<b+d;f++)for(let g=a;g<a+c;g++)this.set(g,f,!!e)}}\nclass A{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,b){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}\nclass ba{constructor(a){this.bitOffset=this.byteOffset=0;this.bytes=a}readBits(a){if(1>a||32<a||a>this.available())throw Error("Cannot read "+a.toString()+" bits");var b=0;if(0<this.bitOffset){b=8-this.bitOffset;var c=a<b?a:b;b-=c;b=(this.bytes[this.byteOffset]&255>>8-c<<b)>>b;a-=c;this.bitOffset+=c;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<a){for(;8<=a;)b=b<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,a-=8;0<a&&(c=8-a,b=b<<a|(this.bytes[this.byteOffset]&255>>c<<c)>>c,\nthis.bitOffset+=a)}return b}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var B,C=B||(B={});C.Numeric="numeric";C.Alphanumeric="alphanumeric";C.Byte="byte";C.Kanji="kanji";C.ECI="eci";C.StructuredAppend="structuredappend";var D,E=D||(D={});E[E.Terminator=0]="Terminator";E[E.Numeric=1]="Numeric";E[E.Alphanumeric=2]="Alphanumeric";E[E.Byte=4]="Byte";E[E.Kanji=8]="Kanji";E[E.ECI=7]="ECI";E[E.StructuredAppend=3]="StructuredAppend";let F="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");\nfunction ca(a,b){let c=[],d="";b=a.readBits([8,16,16][b]);for(let e=0;e<b;e++){let f=a.readBits(8);c.push(f)}try{d+=decodeURIComponent(c.map(e=>`%${("0"+e.toString(16)).substr(-2)}`).join(""))}catch(e){}return{bytes:c,text:d}}\nfunction da(a,b){a=new ba(a);let c=9>=b?0:26>=b?1:2;for(b={text:"",bytes:[],chunks:[],version:b};4<=a.available();){var d=a.readBits(4);if(d===D.Terminator)return b;if(d===D.ECI)0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(7)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(14)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(21)}):b.chunks.push({type:B.ECI,assignmentNumber:-1});else if(d===D.Numeric){var e=a,f=[];d="";for(var g=\ne.readBits([10,12,14][c]);3<=g;){var h=e.readBits(10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),m=Math.floor(h/10)%10;h%=10;f.push(48+k,48+m,48+h);d+=k.toString()+m.toString()+h.toString();g-=3}if(2===g){g=e.readBits(7);if(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;f.push(48+e,48+g);d+=e.toString()+g.toString()}else if(1===g){e=e.readBits(4);if(10<=e)throw Error("Invalid numeric value above 9");f.push(48+e);d+=e.toString()}b.text+=\nd;b.bytes.push(...f);b.chunks.push({type:B.Numeric,text:d})}else if(d===D.Alphanumeric){e=a;f=[];d="";for(g=e.readBits([9,11,13][c]);2<=g;)m=e.readBits(11),k=Math.floor(m/45),m%=45,f.push(F[k].charCodeAt(0),F[m].charCodeAt(0)),d+=F[k]+F[m],g-=2;1===g&&(e=e.readBits(6),f.push(F[e].charCodeAt(0)),d+=F[e]);b.text+=d;b.bytes.push(...f);b.chunks.push({type:B.Alphanumeric,text:d})}else if(d===D.Byte)d=ca(a,c),b.text+=d.text,b.bytes.push(...d.bytes),b.chunks.push({type:B.Byte,bytes:d.bytes,text:d.text});\nelse if(d===D.Kanji){f=a;d=[];e=f.readBits([8,10,12][c]);for(g=0;g<e;g++)k=f.readBits(13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));b.text+=f;b.bytes.push(...d);b.chunks.push({type:B.Kanji,bytes:d,text:f})}else d===D.StructuredAppend&&b.chunks.push({type:B.StructuredAppend,currentSequence:a.readBits(4),totalSequence:a.readBits(4),parity:a.readBits(8)})}if(0===a.available()||0===a.readBits(a.available()))return b}\nclass G{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.field=a;let c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(c-d),a=0;a<this.coefficients.length;a++)this.coefficients[a]=b[d+a]}else this.coefficients=b}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}addOrSubtract(a){if(this.isZero())return a;\nif(a.isZero())return this;let b=this.coefficients;a=a.coefficients;b.length>a.length&&([b,a]=[a,b]);let c=new Uint8ClampedArray(a.length),d=a.length-b.length;for(var e=0;e<d;e++)c[e]=a[e];for(e=d;e<a.length;e++)c[e]=b[e-d]^a[e];return new G(this.field,c)}multiply(a){if(0===a)return this.field.zero;if(1===a)return this;let b=this.coefficients.length,c=new Uint8ClampedArray(b);for(let d=0;d<b;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new G(this.field,c)}multiplyPoly(a){if(this.isZero()||\na.isZero())return this.field.zero;let b=this.coefficients,c=b.length;a=a.coefficients;let d=a.length,e=new Uint8ClampedArray(c+d-1);for(let f=0;f<c;f++){let g=b[f];for(let h=0;h<d;h++)e[f+h]=H(e[f+h],this.field.multiply(g,a[h]))}return new G(this.field,e)}multiplyByMonomial(a,b){if(0>a)throw Error("Invalid degree less than 0");if(0===b)return this.field.zero;let c=this.coefficients.length;a=new Uint8ClampedArray(c+a);for(let d=0;d<c;d++)a[d]=this.field.multiply(this.coefficients[d],b);return new G(this.field,\na)}evaluateAt(a){let b=0;if(0===a)return this.getCoefficient(0);let c=this.coefficients.length;if(1===a)return this.coefficients.forEach(d=>{b^=d}),b;b=this.coefficients[0];for(let d=1;d<c;d++)b=H(this.field.multiply(a,b),this.coefficients[d]);return b}}function H(a,b){return a^b}\nclass ea{constructor(a,b,c){this.primitive=a;this.size=b;this.generatorBase=c;this.expTable=Array(this.size);this.logTable=Array(this.size);a=1;for(b=0;b<this.size;b++)this.expTable[b]=a,a*=2,a>=this.size&&(a=(a^this.primitive)&this.size-1);for(a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new G(this,Uint8ClampedArray.from([0]));this.one=new G(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]}inverse(a){if(0===\na)throw Error("Can\'t invert 0");return this.expTable[this.size-this.logTable[a]-1]}buildMonomial(a,b){if(0>a)throw Error("Invalid monomial degree less than 0");if(0===b)return this.zero;a=new Uint8ClampedArray(a+1);a[0]=b;return new G(this,a)}log(a){if(0===a)throw Error("Can\'t take log(0)");return this.logTable[a]}exp(a){return this.expTable[a]}}\nfunction fa(a,b,c,d){b.degree()<c.degree()&&([b,c]=[c,b]);let e=a.zero;for(var f=a.one;c.degree()>=d/2;){var g=b;let h=e;b=c;e=f;if(b.isZero())return null;c=g;f=a.zero;g=b.getCoefficient(b.degree());for(g=a.inverse(g);c.degree()>=b.degree()&&!c.isZero();){let k=c.degree()-b.degree(),m=a.multiply(c.getCoefficient(c.degree()),g);f=f.addOrSubtract(a.buildMonomial(k,m));c=c.addOrSubtract(b.multiplyByMonomial(k,m))}f=f.multiplyPoly(e).addOrSubtract(h);if(c.degree()>=b.degree())return null}d=f.getCoefficient(0);\nif(0===d)return null;a=a.inverse(d);return[f.multiply(a),c.multiply(a)]}\nfunction ha(a,b){let c=new Uint8ClampedArray(a.length);c.set(a);a=new ea(285,256,0);var d=new G(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=d.evaluateAt(a.exp(g+a.generatorBase));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new G(a,e);d=fa(a,a.buildMonomial(b,1),d,b);if(null===d)return null;b=d[0];g=b.degree();if(1===g)b=[b.getCoefficient(1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===b.evaluateAt(h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;e=d[1];\nf=b.length;d=Array(f);for(g=0;g<f;g++){h=a.inverse(b[g]);let k=1;for(let m=0;m<f;m++)g!==m&&(k=a.multiply(k,H(1,a.multiply(b[m],h))));d[g]=a.multiply(e.evaluateAt(h),a.inverse(k));0!==a.generatorBase&&(d[g]=a.multiply(d[g],h))}for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}\nlet I=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},\n{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,\n34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},\n{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},\n{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},\n{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,\necBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,\n74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,\nversionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,\ndataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,\ndataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},\n{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},\n{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},\n{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},\n{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},\n{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,\ndataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},\n{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,\n26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},\n{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},\n{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,\ndataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,\ndataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],\nerrorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,\nversionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},\n{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function J(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function K(a,b){return b<<1|a}\nlet ia=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,\ndataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,\nformatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,\ndataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],ja=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%\n2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2];\nfunction ka(a,b,c){c=ja[c.dataMask];let d=a.height;var e=17+4*b.versionNumber;let f=x.createEmpty(e,e);f.setRegion(0,0,9,9,!0);f.setRegion(e-8,0,8,9,!0);f.setRegion(0,e-8,9,8,!0);for(var g of b.alignmentPatternCenters)for(var h of b.alignmentPatternCenters)6===g&&6===h||6===g&&h===e-7||g===e-7&&6===h||f.setRegion(g-2,h-2,5,5,!0);f.setRegion(6,9,1,e-17,!0);f.setRegion(9,6,e-17,1,!0);6<b.versionNumber&&(f.setRegion(e-11,0,3,6,!0),f.setRegion(0,e-11,6,3,!0));b=[];h=g=0;e=!0;for(let k=d-1;0<k;k-=2){6===\nk&&k--;for(let m=0;m<d;m++){let l=e?d-1-m:m;for(let n=0;2>n;n++){let q=k-n;if(!f.get(q,l)){h++;let r=a.get(q,l);c({y:l,x:q})&&(r=!r);g=g<<1|r;8===h&&(b.push(g),g=h=0)}}}e=!e}return b}\nfunction la(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return I[c-1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=K(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let g=b-9;g>=b-11;g--)d=K(a.get(e,g),d);a=Infinity;let f;for(let g of I){if(g.infoBits===c||g.infoBits===d)return g;b=J(c,g.infoBits);b<a&&(f=g,a=b);b=J(d,g.infoBits);b<a&&(f=g,a=b)}if(3>=a)return f}\nfunction ma(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=K(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=K(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=K(a.get(8,e),c);for(e=d-8;e<d;e++)c=K(a.get(e,8),c);a=Infinity;d=null;for(let {bits:f,formatInfo:g}of ia){if(f===b||f===c)return g;e=J(b,f);e<a&&(d=g,a=e);b!==c&&(e=J(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}\nfunction na(a,b,c){let d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(h=>{for(let k=0;k<h.numBlocks;k++)e.push({numDataCodewords:h.dataCodewordsPerBlock,codewords:[]}),f+=h.dataCodewordsPerBlock+d.ecCodewordsPerBlock});if(a.length<f)return null;a=a.slice(0,f);b=d.ecBlocks[0].dataCodewordsPerBlock;for(c=0;c<b;c++)for(var g of e)g.codewords.push(a.shift());if(1<d.ecBlocks.length)for(g=d.ecBlocks[0].numBlocks,b=d.ecBlocks[1].numBlocks,c=0;c<b;c++)e[g+c].codewords.push(a.shift());for(;0<a.length;)for(let h of e)h.codewords.push(a.shift());\nreturn e}function L(a){let b=la(a);if(!b)return null;var c=ma(a);if(!c)return null;a=ka(a,b,c);var d=na(a,b,c.errorCorrectionLevel);if(!d)return null;c=d.reduce((e,f)=>e+f.numDataCodewords,0);c=new Uint8ClampedArray(c);a=0;for(let e of d){d=ha(e.codewords,e.codewords.length-e.numDataCodewords);if(!d)return null;for(let f=0;f<e.numDataCodewords;f++)c[a++]=d[f]}try{return da(c,b.versionNumber)}catch(e){return null}}\nfunction M(a,b,c,d){var e=a.x-b.x+c.x-d.x;let f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};let g=b.x-c.x;var h=d.x-c.x;let k=b.y-c.y,m=d.y-c.y;c=g*m-h*k;h=(e*m-h*f)/c;e=(g*f-e*k)/c;return{a11:b.x-a.x+h*b.x,a12:b.y-a.y+h*b.y,a13:h,a21:d.x-a.x+e*d.x,a22:d.y-a.y+e*d.y,a23:e,a31:a.x,a32:a.y,a33:1}}\nfunction oa(a,b,c,d){a=M(a,b,c,d);return{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}\nfunction pa(a,b){var c=oa({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=M(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=d.a11*c.a11+d.a21*c.a12+d.a31*c.a13,f=d.a12*c.a11+d.a22*c.a12+d.a32*c.a13,g=d.a13*c.a11+d.a23*c.a12+d.a33*c.a13,h=d.a11*c.a21+d.a21*c.a22+d.a31*c.a23,k=d.a12*c.a21+d.a22*c.a22+d.a32*c.a23,m=d.a13*c.a21+d.a23*c.a22+d.a33*c.a23,l=d.a11*c.a31+d.a21*c.a32+d.a31*c.a33,n=d.a12*c.a31+d.a22*c.a32+d.a32*c.a33,q=d.a13*\nc.a31+d.a23*c.a32+d.a33*c.a33;c=x.createEmpty(b.dimension,b.dimension);d=(r,u)=>{const p=g*r+m*u+q;return{x:(e*r+h*u+l)/p,y:(f*r+k*u+n)/p}};for(let r=0;r<b.dimension;r++)for(let u=0;u<b.dimension;u++){let p=d(u+.5,r+.5);c.set(u,r,a.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}let N=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function O(a){return a.reduce((b,c)=>b+c)}\nfunction qa(a,b,c){let d=N(a,b),e=N(b,c),f=N(a,c),g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{bottomLeft:g,topLeft:h,topRight:k}}\nfunction ra(a,b,c,d){d=(O(P(a,c,d,5))/7+O(P(a,b,d,5))/7+O(P(c,a,d,5))/7+O(P(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");b=Math.round(N(a,b)/d);a=Math.round(N(a,c)/d);a=Math.floor((b+a)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:d}}\nfunction Q(a,b,c,d){let e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);let k=Math.abs(a-g),m=Math.abs(b-h),l=Math.floor(-k/2),n=g<a?1:-1,q=h<b?1:-1,r=!0;for(let u=g,p=h;u!==a+n;u+=n){g=f?p:u;h=f?u:p;if(c.get(g,h)!==r&&(r=!r,e.push({x:g,y:h}),e.length===d+1))break;l+=m;if(0<l){if(p===b)break;p+=q;l-=k}}c=\n[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(N(e[f],e[f+1])):c.push(0);return c}function P(a,b,c,d){let e=b.y-a.y,f=b.x-a.x;b=Q(a,b,c,Math.ceil(d/2));a=Q(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function R(a,b){let c=O(a)/O(b),d=0;b.forEach((e,f)=>{d+=Math.pow(a[f]-e*c,2)});return{averageSize:c,error:d}}\nfunction S(a,b,c){try{let d=P(a,{x:-1,y:a.y},c,b.length),e=P(a,{x:a.x,y:-1},c,b.length),f=P(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=P(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=R(d,b),k=R(e,b),m=R(f,b),l=R(g,b),n=(h.averageSize+k.averageSize+m.averageSize+l.averageSize)/4;return Math.sqrt(h.error*h.error+k.error*k.error+m.error*m.error+l.error*l.error)+(Math.pow(h.averageSize-n,2)+Math.pow(k.averageSize-n,2)+Math.pow(m.averageSize-n,2)+\nMath.pow(l.averageSize-n,2))/n}catch(d){return Infinity}}function T(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}\nfunction sa(a){var b=[],c=[];let d=[];var e=[];for(let p=0;p<=a.height;p++){var f=0,g=!1;let t=[0,0,0,0,0];for(let v=-1;v<=a.width;v++){var h=a.get(v,p);if(h===g)f++;else{t=[t[1],t[2],t[3],t[4],f];f=1;g=h;var k=O(t)/7;k=Math.abs(t[0]-k)<k&&Math.abs(t[1]-k)<k&&Math.abs(t[2]-3*k)<3*k&&Math.abs(t[3]-k)<k&&Math.abs(t[4]-k)<k&&!h;var m=O(t.slice(-3))/3;h=Math.abs(t[2]-m)<m&&Math.abs(t[3]-m)<m&&Math.abs(t[4]-m)<m&&h;if(k){let z=v-t[3]-t[4],y=z-t[2];k={startX:y,endX:z,y:p};m=c.filter(w=>y>=w.bottom.startX&&\ny<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<m.length?m[0].bottom=k:c.push({top:k,bottom:k})}if(h){let z=v-t[4],y=z-t[3];h={startX:y,y:p,endX:z};k=e.filter(w=>y>=w.bottom.startX&&y<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<k.length?\nk[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(v=>v.bottom.y!==p&&2<=v.bottom.y-v.top.y));c=c.filter(v=>v.bottom.y===p);d.push(...e.filter(v=>v.bottom.y!==p));e=e.filter(v=>v.bottom.y===p)}b.push(...c.filter(p=>2<=p.bottom.y-p.top.y));d.push(...e);c=[];for(var l of b)2>l.bottom.y-l.top.y||(b=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4,e=(l.top.y+l.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[l.top.endX-l.top.startX,l.bottom.endX-l.bottom.startX,l.bottom.y-l.top.y+\n1],f=O(f)/f.length,g=S({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({score:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((p,t)=>p.score-t.score);l=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var n of c)n!==e&&f.push(Object.assign(Object.assign({},n),{score:n.score+Math.pow(n.size-e.size,2)/e.size}));f.sort((p,t)=>p.score-t.score);l.push({points:[e,f[0],f[1]],score:e.score+f[0].score+f[1].score})}l.sort((p,t)=>p.score-t.score);let {topRight:q,topLeft:r,bottomLeft:u}=qa(...l[0].points);\nl=U(a,d,q,r,u);n=[];l&&n.push({alignmentPattern:{x:l.alignmentPattern.x,y:l.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:l.dimension,topLeft:{x:r.x,y:r.y},topRight:{x:q.x,y:q.y}});l=T(a,q);b=T(a,r);c=T(a,u);(a=U(a,d,l,b,c))&&n.push({alignmentPattern:{x:a.alignmentPattern.x,y:a.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:b.x,y:b.y},topRight:{x:l.x,y:l.y},dimension:a.dimension});return 0===n.length?null:n}\nfunction U(a,b,c,d,e){let f,g;try{({dimension:f,moduleSize:g}=ra(d,c,e,a))}catch(l){return null}var h=c.x-d.x+e.x,k=c.y-d.y+e.y;c=(N(d,e)+N(d,c))/2/g;e=1-3/c;let m={x:d.x+e*(h-d.x),y:d.y+e*(k-d.y)};b=b.map(l=>{const n=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4;l=(l.top.y+l.bottom.y+1)/2;if(a.get(Math.floor(n),Math.floor(l))){var q=S({x:Math.floor(n),y:Math.floor(l)},[1,1,1],a)+N({x:n,y:l},m);return{x:n,y:l,score:q}}}).filter(l=>!!l).sort((l,n)=>l.score-n.score);return{alignmentPattern:15<=\nc&&b.length?b[0]:m,dimension:f}}\nfunction V(a){var b=sa(a);if(!b)return null;for(let e of b){b=pa(a,e);var c=b.matrix;if(null==c)c=null;else{var d=L(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let f=d+1;f<c.height;f++)c.get(d,f)!==c.get(f,d)&&(c.set(d,f,!c.get(d,f)),c.set(f,d,!c.get(f,d)));c=L(c)}}if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:b.mappingFunction(e.dimension,0),topLeftCorner:b.mappingFunction(0,0),bottomRightCorner:b.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:b.mappingFunction(0,\ne.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern},matrix:b.matrix}}return null}let ta={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function W(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}\nfunction X(a,b,c,d={}){let e=Object.create(null);W(e,ta);W(e,d);d="onlyInvert"===e.inversionAttempts||"invertFirst"===e.inversionAttempts;var f="attemptBoth"===e.inversionAttempts||d;var g=e.greyScaleWeights,h=e.canOverwriteImage,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var m=0;if(h){var l=new Uint8ClampedArray(a.buffer,m,k);m+=k}l=new A(b,c,l);if(g.useIntegerApproximation)for(var n=0;n<c;n++)for(var q=0;q<b;q++){var r=4*(n*b+q);l.set(q,n,g.red*a[r]+g.green*a[r+1]+\ng.blue*a[r+2]+128>>8)}else for(n=0;n<c;n++)for(q=0;q<b;q++)r=4*(n*b+q),l.set(q,n,g.red*a[r]+g.green*a[r+1]+g.blue*a[r+2]);g=Math.ceil(b/8);n=Math.ceil(c/8);q=g*n;if(h){var u=new Uint8ClampedArray(a.buffer,m,q);m+=q}u=new A(g,n,u);for(q=0;q<n;q++)for(r=0;r<g;r++){var p=Infinity,t=0;for(var v=0;8>v;v++)for(let w=0;8>w;w++){let aa=l.get(8*r+w,8*q+v);p=Math.min(p,aa);t=Math.max(t,aa)}v=(p+t)/2;v=Math.min(255,1.11*v);24>=t-p&&(v=p/2,0<q&&0<r&&(t=(u.get(r,q-1)+2*u.get(r-1,q)+u.get(r-1,q-1))/4,p<t&&(v=t)));\nu.set(r,q,v)}h?(q=new Uint8ClampedArray(a.buffer,m,k),m+=k,q=new x(q,b)):q=x.createEmpty(b,c);r=null;f&&(h?(a=new Uint8ClampedArray(a.buffer,m,k),r=new x(a,b)):r=x.createEmpty(b,c));for(b=0;b<n;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=n-3;h=2>b?2:b>h?h:b;k=0;for(m=-2;2>=m;m++)for(p=-2;2>=p;p++)k+=u.get(c+m,h+p);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)m=8*a+h,p=8*b+k,t=l.get(m,p),q.set(m,p,t<=c),f&&r.set(m,p,!(t<=c))}f=f?{binarized:q,inverted:r}:{binarized:q};let {binarized:z,inverted:y}=f;(f=V(d?\ny:z))||"attemptBoth"!==e.inversionAttempts&&"invertFirst"!==e.inversionAttempts||(f=V(d?z:y));return f}X.default=X;let Y="dontInvert",Z={red:77,green:150,blue:29,useIntegerApproximation:!0};\nself.onmessage=a=>{let b=a.data.id,c=a.data.data;switch(a.data.type){case "decode":(a=X(c.data,c.width,c.height,{inversionAttempts:Y,greyScaleWeights:Z}))?self.postMessage({id:b,type:"qrResult",data:a.data,cornerPoints:[a.location.topLeftCorner,a.location.topRightCorner,a.location.bottomRightCorner,a.location.bottomLeftCorner]}):self.postMessage({id:b,type:"qrResult",data:null});break;case "grayscaleWeights":Z.red=c.red;Z.green=c.green;Z.blue=c.blue;Z.useIntegerApproximation=c.useIntegerApproximation;\nbreak;case "inversionMode":switch(c){case "original":Y="dontInvert";break;case "invert":Y="onlyInvert";break;case "both":Y="attemptBoth";break;default:throw Error("Invalid inversion mode");}break;case "close":self.close()}}\n']),{type:"application/javascript"}))});var Zb=ee(It(),1),Wb=ee(C1(),1);function S1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function vE(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ni(e,...t){if(!vE(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function P1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");S1(e.outputLen),S1(e.blockLen)}function ri(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function T1(e,t){ni(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}var Vo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Vl(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wn(e,t){return e<<32-t|e>>>t}function xE(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Ia(e){return typeof e=="string"&&(e=xE(e)),ni(e),e}function N1(...e){let t=0;for(let r=0;r<e.length;r++){let o=e[r];ni(o),t+=o.length}let n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){let s=e[r];n.set(s,o),o+=s.length}return n}var oi=class{clone(){return this._cloneInto()}};function A1(e){let t=r=>e().update(Ia(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function si(e=32){if(Vo&&typeof Vo.getRandomValues=="function")return Vo.getRandomValues(new Uint8Array(e));if(Vo&&typeof Vo.randomBytes=="function")return Vo.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function kE(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}function I1(e,t,n){return e&t^~e&n}function O1(e,t,n){return e&t^e&n^t&n}var ql=class extends oi{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Vl(this.buffer)}update(t){ri(this);let{view:n,buffer:r,blockLen:o}=this;t=Ia(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Vl(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ri(this),T1(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;kE(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=Vl(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};var bE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xr=new Uint32Array(64),cp=class extends ql{constructor(){super(64,32,8,!1),this.A=Yr[0]|0,this.B=Yr[1]|0,this.C=Yr[2]|0,this.D=Yr[3]|0,this.E=Yr[4]|0,this.F=Yr[5]|0,this.G=Yr[6]|0,this.H=Yr[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Xr[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){let f=Xr[d-15],m=Xr[d-2],w=wn(f,7)^wn(f,18)^f>>>3,g=wn(m,17)^wn(m,19)^m>>>10;Xr[d]=g+Xr[d-7]+w+Xr[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=wn(a,6)^wn(a,11)^wn(a,25),m=u+f+I1(a,c,l)+bE[d]+Xr[d]|0,g=(wn(r,2)^wn(r,13)^wn(r,22))+O1(r,o,s)|0;u=l,l=c,c=a,a=i+m|0,i=s,s=o,o=r,r=m+g|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){Xr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var jt=A1(()=>new cp);var Wl={};Tr(Wl,{is_hex:()=>up,is_json:()=>_E,is_prefix:()=>Zl,is_safe_num:()=>dp,within_size:()=>lp});function lp(e,t){if(e.length>t)throw new TypeError("Data is larger than array size: ".concat(e.length," > ").concat(t))}function up(e){if(e.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+e);if(e.length%2!==0)throw new Error("Length of hex string is invalid: ".concat(e.length))}function _E(e){try{JSON.parse(e)}catch(t){throw new TypeError("JSON string is invalid!")}}function dp(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}function Zl(e,t){if(e!==t)throw new TypeError("Bech32 prefix does not match: ".concat(e," !== ").concat(t))}var EE=new TextEncoder,BE=new TextDecoder;function Oa(e){return EE.encode(e)}function La(e){return BE.decode(e)}function CE(e,t){up(e);let n=e.length/2;if(t===void 0&&(t=n),n>t)throw new TypeError("Hex string is larger than array size: ".concat(n," > ").concat(t));return t}function fp(e,t,n="le"){t=CE(e,t);let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(let a=0;a<e.length;a+=2){let c=e.substring(a,a+2),l=parseInt(c,16);r?s.setUint8(i++,l):s.setUint8(i--,l)}return new Uint8Array(o)}function hp(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}function Ma(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function z1(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function j1(e){if(typeof e!="function")throw new Error("function expected");return!0}function ii(e,t){if(typeof t!="string")throw new Error("".concat(e,": string expected"));return!0}function ai(e){if(!Number.isSafeInteger(e))throw new Error("invalid integer: ".concat(e))}function Kl(e){if(!Array.isArray(e))throw new Error("array expected")}function Gl(e,t){if(!z1(!0,t))throw new Error("".concat(e,": array of strings expected"))}function gp(e,t){if(!z1(!1,t))throw new Error("".concat(e,": array of numbers expected"))}function Ua(...e){let t=s=>s,n=(s,i)=>a=>s(i(a)),r=e.map(s=>s.encode).reduceRight(n,t),o=e.map(s=>s.decode).reduce(n,t);return{encode:r,decode:o}}function Yl(e){let t=typeof e=="string"?e.split(""):e,n=t.length;Gl("alphabet",t);let r=new Map(t.map((o,s)=>[o,s]));return{encode:o=>(Kl(o),o.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error('alphabet.encode: digit index outside alphabet "'.concat(s,'". Allowed: ').concat(e));return t[s]})),decode:o=>(Kl(o),o.map(s=>{ii("alphabet.decode",s);let i=r.get(s);if(i===void 0)throw new Error('Unknown letter: "'.concat(s,'". Allowed: ').concat(e));return i}))}}function Xl(e=""){return ii("join",e),{encode:t=>(Gl("join.decode",t),t.join(e)),decode:t=>(ii("join.decode",t),t.split(e))}}function SE(e,t="="){return ai(e),ii("padding",t),{encode(n){for(Gl("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){Gl("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function L1(e,t,n){if(t<2)throw new Error("convertRadix: invalid from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: invalid to=".concat(n,", base cannot be less than 2"));if(Kl(e),!e.length)return[];let r=0,o=[],s=Array.from(e,a=>{if(ai(a),a<0||a>=t)throw new Error("invalid integer: ".concat(a));return a}),i=s.length;for(;;){let a=0,c=!0;for(let l=r;l<i;l++){let u=s[l],d=t*a,f=d+u;if(!Number.isSafeInteger(f)||d/t!==a||f-u!==d)throw new Error("convertRadix: carry overflow");let m=f/n;a=f%n;let w=Math.floor(m);if(s[l]=w,!Number.isSafeInteger(w)||w*n+a!==f)throw new Error("convertRadix: carry overflow");if(c)w?c=!1:r=l;else continue}if(o.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)o.push(0);return o.reverse()}var D1=(e,t)=>t===0?e:D1(t,e%t),Ql=(e,t)=>e+(t-D1(e,t)),Fl=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function pp(e,t,n,r){if(Kl(e),t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(Ql(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(Ql(t,n)));let o=0,s=0,i=Fl[t],a=Fl[n]-1,c=[];for(let l of e){if(ai(l),l>=i)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(o=o<<t|l,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)c.push((o>>s-n&a)>>>0);let u=Fl[s];if(u===void 0)throw new Error("invalid carry");o&=u-1}if(o=o<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&o>0)throw new Error("Non-zero padding: ".concat(o));return r&&s>0&&c.push(o>>>0),c}function PE(e){ai(e);let t=2**8;return{encode:n=>{if(!Ma(n))throw new Error("radix.encode input should be Uint8Array");return L1(Array.from(n),t,e)},decode:n=>(gp("radix.decode",n),Uint8Array.from(L1(n,e,t)))}}function yp(e,t=!1){if(ai(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Ql(8,e)>32||Ql(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Ma(n))throw new Error("radix2.encode input should be Uint8Array");return pp(Array.from(n),8,e,!t)},decode:n=>(gp("radix2.decode",n),Uint8Array.from(pp(n,e,8,t)))}}function R1(e){return j1(e),function(...t){try{return e.apply(null,t)}catch(n){}}}function TE(e,t){return ai(e),j1(t),{encode(n){if(!Ma(n))throw new Error("checksum.encode: input should be Uint8Array");let r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!Ma(n))throw new Error("checksum.decode: input should be Uint8Array");let r=n.slice(0,-e),o=n.slice(-e),s=t(r).slice(0,e);for(let i=0;i<e;i++)if(s[i]!==o[i])throw new Error("Invalid checksum");return r}}}var wp=Ua(yp(6),Yl("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),SE(6),Xl(""));var vp=Ua(yp(6),Yl("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Xl("")),NE=e=>Ua(PE(58),Yl(e),Xl("")),AE=NE("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var IE=e=>Ua(TE(4,t=>e(e(t))),AE),xp=IE,mp=Ua(Yl("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Xl("")),M1=[996825010,642813549,513874426,1027748829,705979059];function Ra(e){let t=e>>25,n=(e&33554431)<<5;for(let r=0;r<M1.length;r++)(t>>r&1)===1&&(n^=M1[r]);return n}function U1(e,t,n=1){let r=e.length,o=1;for(let s=0;s<r;s++){let i=e.charCodeAt(s);if(i<33||i>126)throw new Error("Invalid prefix (".concat(e,")"));o=Ra(o)^i>>5}o=Ra(o);for(let s=0;s<r;s++)o=Ra(o)^e.charCodeAt(s)&31;for(let s of t)o=Ra(o)^s;for(let s=0;s<6;s++)o=Ra(o);return o^=n,mp.encode(pp([o%Fl[30]],30,5,!1))}function $1(e){let t=e==="bech32"?1:734539939,n=yp(5),r=n.decode,o=n.encode,s=R1(r);function i(d,f,m=90){ii("bech32.encode prefix",d),Ma(f)&&(f=Array.from(f)),gp("bech32.encode",f);let w=d.length;if(w===0)throw new TypeError("Invalid prefix length ".concat(w));let g=w+7+f.length;if(m!==!1&&g>m)throw new TypeError("Length ".concat(g," exceeds limit ").concat(m));let y=d.toLowerCase(),h=U1(y,f,t);return"".concat(y,"1").concat(mp.encode(f)).concat(h)}function a(d,f=90){ii("bech32.decode input",d);let m=d.length;if(m<8||f!==!1&&m>f)throw new TypeError("invalid string length: ".concat(m," (").concat(d,"). Expected (8..").concat(f,")"));let w=d.toLowerCase();if(d!==w&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");let g=w.lastIndexOf("1");if(g===0||g===-1)throw new Error('Letter "1" must be present between prefix and data only');let y=w.slice(0,g),h=w.slice(g+1);if(h.length<6)throw new Error("Data must be at least 6 characters long");let p=mp.decode(h).slice(0,-6),v=U1(y,p,t);if(!h.endsWith(v))throw new Error("Invalid checksum in ".concat(d,': expected "').concat(v,'"'));return{prefix:y,words:p}}let c=R1(a);function l(d){let{prefix:f,words:m}=a(d,!1);return{prefix:f,words:m,bytes:r(m)}}function u(d,f){return i(d,o(f))}return{encode:i,decode:a,encodeFromBytes:u,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:s,toWords:o}}var za=$1("bech32"),ja=$1("bech32m");var kp={encode:e=>xp(jt).encode(e),decode:e=>xp(jt).decode(e)},bp={encode:e=>wp.encode(e),decode:e=>wp.decode(e)},_p={encode:e=>vp.encode(e),decode:e=>vp.decode(e)},Ep={to_words:za.toWords,to_bytes:za.fromWords,encode:(e,t,n=!1)=>za.encode(e,t,n),decode:(e,t=!1)=>{let{prefix:n,words:r}=za.decode(e,t);return{prefix:n,words:r}}},Bp={to_words:ja.toWords,to_bytes:ja.fromWords,encode:(e,t,n=!1)=>ja.encode(e,t,n),decode:(e,t=!1)=>{let{prefix:n,words:r}=ja.decode(e,t);return{prefix:n,words:r}}};var LE=BigInt(0),RE=BigInt(255),H1=BigInt(256);function ME(e){if(e<=BigInt(255))return 1;if(e<=BigInt(65535))return 2;if(e<=BigInt(0xffffffff))return 4;if(e<=BigInt("0xffffffffffffffff"))return 8;if(e<=BigInt("0xffffffffffffffffffffffffffffffff"))return 16;if(e<=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"))return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function V1(e,t,n="be"){t===void 0&&(t=ME(e));let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(;e>LE;){let a=e&RE,c=Number(a);r?s.setUint8(i++,c):s.setUint8(i--,c),e=(e-a)/H1}return new Uint8Array(o)}function q1(e){let t=BigInt(0);for(let n=e.length-1;n>=0;n--)t=t*H1+BigInt(e[n]);return BigInt(t)}function Z1(e){let t=e.split("").map(Number);if(t.length%8!==0)throw new Error("Binary array is invalid length: ".concat(e.length));let n=new Uint8Array(t.length/8);for(let r=0,o=0;r<t.length;r+=8,o++){let s=0;for(let i=0;i<8;i++)s|=t[r+i]<<7-i;n[o]=s}return n}function W1(e){let t=new Array(e.length*8),n=0;for(let r of e){if(r>255)throw new Error("Invalid byte value: ".concat(r,". Byte values must be between 0 and 255."));for(let o=7;o>=0;o--,n++)t[n]=r>>o&1}return t.join("")}function UE(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function F1(e,t,n="be"){t===void 0&&(t=UE(e));let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(;e>0;){let a=e&255;r?s.setUint8(i++,e):s.setUint8(i--,e),e=(e-a)/256}return new Uint8Array(o)}function K1(e){let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n],dp(t);return t}var $a={};Tr($a,{bigint_replacer:()=>Pp,bigint_reviver:()=>Tp,is_bytes:()=>Cp,is_hex:()=>Jl,join_array:()=>Da,parse_data:()=>Np,set_buffer:()=>Sp});function Jl(e){return e.match(/[^a-fA-F0-9]/)===null&&e.length%2===0}function Cp(e){return typeof e=="string"&&Jl(e)||typeof e=="number"||typeof e=="bigint"||e instanceof Uint8Array?!0:!!(Array.isArray(e)&&e.every(t=>typeof t=="number"))}function Sp(e,t,n="be"){t===void 0&&(t=e.length),lp(e,t);let r=new Uint8Array(t).fill(0),o=n==="be"?0:t-e.length;return r.set(e,o),r}function Da(e){let t,n=0,r=e.reduce((s,i)=>s+i.length,0),o=new Uint8Array(r);for(t=0;t<e.length;t++){let s=e[t];o.set(s,n),n+=s.length}return o}function Pp(e,t){return typeof t=="bigint"?"".concat(t,"n"):t}function Tp(e,t){return typeof t=="string"&&/^[0-9]+n$/.test(t)?BigInt(t.slice(0,-1)):t}function Np(e,t,n){let r=e.length,o=n/t;if(n%t!==0)throw new TypeError("Invalid parameters: ".concat(n," % ").concat(t," !== 0"));if(r!==n)throw new TypeError("Invalid data stream: ".concat(r," !== ").concat(n));if(r%t!==0)throw new TypeError("Invalid data stream: ".concat(r," % ").concat(t," !== 0"));let s=new Array(o);for(let i=0;i<o;i++){let a=i*t;s[i]=e.subarray(a,a+t)}return s}function eu(e,t,n){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Sp(e,t,n);if(Array.isArray(e)){let r=e.map(o=>eu(o,t,n));return Da(r)}else{if(typeof e=="string")return fp(e,t,n);if(typeof e=="bigint")return V1(e,t,n);if(typeof e=="number")return F1(e,t,n);if(typeof e=="boolean")return Uint8Array.of(e?1:0)}throw new TypeError("Unsupported format:"+typeof e)}var X=class X extends Uint8Array{static random(t=32){let n=si(t);return new X(n,t)}static now(t=4){let n=Math.floor(Date.now()/1e3);return new X(n,t)}constructor(t,n,r){if(t instanceof X&&n===void 0)return t;let o=eu(t,n,r);super(o)}get arr(){return[...this]}get num(){return this.to_num()}get big(){return this.to_big()}get str(){return this.to_str()}get hex(){return this.to_hex()}get raw(){return new Uint8Array(this)}get bin(){return this.to_bin()}get b58chk(){return this.to_b58chk()}get base64(){return this.to_base64()}get b64url(){return this.to_b64url()}get digest(){return this.to_hash()}get id(){return this.to_hash().hex}get stream(){return new Ip(this)}to_num(t="be"){let n=t==="be"?this.reverse():this;return K1(n)}to_big(t="be"){let n=t==="be"?this.reverse():this;return q1(n)}to_bin(){return W1(this)}to_hash(){let t=jt(this);return new X(t)}to_json(t){t===void 0&&(t=Tp);let n=La(this);return JSON.parse(n,t)}to_bech32(t,n){let{encode:r,to_words:o}=Ep,s=o(this);return r(t,s,n)}to_bech32m(t,n){let{encode:r,to_words:o}=Bp,s=o(this);return r(t,s,n)}to_str(){return La(this)}to_hex(){return hp(this)}to_bytes(){return new Uint8Array(this)}to_b58chk(){return kp.encode(this)}to_base64(){return bp.encode(this)}to_b64url(){return _p.encode(this)}append(t){return X.join([this,X.bytes(t)])}equals(t){return Ap(t).hex===this.hex}prepend(t){return X.join([X.bytes(t),this])}reverse(){let t=new Uint8Array(this).reverse();return new X(t)}slice(t,n){let r=new Uint8Array(this).slice(t,n);return new X(r)}set(t,n){this.set(t,n)}subarray(t,n){let r=new Uint8Array(this).subarray(t,n);return new X(r)}write(t,n){let r=X.bytes(t);this.set(r,n)}add_varint(t){let n=X.calc_varint(this.length,t);return X.join([n,this])}toJSON(){return this.hex}toString(){return this.hex}static from(t){return new X(Uint8Array.from(t))}static of(...t){return new X(Uint8Array.of(...t))}static join(t){let n=t.map(o=>X.bytes(o)),r=Da(n);return new X(r)}static sort(t,n){let r=t.map(o=>Ap(o,n).hex);return r.sort(),r.map(o=>X.hex(o,n))}static calc_varint(t,n){if(t<253)return X.num(t,1);if(t<65536)return X.of(253,...X.num(t,2,n));if(t<4294967296)return X.of(254,...X.num(t,4,n));if(BigInt(t)<BigInt(0x10000000000000000))return X.of(255,...X.num(t,8,n));throw new Error("Value is too large: ".concat(t))}};X.num=jE,X.big=$E,X.bin=DE,X.raw=HE,X.str=VE,X.hex=qE,X.bytes=Ap,X.json=ZE,X.base64=WE,X.b64url=FE,X.bech32=KE,X.bech32m=GE,X.b58chk=QE,X.encode=Oa,X.decode=La,X.parse=YE,X.is_bytes=Cp,X.is_hex=Jl,X.is_equal=XE;var P=X;function jE(e,t,n){return new P(e,t,n)}function DE(e,t,n){return new P(Z1(e),t,n)}function $E(e,t,n){return new P(e,t,n)}function HE(e,t,n){return new P(e,t,n)}function VE(e,t,n){return new P(Oa(e),t,n)}function qE(e,t,n){return new P(e,t,n)}function ZE(e,t){t===void 0&&(t=Pp);let n=JSON.stringify(e,t);return new P(Oa(n))}function WE(e){return new P(bp.decode(e))}function FE(e){return new P(_p.decode(e))}function KE(e,t,n){let{decode:r,to_bytes:o}=Ep,{prefix:s,words:i}=r(e,t),a=o(i);return typeof n=="string"&&Zl(s,n),new P(a)}function GE(e,t,n){let{decode:r,to_bytes:o}=Bp,{prefix:s,words:i}=r(e,t),a=o(i);return typeof n=="string"&&Zl(s,n),new P(a)}function QE(e){return new P(kp.decode(e))}function YE(e,t,n){let r=eu(e);return Np(r,t,n).map(s=>P.bytes(s))}function XE(e,t){return new P(e).hex===new P(t).hex}function Ap(e,t,n){return new P(e,t,n)}var Ip=class{constructor(t){this.data=P.bytes(t),this.size=this.data.length}peek(t){if(t>this.size)throw new Error("Size greater than stream: ".concat(t," > ").concat(this.size));return new P(this.data.slice(0,t))}read(t){let n=this.peek(t);return this.data=this.data.slice(t),this.size=this.data.length,n}read_varint(t){let n=this.read(1).num;switch(!0){case(n>=0&&n<253):return n;case n===253:return this.read(2).to_num(t);case n===254:return this.read(4).to_num(t);case n===255:return this.read(8).to_num(t);default:throw new Error("Varint is out of range: ".concat(n))}}};var tu=class extends oi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,P1(t);let r=Ia(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return ri(this),this.iHash.update(t),this}digestInto(t){ri(this),ni(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Op=(e,t,n)=>new tu(e,t).update(n).digest();Op.create=(e,t)=>new tu(e,t);var jp={};Tr(jp,{aInRange:()=>Un,abool:()=>qo,abytes:()=>Jt,bitGet:()=>rB,bitLen:()=>Up,bitMask:()=>Va,bitSet:()=>oB,bytesToHex:()=>Zo,bytesToNumberBE:()=>St,bytesToNumberLE:()=>ou,concatBytes:()=>lt,createHmacDrbg:()=>zp,ensureBytes:()=>De,equalBytes:()=>nB,hexToBytes:()=>Fo,hexToNumber:()=>Mp,inRange:()=>eo,isBytes:()=>Jr,memoized:()=>iu,notImplemented:()=>iB,numberToBytesBE:()=>vn,numberToBytesLE:()=>su,numberToHexUnpadded:()=>Wo,numberToVarBytesBE:()=>tB,utf8ToBytes:()=>Ha,validateObject:()=>zn});var nu=BigInt(0),ru=BigInt(1),JE=BigInt(2);function Jr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Jt(e){if(!Jr(e))throw new Error("Uint8Array expected")}function qo(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}var eB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zo(e){Jt(e);let t="";for(let n=0;n<e.length;n++)t+=eB[e[n]];return t}function Wo(e){let t=e.toString(16);return t.length&1?"0"+t:t}function Mp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?nu:BigInt("0x"+e)}var ar={_0:48,_9:57,A:65,F:70,a:97,f:102};function G1(e){if(e>=ar._0&&e<=ar._9)return e-ar._0;if(e>=ar.A&&e<=ar.F)return e-(ar.A-10);if(e>=ar.a&&e<=ar.f)return e-(ar.a-10)}function Fo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){let i=G1(e.charCodeAt(s)),a=G1(e.charCodeAt(s+1));if(i===void 0||a===void 0){let c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[o]=i*16+a}return r}function St(e){return Mp(Zo(e))}function ou(e){return Jt(e),Mp(Zo(Uint8Array.from(e).reverse()))}function vn(e,t){return Fo(e.toString(16).padStart(t*2,"0"))}function su(e,t){return vn(e,t).reverse()}function tB(e){return Fo(Wo(e))}function De(e,t,n){let r;if(typeof t=="string")try{r=Fo(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Jr(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=r.length;if(typeof n=="number"&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return r}function lt(...e){let t=0;for(let r=0;r<e.length;r++){let o=e[r];Jt(o),t+=o.length}let n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){let s=e[r];n.set(s,o),o+=s.length}return n}function nB(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function Ha(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}var Lp=e=>typeof e=="bigint"&&nu<=e;function eo(e,t,n){return Lp(e)&&Lp(t)&&Lp(n)&&t<=e&&e<n}function Un(e,t,n,r){if(!eo(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Up(e){let t;for(t=0;e>nu;e>>=ru,t+=1);return t}function rB(e,t){return e>>BigInt(t)&ru}function oB(e,t,n){return e|(n?ru:nu)<<BigInt(t)}var Va=e=>(JE<<BigInt(e-1))-ru,Rp=e=>new Uint8Array(e),Q1=e=>Uint8Array.from(e);function zp(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Rp(e),o=Rp(e),s=0,i=()=>{r.fill(1),o.fill(0),s=0},a=(...d)=>n(o,r,...d),c=(d=Rp())=>{o=a(Q1([0]),d),r=a(),d.length!==0&&(o=a(Q1([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<t;){r=a();let m=r.slice();f.push(m),d+=r.length}return lt(...f)};return(d,f)=>{i(),c(d);let m;for(;!(m=f(l()));)c();return i(),m}}var sB={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Jr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function zn(e,t,n={}){let r=(o,s,i)=>{let a=sB[s];if(typeof a!="function")throw new Error("invalid validator function");let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+c)};for(let[o,s]of Object.entries(t))r(o,s,!1);for(let[o,s]of Object.entries(n))r(o,s,!0);return e}var iB=()=>{throw new Error("not implemented")};function iu(e){let t=new WeakMap;return(n,...r)=>{let o=t.get(n);if(o!==void 0)return o;let s=e(n,...r);return t.set(n,s),s}}var $e=BigInt(0),Pe=BigInt(1),Ko=BigInt(2),aB=BigInt(3),Dp=BigInt(4),Y1=BigInt(5),X1=BigInt(8),cB=BigInt(9),lB=BigInt(16);function Be(e,t){let n=e%t;return n>=$e?n:t+n}function J1(e,t,n){if(t<$e)throw new Error("invalid exponent, negatives unsupported");if(n<=$e)throw new Error("invalid modulus");if(n===Pe)return $e;let r=Pe;for(;t>$e;)t&Pe&&(r=r*e%n),e=e*e%n,t>>=Pe;return r}function Dt(e,t,n){let r=e;for(;t-- >$e;)r*=r,r%=n;return r}function au(e,t){if(e===$e)throw new Error("invert: expected non-zero number");if(t<=$e)throw new Error("invert: expected positive modulus, got "+t);let n=Be(e,t),r=t,o=$e,s=Pe,i=Pe,a=$e;for(;n!==$e;){let l=r/n,u=r%n,d=o-i*l,f=s-a*l;r=n,n=u,o=i,s=a,i=d,a=f}if(r!==Pe)throw new Error("invert: does not exist");return Be(o,t)}function uB(e){let t=(e-Pe)/Ko,n,r,o;for(n=e-Pe,r=0;n%Ko===$e;n/=Ko,r++);for(o=Ko;o<e&&J1(o,t,e)!==e-Pe;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){let i=(e+Pe)/Dp;return function(c,l){let u=c.pow(l,i);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let s=(n+Pe)/Ko;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,o),n),d=a.pow(c,s),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(f);m<l&&!a.eql(g,a.ONE);m++)g=a.sqr(g);let w=a.pow(u,Pe<<BigInt(l-m-1));u=a.sqr(w),d=a.mul(d,w),f=a.mul(f,u),l=m}return d}}function dB(e){if(e%Dp===aB){let t=(e+Pe)/Dp;return function(r,o){let s=r.pow(o,t);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%X1===Y1){let t=(e-Y1)/X1;return function(r,o){let s=r.mul(o,Ko),i=r.pow(s,t),a=r.mul(o,i),c=r.mul(r.mul(a,Ko),i),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),o))throw new Error("Cannot find square root");return l}}return e%lB,uB(e)}var fB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $p(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=fB.reduce((r,o)=>(r[o]="function",r),t);return zn(e,n)}function hB(e,t,n){if(n<$e)throw new Error("invalid exponent, negatives unsupported");if(n===$e)return e.ONE;if(n===Pe)return t;let r=e.ONE,o=t;for(;n>$e;)n&Pe&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Pe;return r}function pB(e,t){let n=new Array(t.length),r=t.reduce((s,i,a)=>e.is0(i)?s:(n[a]=s,e.mul(s,i)),e.ONE),o=e.inv(r);return t.reduceRight((s,i,a)=>e.is0(i)?s:(n[a]=e.mul(s,n[a]),e.mul(s,i)),o),n}function Hp(e,t){let n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function to(e,t,n=!1,r={}){if(e<=$e)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Hp(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:s,MASK:Va(o),ZERO:$e,ONE:Pe,create:c=>Be(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return $e<=c&&c<e},is0:c=>c===$e,isOdd:c=>(c&Pe)===Pe,neg:c=>Be(-c,e),eql:(c,l)=>c===l,sqr:c=>Be(c*c,e),add:(c,l)=>Be(c+l,e),sub:(c,l)=>Be(c-l,e),mul:(c,l)=>Be(c*l,e),pow:(c,l)=>hB(a,c,l),div:(c,l)=>Be(c*au(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>au(c,e),sqrt:r.sqrt||(c=>(i||(i=dB(e)),i(a,c))),invertBatch:c=>pB(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?su(c,s):vn(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?ou(c):St(c)}});return Object.freeze(a)}function ev(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Vp(e){let t=ev(e);return t+Math.ceil(t/2)}function tv(e,t,n=!1){let r=e.length,o=ev(t),s=Vp(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);let i=n?ou(e):St(e),a=Be(i,t-Pe)+Pe;return n?su(a,o):vn(a,o)}var nv=BigInt(0),cu=BigInt(1);function qp(e,t){let n=t.negate();return e?n:t}function rv(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Zp(e,t){rv(e,t);let n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function mB(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function gB(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}var Wp=new WeakMap,ov=new WeakMap;function Fp(e){return ov.get(e)||1}function sv(e,t){return{constTimeNegate:qp,hasPrecomputes(n){return Fp(n)!==1},unsafeLadder(n,r,o=e.ZERO){let s=n;for(;r>nv;)r&cu&&(o=o.add(s)),s=s.double(),r>>=cu;return o},precomputeWindow(n,r){let{windows:o,windowSize:s}=Zp(r,t),i=[],a=n,c=a;for(let l=0;l<o;l++){c=a,i.push(c);for(let u=1;u<s;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,o){let{windows:s,windowSize:i}=Zp(n,t),a=e.ZERO,c=e.BASE,l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<s;f++){let m=f*i,w=Number(o&l);o>>=d,w>i&&(w-=u,o+=cu);let g=m,y=m+Math.abs(w)-1,h=f%2!==0,p=w<0;w===0?c=c.add(qp(h,r[g])):a=a.add(qp(p,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,o,s=e.ZERO){let{windows:i,windowSize:a}=Zp(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<i;d++){let f=d*a;if(o===nv)break;let m=Number(o&c);if(o>>=u,m>a&&(m-=l,o+=cu),m===0)continue;let w=r[f+Math.abs(m)-1];m<0&&(w=w.negate()),s=s.add(w)}return s},getPrecomputes(n,r,o){let s=Wp.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Wp.set(r,o(s))),s},wNAFCached(n,r,o){let s=Fp(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){let i=Fp(n);return i===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,n,o),r,s)},setWindowSize(n,r){rv(r,t),ov.set(n,r),Wp.delete(n)}}}function iv(e,t,n,r){if(mB(n,e),gB(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");let o=e.ZERO,s=Up(BigInt(n.length)),i=s>12?s-3:s>4?s-2:s?2:1,a=(1<<i)-1,c=new Array(a+1).fill(o),l=Math.floor((t.BITS-1)/i)*i,u=o;for(let d=l;d>=0;d-=i){c.fill(o);for(let m=0;m<r.length;m++){let w=r[m],g=Number(w>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[m])}let f=o;for(let m=c.length-1,w=o;m>0;m--)w=w.add(c[m]),f=f.add(w);if(u=u.add(f),d!==0)for(let m=0;m<i;m++)u=u.double()}return u}function Kp(e){return $p(e.Fp),zn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(L(k(k({},Hp(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function av(e){e.lowS!==void 0&&qo("lowS",e.lowS),e.prehash!==void 0&&qo("prehash",e.prehash)}function yB(e){let t=Kp(e);zn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze(k({},t))}var{bytesToNumberBE:wB,hexToBytes:vB}=jp,Gp=class extends Error{constructor(t=""){super(t)}},cr={Err:Gp,_tlv:{encode:(e,t)=>{let{Err:n}=cr;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");let r=t.length/2,o=Wo(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");let s=r>127?Wo(o.length/2|128):"";return Wo(e)+s+o+t},decode(e,t){let{Err:n}=cr,r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");let o=t[r++],s=!!(o&128),i=0;if(!s)i=o;else{let c=o&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");let l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}let a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){let{Err:t}=cr;if(e<lr)throw new t("integer: negative integers are not allowed");let n=Wo(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){let{Err:t}=cr;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return wB(e)}},toSig(e){let{Err:t,_int:n,_tlv:r}=cr,o=typeof e=="string"?vB(e):e;Jt(o);let{v:s,l:i}=r.decode(48,o);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){let{_tlv:t,_int:n}=cr,r=t.encode(2,n.encode(e.r)),o=t.encode(2,n.encode(e.s)),s=r+o;return t.encode(48,s)}},lr=BigInt(0),Qe=BigInt(1),eA=BigInt(2),cv=BigInt(3),tA=BigInt(4);function xB(e){let t=yB(e),{Fp:n}=t,r=to(t.n,t.nBitLength),o=t.toBytes||((g,y,h)=>{let p=y.toAffine();return lt(Uint8Array.from([4]),n.toBytes(p.x),n.toBytes(p.y))}),s=t.fromBytes||(g=>{let y=g.subarray(1),h=n.fromBytes(y.subarray(0,n.BYTES)),p=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:h,y:p}});function i(g){let{a:y,b:h}=t,p=n.sqr(g),v=n.mul(p,g);return n.add(n.add(v,n.mul(g,y)),h)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return eo(g,Qe,t.n)}function c(g){let{allowedPrivateKeyLengths:y,nByteLength:h,wrapPrivateKey:p,n:v}=t;if(y&&typeof g!="bigint"){if(Jr(g)&&(g=Zo(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(h*2,"0")}let x;try{x=typeof g=="bigint"?g:St(De("private key",g,h))}catch(E){throw new Error("invalid private key, expected hex or "+h+" bytes, got "+typeof g)}return p&&(x=Be(x,v)),Un("private key",x,Qe,v),x}function l(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}let u=iu((g,y)=>{let{px:h,py:p,pz:v}=g;if(n.eql(v,n.ONE))return{x:h,y:p};let x=g.is0();y==null&&(y=x?n.ONE:n.inv(v));let E=n.mul(h,y),b=n.mul(p,y),_=n.mul(v,y);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:E,y:b}}),d=iu(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}let{x:y,y:h}=g.toAffine();if(!n.isValid(y)||!n.isValid(h))throw new Error("bad point: x or y not FE");let p=n.sqr(h),v=i(y);if(!n.eql(p,v))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(y,h,p){if(this.px=y,this.py=h,this.pz=p,y==null||!n.isValid(y))throw new Error("x required");if(h==null||!n.isValid(h))throw new Error("y required");if(p==null||!n.isValid(p))throw new Error("z required");Object.freeze(this)}static fromAffine(y){let{x:h,y:p}=y||{};if(!y||!n.isValid(h)||!n.isValid(p))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");let v=x=>n.eql(x,n.ZERO);return v(h)&&v(p)?f.ZERO:new f(h,p,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let h=n.invertBatch(y.map(p=>p.pz));return y.map((p,v)=>p.toAffine(h[v])).map(f.fromAffine)}static fromHex(y){let h=f.fromAffine(s(De("pointHex",y)));return h.assertValidity(),h}static fromPrivateKey(y){return f.BASE.multiply(c(y))}static msm(y,h){return iv(f,r,y,h)}_setWindowSize(y){w.setWindowSize(this,y)}assertValidity(){d(this)}hasEvenY(){let{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);let{px:h,py:p,pz:v}=this,{px:x,py:E,pz:b}=y,_=n.eql(n.mul(h,b),n.mul(x,v)),C=n.eql(n.mul(p,b),n.mul(E,v));return _&&C}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){let{a:y,b:h}=t,p=n.mul(h,cv),{px:v,py:x,pz:E}=this,b=n.ZERO,_=n.ZERO,C=n.ZERO,T=n.mul(v,v),N=n.mul(x,x),U=n.mul(E,E),D=n.mul(v,x);return D=n.add(D,D),C=n.mul(v,E),C=n.add(C,C),b=n.mul(y,C),_=n.mul(p,U),_=n.add(b,_),b=n.sub(N,_),_=n.add(N,_),_=n.mul(b,_),b=n.mul(D,b),C=n.mul(p,C),U=n.mul(y,U),D=n.sub(T,U),D=n.mul(y,D),D=n.add(D,C),C=n.add(T,T),T=n.add(C,T),T=n.add(T,U),T=n.mul(T,D),_=n.add(_,T),U=n.mul(x,E),U=n.add(U,U),T=n.mul(U,D),b=n.sub(b,T),C=n.mul(U,N),C=n.add(C,C),C=n.add(C,C),new f(b,_,C)}add(y){l(y);let{px:h,py:p,pz:v}=this,{px:x,py:E,pz:b}=y,_=n.ZERO,C=n.ZERO,T=n.ZERO,N=t.a,U=n.mul(t.b,cv),D=n.mul(h,x),F=n.mul(p,E),O=n.mul(v,b),B=n.add(h,p),S=n.add(x,E);B=n.mul(B,S),S=n.add(D,F),B=n.sub(B,S),S=n.add(h,v);let I=n.add(x,b);return S=n.mul(S,I),I=n.add(D,O),S=n.sub(S,I),I=n.add(p,v),_=n.add(E,b),I=n.mul(I,_),_=n.add(F,O),I=n.sub(I,_),T=n.mul(N,S),_=n.mul(U,O),T=n.add(_,T),_=n.sub(F,T),T=n.add(F,T),C=n.mul(_,T),F=n.add(D,D),F=n.add(F,D),O=n.mul(N,O),S=n.mul(U,S),F=n.add(F,O),O=n.sub(D,O),O=n.mul(N,O),S=n.add(S,O),D=n.mul(F,S),C=n.add(C,D),D=n.mul(I,S),_=n.mul(B,_),_=n.sub(_,D),D=n.mul(B,F),T=n.mul(I,T),T=n.add(T,D),new f(_,C,T)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return w.wNAFCached(this,y,f.normalizeZ)}multiplyUnsafe(y){let{endo:h,n:p}=t;Un("scalar",y,lr,p);let v=f.ZERO;if(y===lr)return v;if(this.is0()||y===Qe)return this;if(!h||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,y,f.normalizeZ);let{k1neg:x,k1:E,k2neg:b,k2:_}=h.splitScalar(y),C=v,T=v,N=this;for(;E>lr||_>lr;)E&Qe&&(C=C.add(N)),_&Qe&&(T=T.add(N)),N=N.double(),E>>=Qe,_>>=Qe;return x&&(C=C.negate()),b&&(T=T.negate()),T=new f(n.mul(T.px,h.beta),T.py,T.pz),C.add(T)}multiply(y){let{endo:h,n:p}=t;Un("scalar",y,Qe,p);let v,x;if(h){let{k1neg:E,k1:b,k2neg:_,k2:C}=h.splitScalar(y),{p:T,f:N}=this.wNAF(b),{p:U,f:D}=this.wNAF(C);T=w.constTimeNegate(E,T),U=w.constTimeNegate(_,U),U=new f(n.mul(U.px,h.beta),U.py,U.pz),v=T.add(U),x=N.add(D)}else{let{p:E,f:b}=this.wNAF(y);v=E,x=b}return f.normalizeZ([v,x])[0]}multiplyAndAddUnsafe(y,h,p){let v=f.BASE,x=(b,_)=>_===lr||_===Qe||!b.equals(v)?b.multiplyUnsafe(_):b.multiply(_),E=x(this,h).add(x(y,p));return E.is0()?void 0:E}toAffine(y){return u(this,y)}isTorsionFree(){let{h:y,isTorsionFree:h}=t;if(y===Qe)return!0;if(h)return h(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:h}=t;return y===Qe?this:h?h(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return qo("isCompressed",y),this.assertValidity(),o(f,this,y)}toHex(y=!0){return qo("isCompressed",y),Zo(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);let m=t.nBitLength,w=sv(f,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function kB(e){let t=Kp(e);return zn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(k({lowS:!0},t))}function lv(e){let t=kB(e),{Fp:n,n:r}=t,o=n.BYTES+1,s=2*n.BYTES+1;function i(O){return Be(O,r)}function a(O){return au(O,r)}let{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=xB(L(k({},t),{toBytes(O,B,S){let I=B.toAffine(),z=n.toBytes(I.x),A=lt;return qo("isCompressed",S),S?A(Uint8Array.from([B.hasEvenY()?2:3]),z):A(Uint8Array.from([4]),z,n.toBytes(I.y))},fromBytes(O){let B=O.length,S=O[0],I=O.subarray(1);if(B===o&&(S===2||S===3)){let z=St(I);if(!eo(z,Qe,n.ORDER))throw new Error("Point is not on curve");let A=u(z),W;try{W=n.sqrt(A)}catch(de){let fe=de instanceof Error?": "+de.message:"";throw new Error("Point is not on curve"+fe)}let K=(W&Qe)===Qe;return(S&1)===1!==K&&(W=n.neg(W)),{x:z,y:W}}else if(B===s&&S===4){let z=n.fromBytes(I.subarray(0,n.BYTES)),A=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:z,y:A}}else{let z=o,A=s;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+A+", got "+B)}}})),f=O=>Zo(vn(O,t.nByteLength));function m(O){let B=r>>Qe;return O>B}function w(O){return m(O)?i(-O):O}let g=(O,B,S)=>St(O.slice(B,S));class y{constructor(B,S,I){this.r=B,this.s=S,this.recovery=I,this.assertValidity()}static fromCompact(B){let S=t.nByteLength;return B=De("compactSignature",B,S*2),new y(g(B,0,S),g(B,S,2*S))}static fromDER(B){let{r:S,s:I}=cr.toSig(De("DER",B));return new y(S,I)}assertValidity(){Un("r",this.r,Qe,r),Un("s",this.s,Qe,r)}addRecoveryBit(B){return new y(this.r,this.s,B)}recoverPublicKey(B){let{r:S,s:I,recovery:z}=this,A=b(De("msgHash",B));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");let W=z===2||z===3?S+t.n:S;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(z&1)===0?"02":"03",Y=c.fromHex(K+f(W)),de=a(W),fe=i(-A*de),Le=i(I*de),Ae=c.BASE.multiplyAndAddUnsafe(Y,fe,Le);if(!Ae)throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Fo(this.toDERHex())}toDERHex(){return cr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fo(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}let h={isValidPrivateKey(O){try{return l(O),!0}catch(B){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let O=Vp(t.n);return tv(t.randomBytes(O),t.n)},precompute(O=8,B=c.BASE){return B._setWindowSize(O),B.multiply(BigInt(3)),B}};function p(O,B=!0){return c.fromPrivateKey(O).toRawBytes(B)}function v(O){let B=Jr(O),S=typeof O=="string",I=(B||S)&&O.length;return B?I===o||I===s:S?I===2*o||I===2*s:O instanceof c}function x(O,B,S=!0){if(v(O))throw new Error("first arg must be private key");if(!v(B))throw new Error("second arg must be public key");return c.fromHex(B).multiply(l(O)).toRawBytes(S)}let E=t.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");let B=St(O),S=O.length*8-t.nBitLength;return S>0?B>>BigInt(S):B},b=t.bits2int_modN||function(O){return i(E(O))},_=Va(t.nBitLength);function C(O){return Un("num < 2^"+t.nBitLength,O,lr,_),vn(O,t.nByteLength)}function T(O,B,S=N){if(["recovered","canonical"].some(Fe=>Fe in S))throw new Error("sign() legacy options not supported");let{hash:I,randomBytes:z}=t,{lowS:A,prehash:W,extraEntropy:K}=S;A==null&&(A=!0),O=De("msgHash",O),av(S),W&&(O=De("prehashed msgHash",I(O)));let Y=b(O),de=l(B),fe=[C(de),C(Y)];if(K!=null&&K!==!1){let Fe=K===!0?z(n.BYTES):K;fe.push(De("extraEntropy",Fe))}let Le=lt(...fe),Ae=Y;function Ue(Fe){let Ie=E(Fe);if(!d(Ie))return;let Nn=a(Ie),Pr=c.BASE.multiply(Ie).toAffine(),kt=i(Pr.x);if(kt===lr)return;let Xe=i(Nn*i(Ae+kt*de));if(Xe===lr)return;let Zt=(Pr.x===kt?0:2)|Number(Pr.y&Qe),Gn=Xe;return A&&m(Xe)&&(Gn=w(Xe),Zt^=1),new y(kt,Gn,Zt)}return{seed:Le,k2sig:Ue}}let N={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function D(O,B,S=N){let{seed:I,k2sig:z}=T(O,B,S),A=t;return zp(A.hash.outputLen,A.nByteLength,A.hmac)(I,z)}c.BASE._setWindowSize(8);function F(O,B,S,I=U){var Zt;let z=O;B=De("msgHash",B),S=De("publicKey",S);let{lowS:A,prehash:W,format:K}=I;if(av(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");let Y=typeof z=="string"||Jr(z),de=!Y&&!K&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!Y&&!de)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let fe,Le;try{if(de&&(fe=new y(z.r,z.s)),Y){try{K!=="compact"&&(fe=y.fromDER(z))}catch(Gn){if(!(Gn instanceof cr.Err))throw Gn}!fe&&K!=="der"&&(fe=y.fromCompact(z))}Le=c.fromHex(S)}catch(Gn){return!1}if(!fe||A&&fe.hasHighS())return!1;W&&(B=t.hash(B));let{r:Ae,s:Ue}=fe,Fe=b(B),Ie=a(Ue),Nn=i(Fe*Ie),Pr=i(Ae*Ie),kt=(Zt=c.BASE.multiplyAndAddUnsafe(Le,Nn,Pr))==null?void 0:Zt.toAffine();return kt?i(kt.x)===Ae:!1}return{CURVE:t,getPublicKey:p,getSharedSecret:x,sign:D,verify:F,ProjectivePoint:c,Signature:y,utils:h}}function bB(e){return{hash:e,hmac:(t,...n)=>Op(e,t,N1(...n)),randomBytes:si}}function uv(e,t){let n=r=>lv(k(k({},e),bB(r)));return L(k({},n(t)),{create:n})}var _B=St;function no(e,t){if(qa(e),qa(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);let n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function EB(e,t){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function qa(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function BB(e,t,n,r){Jt(e),Jt(t),qa(n),t.length>255&&(t=r(lt(Ha("H2C-OVERSIZE-DST-"),t)));let{outputLen:o,blockLen:s}=r,i=Math.ceil(n/o);if(n>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=lt(t,no(t.length,1)),c=no(0,s),l=no(n,2),u=new Array(i),d=r(lt(c,e,l,no(0,1),a));u[0]=r(lt(d,no(1,1),a));for(let m=1;m<=i;m++){let w=[EB(d,u[m-1]),no(m+1,1),a];u[m]=r(lt(...w))}return lt(...u).slice(0,n)}function CB(e,t,n,r,o){if(Jt(e),Jt(t),qa(n),t.length>255){let s=Math.ceil(2*r/8);t=o.create({dkLen:s}).update(Ha("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(no(n,2)).update(t).update(no(t.length,1)).digest()}function lu(e,t,n){zn(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:r,k:o,m:s,hash:i,expand:a,DST:c}=n;Jt(e),qa(t);let l=typeof c=="string"?Ha(c):c,u=r.toString(2).length,d=Math.ceil((u+o)/8),f=t*s*d,m;if(a==="xmd")m=BB(e,l,f,i);else if(a==="xof")m=CB(e,l,f,o,i);else if(a==="_internal_pass")m=e;else throw new Error('expand must be "xmd" or "xof"');let w=new Array(t);for(let g=0;g<t;g++){let y=new Array(s);for(let h=0;h<s;h++){let p=d*(h+g*s),v=m.subarray(p,p+d);y[h]=Be(_B(v),r)}w[g]=y}return w}var Fa=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),uu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Za=BigInt(1),du=BigInt(2),dv=(e,t)=>(e+t/du)/t;function hv(e){let t=Fa,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Dt(u,n,t)*u%t,f=Dt(d,n,t)*u%t,m=Dt(f,du,t)*l%t,w=Dt(m,o,t)*m%t,g=Dt(w,s,t)*w%t,y=Dt(g,a,t)*g%t,h=Dt(y,c,t)*y%t,p=Dt(h,a,t)*g%t,v=Dt(p,n,t)*u%t,x=Dt(v,i,t)*w%t,E=Dt(x,r,t)*l%t,b=Dt(E,du,t);if(!Yp.eql(Yp.sqr(b),e))throw new Error("Cannot find square root");return b}var Yp=to(Fa,void 0,void 0,{sqrt:hv}),Pt=uv({a:BigInt(0),b:BigInt(7),Fp:Yp,n:uu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=uu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Za*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),a=dv(s*e,t),c=dv(-r*e,t),l=Be(e-a*n-c*o,t),u=Be(-a*r-c*s,t),d=l>i,f=u>i;if(d&&(l=t-l),f&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},jt),pv=BigInt(0),fv={};function fu(e,...t){let n=fv[e];if(n===void 0){let r=jt(Uint8Array.from(e,o=>o.charCodeAt(0)));n=lt(r,r),fv[e]=n}return jt(lt(n,...t))}var em=e=>e.toRawBytes(!0).slice(1),Xp=e=>vn(e,32),Qp=e=>Be(e,Fa),Wa=e=>Be(e,uu),tm=Pt.ProjectivePoint,SB=(e,t,n)=>tm.BASE.multiplyAndAddUnsafe(e,t,n);function Jp(e){let t=Pt.utils.normPrivateKeyToScalar(e),n=tm.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Wa(-t),bytes:em(n)}}function mv(e){Un("x",e,Za,Fa);let t=Qp(e*e),n=Qp(t*e+BigInt(7)),r=hv(n);r%du!==pv&&(r=Qp(-r));let o=new tm(e,r,Za);return o.assertValidity(),o}var ci=St;function gv(...e){return Wa(ci(fu("BIP0340/challenge",...e)))}function PB(e){return Jp(e).bytes}function TB(e,t,n=si(32)){let r=De("message",e),{bytes:o,scalar:s}=Jp(t),i=De("auxRand",n,32),a=Xp(s^ci(fu("BIP0340/aux",i))),c=fu("BIP0340/nonce",a,o,r),l=Wa(ci(c));if(l===pv)throw new Error("sign failed: k is zero");let{bytes:u,scalar:d}=Jp(l),f=gv(u,o,r),m=new Uint8Array(64);if(m.set(u,0),m.set(Xp(Wa(d+f*s)),32),!yv(m,r,o))throw new Error("sign: Invalid signature produced");return m}function yv(e,t,n){let r=De("signature",e,64),o=De("message",t),s=De("publicKey",n,32);try{let i=mv(ci(s)),a=ci(r.subarray(0,32));if(!eo(a,Za,Fa))return!1;let c=ci(r.subarray(32,64));if(!eo(c,Za,uu))return!1;let l=gv(Xp(a),em(i),o),u=SB(i,c,Wa(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(i){return!1}}var Go={getPublicKey:PB,sign:TB,verify:yv,utils:{randomPrivateKey:Pt.utils.randomPrivateKey,lift_x:mv,pointToBytes:em,numberToBytesBE:vn,bytesToNumberBE:St,taggedHash:fu,mod:Be}};function nm(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function yt(e,...t){if(!nm(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ka(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function rm(e,t){yt(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}var wv=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),xn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),li=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),NB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!NB)throw new Error("Non little-endian hardware is not supported");function AB(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ui(e){if(typeof e=="string")e=AB(e);else if(nm(e))e=Qo(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function vv(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}var xv=(e,t)=>{function n(r,...o){if(yt(r),e.nonceLength!==void 0){let u=o[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?yt(u):yt(u,e.nonceLength)}let s=e.tagLength;s&&o[1]!==void 0&&yt(o[1]);let i=t(r,...o),a=(u,d)=>{if(d!==void 0){if(u!==2)throw new Error("cipher output not supported");yt(d)}},c=!1;return{encrypt(u,d){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,yt(u),a(i.encrypt.length,d),i.encrypt(u,d)},decrypt(u,d){if(yt(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(i.decrypt.length,d),i.decrypt(u,d)}}}return Object.assign(n,e),n};function kv(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!Ga(t))throw new Error("invalid output, must be aligned");return t}function hu(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}function Ga(e){return e.byteOffset%4===0}function Qo(e){return Uint8Array.from(e)}function kn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}var ur=16,sm=new Uint8Array(16),jn=xn(sm),IB=225,OB=(e,t,n,r)=>{let o=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^IB<<24&-(o&1)}},en=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function LB(e){e.reverse();let t=e[15]&1,n=0;for(let r=0;r<e.length;r++){let o=e[r];e[r]=o>>>1|n,n=(o&1)<<7}return e[0]^=-t&225,e}var RB=e=>e>64*1024?8:e>1024?4:2,pu=class{constructor(t,n){this.blockLen=ur,this.outputLen=ur,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=ui(t),yt(t,16);let r=li(t),o=r.getUint32(0,!1),s=r.getUint32(4,!1),i=r.getUint32(8,!1),a=r.getUint32(12,!1),c=[];for(let w=0;w<128;w++)c.push({s0:en(o),s1:en(s),s2:en(i),s3:en(a)}),{s0:o,s1:s,s2:i,s3:a}=OB(o,s,i,a);let l=RB(n||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=l;let d=128/l,f=this.windowSize=2**l,m=[];for(let w=0;w<d;w++)for(let g=0;g<f;g++){let y=0,h=0,p=0,v=0;for(let x=0;x<l;x++){if(!(g>>>l-x-1&1))continue;let{s0:b,s1:_,s2:C,s3:T}=c[l*w+x];y^=b,h^=_,p^=C,v^=T}m.push({s0:y,s1:h,s2:p,s3:v})}this.t=m}_updateBlock(t,n,r,o){t^=this.s0,n^=this.s1,r^=this.s2,o^=this.s3;let{W:s,t:i,windowSize:a}=this,c=0,l=0,u=0,d=0,f=(1<<s)-1,m=0;for(let w of[t,n,r,o])for(let g=0;g<4;g++){let y=w>>>8*g&255;for(let h=8/s-1;h>=0;h--){let p=y>>>s*h&f,{s0:v,s1:x,s2:E,s3:b}=i[m*a+p];c^=v,l^=x,u^=E,d^=b,m+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=d}update(t){t=ui(t),Ka(this);let n=xn(t),r=Math.floor(t.length/ur),o=t.length%ur;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return o&&(sm.set(t.subarray(r*ur)),this._updateBlock(jn[0],jn[1],jn[2],jn[3]),kn(jn)),this}destroy(){let{t}=this;for(let n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){Ka(this),rm(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=xn(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t}digest(){let t=new Uint8Array(ur);return this.digestInto(t),this.destroy(),t}},om=class extends pu{constructor(t,n){t=ui(t);let r=LB(Qo(t));super(r,n),kn(r)}update(t){t=ui(t),Ka(this);let n=xn(t),r=t.length%ur,o=Math.floor(t.length/ur);for(let s=0;s<o;s++)this._updateBlock(en(n[s*4+3]),en(n[s*4+2]),en(n[s*4+1]),en(n[s*4+0]));return r&&(sm.set(t.subarray(o*ur)),this._updateBlock(en(jn[3]),en(jn[2]),en(jn[1]),en(jn[0])),kn(jn)),this}digestInto(t){Ka(this),rm(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=xn(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t.reverse()}};function bv(e){let t=(r,o)=>e(o,r.length).update(ui(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,o)=>e(r,o),t}var im=bv((e,t)=>new pu(e,t)),MB=bv((e,t)=>new om(e,t));var cm=16,UB=4,mu=new Uint8Array(cm),zB=283;function lm(e){return e<<1^zB&-(e>>7)}function _v(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=lm(e);return n}var jB=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=lm(r))e[n]=r;let t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return kn(e),t})();var DB=e=>e<<24|e>>>8,am=e=>e<<8|e>>>24;function $B(e,t){if(e.length!==256)throw new Error("Wrong sbox length");let n=new Uint32Array(256).map((l,u)=>t(e[u])),r=n.map(am),o=r.map(am),s=o.map(am),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let d=l*256+u;i[d]=n[l]^r[u],a[d]=o[l]^s[u],c[d]=e[l]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:o,T3:s,T01:i,T23:a}}var Bv=$B(jB,e=>_v(e,3)<<24|e<<16|e<<8|_v(e,2));var HB=(()=>{let e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=lm(n))e[t]=n;return e})();function VB(e){yt(e);let t=e.length;if(![16,24,32].includes(t))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+t);let{sbox2:n}=Bv,r=[];Ga(e)||r.push(e=Qo(e));let o=xn(e),s=o.length,i=c=>Qa(n,c,c,c,c),a=new Uint32Array(t+28);a.set(o);for(let c=s;c<a.length;c++){let l=a[c-1];c%s===0?l=i(DB(l))^HB[c/s-1]:s>6&&c%s===4&&(l=i(l)),a[c]=a[c-s]^l}return kn(...r),a}function gu(e,t,n,r,o,s){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|s>>>24&255]}function Qa(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function Ev(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=Bv,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let w=0;w<l;w++){let g=e[c++]^gu(i,a,t,n,r,o),y=e[c++]^gu(i,a,n,r,o,t),h=e[c++]^gu(i,a,r,o,t,n),p=e[c++]^gu(i,a,o,t,n,r);t=g,n=y,r=h,o=p}let u=e[c++]^Qa(s,t,n,r,o),d=e[c++]^Qa(s,n,r,o,t),f=e[c++]^Qa(s,r,o,t,n),m=e[c++]^Qa(s,o,t,n,r);return{s0:u,s1:d,s2:f,s3:m}}function yu(e,t,n,r,o){yt(n,cm),yt(r),o=kv(r.length,o);let s=n,i=xn(s),a=li(s),c=xn(r),l=xn(o),u=t?0:12,d=r.length,f=a.getUint32(u,t),{s0:m,s1:w,s2:g,s3:y}=Ev(e,i[0],i[1],i[2],i[3]);for(let p=0;p+4<=c.length;p+=4)l[p+0]=c[p+0]^m,l[p+1]=c[p+1]^w,l[p+2]=c[p+2]^g,l[p+3]=c[p+3]^y,f=f+1>>>0,a.setUint32(u,f,t),{s0:m,s1:w,s2:g,s3:y}=Ev(e,i[0],i[1],i[2],i[3]);let h=cm*Math.floor(c.length/UB);if(h<d){let p=new Uint32Array([m,w,g,y]),v=wv(p);for(let x=h,E=0;x<d;x++,E++)o[x]=r[x]^v[E];kn(p)}return o}function qB(e,t,n,r,o){let s=o==null?0:o.length,i=e.create(n,r.length+s);o&&i.update(o),i.update(r);let a=new Uint8Array(16),c=li(a);o&&hu(c,0,BigInt(s*8),t),hu(c,8,BigInt(r.length*8),t),i.update(a);let l=i.digest();return kn(a),l}var um=xv({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(t,n,r){if(n.length<8)throw new Error("aes/gcm: invalid nonce length");let o=16;function s(a,c,l){let u=qB(im,!1,a,l,r);for(let d=0;d<c.length;d++)u[d]^=c[d];return u}function i(){let a=VB(t),c=mu.slice(),l=mu.slice();if(yu(a,!1,l,l,c),n.length===12)l.set(n);else{let d=mu.slice(),f=li(d);hu(f,8,BigInt(n.length*8),!1);let m=im.create(c).update(n).update(d);m.digestInto(l),m.destroy()}let u=yu(a,!1,l,mu);return{xk:a,authKey:c,counter:l,tagMask:u}}return{encrypt(a){let{xk:c,authKey:l,counter:u,tagMask:d}=i(),f=new Uint8Array(a.length+o),m=[c,l,u,d];Ga(a)||m.push(a=Qo(a)),yu(c,!1,u,a,f.subarray(0,a.length));let w=s(l,d,f.subarray(0,f.length-o));return m.push(w),f.set(w,a.length),kn(...m),f},decrypt(a){let{xk:c,authKey:l,counter:u,tagMask:d}=i(),f=[c,l,d,u];Ga(a)||f.push(a=Qo(a));let m=a.subarray(0,-o),w=a.subarray(-o),g=s(l,d,m);if(f.push(g),!vv(g,w))throw new Error("aes/gcm: invalid ghash tag");let y=yu(c,!1,u,m);return kn(...f),y}}});function di(e){let t=Go.getPublicKey(e);return new P(t).hex}function Yo(e,t){let n=t.length===66?t:"02"+t,r=Pt.getSharedSecret(e,n,!0);return new P(r).slice(1).hex}function Cv(e,t){let n=Go.sign(t,e);return new P(n).hex}function Sv(e,t,n){return Go.verify(n,e,t)}function wu(e,t,n){let r=P.str(t),o=P.hex(e),s=n!==void 0?P.hex(n,24):P.random(24),i=um(o,s).encrypt(r);return new P(i).b64url+"?iv="+s.b64url}function vu(e,t){let[n,r]=t.split("?iv="),o=P.b64url(n),s=P.hex(e),i=P.b64url(r),a=um(s,i).decrypt(o);return new P(a).str}function xu(){return P.random(16).hex}function dm(e){let t=JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]);return P.str(t).digest.hex}function ZB(e,t){return e.tags.filter(n=>n.at(0)===t)}function Pv(e,t){return ZB(e,"p").some(r=>r[1]===t)}var ae;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{let s={};for(let i of o)s[i]=i;return s},e.getValidEnumValues=o=>{let s=e.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),i={};for(let a of s)i[a]=o[a];return e.objectValues(i)},e.objectValues=o=>e.objectKeys(o).map(function(s){return o[s]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let s=[];for(let i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},e.find=(o,s)=>{for(let i of o)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,s=" | "){return o.map(i=>typeof i=="string"?"'".concat(i,"'"):i).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(ae||(ae={}));var hm;(function(e){e.mergeShapes=(t,n)=>k(k({},t),n)})(hm||(hm={}));var $=ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fr=e=>{switch(typeof e){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(e)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(e)?$.array:e===null?$.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$.promise:typeof Map<"u"&&e instanceof Map?$.map:typeof Set<"u"&&e instanceof Set?$.set:typeof Date<"u"&&e instanceof Date?$.date:$.object;default:return $.unknown}},R=ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),WB=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),$t=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){let n=t||function(s){return s.message},r={_errors:[]},o=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,c=0;for(;c<i.path.length;){let l=i.path[c];c===i.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(i))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return o(this),r}static assert(t){if(!(t instanceof e))throw new Error("Not a ZodError: ".concat(t))}toString(){return this.message}get message(){return JSON.stringify(this.issues,ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){let n={},r=[];for(let o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};$t.create=e=>new $t(e);var pi=(e,t)=>{let n;switch(e.code){case R.invalid_type:e.received===$.undefined?n="Required":n="Expected ".concat(e.expected,", received ").concat(e.received);break;case R.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,ae.jsonStringifyReplacer));break;case R.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(ae.joinValues(e.keys,", "));break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(ae.joinValues(e.options));break;case R.invalid_enum_value:n="Invalid enum value. Expected ".concat(ae.joinValues(e.options),", received '").concat(e.received,"'");break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),typeof e.validation.position=="number"&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):ae.assertNever(e.validation):e.validation!=="regex"?n="Invalid ".concat(e.validation):n="Invalid";break;case R.too_small:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):n="Invalid input";break;case R.too_big:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="bigint"?n="BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case R.not_finite:n="Number must be finite";break;default:n=t.defaultError,ae.assertNever(e)}return{message:n}},Av=pi;function FB(e){Av=e}function ku(){return Av}var bu=e=>{let{data:t,path:n,errorMaps:r,issueData:o}=e,s=[...n,...o.path||[]],i=L(k({},o),{path:s});if(o.message!==void 0)return L(k({},o),{path:s,message:o.message});let a="",c=r.filter(l=>!!l).slice().reverse();for(let l of c)a=l(i,{data:t,defaultError:a}).message;return L(k({},o),{path:s,message:a})},KB=[];function j(e,t){let n=ku(),r=bu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===pi?void 0:pi].filter(o=>!!o)});e.common.issues.push(r)}var ut=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let o of n){if(o.status==="aborted")return Q;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){let r=[];for(let o of n){let s=await o.key,i=await o.value;r.push({key:s,value:i})}return e.mergeObjectSync(t,r)}static mergeObjectSync(t,n){let r={};for(let o of n){let{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return Q;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(r[s.value]=i.value)}return{status:t.value,value:r}}},Q=Object.freeze({status:"aborted"}),hi=e=>({status:"dirty",value:e}),wt=e=>({status:"valid",value:e}),pm=e=>e.status==="aborted",mm=e=>e.status==="dirty",Xo=e=>e.status==="valid",Ja=e=>typeof Promise<"u"&&e instanceof Promise;function _u(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Iv(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n}var q;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(q||(q={}));var Ya,Xa,nn=class{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Tv=(e,t)=>{if(Xo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new $t(e.common.issues);return this._error=n,this._error}}};function te(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(i,a)=>{var c,l;let{message:u}=e;return i.code==="invalid_enum_value"?{message:u!=null?u:a.defaultError}:typeof a.data>"u"?{message:(c=u!=null?u:r)!==null&&c!==void 0?c:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(l=u!=null?u:n)!==null&&l!==void 0?l:a.defaultError}},description:o}}var ne=class{get description(){return this._def.description}_getType(t){return fr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:fr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ut,ctx:{common:t.parent.common,data:t.data,parsedType:fr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(Ja(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;let o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fr(t)},s=this._parseSync({data:t,path:o.path,parent:o});return Tv(o,s)}"~validate"(t){var n,r;let o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fr(t)};if(!this["~standard"].async)try{let s=this._parseSync({data:t,path:[],parent:o});return Xo(s)?{value:s.value}:{issues:o.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(s=>Xo(s)?{value:s.value}:{issues:o.common.issues})}async parseAsync(t,n){let r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){let r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fr(t)},o=this._parse({data:t,path:r.path,parent:r}),s=await(Ja(o)?o:Promise.resolve(o));return Tv(r,s)}refine(t,n){let r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{let i=t(o),a=()=>s.addIssue(k({code:R.custom},r(o)));return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new Ht({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return tn.create(this,this._def)}nullable(){return $n.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return pr.create(this)}promise(){return so.create(this,this._def)}or(t){return ss.create([this,t],this._def)}and(t){return is.create(this,t,this._def)}transform(t){return new Ht(L(k({},te(this._def)),{schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){let n=typeof t=="function"?t:()=>t;return new ds(L(k({},te(this._def)),{innerType:this,defaultValue:n,typeName:G.ZodDefault}))}brand(){return new ec(k({typeName:G.ZodBranded,type:this},te(this._def)))}catch(t){let n=typeof t=="function"?t:()=>t;return new fs(L(k({},te(this._def)),{innerType:this,catchValue:n,typeName:G.ZodCatch}))}describe(t){let n=this.constructor;return new n(L(k({},this._def),{description:t}))}pipe(t){return tc.create(this,t)}readonly(){return hs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},GB=/^c[^\s-]{8,}$/i,QB=/^[0-9a-z]+$/,YB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,JB=/^[a-z0-9_-]{21}$/i,eC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",fm,oC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ov="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uC=new RegExp("^".concat(Ov,"$"));function Lv(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):e.precision==null&&(t="".concat(t,"(\\.\\d+)?")),t}function dC(e){return new RegExp("^".concat(Lv(e),"$"))}function Rv(e){let t="".concat(Ov,"T").concat(Lv(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function fC(e,t){return!!((t==="v4"||!t)&&oC.test(e)||(t==="v6"||!t)&&iC.test(e))}function hC(e,t){if(!eC.test(e))return!1;try{let[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch(n){return!1}}function pC(e,t){return!!((t==="v4"||!t)&&sC.test(e)||(t==="v6"||!t)&&aC.test(e))}var ro=class e extends ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$.string){let s=this._getOrReturnCtx(t);return j(s,{code:R.invalid_type,expected:$.string,received:s.parsedType}),Q}let r=new ut,o;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(o=this._getOrReturnCtx(t,o),j(o,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(o=this._getOrReturnCtx(t,o),j(o,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(o=this._getOrReturnCtx(t,o),i?j(o,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&j(o,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")nC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"email",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")fm||(fm=new RegExp(rC,"u")),fm.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"emoji",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")XB.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"uuid",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")JB.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"nanoid",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")GB.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"cuid",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")QB.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"cuid2",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")YB.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"ulid",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch(i){o=this._getOrReturnCtx(t,o),j(o,{validation:"url",code:R.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"regex",code:R.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Rv(s).test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?uC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?dC(s).test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?tC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"duration",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?fC(t.data,s.version)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"ip",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?hC(t.data,s.alg)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"jwt",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?pC(t.data,s.version)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"cidr",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?cC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"base64",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?lC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"base64url",code:R.invalid_string,message:s.message}),r.dirty()):ae.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),k({validation:n,code:R.invalid_string},q.errToObj(r)))}_addCheck(t){return new e(L(k({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(k({kind:"email"},q.errToObj(t)))}url(t){return this._addCheck(k({kind:"url"},q.errToObj(t)))}emoji(t){return this._addCheck(k({kind:"emoji"},q.errToObj(t)))}uuid(t){return this._addCheck(k({kind:"uuid"},q.errToObj(t)))}nanoid(t){return this._addCheck(k({kind:"nanoid"},q.errToObj(t)))}cuid(t){return this._addCheck(k({kind:"cuid"},q.errToObj(t)))}cuid2(t){return this._addCheck(k({kind:"cuid2"},q.errToObj(t)))}ulid(t){return this._addCheck(k({kind:"ulid"},q.errToObj(t)))}base64(t){return this._addCheck(k({kind:"base64"},q.errToObj(t)))}base64url(t){return this._addCheck(k({kind:"base64url"},q.errToObj(t)))}jwt(t){return this._addCheck(k({kind:"jwt"},q.errToObj(t)))}ip(t){return this._addCheck(k({kind:"ip"},q.errToObj(t)))}cidr(t){return this._addCheck(k({kind:"cidr"},q.errToObj(t)))}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(k({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1},q.errToObj(t==null?void 0:t.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(k({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision},q.errToObj(t==null?void 0:t.message)))}duration(t){return this._addCheck(k({kind:"duration"},q.errToObj(t)))}regex(t,n){return this._addCheck(k({kind:"regex",regex:t},q.errToObj(n)))}includes(t,n){return this._addCheck(k({kind:"includes",value:t,position:n==null?void 0:n.position},q.errToObj(n==null?void 0:n.message)))}startsWith(t,n){return this._addCheck(k({kind:"startsWith",value:t},q.errToObj(n)))}endsWith(t,n){return this._addCheck(k({kind:"endsWith",value:t},q.errToObj(n)))}min(t,n){return this._addCheck(k({kind:"min",value:t},q.errToObj(n)))}max(t,n){return this._addCheck(k({kind:"max",value:t},q.errToObj(n)))}length(t,n){return this._addCheck(k({kind:"length",value:t},q.errToObj(n)))}nonempty(t){return this.min(1,q.errToObj(t))}trim(){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};ro.create=e=>{var t;return new ro(k({checks:[],typeName:G.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1},te(e)))};function mC(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,s=parseInt(e.toFixed(o).replace(".","")),i=parseInt(t.toFixed(o).replace(".",""));return s%i/Math.pow(10,o)}var Jo=class e extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$.number){let s=this._getOrReturnCtx(t);return j(s,{code:R.invalid_type,expected:$.number,received:s.parsedType}),Q}let r,o=new ut;for(let s of this._def.checks)s.kind==="int"?ae.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),j(r,{code:R.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?mC(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),j(r,{code:R.not_finite,message:s.message}),o.dirty()):ae.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,q.toString(n))}gt(t,n){return this.setLimit("min",t,!1,q.toString(n))}lte(t,n){return this.setLimit("max",t,!0,q.toString(n))}lt(t,n){return this.setLimit("max",t,!1,q.toString(n))}setLimit(t,n,r,o){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:q.toString(o)}]}))}_addCheck(t){return new e(L(k({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:q.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:q.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:q.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(t)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ae.isInteger(t.value))}get isFinite(){let t=null,n=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};Jo.create=e=>new Jo(k({checks:[],typeName:G.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},te(e)));var es=class e extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch(s){return this._getInvalidInput(t)}if(this._getType(t)!==$.bigint)return this._getInvalidInput(t);let r,o=new ut;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):ae.assertNever(s);return{status:o.value,value:t.data}}_getInvalidInput(t){let n=this._getOrReturnCtx(t);return j(n,{code:R.invalid_type,expected:$.bigint,received:n.parsedType}),Q}gte(t,n){return this.setLimit("min",t,!0,q.toString(n))}gt(t,n){return this.setLimit("min",t,!1,q.toString(n))}lte(t,n){return this.setLimit("max",t,!0,q.toString(n))}lt(t,n){return this.setLimit("max",t,!1,q.toString(n))}setLimit(t,n,r,o){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:q.toString(o)}]}))}_addCheck(t){return new e(L(k({},this._def),{checks:[...this._def.checks,t]}))}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:q.toString(n)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};es.create=e=>{var t;return new es(k({checks:[],typeName:G.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1},te(e)))};var ts=class extends ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$.boolean){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.boolean,received:r.parsedType}),Q}return wt(t.data)}};ts.create=e=>new ts(k({typeName:G.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},te(e)));var ns=class e extends ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$.date){let s=this._getOrReturnCtx(t);return j(s,{code:R.invalid_type,expected:$.date,received:s.parsedType}),Q}if(isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return j(s,{code:R.invalid_date}),Q}let r=new ut,o;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(o=this._getOrReturnCtx(t,o),j(o,{code:R.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(o=this._getOrReturnCtx(t,o),j(o,{code:R.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ae.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e(L(k({},this._def),{checks:[...this._def.checks,t]}))}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:q.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:q.toString(n)})}get minDate(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};ns.create=e=>new ns(k({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:G.ZodDate},te(e)));var mi=class extends ne{_parse(t){if(this._getType(t)!==$.symbol){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.symbol,received:r.parsedType}),Q}return wt(t.data)}};mi.create=e=>new mi(k({typeName:G.ZodSymbol},te(e)));var rs=class extends ne{_parse(t){if(this._getType(t)!==$.undefined){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.undefined,received:r.parsedType}),Q}return wt(t.data)}};rs.create=e=>new rs(k({typeName:G.ZodUndefined},te(e)));var os=class extends ne{_parse(t){if(this._getType(t)!==$.null){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.null,received:r.parsedType}),Q}return wt(t.data)}};os.create=e=>new os(k({typeName:G.ZodNull},te(e)));var oo=class extends ne{constructor(){super(...arguments),this._any=!0}_parse(t){return wt(t.data)}};oo.create=e=>new oo(k({typeName:G.ZodAny},te(e)));var hr=class extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return wt(t.data)}};hr.create=e=>new hr(k({typeName:G.ZodUnknown},te(e)));var bn=class extends ne{_parse(t){let n=this._getOrReturnCtx(t);return j(n,{code:R.invalid_type,expected:$.never,received:n.parsedType}),Q}};bn.create=e=>new bn(k({typeName:G.ZodNever},te(e)));var gi=class extends ne{_parse(t){if(this._getType(t)!==$.undefined){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.void,received:r.parsedType}),Q}return wt(t.data)}};gi.create=e=>new gi(k({typeName:G.ZodVoid},te(e)));var pr=class e extends ne{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==$.array)return j(n,{code:R.invalid_type,expected:$.array,received:n.parsedType}),Q;if(o.exactLength!==null){let i=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(i||a)&&(j(n,{code:i?R.too_big:R.too_small,minimum:a?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(j(n,{code:R.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(j(n,{code:R.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>o.type._parseAsync(new nn(n,i,n.path,a)))).then(i=>ut.mergeArray(r,i));let s=[...n.data].map((i,a)=>o.type._parseSync(new nn(n,i,n.path,a)));return ut.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new e(L(k({},this._def),{minLength:{value:t,message:q.toString(n)}}))}max(t,n){return new e(L(k({},this._def),{maxLength:{value:t,message:q.toString(n)}}))}length(t,n){return new e(L(k({},this._def),{exactLength:{value:t,message:q.toString(n)}}))}nonempty(t){return this.min(1,t)}};pr.create=(e,t)=>new pr(k({type:e,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray},te(t)));function fi(e){if(e instanceof Tt){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=tn.create(fi(r))}return new Tt(L(k({},e._def),{shape:()=>t}))}else return e instanceof pr?new pr(L(k({},e._def),{type:fi(e.element)})):e instanceof tn?tn.create(fi(e.unwrap())):e instanceof $n?$n.create(fi(e.unwrap())):e instanceof Dn?Dn.create(e.items.map(t=>fi(t))):e}var Tt=class e extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),n=ae.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==$.object){let l=this._getOrReturnCtx(t);return j(l,{code:R.invalid_type,expected:$.object,received:l.parsedType}),Q}let{status:r,ctx:o}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof bn&&this._def.unknownKeys==="strip"))for(let l in o.data)i.includes(l)||a.push(l);let c=[];for(let l of i){let u=s[l],d=o.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new nn(o,d,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof bn){let l=this._def.unknownKeys;if(l==="passthrough")for(let u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:o.data[u]}});else if(l==="strict")a.length>0&&(j(o,{code:R.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let u of a){let d=o.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new nn(o,d,o.path,u)),alwaysSet:u in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let u of c){let d=await u.key,f=await u.value;l.push({key:d,value:f,alwaysSet:u.alwaysSet})}return l}).then(l=>ut.mergeObjectSync(r,l)):ut.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return q.errToObj,new e(k(L(k({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,r)=>{var o,s,i,a;let c=(i=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=q.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}))}strip(){return new e(L(k({},this._def),{unknownKeys:"strip"}))}passthrough(){return new e(L(k({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new e(L(k({},this._def),{shape:()=>k(k({},this._def.shape()),t)}))}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>k(k({},this._def.shape()),t._def.shape()),typeName:G.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new e(L(k({},this._def),{catchall:t}))}pick(t){let n={};return ae.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new e(L(k({},this._def),{shape:()=>n}))}omit(t){let n={};return ae.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new e(L(k({},this._def),{shape:()=>n}))}deepPartial(){return fi(this)}partial(t){let n={};return ae.objectKeys(this.shape).forEach(r=>{let o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new e(L(k({},this._def),{shape:()=>n}))}required(t){let n={};return ae.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof tn;)s=s._def.innerType;n[r]=s}}),new e(L(k({},this._def),{shape:()=>n}))}keyof(){return Mv(ae.objectKeys(this.shape))}};Tt.create=(e,t)=>new Tt(k({shape:()=>e,unknownKeys:"strip",catchall:bn.create(),typeName:G.ZodObject},te(t)));Tt.strictCreate=(e,t)=>new Tt(k({shape:()=>e,unknownKeys:"strict",catchall:bn.create(),typeName:G.ZodObject},te(t)));Tt.lazycreate=(e,t)=>new Tt(k({shape:e,unknownKeys:"strip",catchall:bn.create(),typeName:G.ZodObject},te(t)));var ss=class extends ne{_parse(t){let{ctx:n}=this._processInputParams(t),r=this._def.options;function o(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;let i=s.map(a=>new $t(a.ctx.common.issues));return j(n,{code:R.invalid_union,unionErrors:i}),Q}if(n.common.async)return Promise.all(r.map(async s=>{let i=L(k({},n),{common:L(k({},n.common),{issues:[]}),parent:null});return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(o);{let s,i=[];for(let c of r){let l=L(k({},n),{common:L(k({},n.common),{issues:[]}),parent:null}),u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(c=>new $t(c));return j(n,{code:R.invalid_union,unionErrors:a}),Q}}get options(){return this._def.options}};ss.create=(e,t)=>new ss(k({options:e,typeName:G.ZodUnion},te(t)));var dr=e=>e instanceof as?dr(e.schema):e instanceof Ht?dr(e.innerType()):e instanceof cs?[e.value]:e instanceof ls?e.options:e instanceof us?ae.objectValues(e.enum):e instanceof ds?dr(e._def.innerType):e instanceof rs?[void 0]:e instanceof os?[null]:e instanceof tn?[void 0,...dr(e.unwrap())]:e instanceof $n?[null,...dr(e.unwrap())]:e instanceof ec||e instanceof hs?dr(e.unwrap()):e instanceof fs?dr(e._def.innerType):[],Eu=class e extends ne{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.object)return j(n,{code:R.invalid_type,expected:$.object,received:n.parsedType}),Q;let r=this.discriminator,o=n.data[r],s=this.optionsMap.get(o);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(j(n,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let o=new Map;for(let s of n){let i=dr(s.shape[t]);if(!i.length)throw new Error("A discriminator value for key `".concat(t,"` could not be extracted from all schema options"));for(let a of i){if(o.has(a))throw new Error("Discriminator property ".concat(String(t)," has duplicate value ").concat(String(a)));o.set(a,s)}}return new e(k({typeName:G.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o},te(r)))}};function gm(e,t){let n=fr(e),r=fr(t);if(e===t)return{valid:!0,data:e};if(n===$.object&&r===$.object){let o=ae.objectKeys(t),s=ae.objectKeys(e).filter(a=>o.indexOf(a)!==-1),i=k(k({},e),t);for(let a of s){let c=gm(e[a],t[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(n===$.array&&r===$.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let s=0;s<e.length;s++){let i=e[s],a=t[s],c=gm(i,a);if(!c.valid)return{valid:!1};o.push(c.data)}return{valid:!0,data:o}}else return n===$.date&&r===$.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var is=class extends ne{_parse(t){let{status:n,ctx:r}=this._processInputParams(t),o=(s,i)=>{if(pm(s)||pm(i))return Q;let a=gm(s.value,i.value);return a.valid?((mm(s)||mm(i))&&n.dirty(),{status:n.value,value:a.data}):(j(r,{code:R.invalid_intersection_types}),Q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};is.create=(e,t,n)=>new is(k({left:e,right:t,typeName:G.ZodIntersection},te(n)));var Dn=class e extends ne{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.array)return j(r,{code:R.invalid_type,expected:$.array,received:r.parsedType}),Q;if(r.data.length<this._def.items.length)return j(r,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&r.data.length>this._def.items.length&&(j(r,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let s=[...r.data].map((i,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new nn(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>ut.mergeArray(n,i)):ut.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new e(L(k({},this._def),{rest:t}))}};Dn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Dn(k({items:e,typeName:G.ZodTuple,rest:null},te(t)))};var Bu=class e extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.object)return j(r,{code:R.invalid_type,expected:$.object,received:r.parsedType}),Q;let o=[],s=this._def.keyType,i=this._def.valueType;for(let a in r.data)o.push({key:s._parse(new nn(r,a,r.path,a)),value:i._parse(new nn(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?ut.mergeObjectAsync(n,o):ut.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ne?new e(k({keyType:t,valueType:n,typeName:G.ZodRecord},te(r))):new e(k({keyType:ro.create(),valueType:t,typeName:G.ZodRecord},te(n)))}},yi=class extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.map)return j(r,{code:R.invalid_type,expected:$.map,received:r.parsedType}),Q;let o=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([a,c],l)=>({key:o._parse(new nn(r,a,r.path,[l,"key"])),value:s._parse(new nn(r,c,r.path,[l,"value"]))}));if(r.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of i){let l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Q;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{let a=new Map;for(let c of i){let l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Q;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}};yi.create=(e,t,n)=>new yi(k({valueType:t,keyType:e,typeName:G.ZodMap},te(n)));var wi=class e extends ne{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.set)return j(r,{code:R.invalid_type,expected:$.set,received:r.parsedType}),Q;let o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(j(r,{code:R.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(j(r,{code:R.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());let s=this._def.valueType;function i(c){let l=new Set;for(let u of c){if(u.status==="aborted")return Q;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}let a=[...r.data.values()].map((c,l)=>s._parse(new nn(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(t,n){return new e(L(k({},this._def),{minSize:{value:t,message:q.toString(n)}}))}max(t,n){return new e(L(k({},this._def),{maxSize:{value:t,message:q.toString(n)}}))}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};wi.create=(e,t)=>new wi(k({valueType:e,minSize:null,maxSize:null,typeName:G.ZodSet},te(t)));var Cu=class e extends ne{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.function)return j(n,{code:R.invalid_type,expected:$.function,received:n.parsedType}),Q;function r(a,c){return bu({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ku(),pi].filter(l=>!!l),issueData:{code:R.invalid_arguments,argumentsError:c}})}function o(a,c){return bu({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ku(),pi].filter(l=>!!l),issueData:{code:R.invalid_return_type,returnTypeError:c}})}let s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof so){let a=this;return wt(async function(...c){let l=new $t([]),u=await a._def.args.parseAsync(c,s).catch(m=>{throw l.addIssue(r(c,m)),l}),d=await Reflect.apply(i,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(m=>{throw l.addIssue(o(d,m)),l})})}else{let a=this;return wt(function(...c){let l=a._def.args.safeParse(c,s);if(!l.success)throw new $t([r(c,l.error)]);let u=Reflect.apply(i,this,l.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new $t([o(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e(L(k({},this._def),{args:Dn.create(t).rest(hr.create())}))}returns(t){return new e(L(k({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new e(k({args:t||Dn.create([]).rest(hr.create()),returns:n||hr.create(),typeName:G.ZodFunction},te(r)))}},as=class extends ne{get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};as.create=(e,t)=>new as(k({getter:e,typeName:G.ZodLazy},te(t)));var cs=class extends ne{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return j(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:t.data}}get value(){return this._def.value}};cs.create=(e,t)=>new cs(k({value:e,typeName:G.ZodLiteral},te(t)));function Mv(e,t){return new ls(k({values:e,typeName:G.ZodEnum},te(t)))}var ls=class e extends ne{constructor(){super(...arguments),Ya.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),r=this._def.values;return j(n,{expected:ae.joinValues(r),received:n.parsedType,code:R.invalid_type}),Q}if(_u(this,Ya,"f")||Iv(this,Ya,new Set(this._def.values),"f"),!_u(this,Ya,"f").has(t.data)){let n=this._getOrReturnCtx(t),r=this._def.values;return j(n,{received:n.data,code:R.invalid_enum_value,options:r}),Q}return wt(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return e.create(t,k(k({},this._def),n))}exclude(t,n=this._def){return e.create(this.options.filter(r=>!t.includes(r)),k(k({},this._def),n))}};Ya=new WeakMap;ls.create=Mv;var us=class extends ne{constructor(){super(...arguments),Xa.set(this,void 0)}_parse(t){let n=ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$.string&&r.parsedType!==$.number){let o=ae.objectValues(n);return j(r,{expected:ae.joinValues(o),received:r.parsedType,code:R.invalid_type}),Q}if(_u(this,Xa,"f")||Iv(this,Xa,new Set(ae.getValidEnumValues(this._def.values)),"f"),!_u(this,Xa,"f").has(t.data)){let o=ae.objectValues(n);return j(r,{received:r.data,code:R.invalid_enum_value,options:o}),Q}return wt(t.data)}get enum(){return this._def.values}};Xa=new WeakMap;us.create=(e,t)=>new us(k({values:e,typeName:G.ZodNativeEnum},te(t)));var so=class extends ne{unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.promise&&n.common.async===!1)return j(n,{code:R.invalid_type,expected:$.promise,received:n.parsedType}),Q;let r=n.parsedType===$.promise?n.data:Promise.resolve(n.data);return wt(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}};so.create=(e,t)=>new so(k({type:e,typeName:G.ZodPromise},te(t)));var Ht=class extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,s={addIssue:i=>{j(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let i=o.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return Q;let c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Q:c.status==="dirty"||n.value==="dirty"?hi(c.value):c});{if(n.value==="aborted")return Q;let a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?Q:a.status==="dirty"||n.value==="dirty"?hi(a.value):a}}if(o.type==="refinement"){let i=a=>{let c=o.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Xo(i))return i;let a=o.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Xo(i)?Promise.resolve(o.transform(i.value,s)).then(a=>({status:n.value,value:a})):i);ae.assertNever(o)}};Ht.create=(e,t,n)=>new Ht(k({schema:e,typeName:G.ZodEffects,effect:t},te(n)));Ht.createWithPreprocess=(e,t,n)=>new Ht(k({schema:t,effect:{type:"preprocess",transform:e},typeName:G.ZodEffects},te(n)));var tn=class extends ne{_parse(t){return this._getType(t)===$.undefined?wt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};tn.create=(e,t)=>new tn(k({innerType:e,typeName:G.ZodOptional},te(t)));var $n=class extends ne{_parse(t){return this._getType(t)===$.null?wt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};$n.create=(e,t)=>new $n(k({innerType:e,typeName:G.ZodNullable},te(t)));var ds=class extends ne{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return n.parsedType===$.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};ds.create=(e,t)=>new ds(k({innerType:e,typeName:G.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},te(t)));var fs=class extends ne{_parse(t){let{ctx:n}=this._processInputParams(t),r=L(k({},n),{common:L(k({},n.common),{issues:[]})}),o=this._def.innerType._parse({data:r.data,path:r.path,parent:k({},r)});return Ja(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $t(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new $t(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};fs.create=(e,t)=>new fs(k({innerType:e,typeName:G.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},te(t)));var vi=class extends ne{_parse(t){if(this._getType(t)!==$.nan){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.nan,received:r.parsedType}),Q}return{status:"valid",value:t.data}}};vi.create=e=>new vi(k({typeName:G.ZodNaN},te(e)));var gC=Symbol("zod_brand"),ec=class extends ne{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},tc=class e extends ne{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Q:s.status==="dirty"?(n.dirty(),hi(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{let o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Q:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new e({in:t,out:n,typeName:G.ZodPipeline})}},hs=class extends ne{_parse(t){let n=this._def.innerType._parse(t),r=o=>(Xo(o)&&(o.value=Object.freeze(o.value)),o);return Ja(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}};hs.create=(e,t)=>new hs(k({innerType:e,typeName:G.ZodReadonly},te(t)));function Uv(e,t={},n){return e?oo.create().superRefine((r,o)=>{var s,i;if(!e(r)){let a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(i=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&i!==void 0?i:!0,l=typeof a=="string"?{message:a}:a;o.addIssue(L(k({code:"custom"},l),{fatal:c}))}}):oo.create()}var yC={object:Tt.lazycreate},G;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(G||(G={}));var wC=(e,t={message:"Input not instance of ".concat(e.name)})=>Uv(n=>n instanceof e,t),zv=ro.create,jv=Jo.create,vC=vi.create,xC=es.create,Dv=ts.create,kC=ns.create,bC=mi.create,_C=rs.create,EC=os.create,BC=oo.create,CC=hr.create,SC=bn.create,PC=gi.create,TC=pr.create,NC=Tt.create,AC=Tt.strictCreate,IC=ss.create,OC=Eu.create,LC=is.create,RC=Dn.create,MC=Bu.create,UC=yi.create,zC=wi.create,jC=Cu.create,DC=as.create,$C=cs.create,HC=ls.create,VC=us.create,qC=so.create,Nv=Ht.create,ZC=tn.create,WC=$n.create,FC=Ht.createWithPreprocess,KC=tc.create,GC=()=>zv().optional(),QC=()=>jv().optional(),YC=()=>Dv().optional(),XC={string:e=>ro.create(L(k({},e),{coerce:!0})),number:e=>Jo.create(L(k({},e),{coerce:!0})),boolean:e=>ts.create(L(k({},e),{coerce:!0})),bigint:e=>es.create(L(k({},e),{coerce:!0})),date:e=>ns.create(L(k({},e),{coerce:!0}))},JC=Q,Z=Object.freeze({__proto__:null,defaultErrorMap:pi,setErrorMap:FB,getErrorMap:ku,makeIssue:bu,EMPTY_PATH:KB,addIssueToContext:j,ParseStatus:ut,INVALID:Q,DIRTY:hi,OK:wt,isAborted:pm,isDirty:mm,isValid:Xo,isAsync:Ja,get util(){return ae},get objectUtil(){return hm},ZodParsedType:$,getParsedType:fr,ZodType:ne,datetimeRegex:Rv,ZodString:ro,ZodNumber:Jo,ZodBigInt:es,ZodBoolean:ts,ZodDate:ns,ZodSymbol:mi,ZodUndefined:rs,ZodNull:os,ZodAny:oo,ZodUnknown:hr,ZodNever:bn,ZodVoid:gi,ZodArray:pr,ZodObject:Tt,ZodUnion:ss,ZodDiscriminatedUnion:Eu,ZodIntersection:is,ZodTuple:Dn,ZodRecord:Bu,ZodMap:yi,ZodSet:wi,ZodFunction:Cu,ZodLazy:as,ZodLiteral:cs,ZodEnum:ls,ZodNativeEnum:us,ZodPromise:so,ZodEffects:Ht,ZodTransformer:Ht,ZodOptional:tn,ZodNullable:$n,ZodDefault:ds,ZodCatch:fs,ZodNaN:vi,BRAND:gC,ZodBranded:ec,ZodPipeline:tc,ZodReadonly:hs,custom:Uv,Schema:ne,ZodSchema:ne,late:yC,get ZodFirstPartyTypeKind(){return G},coerce:XC,any:BC,array:TC,bigint:xC,boolean:Dv,date:kC,discriminatedUnion:OC,effect:Nv,enum:HC,function:jC,instanceof:wC,intersection:LC,lazy:DC,literal:$C,map:UC,nan:vC,nativeEnum:VC,never:SC,null:EC,nullable:WC,number:jv,object:NC,oboolean:YC,onumber:QC,optional:ZC,ostring:GC,pipeline:KC,preprocess:FC,promise:qC,record:MC,set:zC,strictObject:AC,string:zv,symbol:bC,transformer:Nv,tuple:RC,undefined:_C,union:IC,unknown:CC,void:PC,NEVER:JC,ZodIssueCode:R,quotelessJson:WB,ZodError:$t});var e4=Z.bigint(),t4=Z.boolean(),n4=Z.date(),r4=Z.number(),o4=Z.number().max(Number.MAX_SAFE_INTEGER),s4=Z.string(),i4=Z.number().min(5e8).max(Number.MAX_SAFE_INTEGER),a4=Z.string().url(),c4=Z.any(),xi=Z.string().regex(/^[0-9a-fA-F]*$/).refine(e=>e.length%2===0),l4=Z.union([Z.string(),Z.number(),Z.boolean(),Z.null()]),u4=xi.refine(e=>e.length===32),d4=xi.refine(e=>e.length===40),f4=xi.refine(e=>e.length===64),h4=xi.refine(e=>e.length===128),p4=xi.refine(e=>e.length===66),m4=Z.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/),g4=Z.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/),y4=Z.string().regex(/^[a-zA-Z0-9\-_]+={0,2}$/),w4=Z.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/),Nt={any:c4,base58:m4,base64:g4,b64url:y4,bech32:w4,big:e4,bool:t4,date:n4,hex32:f4,hex16:u4,hex20:d4,hex64:h4,hex:xi,literal:l4,num:r4,pubkey:p4,str:s4,stamp:i4,uint:o4,url:a4};var $v=Nt.str.array(),Hv=Z.object({content:Nt.str,created_at:Nt.stamp,kind:Nt.num,pubkey:Nt.hex32,tags:$v.array()}),Vv=Hv.extend({id:Nt.hex32}),v4=Vv.extend({sig:Nt.hex64}),qv={signed:v4,tags:$v,template:Hv,unsigned:Vv};var x4=Nt.hex16,k4=Nt.str,b4=Nt.str.min(3).max(256),_4=Z.tuple([b4,x4,k4]),Zv={envelope:_4};var io={base:Nt,event:qv,msg:Zv};var Wv;(function(e){function t(o,s){if(o===!1)throw new Error(s!=null?s:"Assertion failed!")}e.ok=t;function n(o,s){if(typeof o>"u")throw new TypeError(s!=null?s:"Input is undefined!");if(o===null)throw new TypeError(s!=null?s:"Input is null!")}e.exists=n;function r(o,s,i){let a=P.bytes(o);if(a.length!==s)throw new Error(i!=null?i:"Invalid byte size: ".concat(a.hex," !== ").concat(s));return!0}e.size=r})(Wv||(Wv={}));var nc=()=>Math.floor(Date.now()/1e3);function Su(e){return e instanceof Error?e.message:typeof e=="string"?e:String(e)}function Fv(e,t,n,r){var l;let o=(l=e.created_at)!=null?l:nc(),s=di(r),i=Yo(r,n),a=wu(i,t),c=L(k({},e),{pubkey:s,content:a,created_at:o});return c.tags.push(["p",n]),E4(r,c)}function E4(e,t){let n=dm(t),r=Cv(e,n);return L(k({},t),{id:n,sig:r})}function Kv(e){let a=e,{id:t,sig:n}=a,r=ji(a,["id","sig"]),s=io.event.signed.safeParse(e),i=dm(r);return s.success?t!==i?"event id mismatch":Sv(t,e.pubkey,n)?null:"invalid event signature":"event failed schema validation"}function Qv(e,t){let n=Kv(e);if(n!==null)throw new Error(n);let r=di(t);if(!Pv(e,r))throw new Error("pubkey not in peers list");let o=Yo(t,e.pubkey),s=vu(o,e.content);return JSON.parse(s)}function _n(e){var n;let t=(n=e.id)!=null?n:xu();return L(k({},e),{id:t})}function Yv(e,t,n){try{return JSON.stringify([e,n,t])}catch(r){throw new Error("failed to create message payload")}}function Xv(e,t){let r=io.msg.envelope.safeParse(e);if(!r.success)throw!1,new Error("envelope failed schema validation");let[o,s,i]=r.data;return{env:t,data:i,id:s,tag:o}}function Jv(e){if(!io.base.url.array().safeParse(e).success)throw new Error("invalid relay set: "+e)}function ex(e){if(!io.base.hex32.safeParse(e).success)throw new Error("invalid secret key: "+e)}var co={};Tr(co,{H1:()=>I4,H2:()=>O4,H3:()=>L4,H4:()=>R4,H5:()=>M4});var En=BigInt(0),Bn=BigInt(1),S4=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ki=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bi=Pt.CURVE,ao=to(ki,32,!0),P4=Pt.ProjectivePoint,ps="FROST-secp256k1-SHA256-v1",Pu={_0n:En,_1n:Bn,_N:ki,_P:S4,CURVE:bi,DOMAIN:ps,FIELD:ao,POINT:P4};var{POINT:T4,_N:N4,_P:PI}=Pu;function ge(e){return Be(e,N4)}function wm(e){return new TextEncoder().encode(e)}function vt(e){let t=P.bytes(e);if(t.length<32||t.length>33)throw new Error("invalid pubkeky: "+t.hex+" "+t.length);return t.length===32&&(t=t.prepend(2)),T4.fromHex(t.hex)}var A4={m:1,p:ki,k:128,expand:"xmd",hash:jt};function vm(e){return L(k({},A4),{DST:e})}function I4(e){let t=ps+"rho",n=lu(e,1,vm(t));return P.big(n[0][0],32)}function O4(e){let t=ps+"chal",n=lu(e,1,vm(t));return P.big(n[0][0],32)}function L4(e){let t=ps+"nonce",n=lu(e,1,vm(t));return P.big(n[0][0],32)}function R4(e){let t=wm(ps+"msg"),n=jt(new Uint8Array([...t,...e]));return new P(n)}function M4(e){let t=wm(ps+"com"),n=jt(new Uint8Array([...t,...e]));return new P(n)}var pe={};Tr(pe,{DeserializeElement:()=>J4,DeserializeScalar:()=>tS,ElementAdd:()=>Tu,ElementAddMany:()=>Q4,Identity:()=>K4,Order:()=>F4,RandomScalar:()=>G4,ScalarBaseMulti:()=>xm,ScalarMulti:()=>Y4,SerializeElement:()=>X4,SerializeScalar:()=>eS});var He={};Tr(He,{equal_arr_size:()=>V4,exists:()=>z4,is_equal_set:()=>H4,is_included:()=>D4,is_unique_set:()=>$4,ok:()=>U4,size:()=>j4});function U4(e,t){if(e===!1)throw new Error(t!=null?t:"Assertion failed!")}function z4(e){if(typeof e>"u")throw new TypeError("Input is undefined!");if(e===null)throw new TypeError("Input is null!")}function j4(e,t){let n=P.bytes(e);if(n.length!==t)throw new Error("Invalid byte size: ".concat(n.hex," !== ").concat(t));return!0}function D4(e,t){if(!e.includes(t))throw new Error("item is not included in array")}function $4(e){for(let t of e)if(e.filter(r=>r===t).length!==1)throw new Error("item in set is not unique: "+String(t))}function H4(e){if(!e.every(t=>t===e[0]))throw new Error("set does not have equal items")}function V4(e,t){if(e.length!==t.length)throw new Error("array lengths are unequal: ".concat(e.length," !== ").concat(t.length))}function q4(e){let t=P.str(e).digest;return P.join([t,t])}function tx(e,...t){let n=q4(e),r=t.map(o=>P.bytes(o));return P.join([n,...r]).digest}var{POINT:rx,_0n:nx,_1n:Z4,_N:W4}=Pu;function F4(){return W4}function K4(){return new rx(nx,Z4,nx)}function G4(){let e=P.random(32).big;return ge(e)}function Tu(e,t){if(e===null&&t===null)throw new Error("both points are null!");if(e===null)return He.exists(t),t;if(t===null)return e;{let n=e.add(t);return n.assertValidity(),n}}function Q4(e){let t=e.slice(1).reduce((n,r)=>Tu(n,r),e[0]);if(t===null)throw new Error("Summed point is null.");return t.assertValidity(),t}function Y4(e,t){let n=e.multiply(t);return n.assertValidity(),n}function xm(e){let n=Pt.ProjectivePoint.BASE.multiply(e);return n.assertValidity(),n}function X4(e){return P.bytes(e.toRawBytes(!0))}function J4(e){let t=P.bytes(e).hex;return rx.fromHex(t)}function eS(e){return new P(e,32)}function tS(e){return P.bytes(e).big}function km(e){let t=P.bytes(e).big,n=pe.ScalarBaseMulti(t);return pe.SerializeElement(n).hex}function sx(e,t,n){let r=ox(t,"bip340"),o=ox(e,"bip340");return He.size(r,32),He.size(o,32),tx("BIP0340/challenge",o,r,n).big}function ox(e,t){let n=P.bytes(e);if(t==="ecdsa")return n.length===32?n.prepend(2).hex:n.hex;if(t==="bip340")return n.length===33?n.slice(1).hex:n.hex;throw new Error("invalid pubkey type")}function ix(e){return e.map(t=>BigInt(t.idx))}function bm(e){let t=[],n=e.sort((r,o)=>r.idx-o.idx);for(let{idx:r,hidden_pn:o,binder_pn:s}of n){let i=[pe.SerializeScalar(r),o,s];t=[...t,...i]}return P.join(t)}function Nu(e,t,n){let r=P.hex(n),o=co.H4(r),s=bm(e),i=co.H5(s);return P.join([t,o,i])}function Au(e,t){for(let n of e)if(t===n.idx)return P.bytes(n.factor).big;throw new Error("invalid participant")}function Iu(e,t){return e.map(({idx:n})=>{let r=pe.SerializeScalar(n),o=P.join([t,r]);return{idx:n,factor:co.H1(o).hex}})}function Ou(e,t){let n=null;for(let{idx:r,binder_pn:o,hidden_pn:s}of e){let i=pe.DeserializeElement(s),a=pe.DeserializeElement(o),c=Au(t,r),l=pe.ScalarMulti(a,c);n=pe.ElementAdd(n,i),n=pe.ElementAdd(n,l)}return He.exists(n),pe.SerializeElement(n).hex}function ax(e,t=[]){let n=t.map(l=>P.bytes(l).big),r=Bn,o=ki-r,s=e,i=r,a=r,c=En;for(let l of n){let u=xm(l);i=s.hasEvenY()?r:o,s=i===o?s.negate():s,s=Tu(s,u),s.assertValidity(),a=ge(i*a),c=ge(l+i*c)}return i=s.hasEvenY()?r:o,{parity:i,point:s,state:a,tweak:c}}function oS(e,t){let n=P.bytes(e).hex,r=vt(n),o=ax(r,t),s=o.point.toHex(!0);return{int_pk:n,int_pt:r,group_pk:s,group_pt:o}}function sS(e,t,n){let r=e.group_pk,o=Nu(t,r,n).hex,s=Iu(t,o),i=Ou(t,s),a=ix(t),c=sx(i,r,n);return n=P.bytes(n).hex,{bind_prefix:o,bind_factors:s,challenge:c,pnonces:t,group_pn:i,indexes:a,message:n}}function cx(e,t,n,r){let o=oS(e,r),s=sS(o,t,n);return k(k({},o),s)}function _m(e,t){He.is_included(e,t),He.is_unique_set(e);let n=Bn,r=Bn;for(let o of e)o!==t&&(n=ge(ao.mul(n,o)),r=ge(ao.mul(r,o-t)));return ge(ao.div(n,r))}function Em(e,t,n){He.is_unique_set(e);let r=Bn,o=Bn;for(let s of e)s!==t&&(r=ge(ao.mul(r,n-s)),o=ge(ao.mul(o,t-s)));return ge(ao.div(r,o))}function lx(e,t,n){let r=e.filter(d=>d!==t.idx).map(d=>BigInt(d)),o=BigInt(t.idx),s=P.hex(t.seckey).big,i=vt(n),a=Em(r,o,En),c=ge(a*s),l=i.multiply(c),u=pe.SerializeElement(l).hex;return{idx:t.idx,pubkey:u}}function ux(e){let t=null;for(let n of e)if(t===null)t=vt(n.pubkey);else{let r=vt(n.pubkey);t=t.add(r)}return He.exists(t),pe.SerializeElement(t).hex}function hx(e,t,n){let{bind_factors:r,challenge:o,indexes:s,group_pt:i}=e,a=Au(r,t.idx),c=_m(s,BigInt(t.idx));if(n.idx!==t.idx)throw new Error("commit index does not match share index: ".concat(n.idx," !== ").concat(t.idx));let l=P.bytes(n.hidden_sn).big,u=P.bytes(n.binder_sn).big,d=P.bytes(t.seckey).big;vt(e.group_pn).hasEvenY()||(l=bi.n-l,u=bi.n-u);let m=ge(i.parity*i.state*d),w=ge(l+u*a),g=ge(o*c*m+w);return{idx:t.idx,psig:P.big(g,32).hex,pubkey:km(t.seckey)}}function px(e,t){let{challenge:n,pnonces:r,group_pt:o,group_pk:s,message:i}=e,a=Nu(r,s,i),c=Iu(r,a),l=Ou(r,c),u=t.map(m=>P.hex(m.psig).big).reduce((m,w)=>ge(m+w),En),d=ge(n*o.parity*o.tweak),f=ge(u+d);return P.join([l.slice(2),P.big(f,32)]).hex}function mx(e,t,n,r){let{bind_factors:o,challenge:s,indexes:i,group_pn:a,group_pt:c}=e,l=Au(o,t.idx),u=vt(t.hidden_pn),d=vt(t.binder_pn),f=vt(n);vt(a).hasEvenY()||(u=pe.ScalarMulti(u,bi.n-Bn),d=pe.ScalarMulti(d,bi.n-Bn));let w=pe.ScalarMulti(d,l),g=pe.ElementAdd(u,w),y=_m(i,BigInt(t.idx)),h=ge(c.parity*c.state),p=ge(s*y*h),v=P.hex(r).big,x=pe.ScalarBaseMulti(v),E=pe.ScalarMulti(f,p),b=pe.ElementAdd(g,E);return x.x===b.x}function gx(e,t,n){let r=lx(e,n,t);return{idx:r.idx,keyshare:r.pubkey,members:e,ecdh_pk:t}}function yx(e){let t=e.map(n=>({idx:n.idx,pubkey:n.keyshare}));return ux(t)}var aS=Z.bigint(),cS=Z.boolean(),lS=Z.date(),uS=Z.number(),dS=Z.number().max(Number.MAX_SAFE_INTEGER),fS=Z.string(),hS=Z.number().min(5e8).max(Number.MAX_SAFE_INTEGER),pS=Z.any(),mS=Z.bigint().max(BigInt(100000000)*BigInt(21000000)),wx=Z.union([Z.string(),Z.number(),Z.boolean(),Z.null()]),Bm=Z.lazy(()=>Z.union([wx,Z.array(Bm),Z.record(Bm)])),rc=Z.string().regex(/^[0-9a-fA-F]*$/).refine(e=>e.length%2===0),gS=rc.refine(e=>e.length===40),yS=rc.refine(e=>e.length===64),wS=rc.refine(e=>e.length===66),vS=rc.refine(e=>e.length===128),xS=Z.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/),kS=Z.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/),bS=Z.string().regex(/^[a-zA-Z0-9\-_]+={0,2}$/),_S=Z.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/),ie={any:pS,base58:xS,base64:kS,base64url:bS,bech32:_S,big:aS,bool:cS,date:lS,hex20:gS,hex32:yS,hex33:wS,hex64:vS,hex:rc,json:Bm,literal:wx,num:uS,sats:mS,str:fS,stamp:hS,uint:dS};var vx=Z.object({idx:ie.num,pubkey:ie.hex33,hidden_pn:ie.hex33,binder_pn:ie.hex33}),ES=Z.object({commits:Z.array(vx),group_pk:ie.hex33,threshold:ie.num}),BS=Z.object({idx:ie.num,binder_sn:ie.hex32,hidden_sn:ie.hex32,seckey:ie.hex32}),CS=Z.object({idx:ie.num,keyshare:ie.hex,members:ie.num.array(),ecdh_pk:ie.hex}),oc={commit:vx,ecdh:CS,group:ES,share:BS};var SS=oc.commit.extend({bind_hash:ie.hex32,sid:ie.hex32,sighash:ie.hex32}),PS=oc.share.extend({bind_hash:ie.hex32,sid:ie.hex32,sighash:ie.hex32}),xx=Z.tuple([ie.hex32,ie.hex32]),kx=Z.tuple([ie.hex32]).rest(ie.hex32),bx=Z.object({content:ie.str.nullable(),hashes:kx.array(),members:ie.num.array(),stamp:ie.num,type:ie.str}),TS=bx.extend({gid:ie.hex32,sid:ie.hex32}),NS=Z.object({idx:ie.num,psigs:xx.array(),pubkey:ie.hex33,sid:ie.hex32}),_x={commit:SS,member:PS,psig_entry:xx,psig_pkg:NS,session:TS,sighash_vec:kx,template:bx};var mr={base:ie,pkg:oc,sign:_x};function Lu(e){try{let t=mr.pkg.ecdh,n=JSON.parse(e.data),r=t.parse(n);return L(k({},e),{data:r})}catch(t){throw new Error("ecdh message failed validation")}}function Ex(e){try{let t=mr.sign.session,n=JSON.parse(e.data),r=t.parse(n);return L(k({},e),{data:r})}catch(t){throw new Error("session message failed validation")}}function Bx(e){try{let t=mr.sign.psig_pkg,n=JSON.parse(e.data),r=t.parse(n);return L(k({},e),{data:r})}catch(t){throw new Error("signature message failed validation")}}function Cx(e){try{return mr.pkg.group.parse(e)}catch(t){throw console.log("error:",t),new Error("group package failed validation")}}function Sx(e){try{return mr.pkg.share.parse(e)}catch(t){throw console.log("error:",t),new Error("share package failed validation")}}var lo=()=>Math.floor(Date.now()/1e3);function Ve(e){return JSON.parse(JSON.stringify(e))}function Ru(e){return e instanceof Map||Array.isArray(e)||typeof e!="object"?e:Object.keys(e).sort().filter(([t,n])=>n!==void 0).reduce((t,n)=>(t[n]=e[n],t),{})}function rn(e){return e instanceof Error?e.message:typeof e=="string"?e:String(e)}function Px(e,t,n){if(t.safeParse(e).success)return!0;if(n===void 0)return!1;throw new Error(n!=null?n:"object failed schema validation")}var ce;(function(e){function t(a,c){if(a===!1)throw new Error(c!=null?c:"Assertion failed!")}e.ok=t;function n(a,c,l){if(a!==c)throw new Error(l!=null?l:"".concat(a," !== ").concat(c))}e.equal=n;function r(a,c){if(typeof a>"u")throw new TypeError(c!=null?c:"Input is undefined!");if(a===null)throw new TypeError(c!=null?c:"Input is null!")}e.exists=r;function o(a,c,l){let u=P.bytes(a);if(u.length!==c)throw new Error(l!=null?l:"Invalid byte size: ".concat(u.hex," !== ").concat(c));return!0}e.size=o;function s(a,c,l){r(c),Px(c,a,l!=null?l:null)}e.schema=s;function i(a){if(typeof a!="string"||a.match(/[^a-fA-F0-9]/)!==null||a.length%2!==0)throw new Error("invalid hex:"+a)}e.is_hex=i})(ce||(ce={}));var Cm=Pt.CURVE.n,AS=to(Cm,32,!0),Sm=Pt.ProjectivePoint.BASE;function IS(e,t=!1){let n=ms(e).big%Cm;return t?Sm.multiply(n).hasEvenY()?P.big(n).hex:P.big(Cm-n).hex:P.big(n).hex}function Hn(e,t){let n=ms(e).big,o=Sm.multiply(n).toHex(!0);return uo(o,t)}function Pm(e,t,n=!1){let r=ms(e).big,o=ms(t).big,s=AS.add(r,o),i=P.big(s);return IS(i,n)}function Tm(e,t,n=!1){let r=RS(e),o=ms(t).big,s=OS(e),i=Sm.multiply(o),a=s.add(i);n&&!a.hasEvenY()&&(a=a.negate());let c=a.toHex(!0);return uo(c,r)}function OS(e){try{let t=uo(e,"ecdsa");return Pt.ProjectivePoint.fromHex(t)}catch(t){throw new Error("invalid pubkey: "+e)}}function LS(e,t){try{let n=ms(e);return n.length===33&&t==="bip340"?n.slice(1):n.length===32&&t==="ecdsa"?n.prepend(2):n}catch(n){throw new Error("invalid pubkey: "+String(e))}}function uo(e,t){return LS(e,t).hex}function RS(e){let t=ms(e);if(t.length===33)return"ecdsa";if(t.length===32)return"bip340";throw new Error("invalid pubkey: "+String(e))}function ms(e){try{return P.bytes(e)}catch(t){throw new Error("invalid bytes: "+String(e))}}var Tx;(function(e){function t(o){return o instanceof Error?o.message:typeof o=="string"?o:String(o)}e.error=t;function n(o,s){return s.safeParse(o)}e.data=n;function r(o,s){let i=o.map(c=>s.safeParse(c)),a=i.filter(c=>!c.success).map(c=>c.error.errors.map(l=>"".concat(l.message,": ").concat(l.path)));return a.length!==0?{ok:!1,errors:a}:{ok:!0,data:i.map(c=>c.data)}}e.array=r})(Tx||(Tx={}));function Mu(e,t){let n=()=>Math.random()>.5?1:-1,r=Math.min(e.length,t-1);return e.sort(n).slice(0,r)}function Uu(e,t){let n=e.commits.filter(r=>t.includes(uo(r.pubkey,"bip340"))).map(r=>r.idx);return ce.ok(n.length===t.length,"index count does not match pubkey count"),n}function Nx(e){return e.map(t=>t.pubkey)}function Ax(e){return e.filter(t=>t.policy.recv).map(t=>t.pubkey)}function ju(e){return e.filter(t=>t.policy.send).map(t=>t.pubkey)}function Ix(e){return e.filter(t=>t.status==="offline"||t.updated<lo()-30).map(t=>t.pubkey)}async function Ox(e,t){let n=e.config.middleware.ecdh;try{e.emit("/ecdh/handler/req",Ve(t)),typeof n=="function"&&(t=n(e,t));let{members:r,ecdh_pk:o}=t.data,s=e.signer.gen_ecdh_share(r,o),i=_n({data:JSON.stringify(s),id:t.id,tag:"/ecdh/res"}),a=await e.client.publish(i,t.env.pubkey);if(!a.ok)throw new Error("failed to publish response");e.emit("/ecdh/handler/res",Ve(a.data))}catch(r){e.debug&&console.log(r),e.emit("/ecdh/handler/rej",[rn(r),Ve(t)])}}function Lx(e){return async(t,n)=>{let r=e.group.threshold,o=ju(e.peers),s=Mu(n!=null?n:n=o,r),i=e.cache.ecdh.get(t);if(i!==void 0)return{ok:!0,data:e.signer.unwrap(i,t)};let a=Uu(e.group,[e.pubkey,...s]),c=e.signer.gen_ecdh_share(a,t),l=null;try{l=await US(e,s,c),e.emit("/ecdh/sender/res",Ve(l))}catch(u){e.debug&&console.log(u);let d=rn(u);return e.emit("/ecdh/sender/rej",[d,Ve(c)]),{ok:!1,err:d}}try{ce.ok(l!==null,"no responses from peers");let u=[c,...l.map(m=>m.data)],d=zS(u),f=e.signer.wrap(d,t);return e.cache.ecdh.set(t,f),e.emit("/ecdh/sender/ret",[t,d]),{ok:!0,data:d}}catch(u){e.debug&&console.log(u);let d=rn(u);return e.emit("/ecdh/sender/err",[d,Ve(l!=null?l:[])]),{ok:!1,err:d}}}}async function US(e,t,n){let r={data:JSON.stringify(n),tag:"/ecdh/req"},o=await e.client.multicast(r,t);if(!o.sub.ok)throw new Error(o.sub.reason);return o.sub.inbox.map(s=>{let i=Lu(s);return ce.ok(i!==null,"invalid ecdh response from pubkey: "+s.env.pubkey),i})}function zS(e){return yx(e)}async function Rx(e,t){try{e.emit("/ping/handler/req",t);let n=e.peers.find(s=>s.pubkey===t.env.pubkey);if(n===void 0)throw new Error("peer data not found");let r=_n({data:JSON.stringify(n.policy),id:t.id,tag:"/ping/res"}),o=await e.client.publish(r,t.env.pubkey);if(!o.ok)throw new Error("failed to publish response");e.update_peer(L(k({},n),{status:"online",updated:Date.now()})),e.emit("/ping/handler/res",Ve(o.data))}catch(n){e.debug&&console.log(n),e.emit("/ping/handler/rej",[rn(n),Ve(t)])}}function Mx(e){return async()=>{let t=null;try{t=await jS(e),e.emit("/ping/sender/res",Ve(t))}catch(n){e.debug&&console.log(n);let r=rn(n);return e.emit("/ping/sender/rej",[r,Ve(t!=null?t:[])]),{ok:!1,err:r}}try{ce.ok(t!==null,"no responses from peers");let n=lo(),r=DS(t);for(let o of r){let s=e.peers.find(i=>i.pubkey===o.pubkey);ce.exists(s,"peer data not found"),e.update_peer(L(k({},s),{policy:{send:o.send,recv:o.recv},status:"online",updated:n}))}return e.emit("/ping/sender/ret",r),{ok:!0,data:r}}catch(n){e.debug&&console.log(n);let r=rn(n);return e.emit("/ping/sender/err",[r,Ve(t!=null?t:[])]),{ok:!1,err:r}}}}async function jS(e){let t=Ix(e.peers);return(await e.client.multicast({data:"ping",tag:"/ping/req"},t)).sub.inbox}function DS(e){return e.map(t=>{let n=JSON.parse(t.data),r=t.env.pubkey;return k({pubkey:r},n)})}function Ux(e){if(Array.isArray(e))return e;if(typeof e=="string")return[e];throw new Error("invalid message payload")}function zx(e,t,n){let r=Dx(e,t.idx,n),o=Tm(t.hidden_pn,r),s=Tm(t.binder_pn,r),[i]=n;return L(k({},t),{binder_pn:s,hidden_pn:o,bind_hash:r,sighash:i,sid:e})}function jx(e,t,n){let r=Dx(e,t.idx,n),o=Pm(t.hidden_sn,r),s=Pm(t.binder_sn,r),[i]=n;return L(k({},t),{binder_sn:s,hidden_sn:o,bind_hash:r,sighash:i,sid:e})}function Dx(e,t,n){let r=P.bytes(e),o=P.num(t,4),s=P.join(n);return P.join([r,o,s]).digest.hex}function $x(e){let t=bm(e.commits);return P.join([t,e.group_pk]).digest.hex}function Hx(e,t){let n=e.find(r=>r.idx===t);return ce.exists(n,"commit package not found for idx: "+t),n}function Nm(e,t){let n=t.idx,r=Hn(t.seckey,"ecdsa");return e.commits.some(o=>o.idx===n&&o.pubkey===r)}var $S=()=>({content:null,stamp:lo(),type:"message"});function Vx(e,t,n={}){let r=typeof t=="string"?[[t]]:t,s=mr.sign.template.safeParse(L(k(k({},$S()),n),{hashes:r,members:e.sort()}));return s.success?s.data:null}function qx(e,t){let n=$x(e),r=HS(n,t);return L(k({},t),{gid:n,sid:r})}function HS(e,t){var c;let n=t.members.map(l=>P.bytes(l)),r=t.hashes.map(l=>P.join(l)),o=P.bytes((c=t.content)!=null?c:"00"),s=P.str(t.type),i=P.num(t.stamp,4);return P.join([e,...n,...r,o,s,i]).digest.hex}function VS(e,t,n){let r=Hx(e.commits,n);return t.hashes.map(o=>zx(t.sid,r,o))}function Zx(e,t){return e.hashes.map(n=>jx(e.sid,t,n))}function qS(e,t){return t.members.map(n=>VS(e,t,n)).flat()}function Du(e,t){let n=e.commits.map(s=>s.pubkey),r=qS(e,t),o=new Map;for(let s of t.hashes){let[i,...a]=s,c=r.filter(u=>u.sighash===i),l=cx(e.group_pk,c,i,a);o.set(i,l)}return{pubkeys:n,session:t,sigmap:o}}function Wx(e,t){let n=e.session.sid,r=Hn(t.seckey,"ecdsa"),o=e.session.hashes.map(a=>a[0]),s=Zx(e.session,t),i=o.map(a=>{let c=s.find(d=>d.sighash===a),l=e.sigmap.get(a);ce.exists(c,"share not found for sighash: "+a),ce.exists(l,"context not found for sighash: "+a);let u=WS(l,c);return[a,u]});return{idx:t.idx,psigs:i,pubkey:r,sid:n}}function Fx(e,t){let{idx:n,psigs:r,pubkey:o,sid:s}=t;if(s!==e.session.sid)return"session id mismatch";if(!e.pubkeys.includes(o))return"pubkey not found in group";for(let[i,a]of e.sigmap.entries()){let c=r.find(u=>u[0]===i);if(c===void 0)return"partial signature entry not found for sighash: "+i;let l=a.pnonces.find(u=>u.idx===n);if(l===void 0)return"commit package not found for psig idx: "+n;if(!mx(a,l,o,c[1]))return"partial signature invalid"}return null}function ZS(e){return e.map(({idx:t,psigs:n,pubkey:r,sid:o})=>n.map(([s,i])=>({sighash:s,idx:t,pubkey:r,psig:i,sid:o}))).flat()}function Kx(e,t){let n=e.session.members.length,r=ZS(t),o=[];for(let[s,i]of e.sigmap.entries()){let a=r.filter(u=>u.sighash===s);ce.ok(a.length===n,"missing partial signatures for sighash: "+s);let c=i.group_pk,l=px(i,a);o.push([s,c,l])}return o}function WS(e,t){let{idx:n,binder_sn:r,hidden_sn:o,seckey:s}=t;return hx(e,{idx:n,seckey:s},{idx:n,binder_sn:r,hidden_sn:o}).psig}async function Gx(e,t){let n=e.config.middleware.sign;try{e.emit("/sign/handler/req",Ve(t)),typeof n=="function"&&(t=n(e,t));let r=e.signer.sign_session(t.data),o=_n({data:JSON.stringify(r),id:t.id,tag:"/sign/res"}),s=await e.client.publish(o,t.env.pubkey);if(!s.ok)throw new Error("failed to publish response");e.emit("/sign/handler/res",Ve(s.data))}catch(r){e.debug&&console.log(r),e.emit("/sign/handler/rej",[rn(r),Ve(t)])}}function Qx(e){return async t=>{let n=Ux(t);return e.queue.push(n)}}function Yx(e){return async(t,n={})=>{var f;let r=typeof t=="string"?[[t]]:t,o=ju(e.peers),s=(f=n.peers)!=null?f:n.peers=o,i=e.group.threshold,a=Mu(s,i),c=Uu(e.group,[e.pubkey,...a]),l=Vx(c,r,n);ce.ok(l!==null,"invalid session template");let u=qx(e.group,l),d=null;try{d=await FS(e,a,u),e.emit("/sign/sender/res",Ve(d))}catch(m){e.debug&&console.log(m);let w=rn(m);return e.emit("/sign/sender/rej",[w,u]),{ok:!1,err:w}}try{ce.ok(d!==null,"no responses from peers");let m=KS(e,d,u);return e.emit("/sign/sender/ret",[u.sid,m]),{ok:!0,data:m}}catch(m){e.debug&&console.log(m);let w=rn(m);return e.emit("/sign/sender/err",[w,d!=null?d:[]]),{ok:!1,err:w}}}}async function FS(e,t,n){let r=await e.client.multicast({data:JSON.stringify(n),tag:"/sign/req"},t);if(!r.sub.ok)throw new Error(r.sub.reason);return r.sub.inbox}function KS(e,t,n){let r=Du(e.group,n),o=[e.signer.sign_session(n)];return t.forEach(s=>{let i=Bx(s),a=Fx(r,i.data);ce.ok(a===null,a+" : "+s.env.pubkey),o.push(i.data)}),Kx(r,o)}var Hu=class{constructor(){this.eventMap=new Map}_get_event_handlers(t){let n=this.eventMap.get(t);if(!n){let r=new Set;return this.eventMap.set(t,r),r}return n}has(t){let n=this.eventMap.get(t);return n!==void 0&&n.size>0}on(t,n){this._get_event_handlers(t).add(n)}once(t,n){let r=o=>{this.off(t,r),$u(n,o)};this.on(t,r)}within(t,n,r){let o=s=>{$u(n,s)};setTimeout(()=>{this.off(t,o)},r),this.on(t,o)}emit(t,n){let r=[];this._get_event_handlers(t).forEach(o=>{let s=$u(o,n);s instanceof Promise&&r.push(s)}),this._get_event_handlers("*").forEach(o=>{let s=$u(o,[t,n]);s instanceof Promise&&r.push(s)}),Promise.allSettled(r)}off(t,n){this._get_event_handlers(t).delete(n)}clear(t){this.eventMap.delete(t)}};function $u(e,t){return Array.isArray(t)&&t.length>0?e.apply(null,t):e(t)}var QS=()=>({}),sc=class{constructor(t,n,r){this._config=k(k({},QS()),r),this._group=Cx(t),this._share=Sx(n),this._pubkey=Hn(this._share.seckey,"bip340")}get config(){return this._config}get group(){return this._group}get pubkey(){return this._pubkey}gen_ecdh_share(t,n){return gx(t,n,this._share)}sign_message(t,n){let r=Go.sign(t,this._share.seckey,n);return new P(r).hex}sign_session(t){let n=Du(this._group,t);return Wx(n,this._share)}unwrap(t,n){let r=this._share.seckey,o=Yo(r,n);return vu(o,t)}wrap(t,n){let r=this._share.seckey,o=Yo(r,n);return wu(o,t)}};var Vu=class{constructor(t){this._node=t,this._ival=t.config.sign_interval,this._queue=[],this._timer=null}get node(){return this._node}get timer(){return this._timer}async push(t){return new Promise((n,r)=>{this._queue.push({sigvec:t,resolve:n,reject:r}),this.schedule()})}async process(){let t=[...this._queue];if(this._queue=[],this._timer=null,t.length!==0){this.node.emit("info","batch signing event ids: "+String(t.map(n=>n.sigvec[0])));try{let n=t.map(o=>o.sigvec),r=await this.node.req.sign(n);if(!r.ok){t.forEach(o=>o.reject(r.err));return}t.forEach(o=>{let s=r.data.find(i=>i[0]===o.sigvec[0]);s!==void 0?o.resolve(s):o.reject("signature missing from response")})}catch(n){t.forEach(r=>r.reject(n.message))}}}schedule(){this.timer===null&&(this._timer=setTimeout(()=>this.process(),this._ival))}};var gr=class{constructor(){this.eventMap=new Map}getEventHandlers(t){let n=this.eventMap.get(t);if(!n){let r=new Set;return this.eventMap.set(t,r),r}return n}has(t){let n=this.eventMap.get(t);return n!==void 0&&n.size>0}on(t,n){this.getEventHandlers(t).add(n)}once(t,n){let r=o=>{this.off(t,r),n(o)};this.on(t,r)}within(t,n,r){let o=s=>{n(s)};setTimeout(()=>{this.off(t,o)},r),this.on(t,o)}emit(t,n){let r=[];this.getEventHandlers(t).forEach(o=>{let s=o(n);s instanceof Promise&&r.push(s)}),this.getEventHandlers("*").forEach(o=>{let s=o(t,n);s instanceof Promise&&r.push(s)}),Promise.allSettled(r)}off(t,n){this.getEventHandlers(t).delete(n)}clear(t){this.eventMap.delete(t)}};function Jx(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Am(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(t,", not of length=").concat(e.length))}function e2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jx(e.outputLen),Jx(e.blockLen)}function _i(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function t2(e,t){Am(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var qu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var n2=e=>e instanceof Uint8Array;var Zu=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Cn=(e,t)=>e<<32-t|e>>>t,YS=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!YS)throw new Error("Non little-endian hardware is not supported");function XS(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function ic(e){if(typeof e=="string"&&(e=XS(e)),!n2(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function r2(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!n2(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}var Ei=class{clone(){return this._cloneInto()}},N7={}.toString;function o2(e){let t=r=>e().update(ic(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Wu(e=32){if(qu&&typeof qu.getRandomValues=="function")return qu.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function JS(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var Fu=class extends Ei{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Zu(this.buffer)}update(t){_i(this);let{view:n,buffer:r,blockLen:o}=this;t=ic(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Zu(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){_i(this),t2(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;JS(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=Zu(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};var e8=(e,t,n)=>e&t^~e&n,t8=(e,t,n)=>e&t^e&n^t&n,n8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ho=new Uint32Array(64),Im=class extends Fu{constructor(){super(64,32,8,!1),this.A=fo[0]|0,this.B=fo[1]|0,this.C=fo[2]|0,this.D=fo[3]|0,this.E=fo[4]|0,this.F=fo[5]|0,this.G=fo[6]|0,this.H=fo[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)ho[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){let f=ho[d-15],m=ho[d-2],w=Cn(f,7)^Cn(f,18)^f>>>3,g=Cn(m,17)^Cn(m,19)^m>>>10;ho[d]=g+ho[d-7]+w+ho[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=Cn(a,6)^Cn(a,11)^Cn(a,25),m=u+f+e8(a,c,l)+n8[d]+ho[d]|0,g=(Cn(r,2)^Cn(r,13)^Cn(r,22))+t8(r,o,s)|0;u=l,l=c,c=a,a=i+m|0,i=s,s=o,o=r,r=m+g|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){ho.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Ku=o2(()=>new Im);var Mm={};Tr(Mm,{bitGet:()=>l8,bitLen:()=>c8,bitMask:()=>ac,bitSet:()=>u8,bytesToHex:()=>gs,bytesToNumberBE:()=>nt,bytesToNumberLE:()=>Yu,concatBytes:()=>yr,createHmacDrbg:()=>Rm,ensureBytes:()=>qe,equalBytes:()=>i8,hexToBytes:()=>ys,hexToNumber:()=>Lm,numberToBytesBE:()=>Sn,numberToBytesLE:()=>Xu,numberToHexUnpadded:()=>a2,numberToVarBytesBE:()=>s8,utf8ToBytes:()=>a8,validateObject:()=>po});var i2=BigInt(0),Gu=BigInt(1),r8=BigInt(2),Qu=e=>e instanceof Uint8Array,o8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gs(e){if(!Qu(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=o8[e[n]];return t}function a2(e){let t=e.toString(16);return t.length&1?"0".concat(t):t}function Lm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":"0x".concat(e))}function ys(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){let o=r*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function nt(e){return Lm(gs(e))}function Yu(e){if(!Qu(e))throw new Error("Uint8Array expected");return Lm(gs(Uint8Array.from(e).reverse()))}function Sn(e,t){return ys(e.toString(16).padStart(t*2,"0"))}function Xu(e,t){return Sn(e,t).reverse()}function s8(e){return ys(a2(e))}function qe(e,t,n){let r;if(typeof t=="string")try{r=ys(t)}catch(s){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(s))}else if(Qu(t))r=Uint8Array.from(t);else throw new Error("".concat(e," must be hex string or Uint8Array"));let o=r.length;if(typeof n=="number"&&o!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(o));return r}function yr(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!Qu(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function i8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function a8(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function c8(e){let t;for(t=0;e>i2;e>>=Gu,t+=1);return t}function l8(e,t){return e>>BigInt(t)&Gu}var u8=(e,t,n)=>e|(n?Gu:i2)<<BigInt(t),ac=e=>(r8<<BigInt(e-1))-Gu,Om=e=>new Uint8Array(e),s2=e=>Uint8Array.from(e);function Rm(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Om(e),o=Om(e),s=0,i=()=>{r.fill(1),o.fill(0),s=0},a=(...d)=>n(o,r,...d),c=(d=Om())=>{o=a(s2([0]),d),r=a(),d.length!==0&&(o=a(s2([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<t;){r=a();let m=r.slice();f.push(m),d+=r.length}return yr(...f)};return(d,f)=>{i(),c(d);let m;for(;!(m=f(l()));)c();return i(),m}}var d8={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function po(e,t,n={}){let r=(o,s,i)=>{let a=d8[s];if(typeof a!="function")throw new Error('Invalid validator "'.concat(s,'", expected function'));let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("Invalid param ".concat(String(o),"=").concat(c," (").concat(typeof c,"), expected ").concat(s))};for(let[o,s]of Object.entries(t))r(o,s,!1);for(let[o,s]of Object.entries(n))r(o,s,!0);return e}var We=BigInt(0),Te=BigInt(1),ws=BigInt(2),f8=BigInt(3),Um=BigInt(4),c2=BigInt(5),l2=BigInt(8),h8=BigInt(9),p8=BigInt(16);function Ze(e,t){let n=e%t;return n>=We?n:t+n}function m8(e,t,n){if(n<=We||t<We)throw new Error("Expected power/modulo > 0");if(n===Te)return We;let r=Te;for(;t>We;)t&Te&&(r=r*e%n),e=e*e%n,t>>=Te;return r}function Vt(e,t,n){let r=e;for(;t-- >We;)r*=r,r%=n;return r}function Ju(e,t){if(e===We||t<=We)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=Ze(e,t),r=t,o=We,s=Te,i=Te,a=We;for(;n!==We;){let l=r/n,u=r%n,d=o-i*l,f=s-a*l;r=n,n=u,o=i,s=a,i=d,a=f}if(r!==Te)throw new Error("invert: does not exist");return Ze(o,t)}function g8(e){let t=(e-Te)/ws,n,r,o;for(n=e-Te,r=0;n%ws===We;n/=ws,r++);for(o=ws;o<e&&m8(o,t,e)!==e-Te;o++);if(r===1){let i=(e+Te)/Um;return function(c,l){let u=c.pow(l,i);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let s=(n+Te)/ws;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,o),n),d=a.pow(c,s),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(f);m<l&&!a.eql(g,a.ONE);m++)g=a.sqr(g);let w=a.pow(u,Te<<BigInt(l-m-1));u=a.sqr(w),d=a.mul(d,w),f=a.mul(f,u),l=m}return d}}function y8(e){if(e%Um===f8){let t=(e+Te)/Um;return function(r,o){let s=r.pow(o,t);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%l2===c2){let t=(e-c2)/l2;return function(r,o){let s=r.mul(o,ws),i=r.pow(s,t),a=r.mul(o,i),c=r.mul(r.mul(a,ws),i),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),o))throw new Error("Cannot find square root");return l}}return e%p8,g8(e)}var w8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zm(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=w8.reduce((r,o)=>(r[o]="function",r),t);return po(e,n)}function v8(e,t,n){if(n<We)throw new Error("Expected power > 0");if(n===We)return e.ONE;if(n===Te)return t;let r=e.ONE,o=t;for(;n>We;)n&Te&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Te;return r}function x8(e,t){let n=new Array(t.length),r=t.reduce((s,i,a)=>e.is0(i)?s:(n[a]=s,e.mul(s,i)),e.ONE),o=e.inv(r);return t.reduceRight((s,i,a)=>e.is0(i)?s:(n[a]=e.mul(s,n[a]),e.mul(s,i)),o),n}function jm(e,t){let n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function u2(e,t,n=!1,r={}){if(e<=We)throw new Error("Expected Field ORDER > 0, got ".concat(e));let{nBitLength:o,nByteLength:s}=jm(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let i=y8(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:s,MASK:ac(o),ZERO:We,ONE:Te,create:c=>Ze(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("Invalid field element: expected bigint, got ".concat(typeof c));return We<=c&&c<e},is0:c=>c===We,isOdd:c=>(c&Te)===Te,neg:c=>Ze(-c,e),eql:(c,l)=>c===l,sqr:c=>Ze(c*c,e),add:(c,l)=>Ze(c+l,e),sub:(c,l)=>Ze(c-l,e),mul:(c,l)=>Ze(c*l,e),pow:(c,l)=>v8(a,c,l),div:(c,l)=>Ze(c*Ju(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Ju(c,e),sqrt:r.sqrt||(c=>i(a,c)),invertBatch:c=>x8(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Xu(c,s):Sn(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(c.length));return n?Yu(c):nt(c)}});return Object.freeze(a)}function d2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Dm(e){let t=d2(e);return t+Math.ceil(t/2)}function f2(e,t,n=!1){let r=e.length,o=d2(t),s=Dm(t);if(r<16||r<s||r>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(r));let i=n?nt(e):Yu(e),a=Ze(i,t-Te)+Te;return n?Xu(a,o):Sn(a,o)}var b8=BigInt(0),$m=BigInt(1);function h2(e,t){let n=(o,s)=>{let i=s.negate();return o?i:s},r=o=>{let s=Math.ceil(t/o)+1,i=2**(o-1);return{windows:s,windowSize:i}};return{constTimeNegate:n,unsafeLadder(o,s){let i=e.ZERO,a=o;for(;s>b8;)s&$m&&(i=i.add(a)),a=a.double(),s>>=$m;return i},precomputeWindow(o,s){let{windows:i,windowSize:a}=r(s),c=[],l=o,u=l;for(let d=0;d<i;d++){u=l,c.push(u);for(let f=1;f<a;f++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(o,s,i){let{windows:a,windowSize:c}=r(o),l=e.ZERO,u=e.BASE,d=BigInt(2**o-1),f=2**o,m=BigInt(o);for(let w=0;w<a;w++){let g=w*c,y=Number(i&d);i>>=m,y>c&&(y-=f,i+=$m);let h=g,p=g+Math.abs(y)-1,v=w%2!==0,x=y<0;y===0?u=u.add(n(v,s[h])):l=l.add(n(x,s[p]))}return{p:l,f:u}},wNAFCached(o,s,i,a){let c=o._WINDOW_SIZE||1,l=s.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&s.set(o,a(l))),this.wNAF(c,l,i)}}}function Hm(e){return zm(e.Fp),po(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(L(k(k({},jm(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function _8(e){let t=Hm(e);po(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(k({},t))}var{bytesToNumberBE:E8,hexToBytes:B8}=Mm,vs={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=vs;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:E8(r),l:e.subarray(n+2)}},toSig(e){let{Err:t}=vs,n=typeof e=="string"?B8(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");let{d:o,l:s}=vs._parseInt(n.subarray(2)),{d:i,l:a}=vs._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:i}},hexFromSig(e){let t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{let u=l.toString(16);return u.length&1?"0".concat(u):u},r=t(n(e.s)),o=t(n(e.r)),s=r.length/2,i=o.length/2,a=n(s),c=n(i);return"30".concat(n(i+s+4),"02").concat(c).concat(o,"02").concat(a).concat(r)}},wr=BigInt(0),on=BigInt(1),W7=BigInt(2),p2=BigInt(3),F7=BigInt(4);function C8(e){let t=_8(e),{Fp:n}=t,r=t.toBytes||((w,g,y)=>{let h=g.toAffine();return yr(Uint8Array.from([4]),n.toBytes(h.x),n.toBytes(h.y))}),o=t.fromBytes||(w=>{let g=w.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),h=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:h}});function s(w){let{a:g,b:y}=t,h=n.sqr(w),p=n.mul(h,w);return n.add(n.add(p,n.mul(w,g)),y)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function i(w){return typeof w=="bigint"&&wr<w&&w<t.n}function a(w){if(!i(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){let{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:h,n:p}=t;if(g&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=gs(w)),typeof w!="string"||!g.includes(w.length))throw new Error("Invalid key");w=w.padStart(y*2,"0")}let v;try{v=typeof w=="bigint"?w:nt(qe("private key",w,y))}catch(x){throw new Error("private key must be ".concat(y," bytes, hex or bigint, not ").concat(typeof w))}return h&&(v=Ze(v,p)),a(v),v}let l=new Map;function u(w){if(!(w instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(g,y,h){if(this.px=g,this.py=y,this.pz=h,g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(h==null||!n.isValid(h))throw new Error("z required")}static fromAffine(g){let{x:y,y:h}=g||{};if(!g||!n.isValid(y)||!n.isValid(h))throw new Error("invalid affine point");if(g instanceof d)throw new Error("projective point not allowed");let p=v=>n.eql(v,n.ZERO);return p(y)&&p(h)?d.ZERO:new d(y,h,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){let y=n.invertBatch(g.map(h=>h.pz));return g.map((h,p)=>h.toAffine(y[p])).map(d.fromAffine)}static fromHex(g){let y=d.fromAffine(o(qe("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return d.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:g,y}=this.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");let h=n.sqr(y),p=s(g);if(!n.eql(h,p))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);let{px:y,py:h,pz:p}=this,{px:v,py:x,pz:E}=g,b=n.eql(n.mul(y,E),n.mul(v,p)),_=n.eql(n.mul(h,E),n.mul(x,p));return b&&_}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){let{a:g,b:y}=t,h=n.mul(y,p2),{px:p,py:v,pz:x}=this,E=n.ZERO,b=n.ZERO,_=n.ZERO,C=n.mul(p,p),T=n.mul(v,v),N=n.mul(x,x),U=n.mul(p,v);return U=n.add(U,U),_=n.mul(p,x),_=n.add(_,_),E=n.mul(g,_),b=n.mul(h,N),b=n.add(E,b),E=n.sub(T,b),b=n.add(T,b),b=n.mul(E,b),E=n.mul(U,E),_=n.mul(h,_),N=n.mul(g,N),U=n.sub(C,N),U=n.mul(g,U),U=n.add(U,_),_=n.add(C,C),C=n.add(_,C),C=n.add(C,N),C=n.mul(C,U),b=n.add(b,C),N=n.mul(v,x),N=n.add(N,N),C=n.mul(N,U),E=n.sub(E,C),_=n.mul(N,T),_=n.add(_,_),_=n.add(_,_),new d(E,b,_)}add(g){u(g);let{px:y,py:h,pz:p}=this,{px:v,py:x,pz:E}=g,b=n.ZERO,_=n.ZERO,C=n.ZERO,T=t.a,N=n.mul(t.b,p2),U=n.mul(y,v),D=n.mul(h,x),F=n.mul(p,E),O=n.add(y,h),B=n.add(v,x);O=n.mul(O,B),B=n.add(U,D),O=n.sub(O,B),B=n.add(y,p);let S=n.add(v,E);return B=n.mul(B,S),S=n.add(U,F),B=n.sub(B,S),S=n.add(h,p),b=n.add(x,E),S=n.mul(S,b),b=n.add(D,F),S=n.sub(S,b),C=n.mul(T,B),b=n.mul(N,F),C=n.add(b,C),b=n.sub(D,C),C=n.add(D,C),_=n.mul(b,C),D=n.add(U,U),D=n.add(D,U),F=n.mul(T,F),B=n.mul(N,B),D=n.add(D,F),F=n.sub(U,F),F=n.mul(T,F),B=n.add(B,F),U=n.mul(D,B),_=n.add(_,U),U=n.mul(S,B),b=n.mul(O,b),b=n.sub(b,U),U=n.mul(O,D),C=n.mul(S,C),C=n.add(C,U),new d(b,_,C)}subtract(g){return this.add(g.negate())}is0(){return this.equals(d.ZERO)}wNAF(g){return m.wNAFCached(this,l,g,y=>{let h=n.invertBatch(y.map(p=>p.pz));return y.map((p,v)=>p.toAffine(h[v])).map(d.fromAffine)})}multiplyUnsafe(g){let y=d.ZERO;if(g===wr)return y;if(a(g),g===on)return this;let{endo:h}=t;if(!h)return m.unsafeLadder(this,g);let{k1neg:p,k1:v,k2neg:x,k2:E}=h.splitScalar(g),b=y,_=y,C=this;for(;v>wr||E>wr;)v&on&&(b=b.add(C)),E&on&&(_=_.add(C)),C=C.double(),v>>=on,E>>=on;return p&&(b=b.negate()),x&&(_=_.negate()),_=new d(n.mul(_.px,h.beta),_.py,_.pz),b.add(_)}multiply(g){a(g);let y=g,h,p,{endo:v}=t;if(v){let{k1neg:x,k1:E,k2neg:b,k2:_}=v.splitScalar(y),{p:C,f:T}=this.wNAF(E),{p:N,f:U}=this.wNAF(_);C=m.constTimeNegate(x,C),N=m.constTimeNegate(b,N),N=new d(n.mul(N.px,v.beta),N.py,N.pz),h=C.add(N),p=T.add(U)}else{let{p:x,f:E}=this.wNAF(y);h=x,p=E}return d.normalizeZ([h,p])[0]}multiplyAndAddUnsafe(g,y,h){let p=d.BASE,v=(E,b)=>b===wr||b===on||!E.equals(p)?E.multiplyUnsafe(b):E.multiply(b),x=v(this,y).add(v(g,h));return x.is0()?void 0:x}toAffine(g){let{px:y,py:h,pz:p}=this,v=this.is0();g==null&&(g=v?n.ONE:n.inv(p));let x=n.mul(y,g),E=n.mul(h,g),b=n.mul(p,g);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(b,n.ONE))throw new Error("invZ was invalid");return{x,y:E}}isTorsionFree(){let{h:g,isTorsionFree:y}=t;if(g===on)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:g,clearCofactor:y}=t;return g===on?this:y?y(d,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return this.assertValidity(),r(d,this,g)}toHex(g=!0){return gs(this.toRawBytes(g))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);let f=t.nBitLength,m=h2(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:i}}function S8(e){let t=Hm(e);return po(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(k({lowS:!0},t))}function m2(e){let t=S8(e),{Fp:n,n:r}=t,o=n.BYTES+1,s=2*n.BYTES+1;function i(B){return wr<B&&B<n.ORDER}function a(B){return Ze(B,r)}function c(B){return Ju(B,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=C8(L(k({},t),{toBytes(B,S,I){let z=S.toAffine(),A=n.toBytes(z.x),W=yr;return I?W(Uint8Array.from([S.hasEvenY()?2:3]),A):W(Uint8Array.from([4]),A,n.toBytes(z.y))},fromBytes(B){let S=B.length,I=B[0],z=B.subarray(1);if(S===o&&(I===2||I===3)){let A=nt(z);if(!i(A))throw new Error("Point is not on curve");let W=d(A),K=n.sqrt(W),Y=(K&on)===on;return(I&1)===1!==Y&&(K=n.neg(K)),{x:A,y:K}}else if(S===s&&I===4){let A=n.fromBytes(z.subarray(0,n.BYTES)),W=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:A,y:W}}else throw new Error("Point of length ".concat(S," was invalid. Expected ").concat(o," compressed bytes or ").concat(s," uncompressed bytes"))}})),m=B=>gs(Sn(B,t.nByteLength));function w(B){let S=r>>on;return B>S}function g(B){return w(B)?a(-B):B}let y=(B,S,I)=>nt(B.slice(S,I));class h{constructor(S,I,z){this.r=S,this.s=I,this.recovery=z,this.assertValidity()}static fromCompact(S){let I=t.nByteLength;return S=qe("compactSignature",S,I*2),new h(y(S,0,I),y(S,I,2*I))}static fromDER(S){let{r:I,s:z}=vs.toSig(qe("DER",S));return new h(I,z)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new h(this.r,this.s,S)}recoverPublicKey(S){let{r:I,s:z,recovery:A}=this,W=_(qe("msgHash",S));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");let K=A===2||A===3?I+t.n:I;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let Y=(A&1)===0?"02":"03",de=l.fromHex(Y+m(K)),fe=c(K),Le=a(-W*fe),Ae=a(z*fe),Ue=l.BASE.multiplyAndAddUnsafe(de,Le,Ae);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ys(this.toDERHex())}toDERHex(){return vs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ys(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}let p={isValidPrivateKey(B){try{return u(B),!0}catch(S){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let B=Dm(t.n);return f2(t.randomBytes(B),t.n)},precompute(B=8,S=l.BASE){return S._setWindowSize(B),S.multiply(BigInt(3)),S}};function v(B,S=!0){return l.fromPrivateKey(B).toRawBytes(S)}function x(B){let S=B instanceof Uint8Array,I=typeof B=="string",z=(S||I)&&B.length;return S?z===o||z===s:I?z===2*o||z===2*s:B instanceof l}function E(B,S,I=!0){if(x(B))throw new Error("first arg must be private key");if(!x(S))throw new Error("second arg must be public key");return l.fromHex(S).multiply(u(B)).toRawBytes(I)}let b=t.bits2int||function(B){let S=nt(B),I=B.length*8-t.nBitLength;return I>0?S>>BigInt(I):S},_=t.bits2int_modN||function(B){return a(b(B))},C=ac(t.nBitLength);function T(B){if(typeof B!="bigint")throw new Error("bigint expected");if(!(wr<=B&&B<C))throw new Error("bigint expected < 2^".concat(t.nBitLength));return Sn(B,t.nByteLength)}function N(B,S,I=U){if(["recovered","canonical"].some(Ie=>Ie in I))throw new Error("sign() legacy options not supported");let{hash:z,randomBytes:A}=t,{lowS:W,prehash:K,extraEntropy:Y}=I;W==null&&(W=!0),B=qe("msgHash",B),K&&(B=qe("prehashed msgHash",z(B)));let de=_(B),fe=u(S),Le=[T(fe),T(de)];if(Y!=null){let Ie=Y===!0?A(n.BYTES):Y;Le.push(qe("extraEntropy",Ie))}let Ae=yr(...Le),Ue=de;function Fe(Ie){let Nn=b(Ie);if(!f(Nn))return;let Pr=c(Nn),kt=l.BASE.multiply(Nn).toAffine(),Xe=a(kt.x);if(Xe===wr)return;let Zt=a(Pr*a(Ue+Xe*fe));if(Zt===wr)return;let Gn=(kt.x===Xe?0:2)|Number(kt.y&on),Z0=Zt;return W&&w(Zt)&&(Z0=g(Zt),Gn^=1),new h(Xe,Z0,Gn)}return{seed:Ae,k2sig:Fe}}let U={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function F(B,S,I=U){let{seed:z,k2sig:A}=N(B,S,I),W=t;return Rm(W.hash.outputLen,W.nByteLength,W.hmac)(z,A)}l.BASE._setWindowSize(8);function O(B,S,I,z=D){var kt;let A=B;if(S=qe("msgHash",S),I=qe("publicKey",I),"strict"in z)throw new Error("options.strict was renamed to lowS");let{lowS:W,prehash:K}=z,Y,de;try{if(typeof A=="string"||A instanceof Uint8Array)try{Y=h.fromDER(A)}catch(Xe){if(!(Xe instanceof vs.Err))throw Xe;Y=h.fromCompact(A)}else if(typeof A=="object"&&typeof A.r=="bigint"&&typeof A.s=="bigint"){let{r:Xe,s:Zt}=A;Y=new h(Xe,Zt)}else throw new Error("PARSE");de=l.fromHex(I)}catch(Xe){if(Xe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&Y.hasHighS())return!1;K&&(S=t.hash(S));let{r:fe,s:Le}=Y,Ae=_(S),Ue=c(Le),Fe=a(Ae*Ue),Ie=a(fe*Ue),Nn=(kt=l.BASE.multiplyAndAddUnsafe(de,Fe,Ie))==null?void 0:kt.toAffine();return Nn?a(Nn.x)===fe:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:E,sign:F,verify:O,ProjectivePoint:l,Signature:h,utils:p}}var ed=class extends Ei{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,e2(t);let r=ic(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return _i(this),this.iHash.update(t),this}digestInto(t){_i(this),Am(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Vm=(e,t,n)=>new ed(e,t).update(n).digest();Vm.create=(e,t)=>new ed(e,t);function P8(e){return{hash:e,hmac:(t,...n)=>Vm(e,t,r2(...n)),randomBytes:Wu}}function g2(e,t){let n=r=>m2(k(k({},e),P8(r)));return Object.freeze(L(k({},n(t)),{create:n}))}var od=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),td=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),v2=BigInt(1),nd=BigInt(2),y2=(e,t)=>(e+t/nd)/t;function x2(e){let t=od,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Vt(u,n,t)*u%t,f=Vt(d,n,t)*u%t,m=Vt(f,nd,t)*l%t,w=Vt(m,o,t)*m%t,g=Vt(w,s,t)*w%t,y=Vt(g,a,t)*g%t,h=Vt(y,c,t)*y%t,p=Vt(h,a,t)*g%t,v=Vt(p,n,t)*u%t,x=Vt(v,i,t)*w%t,E=Vt(x,r,t)*l%t,b=Vt(E,nd,t);if(!Zm.eql(Zm.sqr(b),e))throw new Error("Cannot find square root");return b}var Zm=u2(od,void 0,void 0,{sqrt:x2}),mo=g2({a:BigInt(0),b:BigInt(7),Fp:Zm,n:td,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=td,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-v2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),a=y2(s*e,t),c=y2(-r*e,t),l=Ze(e-a*n-c*o,t),u=Ze(-a*r-c*s,t),d=l>i,f=u>i;if(d&&(l=t-l),f&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Ku),sd=BigInt(0),k2=e=>typeof e=="bigint"&&sd<e&&e<od,T8=e=>typeof e=="bigint"&&sd<e&&e<td,w2={};function rd(e,...t){let n=w2[e];if(n===void 0){let r=Ku(Uint8Array.from(e,o=>o.charCodeAt(0)));n=yr(r,r),w2[e]=n}return Ku(yr(n,...t))}var Km=e=>e.toRawBytes(!0).slice(1),Wm=e=>Sn(e,32),qm=e=>Ze(e,od),cc=e=>Ze(e,td),Gm=mo.ProjectivePoint,N8=(e,t,n)=>Gm.BASE.multiplyAndAddUnsafe(e,t,n);function Fm(e){let t=mo.utils.normPrivateKeyToScalar(e),n=Gm.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:cc(-t),bytes:Km(n)}}function b2(e){if(!k2(e))throw new Error("bad x: need 0 < x < p");let t=qm(e*e),n=qm(t*e+BigInt(7)),r=x2(n);r%nd!==sd&&(r=qm(-r));let o=new Gm(e,r,v2);return o.assertValidity(),o}function _2(...e){return cc(nt(rd("BIP0340/challenge",...e)))}function A8(e){return Fm(e).bytes}function I8(e,t,n=Wu(32)){let r=qe("message",e),{bytes:o,scalar:s}=Fm(t),i=qe("auxRand",n,32),a=Wm(s^nt(rd("BIP0340/aux",i))),c=rd("BIP0340/nonce",a,o,r),l=cc(nt(c));if(l===sd)throw new Error("sign failed: k is zero");let{bytes:u,scalar:d}=Fm(l),f=_2(u,o,r),m=new Uint8Array(64);if(m.set(u,0),m.set(Wm(cc(d+f*s)),32),!E2(m,r,o))throw new Error("sign: Invalid signature produced");return m}function E2(e,t,n){let r=qe("signature",e,64),o=qe("message",t),s=qe("publicKey",n,32);try{let i=b2(nt(s)),a=nt(r.subarray(0,32));if(!k2(a))return!1;let c=nt(r.subarray(32,64));if(!T8(c))return!1;let l=_2(Wm(a),Km(i),o),u=N8(i,c,cc(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(i){return!1}}var Bi={getPublicKey:A8,sign:I8,verify:E2,utils:{randomPrivateKey:mo.utils.randomPrivateKey,lift_x:b2,pointToBytes:Km,numberToBytesBE:Sn,bytesToNumberBE:nt,taggedHash:rd,mod:Ze}};var id=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Qm=e=>e instanceof Uint8Array;var ad=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Pn=(e,t)=>e<<32-t|e>>>t,O8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!O8)throw new Error("Non little-endian hardware is not supported");var L8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Me(e){if(!Qm(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=L8[e[n]];return t}function xs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){let o=r*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function R8(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function go(e){if(typeof e=="string"&&(e=R8(e)),!Qm(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function Si(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!Qm(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}var Ci=class{clone(){return this._cloneInto()}};function Ym(e){let t=r=>e().update(go(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function cd(e=32){if(id&&typeof id.getRandomValues=="function")return id.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Xm(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function M8(e){if(typeof e!="boolean")throw new Error("Expected boolean, not ".concat(e))}function B2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(t,", not of length=").concat(e.length))}function U8(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xm(e.outputLen),Xm(e.blockLen)}function z8(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function j8(e,t){B2(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var D8={number:Xm,bool:M8,bytes:B2,hash:U8,exists:z8,output:j8},qt=D8;function $8(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var ld=class extends Ci{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ad(this.buffer)}update(t){qt.exists(this);let{view:n,buffer:r,blockLen:o}=this;t=go(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=ad(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){qt.exists(this),qt.output(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;$8(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=ad(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};var H8=(e,t,n)=>e&t^~e&n,V8=(e,t,n)=>e&t^e&n^t&n,q8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wo=new Uint32Array(64),ud=class extends ld{constructor(){super(64,32,8,!1),this.A=yo[0]|0,this.B=yo[1]|0,this.C=yo[2]|0,this.D=yo[3]|0,this.E=yo[4]|0,this.F=yo[5]|0,this.G=yo[6]|0,this.H=yo[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)wo[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){let f=wo[d-15],m=wo[d-2],w=Pn(f,7)^Pn(f,18)^f>>>3,g=Pn(m,17)^Pn(m,19)^m>>>10;wo[d]=g+wo[d-7]+w+wo[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=Pn(a,6)^Pn(a,11)^Pn(a,25),m=u+f+H8(a,c,l)+q8[d]+wo[d]|0,g=(Pn(r,2)^Pn(r,13)^Pn(r,22))+V8(r,o,s)|0;u=l,l=c,c=a,a=i+m|0,i=s,s=o,o=r,r=m+g|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){wo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Jm=class extends ud{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Vn=Ym(()=>new ud),v9=Ym(()=>new Jm);function Pi(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function vr(...e){let t=(o,s)=>i=>o(s(i)),n=Array.from(e).reverse().reduce((o,s)=>o?t(o,s.encode):s.encode,void 0),r=e.reduce((o,s)=>o?t(o,s.decode):s.decode,void 0);return{encode:n,decode:r}}function xr(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Pi(n),n<0||n>=e.length)throw new Error("Digit index outside alphabet: ".concat(n," (alphabet: ").concat(e.length,")"));return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error("alphabet.decode: not string element=".concat(n));let r=e.indexOf(n);if(r===-1)throw new Error('Unknown letter: "'.concat(n,'". Allowed: ').concat(e));return r})}}}function kr(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error("join.encode: non-string input=".concat(n));return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function fd(e,t="="){if(Pi(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error("padding.encode: non-string input=".concat(r));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error("padding.decode: non-string input=".concat(o));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function A2(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function C2(e,t,n){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: wrong to=".concat(n,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0,o=[],s=Array.from(e);for(s.forEach(i=>{if(Pi(i),i<0||i>=t)throw new Error("Wrong integer: ".concat(i))});;){let i=0,a=!0;for(let c=r;c<s.length;c++){let l=s[c],u=t*i+l;if(!Number.isSafeInteger(u)||t*i/t!==i||u-l!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,s[c]=Math.floor(u/n),!Number.isSafeInteger(s[c])||s[c]*n+i!==u)throw new Error("convertRadix: carry overflow");if(a)s[c]?a=!1:r=c;else continue}if(o.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)o.push(0);return o.reverse()}var I2=(e,t)=>t?I2(t,e%t):e,dd=(e,t)=>e+(t-I2(e,t));function e0(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(dd(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(dd(t,n)));let o=0,s=0,i=2**n-1,a=[];for(let c of e){if(Pi(c),c>=2**t)throw new Error("convertRadix2: invalid data word=".concat(c," from=").concat(t));if(o=o<<t|c,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)a.push((o>>s-n&i)>>>0);o&=2**s-1}if(o=o<<n-s&i,!r&&s>=t)throw new Error("Excess padding");if(!r&&o)throw new Error("Non-zero padding: ".concat(o));return r&&s>0&&a.push(o>>>0),a}function Z8(e){return Pi(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return C2(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(C2(t,e,2**8))}}}function vo(e,t=!1){if(Pi(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(dd(8,e)>32||dd(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return e0(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(e0(n,e,8,t))}}}function S2(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(n){}}}var W8=vr(vo(4),xr("0123456789ABCDEF"),kr("")),F8=vr(vo(5),xr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),fd(5),kr("")),k9=vr(vo(5),xr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),fd(5),kr("")),b9=vr(vo(5),xr("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),kr(""),A2(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),sn=vr(vo(6),xr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),fd(6),kr("")),K8=vr(vo(6),xr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),fd(6),kr("")),r0=e=>vr(Z8(58),xr(e),kr("")),t0=r0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),_9=r0("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),E9=r0("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),P2=[0,2,3,5,6,7,9,10,11],G8={encode(e){let t="";for(let n=0;n<e.length;n+=8){let r=e.subarray(n,n+8);t+=t0.encode(r).padStart(P2[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){let r=e.slice(n,n+11),o=P2.indexOf(r.length),s=t0.decode(r);for(let i=0;i<s.length-o;i++)if(s[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(t)}};var n0=vr(xr("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),kr("")),T2=[996825010,642813549,513874426,1027748829,705979059];function lc(e){let t=e>>25,n=(e&33554431)<<5;for(let r=0;r<T2.length;r++)(t>>r&1)===1&&(n^=T2[r]);return n}function N2(e,t,n=1){let r=e.length,o=1;for(let s=0;s<r;s++){let i=e.charCodeAt(s);if(i<33||i>126)throw new Error("Invalid prefix (".concat(e,")"));o=lc(o)^i>>5}o=lc(o);for(let s=0;s<r;s++)o=lc(o)^e.charCodeAt(s)&31;for(let s of t)o=lc(o)^s;for(let s=0;s<6;s++)o=lc(o);return o^=n,n0.encode(e0([o%2**30],30,5,!1))}function O2(e){let t=e==="bech32"?1:734539939,n=vo(5),r=n.decode,o=n.encode,s=S2(r);function i(u,d,f=90){if(typeof u!="string")throw new Error("bech32.encode prefix should be string, not ".concat(typeof u));if(!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error("bech32.encode words should be array of numbers, not ".concat(typeof d));let m=u.length+7+d.length;if(f!==!1&&m>f)throw new TypeError("Length ".concat(m," exceeds limit ").concat(f));return u=u.toLowerCase(),"".concat(u,"1").concat(n0.encode(d)).concat(N2(u,d,t))}function a(u,d=90){if(typeof u!="string")throw new Error("bech32.decode input should be string, not ".concat(typeof u));if(u.length<8||d!==!1&&u.length>d)throw new TypeError("Wrong string length: ".concat(u.length," (").concat(u,"). Expected (8..").concat(d,")"));let f=u.toLowerCase();if(u!==f&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=f;let m=u.lastIndexOf("1");if(m===0||m===-1)throw new Error('Letter "1" must be present between prefix and data only');let w=u.slice(0,m),g=u.slice(m+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");let y=n0.decode(g).slice(0,-6),h=N2(w,y,t);if(!g.endsWith(h))throw new Error("Invalid checksum in ".concat(u,': expected "').concat(h,'"'));return{prefix:w,words:y}}let c=S2(a);function l(u){let{prefix:d,words:f}=a(u,!1);return{prefix:d,words:f,bytes:r(f)}}return{encode:i,decode:a,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:s,toWords:o}}var xo=O2("bech32"),B9=O2("bech32m"),Q8={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},Y8=vr(vo(4),xr("0123456789abcdef"),kr(""),A2(e=>{if(typeof e!="string"||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()})),X8={utf8:Q8,hex:Y8,base16:W8,base32:F8,base64:sn,base64url:K8,base58:t0,base58xmr:G8},C9="Invalid encoding type. Available types: ".concat(Object.keys(X8).join(", "));function hd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, not ".concat(e))}function o0(e){if(typeof e!="boolean")throw new Error("boolean expected, not ".concat(e))}function s0(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function re(e,...t){if(!s0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length ".concat(t,", not of length=").concat(e.length))}function ko(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function uc(e,t){re(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var pd=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);var oe=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),bo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),J8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!J8)throw new Error("Non little-endian hardware is not supported");function e6(e){if(typeof e!="string")throw new Error("string expected, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function qn(e){if(typeof e=="string")e=e6(e);else if(s0(e))e=e.slice();else throw new Error("Uint8Array expected, got ".concat(typeof e));return e}function L2(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function ks(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}var Zn=(e,t)=>(Object.assign(t,e),t);function bs(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var br=16,a0=new Uint8Array(16),Wn=oe(a0),t6=225,n6=(e,t,n,r)=>{let o=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^t6<<24&-(o&1)}},an=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function r6(e){e.reverse();let t=e[15]&1,n=0;for(let r=0;r<e.length;r++){let o=e[r];e[r]=o>>>1|n,n=(o&1)<<7}return e[0]^=-t&225,e}var o6=e=>e>64*1024?8:e>1024?4:2,md=class{constructor(t,n){this.blockLen=br,this.outputLen=br,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=qn(t),re(t,16);let r=bo(t),o=r.getUint32(0,!1),s=r.getUint32(4,!1),i=r.getUint32(8,!1),a=r.getUint32(12,!1),c=[];for(let w=0;w<128;w++)c.push({s0:an(o),s1:an(s),s2:an(i),s3:an(a)}),{s0:o,s1:s,s2:i,s3:a}=n6(o,s,i,a);let l=o6(n||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: wrong window size=".concat(l,", should be 2, 4 or 8"));this.W=l;let d=128/l,f=this.windowSize=2**l,m=[];for(let w=0;w<d;w++)for(let g=0;g<f;g++){let y=0,h=0,p=0,v=0;for(let x=0;x<l;x++){if(!(g>>>l-x-1&1))continue;let{s0:b,s1:_,s2:C,s3:T}=c[l*w+x];y^=b,h^=_,p^=C,v^=T}m.push({s0:y,s1:h,s2:p,s3:v})}this.t=m}_updateBlock(t,n,r,o){t^=this.s0,n^=this.s1,r^=this.s2,o^=this.s3;let{W:s,t:i,windowSize:a}=this,c=0,l=0,u=0,d=0,f=(1<<s)-1,m=0;for(let w of[t,n,r,o])for(let g=0;g<4;g++){let y=w>>>8*g&255;for(let h=8/s-1;h>=0;h--){let p=y>>>s*h&f,{s0:v,s1:x,s2:E,s3:b}=i[m*a+p];c^=v,l^=x,u^=E,d^=b,m+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=d}update(t){t=qn(t),ko(this);let n=oe(t),r=Math.floor(t.length/br),o=t.length%br;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return o&&(a0.set(t.subarray(r*br)),this._updateBlock(Wn[0],Wn[1],Wn[2],Wn[3]),Wn.fill(0)),this}destroy(){let{t}=this;for(let n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){ko(this),uc(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=oe(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t}digest(){let t=new Uint8Array(br);return this.digestInto(t),this.destroy(),t}},i0=class extends md{constructor(t,n){t=qn(t);let r=r6(t.slice());super(r,n),r.fill(0)}update(t){t=qn(t),ko(this);let n=oe(t),r=t.length%br,o=Math.floor(t.length/br);for(let s=0;s<o;s++)this._updateBlock(an(n[s*4+3]),an(n[s*4+2]),an(n[s*4+1]),an(n[s*4+0]));return r&&(a0.set(t.subarray(o*br)),this._updateBlock(an(Wn[3]),an(Wn[2]),an(Wn[1]),an(Wn[0])),Wn.fill(0)),this}digestInto(t){ko(this),uc(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=oe(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t.reverse()}};function R2(e){let t=(r,o)=>e(o,r.length).update(qn(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,o)=>e(r,o),t}var c0=R2((e,t)=>new md(e,t)),M2=R2((e,t)=>new i0(e,t));var xt=16,d0=4,gd=new Uint8Array(xt),s6=283;function f0(e){return e<<1^s6&-(e>>7)}function Ti(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=f0(e);return n}var u0=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=f0(r))e[n]=r;let t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),i6=u0.map((e,t)=>u0.indexOf(t)),a6=e=>e<<24|e>>>8,l0=e=>e<<8|e>>>24;function U2(e,t){if(e.length!==256)throw new Error("Wrong sbox length");let n=new Uint32Array(256).map((l,u)=>t(e[u])),r=n.map(l0),o=r.map(l0),s=o.map(l0),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let d=l*256+u;i[d]=n[l]^r[u],a[d]=o[l]^s[u],c[d]=e[l]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:o,T3:s,T01:i,T23:a}}var h0=U2(u0,e=>Ti(e,3)<<24|e<<16|e<<8|Ti(e,2)),z2=U2(i6,e=>Ti(e,11)<<24|Ti(e,13)<<16|Ti(e,9)<<8|Ti(e,14)),c6=(()=>{let e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=f0(n))e[t]=n;return e})();function Eo(e){re(e);let t=e.length;if(![16,24,32].includes(t))throw new Error("aes: wrong key size: should be 16, 24 or 32, got: ".concat(t));let{sbox2:n}=h0,r=oe(e),o=r.length,s=a=>Fn(n,a,a,a,a),i=new Uint32Array(t+28);i.set(r);for(let a=o;a<i.length;a++){let c=i[a-1];a%o===0?c=s(a6(c))^c6[a/o-1]:o>6&&a%o===4&&(c=s(c)),i[a]=i[a-o]^c}return i}function j2(e){let t=Eo(e),n=t.slice(),r=t.length,{sbox2:o}=h0,{T0:s,T1:i,T2:a,T3:c}=z2;for(let l=0;l<r;l+=4)for(let u=0;u<4;u++)n[l+u]=t[r-l-4+u];t.fill(0);for(let l=4;l<r-4;l++){let u=n[l],d=Fn(o,u,u,u,u);n[l]=s[d&255]^i[d>>>8&255]^a[d>>>16&255]^c[d>>>24]}return n}function _o(e,t,n,r,o,s){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|s>>>24&255]}function Fn(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function cn(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=h0,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let w=0;w<l;w++){let g=e[c++]^_o(i,a,t,n,r,o),y=e[c++]^_o(i,a,n,r,o,t),h=e[c++]^_o(i,a,r,o,t,n),p=e[c++]^_o(i,a,o,t,n,r);t=g,n=y,r=h,o=p}let u=e[c++]^Fn(s,t,n,r,o),d=e[c++]^Fn(s,n,r,o,t),f=e[c++]^Fn(s,r,o,t,n),m=e[c++]^Fn(s,o,t,n,r);return{s0:u,s1:d,s2:f,s3:m}}function D2(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=z2,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let w=0;w<l;w++){let g=e[c++]^_o(i,a,t,o,r,n),y=e[c++]^_o(i,a,n,t,o,r),h=e[c++]^_o(i,a,r,n,t,o),p=e[c++]^_o(i,a,o,r,n,t);t=g,n=y,r=h,o=p}let u=e[c++]^Fn(s,t,o,r,n),d=e[c++]^Fn(s,n,t,o,r),f=e[c++]^Fn(s,r,n,t,o),m=e[c++]^Fn(s,o,r,n,t);return{s0:u,s1:d,s2:f,s3:m}}function Ni(e,t){if(!t)return new Uint8Array(e);if(re(t),t.length<e)throw new Error("aes: wrong destination length, expected at least ".concat(e,", got: ").concat(t.length));return t}function l6(e,t,n,r){re(t,xt),re(n);let o=n.length;r=Ni(o,r);let s=t,i=oe(s),{s0:a,s1:c,s2:l,s3:u}=cn(e,i[0],i[1],i[2],i[3]),d=oe(n),f=oe(r);for(let w=0;w+4<=d.length;w+=4){f[w+0]=d[w+0]^a,f[w+1]=d[w+1]^c,f[w+2]=d[w+2]^l,f[w+3]=d[w+3]^u;let g=1;for(let y=s.length-1;y>=0;y--)g=g+(s[y]&255)|0,s[y]=g&255,g>>>=8;({s0:a,s1:c,s2:l,s3:u}=cn(e,i[0],i[1],i[2],i[3]))}let m=xt*Math.floor(d.length/d0);if(m<o){let w=new Uint32Array([a,c,l,u]),g=pd(w);for(let y=m,h=0;y<o;y++,h++)r[y]=n[y]^g[h]}return r}function dc(e,t,n,r,o){re(n,xt),re(r),o=Ni(r.length,o);let s=n,i=oe(s),a=bo(s),c=oe(r),l=oe(o),u=t?0:12,d=r.length,f=a.getUint32(u,t),{s0:m,s1:w,s2:g,s3:y}=cn(e,i[0],i[1],i[2],i[3]);for(let p=0;p+4<=c.length;p+=4)l[p+0]=c[p+0]^m,l[p+1]=c[p+1]^w,l[p+2]=c[p+2]^g,l[p+3]=c[p+3]^y,f=f+1>>>0,a.setUint32(u,f,t),{s0:m,s1:w,s2:g,s3:y}=cn(e,i[0],i[1],i[2],i[3]);let h=xt*Math.floor(c.length/d0);if(h<d){let p=new Uint32Array([m,w,g,y]),v=pd(p);for(let x=h,E=0;x<d;x++,E++)o[x]=r[x]^v[E]}return o}var U9=Zn({blockSize:16,nonceLength:16},function(t,n){re(t),re(n,xt);function r(o,s){let i=Eo(t),a=n.slice(),c=l6(i,a,o,s);return i.fill(0),a.fill(0),c}return{encrypt:(o,s)=>r(o,s),decrypt:(o,s)=>r(o,s)}});function $2(e){if(re(e),e.length%xt!==0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ".concat(xt))}function H2(e,t,n){let r=e.length,o=r%xt;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");let s=oe(e);if(t){let c=xt-o;c||(c=xt),r=r+c}let i=Ni(r,n),a=oe(i);return{b:s,o:a,out:i}}function V2(e,t){if(!t)return e;let n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");let r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding byte: ".concat(r));let o=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function q2(e){let t=new Uint8Array(16),n=oe(t);t.set(e);let r=xt-e.length;for(let o=xt-r;o<xt;o++)t[o]=r;return n}var z9=Zn({blockSize:16},function(t,n={}){re(t);let r=!n.disablePadding;return{encrypt:(o,s)=>{re(o);let{b:i,o:a,out:c}=H2(o,r,s),l=Eo(t),u=0;for(;u+4<=i.length;){let{s0:d,s1:f,s2:m,s3:w}=cn(l,i[u+0],i[u+1],i[u+2],i[u+3]);a[u++]=d,a[u++]=f,a[u++]=m,a[u++]=w}if(r){let d=q2(o.subarray(u*4)),{s0:f,s1:m,s2:w,s3:g}=cn(l,d[0],d[1],d[2],d[3]);a[u++]=f,a[u++]=m,a[u++]=w,a[u++]=g}return l.fill(0),c},decrypt:(o,s)=>{$2(o);let i=j2(t),a=Ni(o.length,s),c=oe(o),l=oe(a);for(let u=0;u+4<=c.length;){let{s0:d,s1:f,s2:m,s3:w}=D2(i,c[u+0],c[u+1],c[u+2],c[u+3]);l[u++]=d,l[u++]=f,l[u++]=m,l[u++]=w}return i.fill(0),V2(a,r)}}}),p0=Zn({blockSize:16,nonceLength:16},function(t,n,r={}){re(t),re(n,16);let o=!r.disablePadding;return{encrypt:(s,i)=>{let a=Eo(t),{b:c,o:l,out:u}=H2(s,o,i),d=oe(n),f=d[0],m=d[1],w=d[2],g=d[3],y=0;for(;y+4<=c.length;)f^=c[y+0],m^=c[y+1],w^=c[y+2],g^=c[y+3],{s0:f,s1:m,s2:w,s3:g}=cn(a,f,m,w,g),l[y++]=f,l[y++]=m,l[y++]=w,l[y++]=g;if(o){let h=q2(s.subarray(y*4));f^=h[0],m^=h[1],w^=h[2],g^=h[3],{s0:f,s1:m,s2:w,s3:g}=cn(a,f,m,w,g),l[y++]=f,l[y++]=m,l[y++]=w,l[y++]=g}return a.fill(0),u},decrypt:(s,i)=>{$2(s);let a=j2(t),c=oe(n),l=Ni(s.length,i),u=oe(s),d=oe(l),f=c[0],m=c[1],w=c[2],g=c[3];for(let y=0;y+4<=u.length;){let h=f,p=m,v=w,x=g;f=u[y+0],m=u[y+1],w=u[y+2],g=u[y+3];let{s0:E,s1:b,s2:_,s3:C}=D2(a,f,m,w,g);d[y++]=E^h,d[y++]=b^p,d[y++]=_^v,d[y++]=C^x}return a.fill(0),V2(l,o)}}}),j9=Zn({blockSize:16,nonceLength:16},function(t,n){re(t),re(n,16);function r(o,s,i){let a=Eo(t),c=o.length;i=Ni(c,i);let l=oe(o),u=oe(i),d=s?u:l,f=oe(n),m=f[0],w=f[1],g=f[2],y=f[3];for(let p=0;p+4<=l.length;){let{s0:v,s1:x,s2:E,s3:b}=cn(a,m,w,g,y);u[p+0]=l[p+0]^v,u[p+1]=l[p+1]^x,u[p+2]=l[p+2]^E,u[p+3]=l[p+3]^b,m=d[p++],w=d[p++],g=d[p++],y=d[p++]}let h=xt*Math.floor(l.length/d0);if(h<c){({s0:m,s1:w,s2:g,s3:y}=cn(a,m,w,g,y));let p=pd(new Uint32Array([m,w,g,y]));for(let v=h,x=0;v<c;v++,x++)i[v]=o[v]^p[x];p.fill(0)}return a.fill(0),i}return{encrypt:(o,s)=>r(o,!0,s),decrypt:(o,s)=>r(o,!1,s)}});function Z2(e,t,n,r,o){let s=e.create(n,r.length+((o==null?void 0:o.length)||0));o&&s.update(o),s.update(r);let i=new Uint8Array(16),a=bo(i);return o&&bs(a,0,BigInt(o.length*8),t),bs(a,8,BigInt(r.length*8),t),s.update(i),s.digest()}var D9=Zn({blockSize:16,nonceLength:12,tagLength:16},function(t,n,r){if(re(n),n.length===0)throw new Error("aes/gcm: empty nonce");let o=16;function s(a,c,l){let u=Z2(c0,!1,a,l,r);for(let d=0;d<c.length;d++)u[d]^=c[d];return u}function i(){let a=Eo(t),c=gd.slice(),l=gd.slice();if(dc(a,!1,l,l,c),n.length===12)l.set(n);else{let d=gd.slice(),f=bo(d);bs(f,8,BigInt(n.length*8),!1),c0.create(c).update(n).update(d).digestInto(l)}let u=dc(a,!1,l,gd);return{xk:a,authKey:c,counter:l,tagMask:u}}return{encrypt:a=>{re(a);let{xk:c,authKey:l,counter:u,tagMask:d}=i(),f=new Uint8Array(a.length+o);dc(c,!1,u,a,f);let m=s(l,d,f.subarray(0,f.length-o));return f.set(m,a.length),c.fill(0),f},decrypt:a=>{if(re(a),a.length<o)throw new Error("aes/gcm: ciphertext less than tagLen (".concat(o,")"));let{xk:c,authKey:l,counter:u,tagMask:d}=i(),f=a.subarray(0,-o),m=a.subarray(-o),w=s(l,d,f);if(!ks(w,m))throw new Error("aes/gcm: invalid ghash tag");let g=dc(c,!1,u,f);return l.fill(0),d.fill(0),c.fill(0),g}}}),yd=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error("".concat(e,": invalid value=").concat(r,", must be [").concat(t,"..").concat(n,"]"))},$9=Zn({blockSize:16,nonceLength:12,tagLength:16},function(t,n,r){let s=yd("AAD",0,68719476736),i=yd("plaintext",0,2**36),a=yd("nonce",12,12),c=yd("ciphertext",16,2**36+16);re(n),a(n.length),r&&(re(r),s(r.length));function l(){let f=t.length;if(f!==16&&f!==24&&f!==32)throw new Error("key length must be 16, 24 or 32 bytes, got: ".concat(f," bytes"));let m=Eo(t),w=new Uint8Array(f),g=new Uint8Array(16),y=oe(n),h=0,p=y[0],v=y[1],x=y[2],E=0;for(let b of[g,w].map(oe)){let _=oe(b);for(let C=0;C<_.length;C+=2){let{s0:T,s1:N}=cn(m,h,p,v,x);_[C+0]=T,_[C+1]=N,h=++E}}return m.fill(0),{authKey:g,encKey:Eo(w)}}function u(f,m,w){let g=Z2(M2,!0,m,w,r);for(let E=0;E<12;E++)g[E]^=n[E];g[15]&=127;let y=oe(g),h=y[0],p=y[1],v=y[2],x=y[3];return{s0:h,s1:p,s2:v,s3:x}=cn(f,h,p,v,x),y[0]=h,y[1]=p,y[2]=v,y[3]=x,g}function d(f,m,w){let g=m.slice();return g[15]|=128,dc(f,!0,g,w)}return{encrypt:f=>{re(f),i(f.length);let{encKey:m,authKey:w}=l(),g=u(m,w,f),y=new Uint8Array(f.length+16);return y.set(g,f.length),y.set(d(m,g,f)),m.fill(0),w.fill(0),y},decrypt:f=>{re(f),c(f.length);let m=f.subarray(-16),{encKey:w,authKey:g}=l(),y=d(w,m,f.subarray(0,-16)),h=u(w,g,y);if(w.fill(0),g.fill(0),!ks(m,h))throw new Error("invalid polyval tag");return y}}});var rt=(e,t)=>e[t++]&255|(e[t++]&255)<<8,m0=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=qn(t),re(t,32);let n=rt(t,0),r=rt(t,2),o=rt(t,4),s=rt(t,6),i=rt(t,8),a=rt(t,10),c=rt(t,12),l=rt(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=rt(t,16+2*u)}process(t,n,r=!1){let o=r?0:2048,{h:s,r:i}=this,a=i[0],c=i[1],l=i[2],u=i[3],d=i[4],f=i[5],m=i[6],w=i[7],g=i[8],y=i[9],h=rt(t,n+0),p=rt(t,n+2),v=rt(t,n+4),x=rt(t,n+6),E=rt(t,n+8),b=rt(t,n+10),_=rt(t,n+12),C=rt(t,n+14),T=s[0]+(h&8191),N=s[1]+((h>>>13|p<<3)&8191),U=s[2]+((p>>>10|v<<6)&8191),D=s[3]+((v>>>7|x<<9)&8191),F=s[4]+((x>>>4|E<<12)&8191),O=s[5]+(E>>>1&8191),B=s[6]+((E>>>14|b<<2)&8191),S=s[7]+((b>>>11|_<<5)&8191),I=s[8]+((_>>>8|C<<8)&8191),z=s[9]+(C>>>5|o),A=0,W=A+T*a+N*(5*y)+U*(5*g)+D*(5*w)+F*(5*m);A=W>>>13,W&=8191,W+=O*(5*f)+B*(5*d)+S*(5*u)+I*(5*l)+z*(5*c),A+=W>>>13,W&=8191;let K=A+T*c+N*a+U*(5*y)+D*(5*g)+F*(5*w);A=K>>>13,K&=8191,K+=O*(5*m)+B*(5*f)+S*(5*d)+I*(5*u)+z*(5*l),A+=K>>>13,K&=8191;let Y=A+T*l+N*c+U*a+D*(5*y)+F*(5*g);A=Y>>>13,Y&=8191,Y+=O*(5*w)+B*(5*m)+S*(5*f)+I*(5*d)+z*(5*u),A+=Y>>>13,Y&=8191;let de=A+T*u+N*l+U*c+D*a+F*(5*y);A=de>>>13,de&=8191,de+=O*(5*g)+B*(5*w)+S*(5*m)+I*(5*f)+z*(5*d),A+=de>>>13,de&=8191;let fe=A+T*d+N*u+U*l+D*c+F*a;A=fe>>>13,fe&=8191,fe+=O*(5*y)+B*(5*g)+S*(5*w)+I*(5*m)+z*(5*f),A+=fe>>>13,fe&=8191;let Le=A+T*f+N*d+U*u+D*l+F*c;A=Le>>>13,Le&=8191,Le+=O*a+B*(5*y)+S*(5*g)+I*(5*w)+z*(5*m),A+=Le>>>13,Le&=8191;let Ae=A+T*m+N*f+U*d+D*u+F*l;A=Ae>>>13,Ae&=8191,Ae+=O*c+B*a+S*(5*y)+I*(5*g)+z*(5*w),A+=Ae>>>13,Ae&=8191;let Ue=A+T*w+N*m+U*f+D*d+F*u;A=Ue>>>13,Ue&=8191,Ue+=O*l+B*c+S*a+I*(5*y)+z*(5*g),A+=Ue>>>13,Ue&=8191;let Fe=A+T*g+N*w+U*m+D*f+F*d;A=Fe>>>13,Fe&=8191,Fe+=O*u+B*l+S*c+I*a+z*(5*y),A+=Fe>>>13,Fe&=8191;let Ie=A+T*y+N*g+U*w+D*m+F*f;A=Ie>>>13,Ie&=8191,Ie+=O*d+B*u+S*l+I*c+z*a,A+=Ie>>>13,Ie&=8191,A=(A<<2)+A|0,A=A+W|0,W=A&8191,A=A>>>13,K+=A,s[0]=W,s[1]=K,s[2]=Y,s[3]=de,s[4]=fe,s[5]=Le,s[6]=Ae,s[7]=Ue,s[8]=Fe,s[9]=Ie}finalize(){let{h:t,pad:n}=this,r=new Uint16Array(10),o=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=o,o=t[a]>>>13,t[a]&=8191;t[0]+=o*5,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,r[0]=t[0]+5,o=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+o,o=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(o^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+n[0];t[0]=i&65535;for(let a=1;a<8;a++)i=(t[a]+n[a]|0)+(i>>>16)|0,t[a]=i&65535}update(t){ko(this);let{buffer:n,blockLen:r}=this;t=qn(t);let o=t.length;for(let s=0;s<o;){let i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(t,s);continue}n.set(t.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){ko(this),uc(t,this),this.finished=!0;let{buffer:n,h:r}=this,{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)t[s++]=r[i]>>>0,t[s++]=r[i]>>>8;return t}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}};function u6(e){let t=(r,o)=>e(o).update(qn(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}var W2=u6(e=>new m0(e));var K2=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),d6=K2("expand 16-byte k"),f6=K2("expand 32-byte k"),h6=oe(d6),G2=oe(f6),K9=G2.slice();function V(e,t){return e<<t|e>>>32-t}function g0(e){return e.byteOffset%4===0}var wd=64,p6=16,Q2=2**32-1,F2=new Uint32Array;function m6(e,t,n,r,o,s,i,a){let c=o.length,l=new Uint8Array(wd),u=oe(l),d=g0(o)&&g0(s),f=d?oe(o):F2,m=d?oe(s):F2;for(let w=0;w<c;i++){if(e(t,n,r,u,i,a),i>=Q2)throw new Error("arx: counter overflow");let g=Math.min(wd,c-w);if(d&&g===wd){let y=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let h=0,p;h<p6;h++)p=y+h,m[p]=f[p]^u[h];w+=wd;continue}for(let y=0,h;y<g;y++)h=w+y,s[h]=o[h]^l[y];w+=g}}function y0(e,t){let{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=L2({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return hd(o),hd(i),o0(s),o0(n),(a,c,l,u,d=0)=>{re(a),re(c),re(l);let f=l.length;if(u||(u=new Uint8Array(f)),re(u),hd(d),d<0||d>=Q2)throw new Error("arx: counter overflow");if(u.length<f)throw new Error("arx: output (".concat(u.length,") is shorter than data (").concat(f,")"));let m=[],w=a.length,g,y;if(w===32)g=a.slice(),m.push(g),y=G2;else if(w===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=h6,m.push(g);else throw new Error("arx: invalid 32-byte key, got length=".concat(w));g0(c)||(c=c.slice(),m.push(c));let h=oe(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,h,oe(c.subarray(0,16)),h),c=c.subarray(16)}let p=16-o;if(p!==c.length)throw new Error("arx: nonce must be ".concat(p," or 16 bytes"));if(p!==12){let x=new Uint8Array(12);x.set(c,s?0:12-c.length),c=x,m.push(c)}let v=oe(c);for(m6(e,y,h,v,l,u,d,i);m.length>0;)m.pop().fill(0);return u}}function J2(e,t,n,r,o,s=20){let i=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],m=t[3],w=t[4],g=t[5],y=t[6],h=t[7],p=o,v=n[0],x=n[1],E=n[2],b=i,_=a,C=c,T=l,N=u,U=d,D=f,F=m,O=w,B=g,S=y,I=h,z=p,A=v,W=x,K=E;for(let de=0;de<s;de+=2)b=b+N|0,z=V(z^b,16),O=O+z|0,N=V(N^O,12),b=b+N|0,z=V(z^b,8),O=O+z|0,N=V(N^O,7),_=_+U|0,A=V(A^_,16),B=B+A|0,U=V(U^B,12),_=_+U|0,A=V(A^_,8),B=B+A|0,U=V(U^B,7),C=C+D|0,W=V(W^C,16),S=S+W|0,D=V(D^S,12),C=C+D|0,W=V(W^C,8),S=S+W|0,D=V(D^S,7),T=T+F|0,K=V(K^T,16),I=I+K|0,F=V(F^I,12),T=T+F|0,K=V(K^T,8),I=I+K|0,F=V(F^I,7),b=b+U|0,K=V(K^b,16),S=S+K|0,U=V(U^S,12),b=b+U|0,K=V(K^b,8),S=S+K|0,U=V(U^S,7),_=_+D|0,z=V(z^_,16),I=I+z|0,D=V(D^I,12),_=_+D|0,z=V(z^_,8),I=I+z|0,D=V(D^I,7),C=C+F|0,A=V(A^C,16),O=O+A|0,F=V(F^O,12),C=C+F|0,A=V(A^C,8),O=O+A|0,F=V(F^O,7),T=T+N|0,W=V(W^T,16),B=B+W|0,N=V(N^B,12),T=T+N|0,W=V(W^T,8),B=B+W|0,N=V(N^B,7);let Y=0;r[Y++]=i+b|0,r[Y++]=a+_|0,r[Y++]=c+C|0,r[Y++]=l+T|0,r[Y++]=u+N|0,r[Y++]=d+U|0,r[Y++]=f+D|0,r[Y++]=m+F|0,r[Y++]=w+O|0,r[Y++]=g+B|0,r[Y++]=y+S|0,r[Y++]=h+I|0,r[Y++]=p+z|0,r[Y++]=v+A|0,r[Y++]=x+W|0,r[Y++]=E+K|0}function g6(e,t,n,r){let o=e[0],s=e[1],i=e[2],a=e[3],c=t[0],l=t[1],u=t[2],d=t[3],f=t[4],m=t[5],w=t[6],g=t[7],y=n[0],h=n[1],p=n[2],v=n[3];for(let E=0;E<20;E+=2)o=o+c|0,y=V(y^o,16),f=f+y|0,c=V(c^f,12),o=o+c|0,y=V(y^o,8),f=f+y|0,c=V(c^f,7),s=s+l|0,h=V(h^s,16),m=m+h|0,l=V(l^m,12),s=s+l|0,h=V(h^s,8),m=m+h|0,l=V(l^m,7),i=i+u|0,p=V(p^i,16),w=w+p|0,u=V(u^w,12),i=i+u|0,p=V(p^i,8),w=w+p|0,u=V(u^w,7),a=a+d|0,v=V(v^a,16),g=g+v|0,d=V(d^g,12),a=a+d|0,v=V(v^a,8),g=g+v|0,d=V(d^g,7),o=o+l|0,v=V(v^o,16),w=w+v|0,l=V(l^w,12),o=o+l|0,v=V(v^o,8),w=w+v|0,l=V(l^w,7),s=s+u|0,y=V(y^s,16),g=g+y|0,u=V(u^g,12),s=s+u|0,y=V(y^s,8),g=g+y|0,u=V(u^g,7),i=i+d|0,h=V(h^i,16),f=f+h|0,d=V(d^f,12),i=i+d|0,h=V(h^i,8),f=f+h|0,d=V(d^f,7),a=a+c|0,p=V(p^a,16),m=m+p|0,c=V(c^m,12),a=a+c|0,p=V(p^a,8),m=m+p|0,c=V(c^m,7);let x=0;r[x++]=o,r[x++]=s,r[x++]=i,r[x++]=a,r[x++]=y,r[x++]=h,r[x++]=p,r[x++]=v}var vd=y0(J2,{counterRight:!1,counterLength:4,allowShortKeys:!1}),y6=y0(J2,{counterRight:!1,counterLength:8,extendNonceFn:g6,allowShortKeys:!1});var w6=new Uint8Array(16),Y2=(e,t)=>{e.update(t);let n=t.length%16;n&&e.update(w6.subarray(n))},v6=new Uint8Array(32);function X2(e,t,n,r,o){let s=e(t,n,v6),i=W2.create(s);o&&Y2(i,o),Y2(i,r);let a=new Uint8Array(16),c=bo(a);bs(c,0,BigInt(o?o.length:0),!0),bs(c,8,BigInt(r.length),!0),i.update(a);let l=i.digest();return s.fill(0),l}var ek=e=>(t,n,r)=>(re(t,32),re(n),{encrypt:(s,i)=>{let a=s.length,c=a+16;i?re(i,c):i=new Uint8Array(c),e(t,n,s,i,1);let l=X2(e,t,n,i.subarray(0,-16),r);return i.set(l,a),i},decrypt:(s,i)=>{let a=s.length,c=a-16;if(a<16)throw new Error("encrypted data must be at least 16 bytes");i?re(i,c):i=new Uint8Array(c);let l=s.subarray(0,-16),u=s.subarray(-16),d=X2(e,t,n,l,r);if(!ks(u,d))throw new Error("invalid tag");return e(t,n,l,i,1),i}}),eM=Zn({blockSize:64,nonceLength:12,tagLength:16},ek(vd)),tM=Zn({blockSize:64,nonceLength:24,tagLength:16},ek(y6));var xd=class extends Ci{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,qt.hash(t);let r=go(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return qt.exists(this),this.iHash.update(t),this}digestInto(t){qt.exists(this),qt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ai=(e,t,n)=>new xd(e,t).update(n).digest();Ai.create=(e,t)=>new xd(e,t);function nk(e,t,n){return qt.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Ai(e,go(n),go(t))}var w0=new Uint8Array([0]),tk=new Uint8Array;function rk(e,t,n,r=32){if(qt.hash(e),qt.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");let o=Math.ceil(r/e.outputLen);n===void 0&&(n=tk);let s=new Uint8Array(o*e.outputLen),i=Ai.create(e,t),a=i._cloneInto(),c=new Uint8Array(i.outputLen);for(let l=0;l<o;l++)w0[0]=l+1,a.update(l===0?tk:c).update(n).update(w0).digestInto(c),s.set(c,e.outputLen*l),i._cloneInto(a);return i.destroy(),a.destroy(),c.fill(0),w0.fill(0),s.slice(0,r)}var x6=Object.defineProperty,Ne=(e,t)=>{for(var n in t)x6(e,n,{get:t[n],enumerable:!0})},_s=Symbol("verified"),k6=e=>e instanceof Object;function k0(e){if(!k6(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}var b6={};Ne(b6,{Queue:()=>ik,QueueNode:()=>sk,binarySearch:()=>b0,insertEventIntoAscendingList:()=>E6,insertEventIntoDescendingList:()=>_6,normalizeURL:()=>Ii,utf8Decoder:()=>_r,utf8Encoder:()=>Tn});var _r=new TextDecoder("utf-8"),Tn=new TextEncoder;function Ii(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function _6(e,t){let[n,r]=b0(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return r||e.splice(n,0,t),e}function E6(e,t){let[n,r]=b0(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return r||e.splice(n,0,t),e}function b0(e,t){let n=0,r=e.length-1;for(;n<=r;){let o=Math.floor((n+r)/2),s=t(e[o]);if(s===0)return[o,!0];s<0?r=o-1:n=o+1}return[n,!1]}var sk=class{constructor(e){J(this,"value");J(this,"next",null);J(this,"prev",null);this.value=e}},ik=class{constructor(){J(this,"first");J(this,"last");this.first=null,this.last=null}enqueue(e){let t=new sk(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let t=this.first;return this.first=null,this.last=null,t.value}let e=this.first;return this.first=e.next,e.value}},B6=class{generateSecretKey(){return Bi.utils.randomPrivateKey()}getPublicKey(e){return Me(Bi.getPublicKey(e))}finalizeEvent(e,t){let n=e;return n.pubkey=Me(Bi.getPublicKey(t)),n.id=kd(n),n.sig=Me(Bi.sign(kd(n),t)),n[_s]=!0,n}verifyEvent(e){if(typeof e[_s]=="boolean")return e[_s];let t=kd(e);if(t!==e.id)return e[_s]=!1,!1;try{let n=Bi.verify(e.sig,t,e.pubkey);return e[_s]=n,n}catch(n){return e[_s]=!1,!1}}};function C6(e){if(!k0(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function kd(e){let t=Vn(Tn.encode(C6(e)));return Me(t)}var bd=new B6,S6=bd.generateSecretKey,ak=bd.getPublicKey,Kn=bd.finalizeEvent,_d=bd.verifyEvent,P6={};Ne(P6,{Application:()=>NP,BadgeAward:()=>U6,BadgeDefinition:()=>_P,BlockedRelaysList:()=>aP,BookmarkList:()=>oP,Bookmarksets:()=>xP,Calendar:()=>UP,CalendarEventRSVP:()=>zP,ChannelCreation:()=>hk,ChannelHideMessage:()=>gk,ChannelMessage:()=>mk,ChannelMetadata:()=>pk,ChannelMuteUser:()=>yk,ClassifiedListing:()=>OP,ClientAuth:()=>vk,CommunitiesList:()=>sP,CommunityDefinition:()=>$P,CommunityPostApproval:()=>F6,Contacts:()=>L6,CreateOrUpdateProduct:()=>CP,CreateOrUpdateStall:()=>BP,Curationsets:()=>kP,Date:()=>RP,DirectMessageRelaysList:()=>dP,DraftClassifiedListing:()=>LP,DraftLong:()=>PP,Emojisets:()=>TP,EncryptedDirectMessage:()=>R6,EventDeletion:()=>M6,FileMetadata:()=>$6,FileServerPreference:()=>fP,Followsets:()=>yP,GenericRepost:()=>j6,Genericlists:()=>wP,GiftWrap:()=>wk,HTTPAuth:()=>B0,Handlerinformation:()=>DP,Handlerrecommendation:()=>jP,Highlights:()=>eP,InterestsList:()=>lP,Interestsets:()=>EP,JobFeedback:()=>Q6,JobRequest:()=>K6,JobResult:()=>G6,Label:()=>W6,LightningPubRPC:()=>pP,LiveChatMessage:()=>H6,LiveEvent:()=>AP,LongFormArticle:()=>SP,Metadata:()=>A6,Mutelist:()=>tP,NWCWalletInfo:()=>hP,NWCWalletRequest:()=>xk,NWCWalletResponse:()=>mP,NostrConnect:()=>gP,OpenTimestamps:()=>D6,Pinlist:()=>nP,PrivateDirectMessage:()=>z6,ProblemTracker:()=>V6,ProfileBadges:()=>bP,PublicChatsList:()=>iP,Reaction:()=>E0,RecommendRelay:()=>O6,RelayList:()=>rP,Relaysets:()=>vP,Report:()=>q6,Reporting:()=>Z6,Repost:()=>_0,Seal:()=>fk,SearchRelaysList:()=>cP,ShortTextNote:()=>I6,Time:()=>MP,UserEmojiList:()=>uP,UserStatuses:()=>IP,Zap:()=>J6,ZapGoal:()=>Y6,ZapRequest:()=>X6,classifyKind:()=>T6,isEphemeralKind:()=>uk,isKind:()=>N6,isParameterizedReplaceableKind:()=>dk,isRegularKind:()=>ck,isReplaceableKind:()=>lk});function ck(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function lk(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function uk(e){return 2e4<=e&&e<3e4}function dk(e){return 3e4<=e&&e<4e4}function T6(e){return ck(e)?"regular":lk(e)?"replaceable":uk(e)?"ephemeral":dk(e)?"parameterized":"unknown"}function N6(e,t){let n=t instanceof Array?t:[t];return k0(e)&&n.includes(e.kind)||!1}var A6=0,I6=1,O6=2,L6=3,R6=4,M6=5,_0=6,E0=7,U6=8,fk=13,z6=14,j6=16,hk=40,pk=41,mk=42,gk=43,yk=44,D6=1040,wk=1059,$6=1063,H6=1311,V6=1971,q6=1984,Z6=1984,W6=1985,F6=4550,K6=5999,G6=6999,Q6=7e3,Y6=9041,X6=9734,J6=9735,eP=9802,tP=1e4,nP=10001,rP=10002,oP=10003,sP=10004,iP=10005,aP=10006,cP=10007,lP=10015,uP=10030,dP=10050,fP=10096,hP=13194,pP=21e3,vk=22242,xk=23194,mP=23195,gP=24133,B0=27235,yP=3e4,wP=30001,vP=30002,xP=30003,kP=30004,bP=30008,_P=30009,EP=30015,BP=30017,CP=30018,SP=30023,PP=30024,TP=30030,NP=30078,AP=30311,IP=30315,OP=30402,LP=30403,RP=31922,MP=31923,UP=31924,zP=31925,jP=31989,DP=31990,$P=34550;function HP(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),o=e["#".concat(r)];if(o&&!t.tags.find(([s,i])=>s===n.slice(1)&&o.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function VP(e,t){for(let n=0;n<e.length;n++)if(HP(e[n],t))return!0;return!1}var qP={};Ne(qP,{getHex64:()=>Ed,getInt:()=>kk,getSubscriptionId:()=>bk,matchEventId:()=>ZP,matchEventKind:()=>FP,matchEventPubkey:()=>WP});function Ed(e,t){let n=t.length+3,r=e.indexOf('"'.concat(t,'":'))+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function kk(e,t){let n=t.length,r=e.indexOf('"'.concat(t,'":'))+n+3,o=e.slice(r),s=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,s),10)}function bk(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(o===-1)return null;let s=r+1+o;return e.slice(r+1,s)}function ZP(e,t){return t===Ed(e,"id")}function WP(e,t){return t===Ed(e,"pubkey")}function FP(e,t){return t===kk(e,"kind")}var KP={};Ne(KP,{makeAuthEvent:()=>_k});function _k(e,t){return{kind:vk,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function GP(){return new Promise(e=>{let t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var QP=e=>(e[_s]=!0,!0),Ek=class{constructor(e,t){J(this,"url");J(this,"_connected",!1);J(this,"onclose",null);J(this,"onnotice",e=>console.debug("NOTICE from ".concat(this.url,": ").concat(e)));J(this,"_onauth",null);J(this,"baseEoseTimeout",4400);J(this,"connectionTimeout",4400);J(this,"publishTimeout",4400);J(this,"openSubs",new Map);J(this,"connectionTimeoutHandle");J(this,"connectionPromise");J(this,"openCountRequests",new Map);J(this,"openEventPublishes",new Map);J(this,"ws");J(this,"incomingMessageQueue",new ik);J(this,"queueRunning",!1);J(this,"challenge");J(this,"serial",0);J(this,"verifyEvent");J(this,"_WebSocket");this.url=Ii(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){let n=new Ek(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var n;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await GP();this.queueRunning=!1}handleNext(){var n,r,o;let e=this.incomingMessageQueue.dequeue();if(!e)return!1;let t=bk(e);if(t){let s=this.openSubs.get(t);if(!s)return;let i=Ed(e,"id"),a=(n=s.alreadyHaveEvent)==null?void 0:n.call(s,i);if((r=s.receivedEvent)==null||r.call(s,this,i),a)return}try{let s=JSON.parse(e);switch(s[0]){case"EVENT":{let i=this.openSubs.get(s[1]),a=s[2];this.verifyEvent(a)&&VP(i.filters,a)&&i.onevent(a);return}case"COUNT":{let i=s[1],a=s[2],c=this.openCountRequests.get(i);c&&(c.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{let i=this.openSubs.get(s[1]);if(!i)return;i.receivedEose();return}case"OK":{let i=s[1],a=s[2],c=s[3],l=this.openEventPublishes.get(i);l&&(a?l.resolve(c):l.reject(new Error(c)),this.openEventPublishes.delete(i));return}case"CLOSED":{let i=s[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(s[2]);return}case"NOTICE":this.onnotice(s[1]);return;case"AUTH":{this.challenge=s[1],(o=this._onauth)==null||o.call(this,s[1]);return}}}catch(s){return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");let t=await e(_k(this.url,this.challenge)),n=new Promise((r,o)=>{this.openEventPublishes.set(t.id,{resolve:r,reject:o})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){let t=new Promise((n,r)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:r})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),setTimeout(()=>{let n=this.openEventPublishes.get(e.id);n&&(n.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout),t}async count(e,t){this.serial++;let n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((o,s)=>{this.openCountRequests.set(n,{resolve:o,reject:s})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){let n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;let n=t.id||"sub:"+this.serial,r=new YP(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},YP=class{constructor(e,t,n,r){J(this,"relay");J(this,"id");J(this,"closed",!1);J(this,"eosed",!1);J(this,"filters");J(this,"alreadyHaveEvent");J(this,"receivedEvent");J(this,"onevent");J(this,"oneose");J(this,"onclose");J(this,"eoseTimeout");J(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(o=>{console.warn("onevent() callback not defined for subscription '".concat(this.id,"' in relay ").concat(this.relay.url,". event received:"),o)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},XP;try{XP=WebSocket}catch(e){}var JP=class{constructor(e){J(this,"relays",new Map);J(this,"seenOn",new Map);J(this,"trackRelays",!1);J(this,"verifyEvent");J(this,"trustedRelayURLs",new Set);J(this,"_WebSocket");this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation}async ensureRelay(e,t){e=Ii(e);let n=this.relays.get(e);return n||(n=new Ek(e,{verifyEvent:this.trustedRelayURLs.has(e)?QP:this.verifyEvent,websocketImplementation:this._WebSocket}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Ii).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){return this.subscribeManyMap(Object.fromEntries(e.map(r=>[r,t])),n)}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(d,f)=>{let m=this.seenOn.get(f);m||(m=new Set,this.seenOn.set(f,m)),m.add(d)});let n=new Set,r=[],o=Object.keys(e).length,s=[],i=d=>{var f;s[d]=!0,s.filter(m=>m).length===o&&((f=t.oneose)==null||f.call(t),i=()=>{})},a=[],c=(d,f)=>{var m;i(d),a[d]=f,a.filter(w=>w).length===o&&((m=t.onclose)==null||m.call(t,a),c=()=>{})},l=d=>{var m;if((m=t.alreadyHaveEvent)!=null&&m.call(t,d))return!0;let f=n.has(d);return n.add(d),f},u=Promise.all(Object.entries(e).map(async(d,f,m)=>{if(m.indexOf(d)!==f){c(f,"duplicate url");return}let[w,g]=d;w=Ii(w);let y;try{y=await this.ensureRelay(w,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(p){c(f,(p==null?void 0:p.message)||String(p));return}let h=y.subscribe(g,L(k({},t),{oneose:()=>i(f),onclose:p=>c(f,p),alreadyHaveEvent:l,eoseTimeout:t.maxWait}));r.push(h)}));return{async close(){await u,r.forEach(d=>{d.close()})}}}subscribeManyEose(e,t,n){let r=this.subscribeMany(e,t,L(k({},n),{oneose(){r.close()}}));return r}async querySync(e,t,n){return new Promise(async r=>{let o=[];this.subscribeManyEose(e,[t],L(k({},n),{onevent(s){o.push(s)},onclose(s){r(o)}}))})}async get(e,t,n){t.limit=1;let r=await this.querySync(e,t,n);return r.sort((o,s)=>s.created_at-o.created_at),r[0]||null}publish(e,t){return e.map(Ii).map(async(n,r,o)=>{if(o.indexOf(n)!==r)return Promise.reject("duplicate url");let s=await this.ensureRelay(n);return s.publish(t).then(i=>{if(this.trackRelays){let a=this.seenOn.get(t.id);a||(a=new Set,this.seenOn.set(t.id,a)),a.add(s)}return i})})}listConnectionStatus(){let e=new Map;return this.relays.forEach((t,n)=>e.set(n,t.connected)),e}destroy(){this.relays.forEach(e=>e.close()),this.relays=new Map}},Bk;try{Bk=WebSocket}catch(e){}var Ck=class extends JP{constructor(){super({verifyEvent:_d,websocketImplementation:Bk})}},e5={};Ne(e5,{BECH32_REGEX:()=>Sk,Bech32MaxSize:()=>C0,NostrTypeGuard:()=>t5,decode:()=>Bd,encodeBytes:()=>Sd,naddrEncode:()=>c5,neventEncode:()=>a5,noteEncode:()=>s5,nprofileEncode:()=>i5,npubEncode:()=>o5,nsecEncode:()=>r5});var t5={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},C0=5e3,Sk=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function n5(e){let t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Bd(e){var o,s,i,a,c,l,u;let{prefix:t,words:n}=xo.decode(e,C0),r=new Uint8Array(xo.fromWords(n));switch(t){case"nprofile":{let d=v0(r);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Me(d[0][0]),relays:d[1]?d[1].map(f=>_r.decode(f)):[]}}}case"nevent":{let d=v0(r);if(!((s=d[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Me(d[0][0]),relays:d[1]?d[1].map(f=>_r.decode(f)):[],author:(i=d[2])!=null&&i[0]?Me(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(Me(d[3][0]),16):void 0}}}case"naddr":{let d=v0(r);if(!((c=d[0])!=null&&c[0]))throw new Error("missing TLV 0 for naddr");if(!((l=d[2])!=null&&l[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=d[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:_r.decode(d[0][0]),pubkey:Me(d[2][0]),kind:parseInt(Me(d[3][0]),16),relays:d[1]?d[1].map(f=>_r.decode(f)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Me(r)};default:throw new Error("unknown prefix ".concat(t))}}function v0(e){let t={},n=e;for(;n.length>0;){let r=n[0],o=n[1],s=n.slice(2,2+o);if(n=n.slice(2+o),s.length<o)throw new Error("not enough data to read on TLV ".concat(r));t[r]=t[r]||[],t[r].push(s)}return t}function r5(e){return Sd("nsec",e)}function o5(e){return Sd("npub",xs(e))}function s5(e){return Sd("note",xs(e))}function Cd(e,t){let n=xo.toWords(t);return xo.encode(e,n,C0)}function Sd(e,t){return Cd(e,t)}function i5(e){let t=S0({0:[xs(e.pubkey)],1:(e.relays||[]).map(n=>Tn.encode(n))});return Cd("nprofile",t)}function a5(e){let t;e.kind!==void 0&&(t=n5(e.kind));let n=S0({0:[xs(e.id)],1:(e.relays||[]).map(r=>Tn.encode(r)),2:e.author?[xs(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Cd("nevent",n)}function c5(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=S0({0:[Tn.encode(e.identifier)],1:(e.relays||[]).map(r=>Tn.encode(r)),2:[xs(e.pubkey)],3:[new Uint8Array(t)]});return Cd("naddr",n)}function S0(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(o=>{let s=new Uint8Array(o.length+2);s.set([parseInt(n)],0),s.set([o.length],1),s.set(o,2),t.push(s)})}),Si(...t)}var l5={};Ne(l5,{decrypt:()=>u5,encrypt:()=>Pk});async function Pk(e,t,n){let r=e instanceof Uint8Array?Me(e):e,o=mo.getSharedSecret(r,"02"+t),s=Tk(o),i=Uint8Array.from(cd(16)),a=Tn.encode(n),c=p0(s,i).encrypt(a),l=sn.encode(new Uint8Array(c)),u=sn.encode(new Uint8Array(i.buffer));return"".concat(l,"?iv=").concat(u)}async function u5(e,t,n){let r=e instanceof Uint8Array?Me(e):e,[o,s]=n.split("?iv="),i=mo.getSharedSecret(r,"02"+t),a=Tk(i),c=sn.decode(s),l=sn.decode(o),u=p0(a,c).decrypt(l);return _r.decode(u)}function Tk(e){return e.slice(1,33)}var d5={};Ne(d5,{NIP05_REGEX:()=>P0,isNip05:()=>f5,isValid:()=>m5,queryProfile:()=>Nk,searchDomain:()=>p5,useFetchImplementation:()=>h5});var P0=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,f5=e=>P0.test(e||""),Pd;try{Pd=fetch}catch(e){}function h5(e){Pd=e}async function p5(e,t=""){try{let n="https://".concat(e,"/.well-known/nostr.json?name=").concat(t),r=await Pd(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch(n){return{}}}async function Nk(e){var o;let t=e.match(P0);if(!t)return null;let[,n="_",r]=t;try{let s="https://".concat(r,"/.well-known/nostr.json?name=").concat(n),i=await Pd(s,{redirect:"manual"});if(i.status!==200)throw Error("Wrong response code");let a=await i.json(),c=a.names[n];return c?{pubkey:c,relays:(o=a.relays)==null?void 0:o[c]}:null}catch(s){return null}}async function m5(e,t){let n=await Nk(t);return n?n.pubkey===e:!1}var g5={};Ne(g5,{parse:()=>y5});function y5(e){let t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]},n,r;for(let o=e.tags.length-1;o>=0;o--){let s=e.tags[o];if(s[0]==="e"&&s[1]){let[i,a,c,l,u]=s,d={id:a,relays:c?[c]:[],author:u};if(l==="root"){t.root=d;continue}if(l==="reply"){t.reply=d;continue}if(l==="mention"){t.mentions.push(d);continue}n?r=d:n=d,t.mentions.push(d);continue}if(s[0]==="q"&&s[1]){let[i,a,c]=s;t.quotes.push({id:a,relays:c?[c]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(o=>{if(!o)return;let s=t.mentions.indexOf(o);if(s!==-1&&t.mentions.splice(s,1),o.author){let i=t.profiles.find(a=>a.pubkey===o.author);i&&i.relays&&(o.relays||(o.relays=[]),i.relays.forEach(a=>{var c;((c=o.relays)==null?void 0:c.indexOf(a))===-1&&o.relays.push(a)}),i.relays=o.relays)}}),t.mentions.forEach(o=>{if(o.author){let s=t.profiles.find(i=>i.pubkey===o.author);s&&s.relays&&(o.relays||(o.relays=[]),s.relays.forEach(i=>{o.relays.indexOf(i)===-1&&o.relays.push(i)}),s.relays=o.relays)}}),t}var w5={};Ne(w5,{fetchRelayInformation:()=>x5,useFetchImplementation:()=>v5});var Ak;try{Ak=fetch}catch(e){}function v5(e){Ak=e}async function x5(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var k5={};Ne(k5,{fastEventHash:()=>Ok,getPow:()=>Ik,minePow:()=>b5});function Ik(e){let t=0;for(let n=0;n<64;n+=8){let r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function b5(e,t){let n=0,r=e,o=["nonce",n.toString(),t.toString()];for(r.tags.push(o);;){let s=Math.floor(new Date().getTime()/1e3);if(s!==r.created_at&&(n=0,r.created_at=s),o[1]=(++n).toString(),r.id=Ok(r),Ik(r.id)>=t)break}return r}function Ok(e){return Me(Vn(Tn.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var _5={};Ne(_5,{finishRepostEvent:()=>E5,getRepostedEvent:()=>B5,getRepostedEventPointer:()=>Lk});function E5(e,t,n,r){var o;return Kn({kind:_0,tags:[...(o=e.tags)!=null?o:[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},r)}function Lk(e){if(e.kind!==_0)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function B5(e,{skipVerification:t}={}){let n=Lk(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch(o){return}if(r.id===n.id&&!(!t&&!_d(r)))return r}var C5={};Ne(C5,{NOSTR_URI_REGEX:()=>Td,parse:()=>P5,test:()=>S5});var Td=new RegExp("nostr:(".concat(Sk.source,")"));function S5(e){return typeof e=="string"&&new RegExp("^".concat(Td.source,"$")).test(e)}function P5(e){let t=e.match(new RegExp("^".concat(Td.source,"$")));if(!t)throw new Error("Invalid Nostr URI: ".concat(e));return{uri:t[0],value:t[1],decoded:Bd(t[1])}}var T5={};Ne(T5,{finishReactionEvent:()=>N5,getReactedEventPointer:()=>A5});function N5(e,t,n){var o,s;let r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Kn(L(k({},e),{kind:E0,tags:[...(o=e.tags)!=null?o:[],...r,["e",t.id],["p",t.pubkey]],content:(s=e.content)!=null?s:"+"}),n)}function A5(e){if(e.kind!==E0)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var I5={};Ne(I5,{matchAll:()=>O5,regex:()=>T0,replaceAll:()=>L5});var T0=()=>new RegExp("\\b".concat(Td.source,"\\b"),"g");function*O5(e){let t=e.matchAll(T0());for(let n of t)try{let[r,o]=n;yield{uri:r,value:o,decoded:Bd(o),start:n.index,end:n.index+r.length}}catch(r){}}function L5(e,t){return e.replaceAll(T0(),(n,r)=>t({uri:n,value:r,decoded:Bd(r)}))}var R5={};Ne(R5,{channelCreateEvent:()=>M5,channelHideMessageEvent:()=>j5,channelMessageEvent:()=>z5,channelMetadataEvent:()=>U5,channelMuteUserEvent:()=>D5});var M5=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Kn({kind:hk,tags:[...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},U5=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Kn({kind:pk,tags:[["e",e.channel_create_event_id],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},z5=(e,t)=>{var r;let n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Kn({kind:mk,tags:[...n,...(r=e.tags)!=null?r:[]],content:e.content,created_at:e.created_at},t)},j5=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Kn({kind:gk,tags:[["e",e.channel_message_event_id],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},D5=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Kn({kind:yk,tags:[["p",e.pubkey_to_mute],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},$5={};Ne($5,{EMOJI_SHORTCODE_REGEX:()=>Rk,matchAll:()=>H5,regex:()=>N0,replaceAll:()=>V5});var Rk=/:(\w+):/,N0=()=>new RegExp("\\B".concat(Rk.source,"\\B"),"g");function*H5(e){let t=e.matchAll(N0());for(let n of t)try{let[r,o]=n;yield{shortcode:r,name:o,start:n.index,end:n.index+r.length}}catch(r){}}function V5(e,t){return e.replaceAll(N0(),(n,r)=>t({shortcode:n,name:r}))}var q5={};Ne(q5,{useFetchImplementation:()=>Z5,validateGithub:()=>W5});var A0;try{A0=fetch}catch(e){}function Z5(e){A0=e}async function W5(e,t,n){try{return await(await A0("https://gist.github.com/".concat(t,"/").concat(n,"/raw"))).text()==="Verifying that I control the following Nostr public key: ".concat(e)}catch(r){return!1}}var F5={};Ne(F5,{decrypt:()=>R0,encrypt:()=>L0,getConversationKey:()=>I0,v2:()=>X5});var Mk=1,Uk=65535;function I0(e,t){let n=mo.getSharedSecret(e,"02"+t).subarray(1,33);return nk(Vn,n,"nip44-v2")}function zk(e,t){let n=rk(Vn,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function O0(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;let t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function K5(e){if(!Number.isSafeInteger(e)||e<Mk||e>Uk)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");let t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function G5(e){let t=Tn.encode(e),n=t.length,r=K5(n),o=new Uint8Array(O0(n)-n);return Si(r,t,o)}function Q5(e){let t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<Mk||t>Uk||n.length!==t||e.length!==2+O0(t))throw new Error("invalid padding");return _r.decode(n)}function jk(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");let r=Si(n,t);return Ai(Vn,e,r)}function Y5(e){if(typeof e!="string")throw new Error("payload must be a valid string");let t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=sn.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}let r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);let o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function L0(e,t,n=cd(32)){let{chacha_key:r,chacha_nonce:o,hmac_key:s}=zk(t,n),i=G5(e),a=vd(r,o,i),c=jk(s,a,n);return sn.encode(Si(new Uint8Array([2]),n,a,c))}function R0(e,t){let{nonce:n,ciphertext:r,mac:o}=Y5(e),{chacha_key:s,chacha_nonce:i,hmac_key:a}=zk(t,n),c=jk(a,r,n);if(!ks(c,o))throw new Error("invalid MAC");let l=vd(s,i,r);return Q5(l)}var X5={utils:{getConversationKey:I0,calcPaddedLen:O0},encrypt:L0,decrypt:R0},J5={};Ne(J5,{makeNwcRequestEvent:()=>tT,parseConnectionString:()=>eT});function eT(e){let{pathname:t,searchParams:n}=new URL(e),r=t,o=n.get("relay"),s=n.get("secret");if(!r||!o||!s)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:s}}async function tT(e,t,n){let o=await Pk(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),s={kind:xk,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return Kn(s,t)}var nT={};Ne(nT,{getZapEndpoint:()=>oT,makeZapReceipt:()=>aT,makeZapRequest:()=>sT,useFetchImplementation:()=>rT,validateZapRequest:()=>iT});var M0;try{M0=fetch}catch(e){}function rT(e){M0=e}async function oT(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:i}=xo.decode(n,1e3),a=xo.fromWords(i);t=_r.decode(a)}else if(r){let[i,a]=r.split("@");t=new URL("/.well-known/lnurlp/".concat(i),"https://".concat(a)).toString()}else return null;let s=await(await M0(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch(t){}return null}function sT({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&s.tags.push(["e",t]),s}function iT(e){let t;try{t=JSON.parse(e)}catch(s){return"Invalid zap request JSON."}if(!k0(t))return"Zap request is not a valid Nostr event.";if(!_d(t))return"Invalid signature on zap request.";let n=t.tags.find(([s,i])=>s==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([s,i])=>s==="e"&&i);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,i])=>s==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function aT({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e),s=o.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...s,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var cT={};Ne(cT,{createRumor:()=>qk,createSeal:()=>Zk,createWrap:()=>Wk,unwrapEvent:()=>Fk,unwrapManyEvents:()=>dT,wrapEvent:()=>x0,wrapManyEvents:()=>uT});var lT=2*24*60*60,Dk=()=>Math.round(Date.now()/1e3),$k=()=>Math.round(Dk()-Math.random()*lT),Hk=(e,t)=>I0(e,t),Vk=(e,t,n)=>L0(JSON.stringify(e),Hk(t,n)),ok=(e,t)=>JSON.parse(R0(e.content,Hk(t,e.pubkey)));function qk(e,t){let n=L(k({created_at:Dk(),content:"",tags:[]},e),{pubkey:ak(t)});return n.id=kd(n),n}function Zk(e,t,n){return Kn({kind:fk,content:Vk(e,t,n),created_at:$k(),tags:[]},t)}function Wk(e,t){let n=S6();return Kn({kind:wk,content:Vk(e,n,t),created_at:$k(),tags:[["p",t]]},n)}function x0(e,t,n){let r=qk(e,t),o=Zk(r,t,n);return Wk(o,n)}function uT(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");let r=ak(t),o=[x0(e,t,r)];return n.forEach(s=>{o.push(x0(e,t,s))}),o}function Fk(e,t){let n=ok(e,t);return ok(n,t)}function dT(e,t){let n=[];return e.forEach(r=>{n.push(Fk(r,t))}),n.sort((r,o)=>r.created_at-o.created_at),n}var fT={};Ne(fT,{getToken:()=>hT,hashPayload:()=>U0,unpackEventFromToken:()=>Gk,validateEvent:()=>tb,validateEventKind:()=>Yk,validateEventMethodTag:()=>Jk,validateEventPayloadTag:()=>eb,validateEventTimestamp:()=>Qk,validateEventUrlTag:()=>Xk,validateToken:()=>pT});var Kk="Nostr ";async function hT(e,t,n,r=!1,o){let s={kind:B0,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&s.tags.push(["payload",U0(o)]);let i=await n(s);return(r?Kk:"")+sn.encode(Tn.encode(JSON.stringify(i)))}async function pT(e,t,n){let r=await Gk(e).catch(s=>{throw s});return await tb(r,t,n).catch(s=>{throw s})}async function Gk(e){if(!e)throw new Error("Missing token");e=e.replace(Kk,"");let t=_r.decode(sn.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function Qk(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Yk(e){return e.kind===B0}function Xk(e,t){let n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function Jk(e,t){let n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function U0(e){let t=Vn(Tn.encode(JSON.stringify(e)));return Me(t)}function eb(e,t){let n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;let r=U0(t);return n.length>0&&n[1]===r}async function tb(e,t,n,r){if(!_d(e))throw new Error("Invalid nostr event, signature invalid");if(!Yk(e))throw new Error("Invalid nostr event, kind invalid");if(!Qk(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Xk(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!Jk(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!eb(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var mT=()=>({envelope:{kind:20004,tags:[]},filter:{kinds:[20004],since:nc()},req_timeout:5e3,since_offset:5,start_delay:2e3}),Oi=class extends gr{constructor(t,n,r={}){super(),this._inbox={event:new gr,id:new gr,peer:new gr,tag:new gr},this._sub=null,this._handler=o=>{try{let s=Qv(o,this._seckey.hex),i=Xv(s,o);this.emit("message",i),this.inbox.id.emit(i.id,i),this.inbox.peer.emit(i.env.pubkey,i),this.inbox.tag.emit(i.tag,i)}catch(s){this.emit("bounced",[o.id,Su(s)])}},this._publish=async(o,s,i)=>{var m;let a=(m=i==null?void 0:i.cache)!=null?m:new Map,c=yT(this,i),l=Yv(o.tag,o.data,o.id),u=Fv(c,l,s,this._seckey.hex),d=L(k({},o),{env:u}),f=this._pool.publish(this.relays,u);return this._inbox.event.emit("published",d),Promise.all(f).then(w=>{let g=this.relays.filter(v=>!w.includes(v)),y=o.id,h=w.length>0,p={acks:w,fails:g,ok:h,peer_pk:s,data:d};return a.set(s,p),this._inbox.event.emit("settled",L(k({},p),{msg_id:y})),L(k({},p),{ok:h,msg_id:y})})},Jv(t),ex(n),this._seckey=new P(n),this._pubkey=di(this._seckey.hex),this._config=gT(r),this._filter=nb(this,r.filter),this._pool=new Ck,this._relays=t,this.emit("info",["filter:",JSON.stringify(this.filter,null,2)])}_subscribe(t,n=this.config.req_timeout,r=xu()){var o;return this._filter=nb(this,t),this.filter["#p"]=[...(o=this.filter["#p"])!=null?o:[],this.pubkey],this._sub=this._pool.subscribeMany(this.relays,[this._filter],{id:r,oneose:()=>this.emit("subscribed",[r,this.filter]),onevent:this._handler}),new Promise(s=>{let i=setTimeout(()=>s("timeout"),n),a=c=>{clearTimeout(i),s(c)};this.within("subscribed",([c])=>{c===r&&a(null)},n)})}get config(){return this._config}get filter(){return this._filter}get inbox(){return this._inbox}get pubkey(){return this._pubkey}get relays(){return this._relays}async broadcast(t,n,r){let o=new Map,s=_n(t),i=n.map(a=>this._publish(s,a,r));return Promise.all(i).then(a=>{let l={ok:a.every(u=>u.ok),cache:o,msg_id:s.id,peers:n};return a.forEach(u=>o.set(u.peer_pk,u)),this.emit("broadcast",l),k({},l)})}async connect(t=this.config.req_timeout){let n=await this._subscribe(this._filter,t);if(n!==null)throw new Error(n);return this.emit("ready",this),this}async close(){this._sub!==null&&this._sub.close(),this._pool.close!==void 0&&this._pool.close(this.relays),this.emit("close",this)}async request(t,n,r){let o=_n(t),s=this.subscribe({id:o.id,peers:[n]},r);return this.publish(o,n,r),s}async multicast(t,n,r={}){let o=_n(t),s=this.subscribe({id:o.id,peers:n},r),i=this.broadcast(o,n,r);return Promise.all([s,i]).then(([a,c])=>({sub:a,pub:c}))}async publish(t,n,r){let o=_n(t);return this._publish(o,n,r)}async subscribe(t,n){let r=wT(this,n);return new Promise(o=>{let{timeout:s,threshold:i}=r,{id:a,peers:c=[],tag:l}=t,u=new Set,d=new Set,f=setTimeout(()=>m(!1,"timeout"),s),m=(g,y)=>{clearTimeout(f);let h={ok:g,authors:Array.from(u),inbox:Array.from(d),peers:c,reason:y};this.emit("resolved",h),o(k({},h))},w=g=>typeof a=="string"&&a!==g.id||typeof l=="string"&&l!==g.tag||c.length>0&&!c.includes(g.env.pubkey);this.within("message",g=>{w(g)||(u.add(g.env.pubkey),d.add(g)),typeof i=="number"&&u.size>=i&&m(!0,"threshold"),Array.isArray(c)&&c.every(y=>u.has(y))&&m(!0,"complete")},s)})}async update(t){return this._sub!==null&&this._sub.close(),this._subscribe(t)}};function gT(e={}){let t=mT(),n=k(k({},t.envelope),e.envelope),r=k(k({},t.filter),e.filter);return L(k({},t),{envelope:n,filter:r})}function yT(e,t={}){var a,c;let i=t,{created_at:n=nc(),tags:r=[]}=i,o=ji(i,["created_at","tags"]),s=e.config.envelope;return r=[...(a=s.tags)!=null?a:[],...(c=t.tags)!=null?c:[]],L(k(k({},s),o),{created_at:n,tags:r})}function nb(e,t={}){return k(k({},e.config.filter),t)}function wT(e,t={}){var r;let n=(r=t.timeout)!=null?r:e.config.req_timeout;return L(k({},t),{timeout:n})}var vT=()=>({debug:!1,middleware:{},policies:[],sign_interval:100}),fc=class extends Hu{constructor(t,n,r,o){super(),this._cache=kT(o),this._config=xT(o),this._queue=new Vu(this),this._signer=new sc(t,n,o),this._peers=bT(this),this._client=new Oi(r,n.seckey,{filter:{authors:Nx(this.peers)}}),this._client.on("message",s=>{if(this.emit("message",s),!!this._filter(s))try{switch(s.tag){case"/ping/req":{Rx(this,s);break}case"/ecdh/req":{let i=Lu(s);Ox(this,i);break}case"/sign/req":{let i=Ex(s);Gx(this,i);break}}}catch(i){this.emit("bounced",[Su(i),s])}})}_filter(t){return t.tag==="/ping/req"||Ax(this.peers).includes(t.env.pubkey)?!0:(this.emit("bounced",["unauthorized",t]),!1)}get cache(){return this._cache}get client(){return this._client}get config(){return this._config}get debug(){return this._config.debug}get group(){return this._signer.group}get queue(){return this._queue}get peers(){return this._peers}get pubkey(){return uo(this.signer.pubkey,"bip340")}get req(){return{ecdh:Lx(this),ping:Mx(this),queue:Qx(this),sign:Yx(this)}}get signer(){return this._signer}async connect(){return await this.client.connect(),this.emit("ready",this),this}async close(){return await this.client.close(),this.emit("closed",this),this}update_peer(t){let n=this.peers.findIndex(r=>r.pubkey===t.pubkey);n!==-1&&(this._peers[n]=k(k({},this._peers[n]),t))}};function xT(e={}){return k(k({},vT()),e)}function kT(e={}){var t,n;return{ecdh:(n=(t=e.cache)==null?void 0:t.ecdh)!=null?n:new Map}}function bT(e){let t=lo(),n=e.pubkey,r=e.group.commits.map(s=>uo(s.pubkey,"bip340")).filter(s=>s!==n),o=[];for(let s of r){let i=e.config.policies.find(a=>a.pubkey===s);o.push({policy:i!=null?i:{send:!0,recv:!0},pubkey:s,status:"offline",updated:t})}return o}function sb(e){return hc(e).to_bech32m("bfgroup")}function ib(e){let t=P.bech32m(e);return pc(t)}function hc(e){let t=P.num(e.threshold,4),n=P.hex(e.group_pk,33),r=e.commits.map(o=>ET(o));return P.join([n,t,...r])}function pc(e){let t=new P(e).stream,n=t.read(33).hex,r=t.read(4).num;ce.ok(t.size%103===0,"commit data is malformed");let o=t.size/103,s=[];for(let i=0;i<o;i++){let a=t.read(103);s.push(BT(a))}return ce.size(t.data,0),Ru({commits:s,group_pk:n,threshold:r})}function ET(e){let t=P.num(e.idx,4),n=P.hex(e.pubkey,33),r=P.hex(e.binder_pn,33),o=P.hex(e.hidden_pn,33);return P.join([t,n,r,o])}function BT(e){let t=new P(e).stream;ce.size(t.data,103);let n=t.read(4).num,r=t.read(33).hex,o=t.read(33).hex,s=t.read(33).hex;return ce.size(t.data,0),{idx:n,binder_pn:o,hidden_pn:s,pubkey:r}}function lb(e){let t=mc(e);return ce.size(t,100),t.to_bech32m("bfshare")}function ub(e){let t=P.bech32m(e);return gc(t)}function mc(e){let t=P.num(e.idx,4),n=P.hex(e.seckey,32),r=P.hex(e.binder_sn,32),o=P.hex(e.hidden_sn,32);return P.join([t,n,r,o])}function gc(e){let t=new P(e).stream;ce.size(t.data,100);let n=t.read(4).num,r=t.read(32).hex,o=t.read(32).hex,s=t.read(32).hex;return ce.size(t.data,0),Ru({idx:n,binder_sn:o,hidden_sn:s,seckey:r})}var db=100;function Ld(e,t){ce.ok(Nm(e,t),"share not included in group");let n=hc(e),r=mc(t);return P.join([r,n]).to_bech32m("bfcred")}function Li(e){let t=P.bech32m(e),n=t.slice(0,db),r=t.slice(db),o=pc(r),s=gc(n);return ce.ok(Nm(o,s),"share not included in group"),{group:o,share:s}}var j0;(function(e){e.cred={encode:Ld,decode:Li},e.group={encode:sb,decode:ib,serialize:hc,deserialize:pc},e.share={encode:lb,decode:ub,serialize:mc,deserialize:gc}})(j0||(j0={}));var D0="frostr-demo",fb={creds:null,relays:[],peers:[],logs:[]};var Rd=class{constructor(t,n){this._subs=new Set;this._defaults=n,this._store_key=t}get_defaults(){return this._defaults}get(){try{let t=localStorage.getItem(this._store_key);return t?JSON.parse(t):this._defaults}catch(t){return this._defaults}}reset(){this.set(this._defaults)}set(t){try{localStorage.setItem(this._store_key,JSON.stringify(t)),this._notify_subs()}catch(n){console.error("Error saving to localStorage:",n)}}subscribe(t){return this._subs.add(t),()=>this._subs.delete(t)}update(t){this.set(k(k({},this.get()),t))}_notify_subs(){this._subs.forEach(t=>t())}};var Ri=ee(It(),1);var yb=ee(ue(),1);function gb(e){let t=(0,Ri.createContext)(null);return{StoreProvider:({children:o})=>{let[s,i]=(0,Ri.useState)(e.get()),a=()=>{e.reset(),i(e.get_defaults())},c=l=>{let u=k(k({},s),l);e.set(u),i(u)};return(0,yb.jsx)(t.Provider,{value:{data:s,reset:a,update:c},children:o})},useStore:()=>{let o=(0,Ri.useContext)(t);if(o===null)throw new Error("useStore must be used within a StoreProvider");return o}}}var RT=new URLSearchParams(window.location.search),wb=RT.get("name"),MT=wb?"".concat(D0,"-").concat(wb):D0,UT=new Rd(MT,fb),{StoreProvider:vb,useStore:At}=gb(UT);var Bo=ee(It(),1);function kb(){let[e,t]=(0,Bo.useState)("stopped"),n=At(),r=(0,Bo.useRef)(null),o=(0,Bo.useRef)(n.data);(0,Bo.useEffect)(()=>{o.current=n.data},[n.data]);let s=()=>{if(!zT(n.data))return;n.update({logs:[]});let{creds:a,peers:c,relays:l}=n.data,u=l.map(d=>d.url);r.current=new fc(a.group,a.share,u,{policies:c}),r.current.once("ready",()=>{console.log("node ready"),t("online")}),r.current.once("error",d=>{console.error("node error:",d),t("offline")}),r.current.once("closed",()=>{console.log("node closed"),t("offline")}),r.current.on("*",(d,f)=>{if(d==="message"||d.startsWith("/ping"))return;let m={timestamp:new Date().toISOString(),message:String(d),type:"info"};n.update({logs:jT(o.current,m)}),console.log("event received:",d),console.dir(f,{depth:null})}),r.current.connect()},i=()=>{r.current&&(r.current=null)};return(0,Bo.useEffect)(()=>{s()},[n.data.creds,n.data.relays,n.data.peers]),{ref:r,reset:s,stop:i,status:e}}function zT(e){return e.creds!==null&&e.relays.length>0}function jT(e,t){let n=[...e.logs,t];if(n.length>100){let r=n.length-100;n=n.slice(r)}return n}var Ud=ee(It(),1),Eb=ee(ue(),1),bb=(0,Ud.createContext)(null);function _b({children:e}){let t=kb();return(0,Eb.jsx)(bb.Provider,{value:t,children:e})}function zd(){let e=(0,Ud.useContext)(bb);if(e===null)throw new Error("useNode must be used within a NodeProvider");return e}var Er=ee(ue(),1);function Bb(){return(0,Er.jsxs)("div",{className:"page-header",children:[(0,Er.jsx)("img",{src:"assets/frostr-icon.png",alt:"Frost Logo",className:"frost-logo"}),(0,Er.jsx)("div",{className:"title-container",children:(0,Er.jsx)("h1",{children:"FROSTR Web Demo"})}),(0,Er.jsx)("p",{children:"FROSTR Web Demo"}),(0,Er.jsx)("a",{href:"https://frostr.org",target:"_blank",rel:"noopener noreferrer",children:"https://frostr.org"}),(0,Er.jsx)("div",{className:"alpha-pill alpha-pill-standalone",children:"alpha edition"})]})}var Hb=ee(It(),1);var ln=ee(ue(),1);function Cb(){let e=At(),t=async()=>{e.update({logs:[]})};return(0,ln.jsxs)("div",{className:"console-container",children:[(0,ln.jsx)("h2",{className:"section-header",children:"Event Console"}),(0,ln.jsx)("p",{className:"description",children:"Monitor events from your bifrost node."}),(0,ln.jsx)("div",{className:"console-output",children:e.data.logs.length===0?(0,ln.jsx)("div",{className:"console-empty",children:"No events logged yet"}):e.data.logs.map((n,r)=>(0,ln.jsxs)("div",{className:"console-entry",children:[(0,ln.jsx)("span",{className:"console-timestamp",children:new Date(n.timestamp).toLocaleTimeString()}),(0,ln.jsx)("span",{className:"console-message console-".concat(n.type),children:n.message})]},r))}),(0,ln.jsx)("div",{className:"console-controls",children:(0,ln.jsx)("button",{className:"button",onClick:t,children:"Clear Console"})})]})}var Es=ee(ue(),1);function Sb(){var t;let e=zd();return(0,Es.jsxs)("div",{className:"dashboard-container",children:[(0,Es.jsx)("h2",{className:"section-header",children:"Node Status"}),(0,Es.jsxs)("pre",{children:["pubkey: ",((t=e.ref.current)==null?void 0:t.pubkey)||"unknown"]}),(0,Es.jsxs)("pre",{children:["status: ",e.status]}),(0,Es.jsx)("button",{className:"button",onClick:()=>e.reset(),children:"Reset Node"})]})}var jd=ee(It(),1);var dt=ee(ue(),1);function Pb(){let e=zd(),t=At(),[n,r]=(0,jd.useState)([]),o=async()=>{if(!e.ref.current)return;let s=await e.ref.current.req.ping();if(console.log(s),!s.ok)return;let i=e.ref.current.peers,a=i.map(l=>({pubkey:l.pubkey,send:l.policy.send,recv:l.policy.recv}));t.update({peers:a});let c=[];for(let l of i)c.push({pubkey:l.pubkey,status:l.status});r(c)};return(0,jd.useEffect)(()=>{if(e.status!=="online")return;o();let s=setInterval(o,3e4);return()=>clearInterval(s)},[e.status]),(0,dt.jsxs)("div",{className:"dashboard-container",children:[(0,dt.jsx)("h2",{className:"section-header",children:"Peer Status"}),n.length===0?(0,dt.jsx)("p",{children:"waiting for peers..."}):(0,dt.jsxs)("table",{children:[(0,dt.jsx)("thead",{children:(0,dt.jsxs)("tr",{children:[(0,dt.jsx)("th",{children:"Pubkey"}),(0,dt.jsx)("th",{children:"Status"})]})}),(0,dt.jsx)("tbody",{children:n.map(s=>(0,dt.jsxs)("tr",{children:[(0,dt.jsx)("td",{className:"pubkey-cell",children:s.pubkey}),(0,dt.jsx)("td",{children:(0,dt.jsx)("span",{className:"status-indicator ".concat(s.status),children:s.status})})]},s.pubkey))})]}),(0,dt.jsx)("button",{className:"button",onClick:o,disabled:e.status!=="online",children:"Refresh"})]})}var Br=ee(It(),1);var Co=ee(It(),1);var Bs=class e{constructor(t,n,r,o,s){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),r&&typeof r=="object"?this._onDecode=n:(console.warn(r||o||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=n),n=typeof r=="object"?r:{},this._onDecodeError=n.onDecodeError||(typeof r=="function"?r:this._onDecodeError),this._calculateScanRegion=n.calculateScanRegion||(typeof o=="function"?o:this._calculateScanRegion),this._preferredCamera=n.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof r=="number"?r:typeof o=="number"?o:this._legacyCanvasSize,this._maxScansPerSecond=n.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let i=!1;if(t.hidden&&(t.hidden=!1,i=!0),document.body.contains(t)||(document.body.appendChild(t),i=!0),r=t.parentElement,n.highlightScanRegion||n.highlightCodeOutline){if(o=!!n.overlay,this.$overlay=n.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!o&&n.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(a){}r.insertBefore(this.$overlay,this.$video.nextSibling)}n.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let a=window.getComputedStyle(t);a.display==="none"&&(t.style.setProperty("display","block","important"),i=!0),a.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),i=!0),i&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(t){return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="videoinput"),r;try{t&&(await n()).every(o=>!o.label)&&(r=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(o){}try{return(await n()).map((o,s)=>({id:o.deviceId,label:o.label||(s===0?"Default Camera":"Camera ".concat(s+1))}))}finally{r&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),e._stopVideoStream(r))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch(n){return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),e._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:n}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(t):(this._setVideoMirror(n),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let n=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(n(),!0):(await new Promise(r=>setTimeout(r,300)),this._paused?(n(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,n,r,o,s=!1,i=!1){let a,c=!1;n&&("scanRegion"in n||"qrEngine"in n||"canvas"in n||"disallowCanvasResizing"in n||"alsoTryWithoutScanRegion"in n||"returnDetailedScanResult"in n)?(a=n.scanRegion,r=n.qrEngine,o=n.canvas,s=n.disallowCanvasResizing||!1,i=n.alsoTryWithoutScanRegion||!1,c=!0):console.warn(n||r||o||s||i?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),n=!!r;try{let l,u;[r,l]=await Promise.all([r||e.createQrEngine(),e._loadImage(t)]),[o,u]=e._drawToCanvas(l,a,o,s);let d;if(r instanceof Worker){let f=r;n||e._postWorkerMessageSync(f,"inversionMode","both"),d=await new Promise((m,w)=>{let g,y,h,p=-1;y=x=>{x.data.id===p&&(f.removeEventListener("message",y),f.removeEventListener("error",h),clearTimeout(g),x.data.data!==null?m({data:x.data.data,cornerPoints:e._convertPoints(x.data.cornerPoints,a)}):w(e.NO_QR_CODE_FOUND))},h=x=>{f.removeEventListener("message",y),f.removeEventListener("error",h),clearTimeout(g),w("Scanner error: "+(x?x.message||x:"Unknown Error"))},f.addEventListener("message",y),f.addEventListener("error",h),g=setTimeout(()=>h("timeout"),1e4);let v=u.getImageData(0,0,o.width,o.height);p=e._postWorkerMessageSync(f,"decode",v,[v.data.buffer])})}else d=await Promise.race([new Promise((f,m)=>window.setTimeout(()=>m("Scanner error: timeout"),1e4)),(async()=>{try{var[f]=await r.detect(o);if(!f)throw e.NO_QR_CODE_FOUND;return{data:f.rawValue,cornerPoints:e._convertPoints(f.cornerPoints,a)}}catch(m){if(f=m.message||m,/not implemented|service unavailable/.test(f))return e._disableBarcodeDetector=!0,e.scanImage(t,{scanRegion:a,canvas:o,disallowCanvasResizing:s,alsoTryWithoutScanRegion:i});throw"Scanner error: ".concat(f)}})()]);return c?d:d.data}catch(l){if(!a||!i)throw l;let u=await e.scanImage(t,{qrEngine:r,canvas:o,disallowCanvasResizing:s});return c?u:u.data}finally{n||e._postWorkerMessage(r,"close")}}setGrayscaleWeights(t,n,r,o=!0){e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:n,blue:r,useIntegerApproximation:o})}setInversionMode(t){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>Promise.resolve().then(()=>(Nb(),Tb)).then(r=>r.createWorker()),!(!e._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let n=navigator.userAgentData;return n&&n.brands.some(({brand:r})=>/Chromium/i.test(r))&&/mac ?OS/i.test(n.platform)&&await n.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:r,platformVersion:o})=>/arm/i.test(r||"arm")&&13<=parseInt(o||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let n=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-n)/2),y:Math.round((t.videoHeight-n)/2),width:n,height:n,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,n=t.videoWidth,r=t.videoHeight,o=t.offsetWidth,s=t.offsetHeight,i=t.offsetLeft,a=t.offsetTop,c=window.getComputedStyle(t),l=c.objectFit,u=n/r,d=o/s;switch(l){case"none":var f=n,m=r;break;case"fill":f=o,m=s;break;default:(l==="cover"?u>d:u<d)?(m=s,f=m*u):(f=o,m=f/u),l==="scale-down"&&(f=Math.min(f,n),m=Math.min(m,r))}var[w,g]=c.objectPosition.split(" ").map((h,p)=>{let v=parseFloat(h);return h.endsWith("%")?(p?s-m:o-f)*v/100:v});c=this._scanRegion.width||n,d=this._scanRegion.height||r,l=this._scanRegion.x||0;var y=this._scanRegion.y||0;u=this.$overlay.style,u.width="".concat(c/n*f,"px"),u.height="".concat(d/r*m,"px"),u.top="".concat(a+g+y/r*m,"px"),r=/scaleX\(-1\)/.test(t.style.transform),u.left="".concat(i+(r?o-w-f:w)+(r?n-l-c:l)/n*f,"px"),u.transform=t.style.transform}})}static _convertPoints(t,n){if(!n)return t;let r=n.x||0,o=n.y||0,s=n.width&&n.downScaledWidth?n.width/n.downScaledWidth:1;n=n.height&&n.downScaledHeight?n.height/n.downScaledHeight:1;for(let i of t)i.x=i.x*s+r,i.y=i.y*n+o;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,n=1e3/this._maxScansPerSecond;t<n&&await new Promise(o=>setTimeout(o,n-t)),this._lastScanTimestamp=Date.now();try{var r=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(o){if(!this._active)return;this._onDecodeError(o)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=e.createQrEngine()),r?(this._onDecode?this._onDecode(r):this._legacyOnDecode&&this._legacyOnDecode(r.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox","".concat(this._scanRegion.x||0," ")+"".concat(this._scanRegion.y||0," ")+"".concat(this._scanRegion.width||this.$video.videoWidth," ")+"".concat(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(({x:o,y:s})=>"".concat(o,",").concat(s)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==e.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",n=[{width:{min:1024}},{width:{min:768}},{}],r=n.map(o=>Object.assign({},o,{[t]:{exact:this._preferredCamera}}));for(let o of[...r,...n])try{let s=await navigator.mediaDevices.getUserMedia({video:o,audio:!1}),i=this._getFacingMode(s)||(o.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:i}}catch(s){}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let n of t.getTracks())n.stop(),t.removeTrack(n)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,n,r,o=!1){r=r||document.createElement("canvas");let s=n&&n.x?n.x:0,i=n&&n.y?n.y:0,a=n&&n.width?n.width:t.videoWidth||t.width,c=n&&n.height?n.height:t.videoHeight||t.height;return o||(o=n&&n.downScaledWidth?n.downScaledWidth:a,n=n&&n.downScaledHeight?n.downScaledHeight:c,r.width!==o&&(r.width=o),r.height!==n&&(r.height=n)),n=r.getContext("2d",{alpha:!1}),n.imageSmoothingEnabled=!1,n.drawImage(t,s,i,a,c,0,0,r.width,r.height),[r,n]}static async _loadImage(t){if(t instanceof Image)return await e._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let n=new Image;n.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await e._awaitImageLoad(n),n}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(n.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((n,r)=>{let o=s=>{t.removeEventListener("load",o),t.removeEventListener("error",o),s instanceof ErrorEvent?r("Image load error"):n()};t.addEventListener("load",o),t.addEventListener("error",o)})}static async _postWorkerMessage(t,n,r,o){return e._postWorkerMessageSync(await t,n,r,o)}static _postWorkerMessageSync(t,n,r,o){if(!(t instanceof Worker))return-1;let s=e._workerMessageId++;return t.postMessage({id:s,type:n,data:r},o),s}};Bs.DEFAULT_CANVAS_SIZE=400;Bs.NO_QR_CODE_FOUND="No QR code found";Bs._disableBarcodeDetector=!1;Bs._workerMessageId=0;var Ab=Bs;var Mi=ee(ue(),1),Ib={container:{width:"100%",maxWidth:"400px",margin:"1rem auto",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden",position:"relative",backgroundColor:"#000"},video:{width:"100%",height:"auto",display:"block"}};function Ob({onResult:e,onError:t}){let n=(0,Co.useRef)(null),r=(0,Co.useRef)(null),[o,s]=(0,Co.useState)(null),[i,a]=(0,Co.useState)(null);return(0,Co.useEffect)(()=>{let c=null;return(async()=>{if(!n.current){s("Video element not found");return}try{c=new Ab(n.current,u=>{e(u.data),c==null||c.stop()},{returnDetailedScanResult:!0}),await c.start(),s(null),a(!0),r.current=c}catch(u){let d=u instanceof Error?u:new Error("Failed to initialize scanner");s(d.message),t?t(d):console.error("Failed to start QR scanner:",d)}})(),()=>{c&&(c.stop(),c.destroy())}},[e,t]),(0,Mi.jsxs)("div",{style:Ib.container,children:[(0,Mi.jsx)("video",{ref:n,style:Ib.video,playsInline:!0,autoPlay:!0,muted:!0}),o&&(0,Mi.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"1rem",borderRadius:"4px",textAlign:"center",zIndex:1e3},children:[o,i===!1&&(0,Mi.jsx)("div",{style:{marginTop:"1rem"},children:"Please grant camera permissions to use the QR scanner"})]})]})}var ft=ee(ue(),1);function Lb(){var f;let e=At(),[t,n]=(0,Br.useState)(""),[r,o]=(0,Br.useState)(null),[s,i]=(0,Br.useState)(!1),[a,c]=(0,Br.useState)(!1),[l,u]=(0,Br.useState)(!1),d=()=>{if(r===null){if(t==="")e.update({creds:null,peers:[]});else try{let m=Li(t),w=ZT(m);if(m===null)return;e.update({creds:m,peers:w})}catch(m){console.log(m),o("failed to decode package data")}c(!0),setTimeout(()=>c(!1),1500)}};return(0,Br.useEffect)(()=>{try{e.data.creds!==null?n(Rb(e.data.creds)):n("")}catch(m){n("")}},[e.data.creds]),(0,Br.useEffect)(()=>{if(t==="")o(null);else if(!t.startsWith("bfcred"))o('input must start with "bfcred"');else if(!$T(t))o("input contains invalid characters");else{let m=VT(t);o(m!==null?null:"failed to decode package data")}},[t]),(0,ft.jsxs)("div",{className:"container",children:[(0,ft.jsx)("h2",{className:"section-header",children:"Credentials Package"}),(0,ft.jsx)("p",{className:"description",children:"Paste your encoded credentials string (starts with bfcred). It contains your secrets, plus information about your signing group."}),(0,ft.jsxs)("div",{className:"content-container",children:[(0,ft.jsxs)("div",{className:"input-with-button",children:[(0,ft.jsx)("input",{type:s?"text":"password",value:t,onChange:m=>n(m.target.value.trim()),placeholder:"bfcred1..."}),(0,ft.jsxs)("div",{className:"input-actions",children:[(0,ft.jsx)("button",{className:"button",onClick:()=>i(!s),children:s?"hide":"show"}),(0,ft.jsx)("button",{className:"button",onClick:()=>u(!l),children:l?"stop scan":"scan"}),(0,ft.jsx)("button",{className:"button action-button ".concat(a?"saved-button":""),onClick:d,disabled:!HT(t,e.data.creds)||r!==null,children:a?"Saved":"Save"})]})]}),l&&(0,ft.jsx)(Ob,{onResult:m=>{n(m.trim()),u(!1)},onError:m=>{console.error("QR scan error:",m)}}),t!==""&&r===null&&s&&(0,ft.jsx)("pre",{className:"code-display",children:(f=qT(t))!=null?f:"invalid group package"}),(0,ft.jsx)("div",{className:"notification-container",children:r&&(0,ft.jsx)("p",{className:"error-text",children:r})})]})]})}function $T(e){return/^bfcred1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(e)}function HT(e,t){if(t===null)return e!=="";{let n=Rb(t);return e!==n}}function Rb(e){try{return e!==null?Ld(e.group,e.share):""}catch(t){return""}}function VT(e){try{return e!==""?Li(e):null}catch(t){return null}}function qT(e){try{let t=Li(e);return JSON.stringify(t,null,2)}catch(t){return null}}function ZT(e){let t=Hn(e.share.seckey,"ecdsa");return e.group.commits.filter(n=>n.pubkey!==t).map(n=>({pubkey:n.pubkey,send:!1,recv:!0}))}var Ui=ee(It(),1);var Ce=ee(ue(),1);function Mb(){let e=At(),[t,n]=(0,Ui.useState)(e.data.peers),[r,o]=(0,Ui.useState)(!1),[s,i]=(0,Ui.useState)(!1),a=()=>{e.update({peers:t}),o(!1),i(!0),setTimeout(()=>i(!1),1500)},c=()=>{n(e.data.peers),o(!1)},l=(u,d,f)=>{n(m=>{let w=[...m!=null?m:[]];return w[u][d]=f,w}),o(!0)};return(0,Ui.useEffect)(()=>{n(e.data.peers)},[e.data.peers]),(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{className:"section-header",children:"Peer Connections"}),(0,Ce.jsx)("p",{className:"description",children:'Configure how you communicate with other peers in your signing group. "Request" will send signature requests to that peer, and "Respond" will co-sign requests from that peer.'}),t===null&&(0,Ce.jsx)("p",{className:"description",children:"You must configure your node's credentials first."}),t!==null&&(0,Ce.jsxs)("div",{children:[(0,Ce.jsxs)("table",{children:[(0,Ce.jsx)("thead",{children:(0,Ce.jsxs)("tr",{children:[(0,Ce.jsx)("th",{children:"Peer Public Key"}),(0,Ce.jsx)("th",{className:"checkbox-cell",children:"Send"}),(0,Ce.jsx)("th",{className:"checkbox-cell",children:"Receive"})]})}),(0,Ce.jsx)("tbody",{children:t.map((u,d)=>(0,Ce.jsxs)("tr",{children:[(0,Ce.jsx)("td",{className:"pubkey-cell",children:u.pubkey}),(0,Ce.jsx)("td",{className:"checkbox-cell",children:(0,Ce.jsx)("input",{type:"checkbox",className:"peer-checkbox",checked:u.send,onChange:()=>l(d,"send",!u.send)})}),(0,Ce.jsx)("td",{className:"checkbox-cell",children:(0,Ce.jsx)("input",{type:"checkbox",className:"peer-checkbox",checked:u.recv,onChange:()=>l(d,"recv",!u.recv)})})]},d))})]}),(0,Ce.jsxs)("div",{className:"action-buttons",children:[(0,Ce.jsx)("button",{onClick:a,disabled:!r,className:"button button-primary action-button ".concat(s?"saved-button":""),children:s?"Saved":"Save"}),r&&(0,Ce.jsx)("button",{onClick:c,className:"button",children:"Cancel"})]})]})]})}var Cr=ee(It(),1);var me=ee(ue(),1);function Ub(){let e=At(),[t,n]=(0,Cr.useState)(e.data.relays),[r,o]=(0,Cr.useState)(""),[s,i]=(0,Cr.useState)(!1),[a,c]=(0,Cr.useState)(null),[l,u]=(0,Cr.useState)(!1),d=()=>{e.update({relays:t}),i(!1),u(!0),setTimeout(()=>u(!1),1500)},f=()=>{n(e.data.relays),i(!1)},m=(y,h)=>{n(p=>{let v=[...p];return v[y]=L(k({},v[y]),{[h]:!v[y][h]}),v}),i(!0)},w=()=>{r.trim()&&(r.startsWith("wss://")||r.startsWith("ws://")?WT(r)?t.some(y=>y.url===r)?c("Relay already exists"):(n(y=>[...y,{url:r,read:!0,write:!0}]),o(""),i(!0)):c("Invalid URL format"):c("Relay URL must start with wss:// or ws://"))},g=y=>{n(h=>h.filter((p,v)=>v!==y)),i(!0)};return(0,Cr.useEffect)(()=>{a!==null&&c(null)},[r]),(0,Cr.useEffect)(()=>{n(e.data.relays)},[e.data.relays]),(0,me.jsxs)("div",{className:"container",children:[(0,me.jsx)("h2",{className:"section-header",children:"Relay Connections"}),(0,me.jsx)("p",{className:"description",children:'Configure which relays your node will use to communicate. "Read" will enable listening for inbound requests, and "Write" will enable publishing outbound requests.'}),(0,me.jsxs)("table",{children:[(0,me.jsx)("thead",{children:(0,me.jsxs)("tr",{children:[(0,me.jsx)("th",{className:"url-column",children:"Relay URL"}),(0,me.jsx)("th",{className:"checkbox-cell",children:"Read"}),(0,me.jsx)("th",{className:"checkbox-cell",children:"Write"}),(0,me.jsx)("th",{className:"action-cell",children:"Actions"})]})}),(0,me.jsx)("tbody",{children:t.map((y,h)=>(0,me.jsxs)("tr",{children:[(0,me.jsx)("td",{children:y.url}),(0,me.jsx)("td",{className:"checkbox-cell",children:(0,me.jsx)("input",{type:"checkbox",className:"relay-checkbox",checked:y.read,onChange:()=>m(h,"read")})}),(0,me.jsx)("td",{className:"checkbox-cell",children:(0,me.jsx)("input",{type:"checkbox",className:"relay-checkbox",checked:y.write,onChange:()=>m(h,"write")})}),(0,me.jsx)("td",{className:"action-cell",children:(0,me.jsx)("button",{onClick:()=>g(h),className:"button button-remove",children:"Remove"})})]},h))})]}),(0,me.jsxs)("div",{className:"input-group relay-controls",children:[(0,me.jsx)("input",{type:"text",value:r,onChange:y=>o(y.target.value),placeholder:"wss://relay.example.com",className:"relay-input"}),(0,me.jsx)("button",{onClick:w,className:"button add-relay-button",children:"Add Relay"})]}),(0,me.jsxs)("div",{className:"action-buttons",children:[(0,me.jsx)("button",{onClick:d,disabled:!s,className:"button button-primary action-button ".concat(l?"saved-button":""),children:l?"Saved":"Save"}),s&&(0,me.jsx)("button",{onClick:f,className:"button",children:"Cancel"}),(0,me.jsx)("div",{className:"notification-container",children:a&&(0,me.jsx)("p",{className:"error-text",children:a})})]})]})}function WT(e){try{return new URL(e),!0}catch(t){return!1}}var zi=ee(ue(),1);function zb(){let e=At();return(0,zi.jsxs)("div",{className:"container",children:[(0,zi.jsx)("h2",{className:"section-header",children:"Reset Store"}),(0,zi.jsx)("p",{className:"description",children:"Reset the store to the initial state."}),(0,zi.jsx)("button",{onClick:()=>{e.reset()},className:"button",children:"Reset Store"})]})}var Sr=ee(ue(),1);function jb(){return(0,Sr.jsxs)(Sr.Fragment,{children:[(0,Sr.jsx)(Lb,{}),(0,Sr.jsx)(Mb,{}),(0,Sr.jsx)(Ub,{}),(0,Sr.jsx)(zb,{})]})}var So=ee(ue(),1);var Db=()=>(0,So.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,So.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,So.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});var $b=()=>(0,So.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,So.jsx)("polyline",{points:"4 17 10 11 4 5"}),(0,So.jsx)("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]});var Ye=ee(ue(),1);function Vb(){let[e,t]=(0,Hb.useState)("dashboard");return(0,Ye.jsxs)("div",{className:"tabs-container",children:[(0,Ye.jsx)("div",{className:"tabs-nav-wrapper",children:(0,Ye.jsxs)("div",{className:"tabs-navigation",children:[(0,Ye.jsxs)("button",{className:"tab-button ".concat(e==="dashboard"?"active":""),onClick:()=>t("dashboard"),children:[(0,Ye.jsx)($b,{}),(0,Ye.jsx)("span",{children:"Dashboard"})]}),(0,Ye.jsxs)("button",{className:"tab-button ".concat(e==="settings"?"active":""),onClick:()=>t("settings"),children:[(0,Ye.jsx)(Db,{}),(0,Ye.jsx)("span",{children:"Settings"})]})]})}),(0,Ye.jsxs)("div",{className:"tab-content",children:[e==="dashboard"&&(0,Ye.jsxs)("div",{className:"tab-panel",children:[(0,Ye.jsx)(Sb,{}),(0,Ye.jsx)(Pb,{}),(0,Ye.jsx)(Cb,{})]}),e==="settings"&&(0,Ye.jsx)("div",{className:"tab-panel",children:(0,Ye.jsx)(jb,{})})]})]})}var yc=ee(ue(),1);function qb(){return(0,yc.jsxs)("div",{className:"app",children:[(0,yc.jsx)(Bb,{}),(0,yc.jsx)(Vb,{})]})}var $0=document.createElement("link");$0.rel="stylesheet";$0.href="styles/global.css";document.head.appendChild($0);var H0=document.createElement("link");H0.rel="stylesheet";H0.href="styles/layout.css";document.head.appendChild(H0);var V0=document.createElement("link");V0.rel="stylesheet";V0.href="styles/node.css";document.head.appendChild(V0);var q0=document.createElement("link");q0.rel="stylesheet";q0.href="styles/settings.css";document.head.appendChild(q0);var wc=ee(ue(),1),Fb=document.getElementById("root");if(!Fb)throw new Error("[ app ] root container not found");var KT=(0,Wb.createRoot)(Fb);KT.render((0,wc.jsx)(Zb.StrictMode,{children:(0,wc.jsx)(vb,{children:(0,wc.jsx)(_b,{children:(0,wc.jsx)(qb,{})})})}));
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=app.js.map
