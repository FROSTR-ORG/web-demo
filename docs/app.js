var w_=Object.create;var Bc=Object.defineProperty,v_=Object.defineProperties,x_=Object.getOwnPropertyDescriptor,b_=Object.getOwnPropertyDescriptors,k_=Object.getOwnPropertyNames,Ec=Object.getOwnPropertySymbols,__=Object.getPrototypeOf,Zf=Object.prototype.hasOwnProperty,rg=Object.prototype.propertyIsEnumerable;var Wf=(e,t,r)=>t in e?Bc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))Zf.call(t,r)&&Wf(e,r,t[r]);if(Ec)for(var r of Ec(t))rg.call(t,r)&&Wf(e,r,t[r]);return e},O=(e,t)=>v_(e,b_(t));var Cc=(e,t)=>{var r={};for(var n in e)Zf.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ec)for(var n of Ec(e))t.indexOf(n)<0&&rg.call(e,n)&&(r[n]=e[n]);return r};var E_=(e,t)=>()=>(e&&(t=e(e=0)),t);var Xr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Un=(e,t)=>{for(var r in t)Bc(e,r,{get:t[r],enumerable:!0})},B_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k_(t))!Zf.call(e,o)&&o!==r&&Bc(e,o,{get:()=>t[o],enumerable:!(n=x_(t,o))||n.enumerable});return e};var X=(e,t,r)=>(r=e!=null?w_(__(e)):{},B_(t||!e||!e.__esModule?Bc(r,"default",{value:e,enumerable:!0}):r,e));var ee=(e,t,r)=>Wf(e,typeof t!="symbol"?t+"":t,r);var pg=Xr(ie=>{"use strict";var Gi=Symbol.for("react.element"),C_=Symbol.for("react.portal"),S_=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),T_=Symbol.for("react.profiler"),A_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),O_=Symbol.for("react.suspense"),L_=Symbol.for("react.memo"),R_=Symbol.for("react.lazy"),ng=Symbol.iterator;function M_(e){return e===null||typeof e!="object"?null:(e=ng&&e[ng]||e["@@iterator"],typeof e=="function"?e:null)}var ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ag=Object.assign,cg={};function Ls(e,t,r){this.props=e,this.context=t,this.refs=cg,this.updater=r||ig}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lg(){}lg.prototype=Ls.prototype;function Kf(e,t,r){this.props=e,this.context=t,this.refs=cg,this.updater=r||ig}var Gf=Kf.prototype=new lg;Gf.constructor=Kf;ag(Gf,Ls.prototype);Gf.isPureReactComponent=!0;var og=Array.isArray,ug=Object.prototype.hasOwnProperty,Qf={current:null},fg={key:!0,ref:!0,__self:!0,__source:!0};function dg(e,t,r){var n,o={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)ug.call(t,n)&&!fg.hasOwnProperty(n)&&(o[n]=t[n]);var a=arguments.length-2;if(a===1)o.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)o[n]===void 0&&(o[n]=a[n]);return{$$typeof:Gi,type:e,key:s,ref:i,props:o,_owner:Qf.current}}function U_(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function z_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sg=/\/+/g;function Ff(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z_(""+e.key):t.toString(36)}function Pc(e,t,r,n,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gi:case C_:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+Ff(i,0):n,og(o)?(r="",e!=null&&(r=e.replace(sg,"$&/")+"/"),Pc(o,t,r,"",function(l){return l})):o!=null&&(Yf(o)&&(o=U_(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(sg,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",og(e))for(var a=0;a<e.length;a++){s=e[a];var c=n+Ff(s,a);i+=Pc(s,t,r,c,o)}else if(c=M_(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=n+Ff(s,a++),i+=Pc(s,t,r,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Sc(e,t,r){if(e==null)return e;var n=[],o=0;return Pc(e,n,"","",function(s){return t.call(r,s,o++)}),n}function j_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Tc={transition:null},H_={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Tc,ReactCurrentOwner:Qf};function hg(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Sc,forEach:function(e,t,r){Sc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sc(e,function(){t++}),t},toArray:function(e){return Sc(e,function(t){return t})||[]},only:function(e){if(!Yf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Ls;ie.Fragment=S_;ie.Profiler=T_;ie.PureComponent=Kf;ie.StrictMode=P_;ie.Suspense=O_;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;ie.act=hg;ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ag({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Qf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)ug.call(t,c)&&!fg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:Gi,type:e.type,key:o,ref:s,props:n,_owner:i}};ie.createContext=function(e){return e={$$typeof:N_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A_,_context:e},e.Consumer=e};ie.createElement=dg;ie.createFactory=function(e){var t=dg.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:I_,render:e}};ie.isValidElement=Yf;ie.lazy=function(e){return{$$typeof:R_,_payload:{_status:-1,_result:e},_init:j_}};ie.memo=function(e,t){return{$$typeof:L_,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Tc.transition;Tc.transition={};try{e()}finally{Tc.transition=t}};ie.unstable_act=hg;ie.useCallback=function(e,t){return ht.current.useCallback(e,t)};ie.useContext=function(e){return ht.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ie.useEffect=function(e,t){return ht.current.useEffect(e,t)};ie.useId=function(){return ht.current.useId()};ie.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};ie.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return ht.current.useMemo(e,t)};ie.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};ie.useRef=function(e){return ht.current.useRef(e)};ie.useState=function(e){return ht.current.useState(e)};ie.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};ie.useTransition=function(){return ht.current.useTransition()};ie.version="18.3.1"});var pt=Xr((AA,mg)=>{"use strict";mg.exports=pg()});var Bg=Xr(we=>{"use strict";function td(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(0<Ac(o,t))e[n]=t,e[r]=o,r=n;else break e}}function hr(e){return e.length===0?null:e[0]}function Ic(e){if(e.length===0)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,s=o>>>1;n<s;){var i=2*(n+1)-1,a=e[i],c=i+1,l=e[c];if(0>Ac(a,r))c<o&&0>Ac(l,a)?(e[n]=l,e[c]=r,n=c):(e[n]=a,e[i]=r,n=i);else if(c<o&&0>Ac(l,r))e[n]=l,e[c]=r,n=c;else break e}}return t}function Ac(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(gg=performance,we.unstable_now=function(){return gg.now()}):(Xf=Date,yg=Xf.now(),we.unstable_now=function(){return Xf.now()-yg});var gg,Xf,yg,Ir=[],zn=[],D_=1,Kt=null,rt=3,Oc=!1,No=!1,Yi=!1,xg=typeof setTimeout=="function"?setTimeout:null,bg=typeof clearTimeout=="function"?clearTimeout:null,wg=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function rd(e){for(var t=hr(zn);t!==null;){if(t.callback===null)Ic(zn);else if(t.startTime<=e)Ic(zn),t.sortIndex=t.expirationTime,td(Ir,t);else break;t=hr(zn)}}function nd(e){if(Yi=!1,rd(e),!No)if(hr(Ir)!==null)No=!0,sd(od);else{var t=hr(zn);t!==null&&id(nd,t.startTime-e)}}function od(e,t){No=!1,Yi&&(Yi=!1,bg(Xi),Xi=-1),Oc=!0;var r=rt;try{for(rd(t),Kt=hr(Ir);Kt!==null&&(!(Kt.expirationTime>t)||e&&!Eg());){var n=Kt.callback;if(typeof n=="function"){Kt.callback=null,rt=Kt.priorityLevel;var o=n(Kt.expirationTime<=t);t=we.unstable_now(),typeof o=="function"?Kt.callback=o:Kt===hr(Ir)&&Ic(Ir),rd(t)}else Ic(Ir);Kt=hr(Ir)}if(Kt!==null)var s=!0;else{var i=hr(zn);i!==null&&id(nd,i.startTime-t),s=!1}return s}finally{Kt=null,rt=r,Oc=!1}}var Lc=!1,Nc=null,Xi=-1,kg=5,_g=-1;function Eg(){return!(we.unstable_now()-_g<kg)}function Jf(){if(Nc!==null){var e=we.unstable_now();_g=e;var t=!0;try{t=Nc(!0,e)}finally{t?Qi():(Lc=!1,Nc=null)}}else Lc=!1}var Qi;typeof wg=="function"?Qi=function(){wg(Jf)}:typeof MessageChannel<"u"?(ed=new MessageChannel,vg=ed.port2,ed.port1.onmessage=Jf,Qi=function(){vg.postMessage(null)}):Qi=function(){xg(Jf,0)};var ed,vg;function sd(e){Nc=e,Lc||(Lc=!0,Qi())}function id(e,t){Xi=xg(function(){e(we.unstable_now())},t)}we.unstable_IdlePriority=5;we.unstable_ImmediatePriority=1;we.unstable_LowPriority=4;we.unstable_NormalPriority=3;we.unstable_Profiling=null;we.unstable_UserBlockingPriority=2;we.unstable_cancelCallback=function(e){e.callback=null};we.unstable_continueExecution=function(){No||Oc||(No=!0,sd(od))};we.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kg=0<e?Math.floor(1e3/e):5};we.unstable_getCurrentPriorityLevel=function(){return rt};we.unstable_getFirstCallbackNode=function(){return hr(Ir)};we.unstable_next=function(e){switch(rt){case 1:case 2:case 3:var t=3;break;default:t=rt}var r=rt;rt=t;try{return e()}finally{rt=r}};we.unstable_pauseExecution=function(){};we.unstable_requestPaint=function(){};we.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=rt;rt=e;try{return t()}finally{rt=r}};we.unstable_scheduleCallback=function(e,t,r){var n=we.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=r+o,e={id:D_++,callback:t,priorityLevel:e,startTime:r,expirationTime:o,sortIndex:-1},r>n?(e.sortIndex=r,td(zn,e),hr(Ir)===null&&e===hr(zn)&&(Yi?(bg(Xi),Xi=-1):Yi=!0,id(nd,r-n))):(e.sortIndex=o,td(Ir,e),No||Oc||(No=!0,sd(od))),e};we.unstable_shouldYield=Eg;we.unstable_wrapCallback=function(e){var t=rt;return function(){var r=rt;rt=t;try{return e.apply(this,arguments)}finally{rt=r}}}});var Sg=Xr((IA,Cg)=>{"use strict";Cg.exports=Bg()});var Nw=Xr(Ht=>{"use strict";var $_=pt(),zt=Sg();function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ly=new Set,xa={};function qo(e,t){ti(e,t),ti(e+"Capture",t)}function ti(e,t){for(xa[e]=t,e=0;e<t.length;e++)Ly.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Td=Object.prototype.hasOwnProperty,V_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pg={},Tg={};function q_(e){return Td.call(Tg,e)?!0:Td.call(Pg,e)?!1:V_.test(e)?Tg[e]=!0:(Pg[e]=!0,!1)}function W_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z_(e,t,r,n){if(t===null||typeof t>"u"||W_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,r,n,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bh=/[\-:]([a-z])/g;function kh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bh,kh);Xe[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bh,kh);Xe[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bh,kh);Xe[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _h(e,t,r,n){var o=Xe.hasOwnProperty(t)?Xe[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z_(t,r,o,n)&&(r=null),n||o===null?q_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ln=$_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Us=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Eh=Symbol.for("react.strict_mode"),Ad=Symbol.for("react.profiler"),Ry=Symbol.for("react.provider"),My=Symbol.for("react.context"),Bh=Symbol.for("react.forward_ref"),Nd=Symbol.for("react.suspense"),Id=Symbol.for("react.suspense_list"),Ch=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Uy=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Ag=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=Ag&&e[Ag]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,ad;function aa(e){if(ad===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ad=t&&t[1]||""}return"\n"+ad+e}var cd=!1;function ld(e,t){if(!e||cd)return"";cd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var o=l.stack.split("\n"),s=n.stack.split("\n"),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var c="\n"+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{cd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?aa(e):""}function F_(e){switch(e.tag){case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return e=ld(e.type,!1),e;case 11:return e=ld(e.type.render,!1),e;case 1:return e=ld(e.type,!0),e;default:return""}}function Od(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case Us:return"Portal";case Ad:return"Profiler";case Eh:return"StrictMode";case Nd:return"Suspense";case Id:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case My:return(e.displayName||"Context")+".Consumer";case Ry:return(e._context.displayName||"Context")+".Provider";case Bh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ch:return t=e.displayName||null,t!==null?t:Od(e.type)||"Memo";case Hn:t=e._payload,e=e._init;try{return Od(e(t))}catch(r){}}return null}function K_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Od(t);case 8:return t===Eh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G_(e){var t=zy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mc(e){e._valueTracker||(e._valueTracker=G_(e))}function jy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ld(e,t){var r=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Ng(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=eo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hy(e,t){t=t.checked,t!=null&&_h(e,"checked",t,!1)}function Rd(e,t){Hy(e,t);var r=eo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Md(e,t.type,r):t.hasOwnProperty("defaultValue")&&Md(e,t.type,eo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ig(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Md(e,t,r){(t!=="number"||ul(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ca=Array.isArray;function Gs(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+eo(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ud(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Og(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(ca(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:eo(r)}}function Dy(e,t){var r=eo(t.value),n=eo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Lg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $y(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$y(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uc,Vy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uc=Uc||document.createElement("div"),Uc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ba(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q_=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(e){Q_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fa[t]=fa[e]})});function qy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fa.hasOwnProperty(e)&&fa[e]?(""+t).trim():t+"px"}function Wy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=qy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Y_=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jd(e,t){if(t){if(Y_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Hd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=null;function Sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $d=null,Qs=null,Ys=null;function Rg(e){if(e=ja(e)){if(typeof $d!="function")throw Error(R(280));var t=e.stateNode;t&&(t=zl(t),$d(e.stateNode,e.type,t))}}function Zy(e){Qs?Ys?Ys.push(e):Ys=[e]:Qs=e}function Fy(){if(Qs){var e=Qs,t=Ys;if(Ys=Qs=null,Rg(e),t)for(e=0;e<t.length;e++)Rg(t[e])}}function Ky(e,t){return e(t)}function Gy(){}var ud=!1;function Qy(e,t,r){if(ud)return e(t,r);ud=!0;try{return Ky(e,t,r)}finally{ud=!1,(Qs!==null||Ys!==null)&&(Gy(),Fy())}}function ka(e,t){var r=e.stateNode;if(r===null)return null;var n=zl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var Vd=!1;if(on)try{Rs={},Object.defineProperty(Rs,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch(e){Vd=!1}var Rs;function X_(e,t,r,n,o,s,i,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(u){this.onError(u)}}var da=!1,fl=null,dl=!1,qd=null,J_={onError:function(e){da=!0,fl=e}};function e3(e,t,r,n,o,s,i,a,c){da=!1,fl=null,X_.apply(J_,arguments)}function t3(e,t,r,n,o,s,i,a,c){if(e3.apply(this,arguments),da){if(da){var l=fl;da=!1,fl=null}else throw Error(R(198));dl||(dl=!0,qd=l)}}function Wo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mg(e){if(Wo(e)!==e)throw Error(R(188))}function r3(e){var t=e.alternate;if(!t){if(t=Wo(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return Mg(o),e;if(s===n)return Mg(o),t;s=s.sibling}throw Error(R(188))}if(r.return!==n.return)r=o,n=s;else{for(var i=!1,a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function Xy(e){return e=r3(e),e!==null?Jy(e):null}function Jy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jy(e);if(t!==null)return t;e=e.sibling}return null}var e1=zt.unstable_scheduleCallback,Ug=zt.unstable_cancelCallback,n3=zt.unstable_shouldYield,o3=zt.unstable_requestPaint,Oe=zt.unstable_now,s3=zt.unstable_getCurrentPriorityLevel,Ph=zt.unstable_ImmediatePriority,t1=zt.unstable_UserBlockingPriority,hl=zt.unstable_NormalPriority,i3=zt.unstable_LowPriority,r1=zt.unstable_IdlePriority,Ll=null,Mr=null;function a3(e){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch(t){}}var wr=Math.clz32?Math.clz32:u3,c3=Math.log,l3=Math.LN2;function u3(e){return e>>>=0,e===0?32:31-(c3(e)/l3|0)|0}var zc=64,jc=4194304;function la(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~o;a!==0?n=la(a):(s&=i,s!==0&&(n=la(s)))}else i=r&~o,i!==0?n=la(i):s!==0&&(n=la(s));if(n===0)return 0;if(t!==0&&t!==n&&(t&o)===0&&(o=n&-n,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wr(t),o=1<<r,n|=e[r],t&=~o;return n}function f3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-wr(s),a=1<<i,c=o[i];c===-1?((a&r)===0||(a&n)!==0)&&(o[i]=f3(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function Wd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function n1(){var e=zc;return zc<<=1,(zc&4194240)===0&&(zc=64),e}function fd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ua(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wr(t),e[t]=r}function h3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-wr(r),s=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~s}}function Th(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var fe=0;function o1(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var s1,Ah,i1,a1,c1,Zd=!1,Hc=[],Zn=null,Fn=null,Kn=null,_a=new Map,Ea=new Map,$n=[],p3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zg(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":_a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(t.pointerId)}}function ea(e,t,r,n,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[o]},t!==null&&(t=ja(t),t!==null&&Ah(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function m3(e,t,r,n,o){switch(t){case"focusin":return Zn=ea(Zn,e,t,r,n,o),!0;case"dragenter":return Fn=ea(Fn,e,t,r,n,o),!0;case"mouseover":return Kn=ea(Kn,e,t,r,n,o),!0;case"pointerover":var s=o.pointerId;return _a.set(s,ea(_a.get(s)||null,e,t,r,n,o)),!0;case"gotpointercapture":return s=o.pointerId,Ea.set(s,ea(Ea.get(s)||null,e,t,r,n,o)),!0}return!1}function l1(e){var t=Lo(e.target);if(t!==null){var r=Wo(t);if(r!==null){if(t=r.tag,t===13){if(t=Yy(r),t!==null){e.blockedOn=t,c1(e.priority,function(){i1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Dd=n,r.target.dispatchEvent(n),Dd=null}else return t=ja(r),t!==null&&Ah(t),e.blockedOn=r,!1;t.shift()}return!0}function jg(e,t,r){el(e)&&r.delete(t)}function g3(){Zd=!1,Zn!==null&&el(Zn)&&(Zn=null),Fn!==null&&el(Fn)&&(Fn=null),Kn!==null&&el(Kn)&&(Kn=null),_a.forEach(jg),Ea.forEach(jg)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,g3)))}function Ba(e){function t(o){return ta(o,e)}if(0<Hc.length){ta(Hc[0],e);for(var r=1;r<Hc.length;r++){var n=Hc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zn!==null&&ta(Zn,e),Fn!==null&&ta(Fn,e),Kn!==null&&ta(Kn,e),_a.forEach(t),Ea.forEach(t),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)l1(r),r.blockedOn===null&&$n.shift()}var Xs=ln.ReactCurrentBatchConfig,ml=!0;function y3(e,t,r,n){var o=fe,s=Xs.transition;Xs.transition=null;try{fe=1,Nh(e,t,r,n)}finally{fe=o,Xs.transition=s}}function w3(e,t,r,n){var o=fe,s=Xs.transition;Xs.transition=null;try{fe=4,Nh(e,t,r,n)}finally{fe=o,Xs.transition=s}}function Nh(e,t,r,n){if(ml){var o=Fd(e,t,r,n);if(o===null)wd(e,t,n,gl,r),zg(e,n);else if(m3(o,e,t,r,n))n.stopPropagation();else if(zg(e,n),t&4&&-1<p3.indexOf(e)){for(;o!==null;){var s=ja(o);if(s!==null&&s1(s),s=Fd(e,t,r,n),s===null&&wd(e,t,n,gl,r),s===o)break;o=s}o!==null&&n.stopPropagation()}else wd(e,t,n,null,r)}}var gl=null;function Fd(e,t,r,n){if(gl=null,e=Sh(n),e=Lo(e),e!==null)if(t=Wo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Yy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function u1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s3()){case Ph:return 1;case t1:return 4;case hl:case i3:return 16;case r1:return 536870912;default:return 16}default:return 16}}var qn=null,Ih=null,tl=null;function f1(){if(tl)return tl;var e,t=Ih,r=t.length,n,o="value"in qn?qn.value:qn.textContent,s=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[s-n];n++);return tl=o.slice(e,1<n?1-n:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dc(){return!0}function Hg(){return!1}function jt(e){function t(r,n,o,s,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dc:Hg,this.isPropagationStopped=Hg,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),t}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oh=jt(ci),za=Se({},ci,{view:0,detail:0}),v3=jt(za),dd,hd,ra,Rl=Se({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(dd=e.screenX-ra.screenX,hd=e.screenY-ra.screenY):hd=dd=0,ra=e),dd)},movementY:function(e){return"movementY"in e?e.movementY:hd}}),Dg=jt(Rl),x3=Se({},Rl,{dataTransfer:0}),b3=jt(x3),k3=Se({},za,{relatedTarget:0}),pd=jt(k3),_3=Se({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),E3=jt(_3),B3=Se({},ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C3=jt(B3),S3=Se({},ci,{data:0}),$g=jt(S3),P3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A3[e])?!!t[e]:!1}function Lh(){return N3}var I3=Se({},za,{key:function(e){if(e.key){var t=P3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lh,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O3=jt(I3),L3=Se({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vg=jt(L3),R3=Se({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lh}),M3=jt(R3),U3=Se({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),z3=jt(U3),j3=Se({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H3=jt(j3),D3=[9,13,27,32],Rh=on&&"CompositionEvent"in window,ha=null;on&&"documentMode"in document&&(ha=document.documentMode);var $3=on&&"TextEvent"in window&&!ha,d1=on&&(!Rh||ha&&8<ha&&11>=ha),qg=" ",Wg=!1;function h1(e,t){switch(e){case"keyup":return D3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function V3(e,t){switch(e){case"compositionend":return p1(t);case"keypress":return t.which!==32?null:(Wg=!0,qg);case"textInput":return e=t.data,e===qg&&Wg?null:e;default:return null}}function q3(e,t){if(js)return e==="compositionend"||!Rh&&h1(e,t)?(e=f1(),tl=Ih=qn=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return d1&&t.locale!=="ko"?null:t.data;default:return null}}var W3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W3[e.type]:t==="textarea"}function m1(e,t,r,n){Zy(n),t=yl(t,"onChange"),0<t.length&&(r=new Oh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pa=null,Ca=null;function Z3(e){C1(e,0)}function Ml(e){var t=$s(e);if(jy(t))return e}function F3(e,t){if(e==="change")return t}var g1=!1;on&&(on?(Vc="oninput"in document,Vc||(md=document.createElement("div"),md.setAttribute("oninput","return;"),Vc=typeof md.oninput=="function"),$c=Vc):$c=!1,g1=$c&&(!document.documentMode||9<document.documentMode));var $c,Vc,md;function Fg(){pa&&(pa.detachEvent("onpropertychange",y1),Ca=pa=null)}function y1(e){if(e.propertyName==="value"&&Ml(Ca)){var t=[];m1(t,Ca,e,Sh(e)),Qy(Z3,t)}}function K3(e,t,r){e==="focusin"?(Fg(),pa=t,Ca=r,pa.attachEvent("onpropertychange",y1)):e==="focusout"&&Fg()}function G3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(Ca)}function Q3(e,t){if(e==="click")return Ml(t)}function Y3(e,t){if(e==="input"||e==="change")return Ml(t)}function X3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xr=typeof Object.is=="function"?Object.is:X3;function Sa(e,t){if(xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Td.call(t,o)||!xr(e[o],t[o]))return!1}return!0}function Kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,t){var r=Kg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kg(r)}}function w1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?w1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function v1(){for(var e=window,t=ul();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=ul(e.document)}return t}function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function J3(e){var t=v1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&w1(r.ownerDocument.documentElement,r)){if(n!==null&&Mh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,s=Math.min(n.start,o);n=n.end===void 0?s:Math.min(n.end,o),!e.extend&&s>n&&(o=n,n=s,s=o),o=Gg(r,s);var i=Gg(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eE=on&&"documentMode"in document&&11>=document.documentMode,Hs=null,Kd=null,ma=null,Gd=!1;function Qg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gd||Hs==null||Hs!==ul(n)||(n=Hs,"selectionStart"in n&&Mh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ma&&Sa(ma,n)||(ma=n,n=yl(Kd,"onSelect"),0<n.length&&(t=new Oh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hs)))}function qc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ds={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},gd={},x1={};on&&(x1=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Ul(e){if(gd[e])return gd[e];if(!Ds[e])return e;var t=Ds[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in x1)return gd[e]=t[r];return e}var b1=Ul("animationend"),k1=Ul("animationiteration"),_1=Ul("animationstart"),E1=Ul("transitionend"),B1=new Map,Yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(e,t){B1.set(e,t),qo(t,[e])}for(Wc=0;Wc<Yg.length;Wc++)Zc=Yg[Wc],Xg=Zc.toLowerCase(),Jg=Zc[0].toUpperCase()+Zc.slice(1),ro(Xg,"on"+Jg);var Zc,Xg,Jg,Wc;ro(b1,"onAnimationEnd");ro(k1,"onAnimationIteration");ro(_1,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(E1,"onTransitionEnd");ti("onMouseEnter",["mouseout","mouseover"]);ti("onMouseLeave",["mouseout","mouseover"]);ti("onPointerEnter",["pointerout","pointerover"]);ti("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function ey(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,t3(n,t,void 0,e),e.currentTarget=null}function C1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&o.isPropagationStopped())break e;ey(o,a,l),s=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&o.isPropagationStopped())break e;ey(o,a,l),s=c}}}if(dl)throw e=qd,dl=!1,qd=null,e}function xe(e,t){var r=t[eh];r===void 0&&(r=t[eh]=new Set);var n=e+"__bubble";r.has(n)||(S1(t,e,2,!1),r.add(n))}function yd(e,t,r){var n=0;t&&(n|=4),S1(r,e,n,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Pa(e){if(!e[Fc]){e[Fc]=!0,Ly.forEach(function(r){r!=="selectionchange"&&(tE.has(r)||yd(r,!1,e),yd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fc]||(t[Fc]=!0,yd("selectionchange",!1,t))}}function S1(e,t,r,n){switch(u1(t)){case 1:var o=y3;break;case 4:o=w3;break;default:o=Nh}r=o.bind(null,t,r,e),o=void 0,!Vd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function wd(e,t,r,n,o){var s=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Lo(a),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}a=a.parentNode}}n=n.return}Qy(function(){var l=s,u=Sh(r),f=[];e:{var d=B1.get(e);if(d!==void 0){var h=Oh,y=e;switch(e){case"keypress":if(rl(r)===0)break e;case"keydown":case"keyup":h=O3;break;case"focusin":y="focus",h=pd;break;case"focusout":y="blur",h=pd;break;case"beforeblur":case"afterblur":h=pd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=b3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=M3;break;case b1:case k1:case _1:h=E3;break;case E1:h=z3;break;case"scroll":h=v3;break;case"wheel":h=H3;break;case"copy":case"cut":case"paste":h=C3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Vg}var p=(t&4)!==0,v=!p&&e==="scroll",g=p?d!==null?d+"Capture":null:d;p=[];for(var m=l,w;m!==null;){w=m;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=ka(m,g),x!=null&&p.push(Ta(m,x,w)))),v)break;m=m.return}0<p.length&&(d=new h(d,y,null,r,u),f.push({event:d,listeners:p}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&r!==Dd&&(y=r.relatedTarget||r.fromElement)&&(Lo(y)||y[sn]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=l,y=y?Lo(y):null,y!==null&&(v=Wo(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=l),h!==y)){if(p=Dg,x="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(p=Vg,x="onPointerLeave",g="onPointerEnter",m="pointer"),v=h==null?d:$s(h),w=y==null?d:$s(y),d=new p(x,m+"leave",h,r,u),d.target=v,d.relatedTarget=w,x=null,Lo(u)===l&&(p=new p(g,m+"enter",y,r,u),p.target=w,p.relatedTarget=v,x=p),v=x,h&&y)t:{for(p=h,g=y,m=0,w=p;w;w=Ms(w))m++;for(w=0,x=g;x;x=Ms(x))w++;for(;0<m-w;)p=Ms(p),m--;for(;0<w-m;)g=Ms(g),w--;for(;m--;){if(p===g||g!==null&&p===g.alternate)break t;p=Ms(p),g=Ms(g)}p=null}else p=null;h!==null&&ty(f,d,h,p,!1),y!==null&&v!==null&&ty(f,v,y,p,!0)}}e:{if(d=l?$s(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var k=F3;else if(Zg(d))if(g1)k=Y3;else{k=G3;var _=K3}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=Q3);if(k&&(k=k(e,l))){m1(f,k,r,u);break e}_&&_(e,d,l),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Md(d,"number",d.value)}switch(_=l?$s(l):window,e){case"focusin":(Zg(_)||_.contentEditable==="true")&&(Hs=_,Kd=l,ma=null);break;case"focusout":ma=Kd=Hs=null;break;case"mousedown":Gd=!0;break;case"contextmenu":case"mouseup":case"dragend":Gd=!1,Qg(f,r,u);break;case"selectionchange":if(eE)break;case"keydown":case"keyup":Qg(f,r,u)}var C;if(Rh)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else js?h1(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(d1&&r.locale!=="ko"&&(js||S!=="onCompositionStart"?S==="onCompositionEnd"&&js&&(C=f1()):(qn=u,Ih="value"in qn?qn.value:qn.textContent,js=!0)),_=yl(l,S),0<_.length&&(S=new $g(S,e,null,r,u),f.push({event:S,listeners:_}),C?S.data=C:(C=p1(r),C!==null&&(S.data=C)))),(C=$3?V3(e,r):q3(e,r))&&(l=yl(l,"onBeforeInput"),0<l.length&&(u=new $g("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=C))}C1(f,t)})}function Ta(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yl(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ka(e,r),s!=null&&n.unshift(Ta(e,s,o)),s=ka(e,t),s!=null&&n.push(Ta(e,s,o))),e=e.return}return n}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ty(e,t,r,n,o){for(var s=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,o?(c=ka(r,s),c!=null&&i.unshift(Ta(r,c,a))):o||(c=ka(r,s),c!=null&&i.push(Ta(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var rE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function ry(e){return(typeof e=="string"?e:""+e).replace(rE,"\n").replace(nE,"")}function Kc(e,t,r){if(t=ry(t),ry(e)!==t&&r)throw Error(R(425))}function wl(){}var Qd=null,Yd=null;function Xd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jd=typeof setTimeout=="function"?setTimeout:void 0,oE=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(e){return ny.resolve(null).then(e).catch(iE)}:Jd;function iE(e){setTimeout(function(){throw e})}function vd(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Ba(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Ba(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),Rr="__reactFiber$"+li,Aa="__reactProps$"+li,sn="__reactContainer$"+li,eh="__reactEvents$"+li,aE="__reactListeners$"+li,cE="__reactHandles$"+li;function Lo(e){var t=e[Rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sn]||r[Rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=oy(e);e!==null;){if(r=e[Rr])return r;e=oy(e)}return t}e=r,r=e.parentNode}return null}function ja(e){return e=e[Rr]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function zl(e){return e[Aa]||null}var th=[],Vs=-1;function no(e){return{current:e}}function be(e){0>Vs||(e.current=th[Vs],th[Vs]=null,Vs--)}function ve(e,t){Vs++,th[Vs]=e.current,e.current=t}var to={},it=no(to),Ct=no(!1),jo=to;function ri(e,t){var r=e.type.contextTypes;if(!r)return to;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function St(e){return e=e.childContextTypes,e!=null}function vl(){be(Ct),be(it)}function sy(e,t,r){if(it.current!==to)throw Error(R(168));ve(it,t),ve(Ct,r)}function P1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(R(108,K_(e)||"Unknown",o));return Se({},r,n)}function xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||to,jo=it.current,ve(it,e),ve(Ct,Ct.current),!0}function iy(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=P1(e,t,jo),n.__reactInternalMemoizedMergedChildContext=e,be(Ct),be(it),ve(it,e)):be(Ct),ve(Ct,r)}var en=null,jl=!1,xd=!1;function T1(e){en===null?en=[e]:en.push(e)}function lE(e){jl=!0,T1(e)}function oo(){if(!xd&&en!==null){xd=!0;var e=0,t=fe;try{var r=en;for(fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}en=null,jl=!1}catch(o){throw en!==null&&(en=en.slice(e+1)),e1(Ph,oo),o}finally{fe=t,xd=!1}}return null}var qs=[],Ws=0,bl=null,kl=0,Gt=[],Qt=0,Ho=null,tn=1,rn="";function Io(e,t){qs[Ws++]=kl,qs[Ws++]=bl,bl=e,kl=t}function A1(e,t,r){Gt[Qt++]=tn,Gt[Qt++]=rn,Gt[Qt++]=Ho,Ho=e;var n=tn;e=rn;var o=32-wr(n)-1;n&=~(1<<o),r+=1;var s=32-wr(t)+o;if(30<s){var i=o-o%5;s=(n&(1<<i)-1).toString(32),n>>=i,o-=i,tn=1<<32-wr(t)+o|r<<o|n,rn=s+e}else tn=1<<s|r<<o|n,rn=e}function Uh(e){e.return!==null&&(Io(e,1),A1(e,1,0))}function zh(e){for(;e===bl;)bl=qs[--Ws],qs[Ws]=null,kl=qs[--Ws],qs[Ws]=null;for(;e===Ho;)Ho=Gt[--Qt],Gt[Qt]=null,rn=Gt[--Qt],Gt[Qt]=null,tn=Gt[--Qt],Gt[Qt]=null}var Ut=null,Mt=null,_e=!1,yr=null;function N1(e,t){var r=Yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ay(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ut=e,Mt=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ut=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ho!==null?{id:tn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ut=e,Mt=null,!0):!1;default:return!1}}function rh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nh(e){if(_e){var t=Mt;if(t){var r=t;if(!ay(e,t)){if(rh(e))throw Error(R(418));t=Gn(r.nextSibling);var n=Ut;t&&ay(e,t)?N1(n,r):(e.flags=e.flags&-4097|2,_e=!1,Ut=e)}}else{if(rh(e))throw Error(R(418));e.flags=e.flags&-4097|2,_e=!1,Ut=e}}}function cy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function Gc(e){if(e!==Ut)return!1;if(!_e)return cy(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xd(e.type,e.memoizedProps)),t&&(t=Mt)){if(rh(e))throw I1(),Error(R(418));for(;t;)N1(e,t),t=Gn(t.nextSibling)}if(cy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mt=Gn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Ut?Gn(e.stateNode.nextSibling):null;return!0}function I1(){for(var e=Mt;e;)e=Gn(e.nextSibling)}function ni(){Mt=Ut=null,_e=!1}function jh(e){yr===null?yr=[e]:yr.push(e)}var uE=ln.ReactCurrentBatchConfig;function na(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var o=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function Qc(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ly(e){var t=e._init;return t(e._payload)}function O1(e){function t(g,m){if(e){var w=g.deletions;w===null?(g.deletions=[m],g.flags|=16):w.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function o(g,m){return g=Jn(g,m),g.index=0,g.sibling=null,g}function s(g,m,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<m?(g.flags|=2,m):w):(g.flags|=2,m)):(g.flags|=1048576,m)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,w,x){return m===null||m.tag!==6?(m=Sd(w,g.mode,x),m.return=g,m):(m=o(m,w),m.return=g,m)}function c(g,m,w,x){var k=w.type;return k===zs?u(g,m,w.props.children,x,w.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hn&&ly(k)===m.type)?(x=o(m,w.props),x.ref=na(g,m,w),x.return=g,x):(x=ll(w.type,w.key,w.props,null,g.mode,x),x.ref=na(g,m,w),x.return=g,x)}function l(g,m,w,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Pd(w,g.mode,x),m.return=g,m):(m=o(m,w.children||[]),m.return=g,m)}function u(g,m,w,x,k){return m===null||m.tag!==7?(m=zo(w,g.mode,x,k),m.return=g,m):(m=o(m,w),m.return=g,m)}function f(g,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Sd(""+m,g.mode,w),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rc:return w=ll(m.type,m.key,m.props,null,g.mode,w),w.ref=na(g,null,m),w.return=g,w;case Us:return m=Pd(m,g.mode,w),m.return=g,m;case Hn:var x=m._init;return f(g,x(m._payload),w)}if(ca(m)||Ji(m))return m=zo(m,g.mode,w,null),m.return=g,m;Qc(g,m)}return null}function d(g,m,w,x){var k=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(g,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rc:return w.key===k?c(g,m,w,x):null;case Us:return w.key===k?l(g,m,w,x):null;case Hn:return k=w._init,d(g,m,k(w._payload),x)}if(ca(w)||Ji(w))return k!==null?null:u(g,m,w,x,null);Qc(g,w)}return null}function h(g,m,w,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,a(m,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rc:return g=g.get(x.key===null?w:x.key)||null,c(m,g,x,k);case Us:return g=g.get(x.key===null?w:x.key)||null,l(m,g,x,k);case Hn:var _=x._init;return h(g,m,w,_(x._payload),k)}if(ca(x)||Ji(x))return g=g.get(w)||null,u(m,g,x,k,null);Qc(m,x)}return null}function y(g,m,w,x){for(var k=null,_=null,C=m,S=m=0,M=null;C!==null&&S<w.length;S++){C.index>S?(M=C,C=null):M=C.sibling;var A=d(g,C,w[S],x);if(A===null){C===null&&(C=M);break}e&&C&&A.alternate===null&&t(g,C),m=s(A,m,S),_===null?k=A:_.sibling=A,_=A,C=M}if(S===w.length)return r(g,C),_e&&Io(g,S),k;if(C===null){for(;S<w.length;S++)C=f(g,w[S],x),C!==null&&(m=s(C,m,S),_===null?k=C:_.sibling=C,_=C);return _e&&Io(g,S),k}for(C=n(g,C);S<w.length;S++)M=h(C,g,S,w[S],x),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?S:M.key),m=s(M,m,S),_===null?k=M:_.sibling=M,_=M);return e&&C.forEach(function(I){return t(g,I)}),_e&&Io(g,S),k}function p(g,m,w,x){var k=Ji(w);if(typeof k!="function")throw Error(R(150));if(w=k.call(w),w==null)throw Error(R(151));for(var _=k=null,C=m,S=m=0,M=null,A=w.next();C!==null&&!A.done;S++,A=w.next()){C.index>S?(M=C,C=null):M=C.sibling;var I=d(g,C,A.value,x);if(I===null){C===null&&(C=M);break}e&&C&&I.alternate===null&&t(g,C),m=s(I,m,S),_===null?k=I:_.sibling=I,_=I,C=M}if(A.done)return r(g,C),_e&&Io(g,S),k;if(C===null){for(;!A.done;S++,A=w.next())A=f(g,A.value,x),A!==null&&(m=s(A,m,S),_===null?k=A:_.sibling=A,_=A);return _e&&Io(g,S),k}for(C=n(g,C);!A.done;S++,A=w.next())A=h(C,g,S,A.value,x),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?S:A.key),m=s(A,m,S),_===null?k=A:_.sibling=A,_=A);return e&&C.forEach(function(H){return t(g,H)}),_e&&Io(g,S),k}function v(g,m,w,x){if(typeof w=="object"&&w!==null&&w.type===zs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Rc:e:{for(var k=w.key,_=m;_!==null;){if(_.key===k){if(k=w.type,k===zs){if(_.tag===7){r(g,_.sibling),m=o(_,w.props.children),m.return=g,g=m;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hn&&ly(k)===_.type){r(g,_.sibling),m=o(_,w.props),m.ref=na(g,_,w),m.return=g,g=m;break e}r(g,_);break}else t(g,_);_=_.sibling}w.type===zs?(m=zo(w.props.children,g.mode,x,w.key),m.return=g,g=m):(x=ll(w.type,w.key,w.props,null,g.mode,x),x.ref=na(g,m,w),x.return=g,g=x)}return i(g);case Us:e:{for(_=w.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(g,m.sibling),m=o(m,w.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=Pd(w,g.mode,x),m.return=g,g=m}return i(g);case Hn:return _=w._init,v(g,m,_(w._payload),x)}if(ca(w))return y(g,m,w,x);if(Ji(w))return p(g,m,w,x);Qc(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(g,m.sibling),m=o(m,w),m.return=g,g=m):(r(g,m),m=Sd(w,g.mode,x),m.return=g,g=m),i(g)):r(g,m)}return v}var oi=O1(!0),L1=O1(!1),_l=no(null),El=null,Zs=null,Hh=null;function Dh(){Hh=Zs=El=null}function $h(e){var t=_l.current;be(_l),e._currentValue=t}function oh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Js(e,t){El=e,Hh=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Bt=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(Hh!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(El===null)throw Error(R(308));Zs=e,El.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var Ro=null;function Vh(e){Ro===null?Ro=[e]:Ro.push(e)}function R1(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Vh(t)):(r.next=o.next,o.next=r),t.interleaved=r,an(e,n)}function an(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Dn=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(le&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,an(e,r)}return o=n.interleaved,o===null?(t.next=t,Vh(n)):(t.next=o.next,o.next=t),n.interleaved=t,an(e,r)}function nl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Th(e,r)}}function uy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?o=s=t:s=s.next=t}else o=s=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bl(e,t,r,n){var o=e.updateQueue;Dn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,l=c.next;c.next=null,i===null?s=l:i.next=l,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;i=0,u=l=c=null,a=s;do{var d=a.lane,h=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,p=a;switch(d=t,h=r,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=Se({},f,d);break e;case 2:Dn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,i|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(u===null&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);$o|=i,e.lanes=i,e.memoizedState=f}}function fy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(R(191,o));o.call(n)}}}var Ha={},Ur=no(Ha),Na=no(Ha),Ia=no(Ha);function Mo(e){if(e===Ha)throw Error(R(174));return e}function Wh(e,t){switch(ve(Ia,t),ve(Na,e),ve(Ur,Ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zd(t,e)}be(Ur),ve(Ur,t)}function si(){be(Ur),be(Na),be(Ia)}function U1(e){Mo(Ia.current);var t=Mo(Ur.current),r=zd(t,e.type);t!==r&&(ve(Na,e),ve(Ur,r))}function Zh(e){Na.current===e&&(be(Ur),be(Na))}var Be=no(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bd=[];function Fh(){for(var e=0;e<bd.length;e++)bd[e]._workInProgressVersionPrimary=null;bd.length=0}var ol=ln.ReactCurrentDispatcher,kd=ln.ReactCurrentBatchConfig,Do=0,Ce=null,je=null,Ze=null,Sl=!1,ga=!1,Oa=0,fE=0;function nt(){throw Error(R(321))}function Kh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xr(e[r],t[r]))return!1;return!0}function Gh(e,t,r,n,o,s){if(Do=s,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?mE:gE,e=r(n,o),ga){s=0;do{if(ga=!1,Oa=0,25<=s)throw Error(R(301));s+=1,Ze=je=null,t.updateQueue=null,ol.current=yE,e=r(n,o)}while(ga)}if(ol.current=Pl,t=je!==null&&je.next!==null,Do=0,Ze=je=Ce=null,Sl=!1,t)throw Error(R(300));return e}function Qh(){var e=Oa!==0;return Oa=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ce.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function er(){if(je===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ze===null?Ce.memoizedState:Ze.next;if(t!==null)Ze=t,je=e;else{if(e===null)throw Error(R(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ze===null?Ce.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function La(e,t){return typeof t=="function"?t(e):t}function _d(e){var t=er(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=je,o=n.baseQueue,s=r.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}n.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,n=n.baseState;var a=i=null,c=null,l=s;do{var u=l.lane;if((Do&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=f,i=n):c=c.next=f,Ce.lanes|=u,$o|=u}l=l.next}while(l!==null&&l!==s);c===null?i=n:c.next=a,xr(n,t.memoizedState)||(Bt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do s=o.lane,Ce.lanes|=s,$o|=s,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ed(e){var t=er(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,s=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);xr(s,t.memoizedState)||(Bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function z1(){}function j1(e,t){var r=Ce,n=er(),o=t(),s=!xr(n.memoizedState,o);if(s&&(n.memoizedState=o,Bt=!0),n=n.queue,Yh($1.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,Ra(9,D1.bind(null,r,n,o,t),void 0,null),Fe===null)throw Error(R(349));(Do&30)!==0||H1(r,t,o)}return o}function H1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function D1(e,t,r,n){t.value=r,t.getSnapshot=n,V1(t)&&q1(e)}function $1(e,t,r){return r(function(){V1(t)&&q1(e)})}function V1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xr(e,r)}catch(n){return!0}}function q1(e){var t=an(e,1);t!==null&&vr(t,e,1,-1)}function dy(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},t.queue=e,e=e.dispatch=pE.bind(null,Ce,e),[t.memoizedState,e]}function Ra(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function W1(){return er().memoizedState}function sl(e,t,r,n){var o=Lr();Ce.flags|=e,o.memoizedState=Ra(1|t,r,void 0,n===void 0?null:n)}function Hl(e,t,r,n){var o=er();n=n===void 0?null:n;var s=void 0;if(je!==null){var i=je.memoizedState;if(s=i.destroy,n!==null&&Kh(n,i.deps)){o.memoizedState=Ra(t,r,s,n);return}}Ce.flags|=e,o.memoizedState=Ra(1|t,r,s,n)}function hy(e,t){return sl(8390656,8,e,t)}function Yh(e,t){return Hl(2048,8,e,t)}function Z1(e,t){return Hl(4,2,e,t)}function F1(e,t){return Hl(4,4,e,t)}function K1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G1(e,t,r){return r=r!=null?r.concat([e]):null,Hl(4,4,K1.bind(null,t,e),r)}function Xh(){}function Q1(e,t){var r=er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Y1(e,t){var r=er();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Kh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function X1(e,t,r){return(Do&21)===0?(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=r):(xr(r,t)||(r=n1(),Ce.lanes|=r,$o|=r,e.baseState=!0),t)}function dE(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var n=kd.transition;kd.transition={};try{e(!1),t()}finally{fe=r,kd.transition=n}}function J1(){return er().memoizedState}function hE(e,t,r){var n=Xn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ew(e))tw(t,r);else if(r=R1(e,t,r,n),r!==null){var o=gt();vr(r,e,n,o),rw(r,t,n)}}function pE(e,t,r){var n=Xn(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ew(e))tw(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,r);if(o.hasEagerState=!0,o.eagerState=a,xr(a,i)){var c=t.interleaved;c===null?(o.next=o,Vh(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch(l){}finally{}r=R1(e,t,o,n),r!==null&&(o=gt(),vr(r,e,n,o),rw(r,t,n))}}function ew(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function tw(e,t){ga=Sl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rw(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Th(e,r)}}var Pl={readContext:Jt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},mE={readContext:Jt,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:hy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sl(4194308,4,K1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var r=Lr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Lr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hE.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:dy,useDebugValue:Xh,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=dy(!1),t=e[0];return e=dE.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,o=Lr();if(_e){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),Fe===null)throw Error(R(349));(Do&30)!==0||H1(n,t,r)}o.memoizedState=r;var s={value:r,getSnapshot:t};return o.queue=s,hy($1.bind(null,n,s,e),[e]),n.flags|=2048,Ra(9,D1.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Lr(),t=Fe.identifierPrefix;if(_e){var r=rn,n=tn;r=(n&~(1<<32-wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Oa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gE={readContext:Jt,useCallback:Q1,useContext:Jt,useEffect:Yh,useImperativeHandle:G1,useInsertionEffect:Z1,useLayoutEffect:F1,useMemo:Y1,useReducer:_d,useRef:W1,useState:function(){return _d(La)},useDebugValue:Xh,useDeferredValue:function(e){var t=er();return X1(t,je.memoizedState,e)},useTransition:function(){var e=_d(La)[0],t=er().memoizedState;return[e,t]},useMutableSource:z1,useSyncExternalStore:j1,useId:J1,unstable_isNewReconciler:!1},yE={readContext:Jt,useCallback:Q1,useContext:Jt,useEffect:Yh,useImperativeHandle:G1,useInsertionEffect:Z1,useLayoutEffect:F1,useMemo:Y1,useReducer:Ed,useRef:W1,useState:function(){return Ed(La)},useDebugValue:Xh,useDeferredValue:function(e){var t=er();return je===null?t.memoizedState=e:X1(t,je.memoizedState,e)},useTransition:function(){var e=Ed(La)[0],t=er().memoizedState;return[e,t]},useMutableSource:z1,useSyncExternalStore:j1,useId:J1,unstable_isNewReconciler:!1};function mr(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dl={isMounted:function(e){return(e=e._reactInternals)?Wo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gt(),o=Xn(e),s=nn(n,o);s.payload=t,r!=null&&(s.callback=r),t=Qn(e,s,o),t!==null&&(vr(t,e,o,n),nl(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gt(),o=Xn(e),s=nn(n,o);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Qn(e,s,o),t!==null&&(vr(t,e,o,n),nl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gt(),n=Xn(e),o=nn(r,n);o.tag=2,t!=null&&(o.callback=t),t=Qn(e,o,n),t!==null&&(vr(t,e,n,r),nl(t,e,n))}};function py(e,t,r,n,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Sa(r,n)||!Sa(o,s):!0}function nw(e,t,r){var n=!1,o=to,s=t.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(o=St(t)?jo:it.current,n=t.contextTypes,s=(n=n!=null)?ri(e,o):to),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function my(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dl.enqueueReplaceState(t,t.state,null)}function ih(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},qh(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Jt(s):(s=St(t)?jo:it.current,o.context=ri(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(sh(e,t,s,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Dl.enqueueReplaceState(o,o.state,null),Bl(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,t){try{var r="",n=t;do r+=F_(n),n=n.return;while(n);var o=r}catch(s){o="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:o,digest:null}}function Bd(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function ah(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wE=typeof WeakMap=="function"?WeakMap:Map;function ow(e,t,r){r=nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Al||(Al=!0,yh=n),ah(e,t)},r}function sw(e,t,r){r=nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){ah(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ah(e,t),typeof n!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function gy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wE;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=IE.bind(null,e,t,r),t.then(e,e))}function yy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wy(e,t,r,n,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nn(-1,1),t.tag=2,Qn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vE=ln.ReactCurrentOwner,Bt=!1;function mt(e,t,r,n){t.child=e===null?L1(t,null,r,n):oi(t,e.child,r,n)}function vy(e,t,r,n,o){r=r.render;var s=t.ref;return Js(t,o),n=Gh(e,t,r,n,s,o),r=Qh(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cn(e,t,o)):(_e&&r&&Uh(t),t.flags|=1,mt(e,t,n,o),t.child)}function xy(e,t,r,n,o){if(e===null){var s=r.type;return typeof s=="function"&&!ip(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,iw(e,t,s,n,o)):(e=ll(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Sa,r(i,n)&&e.ref===t.ref)return cn(e,t,o)}return t.flags|=1,e=Jn(s,n),e.ref=t.ref,e.return=t,t.child=e}function iw(e,t,r,n,o){if(e!==null){var s=e.memoizedProps;if(Sa(s,n)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=n=s,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,cn(e,t,o)}return ch(e,t,r,n,o)}function aw(e,t,r){var n=t.pendingProps,o=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Ks,Rt),Rt|=r;else{if((r&1073741824)===0)return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Ks,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ve(Ks,Rt),Rt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ve(Ks,Rt),Rt|=n;return mt(e,t,o,r),t.child}function cw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ch(e,t,r,n,o){var s=St(r)?jo:it.current;return s=ri(t,s),Js(t,o),r=Gh(e,t,r,n,s,o),n=Qh(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cn(e,t,o)):(_e&&n&&Uh(t),t.flags|=1,mt(e,t,r,o),t.child)}function by(e,t,r,n,o){if(St(r)){var s=!0;xl(t)}else s=!1;if(Js(t,o),t.stateNode===null)il(e,t),nw(t,r,n),ih(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,l=r.contextType;typeof l=="object"&&l!==null?l=Jt(l):(l=St(r)?jo:it.current,l=ri(t,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==l)&&my(t,i,n,l),Dn=!1;var d=t.memoizedState;i.state=d,Bl(t,n,i,o),c=t.memoizedState,a!==n||d!==c||Ct.current||Dn?(typeof u=="function"&&(sh(t,r,u,n),c=t.memoizedState),(a=Dn||py(t,r,a,n,d,c,l))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=l,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,M1(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:mr(t.type,a),i.props=l,f=t.pendingProps,d=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jt(c):(c=St(r)?jo:it.current,c=ri(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||d!==c)&&my(t,i,n,c),Dn=!1,d=t.memoizedState,i.state=d,Bl(t,n,i,o);var y=t.memoizedState;a!==f||d!==y||Ct.current||Dn?(typeof h=="function"&&(sh(t,r,h,n),y=t.memoizedState),(l=Dn||py(t,r,l,n,d,y,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=l):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return lh(e,t,r,n,s,o)}function lh(e,t,r,n,o,s){cw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&iy(t,r,!1),cn(e,t,s);n=t.stateNode,vE.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=oi(t,e.child,null,s),t.child=oi(t,null,a,s)):mt(e,t,a,s),t.memoizedState=n.state,o&&iy(t,r,!0),t.child}function lw(e){var t=e.stateNode;t.pendingContext?sy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sy(e,t.context,!1),Wh(e,t.containerInfo)}function ky(e,t,r,n,o){return ni(),jh(o),t.flags|=256,mt(e,t,r,n),t.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function uw(e,t,r){var n=t.pendingProps,o=Be.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ve(Be,o&1),e===null)return nh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},(n&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ql(i,n,0,null),e=zo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fh(r),t.memoizedState=uh,e):Jh(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return xE(e,t,i,n,a,o,r);if(s){s=n.fallback,i=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:n.children};return(i&1)===0&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jn(o,c),n.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Jn(a,s):(s=zo(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?fh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=uh,n}return s=e.child,e=s.sibling,n=Jn(s,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jh(e,t){return t=ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,r,n){return n!==null&&jh(n),oi(t,e.child,null,r),e=Jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xE(e,t,r,n,o,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Bd(Error(R(422))),Yc(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,o=t.mode,n=ql({mode:"visible",children:n.children},o,0,null),s=zo(s,o,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,(t.mode&1)!==0&&oi(t,e.child,null,i),t.child.memoizedState=fh(i),t.memoizedState=uh,s);if((t.mode&1)===0)return Yc(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(R(419)),n=Bd(s,n,void 0),Yc(e,t,i,n)}if(a=(i&e.childLanes)!==0,Bt||a){if(n=Fe,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(n.suspendedLanes|i))!==0?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,an(e,o),vr(n,e,o,-1))}return sp(),n=Bd(Error(R(421))),Yc(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=OE.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Mt=Gn(o.nextSibling),Ut=t,_e=!0,yr=null,e!==null&&(Gt[Qt++]=tn,Gt[Qt++]=rn,Gt[Qt++]=Ho,tn=e.id,rn=e.overflow,Ho=t),t=Jh(t,n.children),t.flags|=4096,t)}function _y(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oh(e.return,t,r)}function Cd(e,t,r,n,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=o)}function fw(e,t,r){var n=t.pendingProps,o=n.revealOrder,s=n.tail;if(mt(e,t,n.children,r),n=Be.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_y(e,r,t);else if(e.tag===19)_y(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ve(Be,n),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Cl(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Cd(t,!1,o,r,s);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Cl(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Cd(t,!0,r,null,s);break;case"together":Cd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$o|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bE(e,t,r){switch(t.tag){case 3:lw(t),ni();break;case 5:U1(t);break;case 1:St(t.type)&&xl(t);break;case 4:Wh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;ve(_l,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ve(Be,Be.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?uw(e,t,r):(ve(Be,Be.current&1),e=cn(e,t,r),e!==null?e.sibling:null);ve(Be,Be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return fw(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ve(Be,Be.current),n)break;return null;case 22:case 23:return t.lanes=0,aw(e,t,r)}return cn(e,t,r)}var dw,dh,hw,pw;dw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dh=function(){};hw=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Mo(Ur.current);var s=null;switch(r){case"input":o=Ld(e,o),n=Ld(e,n),s=[];break;case"select":o=Se({},o,{value:void 0}),n=Se({},n,{value:void 0}),s=[];break;case"textarea":o=Ud(e,o),n=Ud(e,n),s=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wl)}jd(r,n);var i;r=null;for(l in o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var a=o[l];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(xa.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var c=n[l];if(a=o!=null?o[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(xa.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&xe("scroll",e),s||a===c||(s=[])):(s=s||[]).push(l,c))}r&&(s=s||[]).push("style",r);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};pw=function(e,t,r,n){r!==n&&(t.flags|=4)};function oa(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kE(e,t,r){var n=t.pendingProps;switch(zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return St(t.type)&&vl(),ot(t),null;case 3:return n=t.stateNode,si(),be(Ct),be(it),Fh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yr!==null&&(xh(yr),yr=null))),dh(e,t),ot(t),null;case 5:Zh(t);var o=Mo(Ia.current);if(r=t.type,e!==null&&t.stateNode!=null)hw(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return ot(t),null}if(e=Mo(Ur.current),Gc(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Rr]=t,n[Aa]=s,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(o=0;o<ua.length;o++)xe(ua[o],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Ng(n,s),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},xe("invalid",n);break;case"textarea":Og(n,s),xe("invalid",n)}jd(r,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kc(n.textContent,a,e),o=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kc(n.textContent,a,e),o=["children",""+a]):xa.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&xe("scroll",n)}switch(r){case"input":Mc(n),Ig(n,s,!0);break;case"textarea":Mc(n),Lg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=wl)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$y(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Rr]=t,e[Aa]=n,dw(e,t,!1,!1),t.stateNode=e;e:{switch(i=Hd(r,n),r){case"dialog":xe("cancel",e),xe("close",e),o=n;break;case"iframe":case"object":case"embed":xe("load",e),o=n;break;case"video":case"audio":for(o=0;o<ua.length;o++)xe(ua[o],e);o=n;break;case"source":xe("error",e),o=n;break;case"img":case"image":case"link":xe("error",e),xe("load",e),o=n;break;case"details":xe("toggle",e),o=n;break;case"input":Ng(e,n),o=Ld(e,n),xe("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Se({},n,{value:void 0}),xe("invalid",e);break;case"textarea":Og(e,n),o=Ud(e,n),xe("invalid",e);break;default:o=n}jd(r,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Wy(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vy(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ba(e,c):typeof c=="number"&&ba(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&xe("scroll",e):c!=null&&_h(e,s,c,i))}switch(r){case"input":Mc(e),Ig(e,n,!1);break;case"textarea":Mc(e),Lg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+eo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Gs(e,!!n.multiple,s,!1):n.defaultValue!=null&&Gs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=wl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)pw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=Mo(Ia.current),Mo(Ur.current),Gc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rr]=t,(s=n.nodeValue!==r)&&(e=Ut,e!==null))switch(e.tag){case 3:Kc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kc(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rr]=t,t.stateNode=n}return ot(t),null;case 13:if(be(Be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&Mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)I1(),ni(),t.flags|=98560,s=!1;else if(s=Gc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[Rr]=t}else ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),s=!1}else yr!==null&&(xh(yr),yr=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Be.current&1)!==0?He===0&&(He=3):sp())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return si(),dh(e,t),e===null&&Pa(t.stateNode.containerInfo),ot(t),null;case 10:return $h(t.type._context),ot(t),null;case 17:return St(t.type)&&vl(),ot(t),null;case 19:if(be(Be),s=t.memoizedState,s===null)return ot(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)oa(s,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Cl(e),i!==null){for(t.flags|=128,oa(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(Be,Be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Oe()>ai&&(t.flags|=128,n=!0,oa(s,!1),t.lanes=4194304)}else{if(!n)if(e=Cl(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!_e)return ot(t),null}else 2*Oe()-s.renderingStartTime>ai&&r!==1073741824&&(t.flags|=128,n=!0,oa(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Oe(),t.sibling=null,r=Be.current,ve(Be,n?r&1|2:r&1),t):(ot(t),null);case 22:case 23:return op(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function _E(e,t){switch(zh(t),t.tag){case 1:return St(t.type)&&vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(),be(Ct),be(it),Fh(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Zh(t),null;case 13:if(be(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Be),null;case 4:return si(),null;case 10:return $h(t.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var Xc=!1,st=!1,EE=typeof WeakSet=="function"?WeakSet:Set,q=null;function Fs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ne(e,t,n)}else r.current=null}function hh(e,t,r){try{r()}catch(n){Ne(e,t,n)}}var Ey=!1;function BE(e,t){if(Qd=ml,e=v1(),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(x){r=null;break e}var i=0,a=-1,c=-1,l=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==r||o!==0&&f.nodeType!==3||(a=i+o),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===r&&++l===o&&(a=i),d===s&&++u===n&&(c=i),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yd={focusedElem:e,selectionRange:r},ml=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,v=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:mr(t.type,p),v);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(x){Ne(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return y=Ey,Ey=!1,y}function ya(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&hh(t,r,s)}o=o.next}while(o!==n)}}function $l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ph(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mw(e){var t=e.alternate;t!==null&&(e.alternate=null,mw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[Aa],delete t[eh],delete t[aE],delete t[cE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gw(e){return e.tag===5||e.tag===3||e.tag===4}function By(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wl));else if(n!==4&&(e=e.child,e!==null))for(mh(e,t,r),e=e.sibling;e!==null;)mh(e,t,r),e=e.sibling}function gh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gh(e,t,r),e=e.sibling;e!==null;)gh(e,t,r),e=e.sibling}var Qe=null,gr=!1;function jn(e,t,r){for(r=r.child;r!==null;)yw(e,t,r),r=r.sibling}function yw(e,t,r){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Ll,r)}catch(a){}switch(r.tag){case 5:st||Fs(r,t);case 6:var n=Qe,o=gr;Qe=null,jn(e,t,r),Qe=n,gr=o,Qe!==null&&(gr?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(gr?(e=Qe,r=r.stateNode,e.nodeType===8?vd(e.parentNode,r):e.nodeType===1&&vd(e,r),Ba(e)):vd(Qe,r.stateNode));break;case 4:n=Qe,o=gr,Qe=r.stateNode.containerInfo,gr=!0,jn(e,t,r),Qe=n,gr=o;break;case 0:case 11:case 14:case 15:if(!st&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&((s&2)!==0||(s&4)!==0)&&hh(r,t,i),o=o.next}while(o!==n)}jn(e,t,r);break;case 1:if(!st&&(Fs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ne(r,t,a)}jn(e,t,r);break;case 21:jn(e,t,r);break;case 22:r.mode&1?(st=(n=st)||r.memoizedState!==null,jn(e,t,r),st=n):jn(e,t,r);break;default:jn(e,t,r)}}function Cy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new EE),t.forEach(function(n){var o=LE.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,gr=!1;break e;case 3:Qe=a.stateNode.containerInfo,gr=!0;break e;case 4:Qe=a.stateNode.containerInfo,gr=!0;break e}a=a.return}if(Qe===null)throw Error(R(160));yw(s,i,o),Qe=null,gr=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(l){Ne(o,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ww(t,e),t=t.sibling}function ww(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(t,e),Or(e),n&4){try{ya(3,e,e.return),$l(3,e)}catch(p){Ne(e,e.return,p)}try{ya(5,e,e.return)}catch(p){Ne(e,e.return,p)}}break;case 1:pr(t,e),Or(e),n&512&&r!==null&&Fs(r,r.return);break;case 5:if(pr(t,e),Or(e),n&512&&r!==null&&Fs(r,r.return),e.flags&32){var o=e.stateNode;try{ba(o,"")}catch(p){Ne(e,e.return,p)}}if(n&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Hy(o,s),Hd(a,i);var l=Hd(a,s);for(i=0;i<c.length;i+=2){var u=c[i],f=c[i+1];u==="style"?Wy(o,f):u==="dangerouslySetInnerHTML"?Vy(o,f):u==="children"?ba(o,f):_h(o,u,f,l)}switch(a){case"input":Rd(o,s);break;case"textarea":Dy(o,s);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Gs(o,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Gs(o,!!s.multiple,s.defaultValue,!0):Gs(o,!!s.multiple,s.multiple?[]:"",!1))}o[Aa]=s}catch(p){Ne(e,e.return,p)}}break;case 6:if(pr(t,e),Or(e),n&4){if(e.stateNode===null)throw Error(R(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(p){Ne(e,e.return,p)}}break;case 3:if(pr(t,e),Or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(t.containerInfo)}catch(p){Ne(e,e.return,p)}break;case 4:pr(t,e),Or(e);break;case 13:pr(t,e),Or(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(rp=Oe())),n&4&&Cy(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(st=(l=st)||u,pr(t,e),st=l):pr(t,e),Or(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&(e.mode&1)!==0)for(q=e,u=e.child;u!==null;){for(f=q=u;q!==null;){switch(d=q,h=d.child,d.tag){case 0:case 11:case 14:case 15:ya(4,d,d.return);break;case 1:Fs(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){Ne(n,r,p)}}break;case 5:Fs(d,d.return);break;case 22:if(d.memoizedState!==null){Py(f);continue}}h!==null?(h.return=d,q=h):Py(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{o=f.stateNode,l?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=qy("display",i))}catch(p){Ne(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(p){Ne(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pr(t,e),Or(e),n&4&&Cy(e);break;case 21:break;default:pr(t,e),Or(e)}}function Or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gw(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(ba(o,""),n.flags&=-33);var s=By(e);gh(e,s,o);break;case 3:case 4:var i=n.stateNode.containerInfo,a=By(e);mh(e,a,i);break;default:throw Error(R(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CE(e,t,r){q=e,vw(e,t,r)}function vw(e,t,r){for(var n=(e.mode&1)!==0;q!==null;){var o=q,s=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||Xc;if(!i){var a=o.alternate,c=a!==null&&a.memoizedState!==null||st;a=Xc;var l=st;if(Xc=i,(st=c)&&!l)for(q=o;q!==null;)i=q,c=i.child,i.tag===22&&i.memoizedState!==null?Ty(o):c!==null?(c.return=i,q=c):Ty(o);for(;s!==null;)q=s,vw(s,t,r),s=s.sibling;q=o,Xc=a,st=l}Sy(e,t,r)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,q=s):Sy(e,t,r)}}function Sy(e){for(;q!==null;){var t=q;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:st||$l(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!st)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:mr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fy(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fy(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}st||t.flags&512&&ph(t)}catch(d){Ne(t,t.return,d)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function Py(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function Ty(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$l(4,t)}catch(c){Ne(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){Ne(t,o,c)}}var s=t.return;try{ph(t)}catch(c){Ne(t,s,c)}break;case 5:var i=t.return;try{ph(t)}catch(c){Ne(t,i,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var SE=Math.ceil,Tl=ln.ReactCurrentDispatcher,ep=ln.ReactCurrentOwner,Xt=ln.ReactCurrentBatchConfig,le=0,Fe=null,Le=null,Ye=0,Rt=0,Ks=no(0),He=0,Ma=null,$o=0,Vl=0,tp=0,wa=null,Et=null,rp=0,ai=1/0,Jr=null,Al=!1,yh=null,Yn=null,Jc=!1,Wn=null,Nl=0,va=0,wh=null,al=-1,cl=0;function gt(){return(le&6)!==0?Oe():al!==-1?al:al=Oe()}function Xn(e){return(e.mode&1)===0?1:(le&2)!==0&&Ye!==0?Ye&-Ye:uE.transition!==null?(cl===0&&(cl=n1()),cl):(e=fe,e!==0||(e=window.event,e=e===void 0?16:u1(e.type)),e)}function vr(e,t,r,n){if(50<va)throw va=0,wh=null,Error(R(185));Ua(e,r,n),((le&2)===0||e!==Fe)&&(e===Fe&&((le&2)===0&&(Vl|=r),He===4&&Vn(e,Ye)),Pt(e,n),r===1&&le===0&&(t.mode&1)===0&&(ai=Oe()+500,jl&&oo()))}function Pt(e,t){var r=e.callbackNode;d3(e,t);var n=pl(e,e===Fe?Ye:0);if(n===0)r!==null&&Ug(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ug(r),t===1)e.tag===0?lE(Ay.bind(null,e)):T1(Ay.bind(null,e)),sE(function(){(le&6)===0&&oo()}),r=null;else{switch(o1(n)){case 1:r=Ph;break;case 4:r=t1;break;case 16:r=hl;break;case 536870912:r=r1;break;default:r=hl}r=Sw(r,xw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xw(e,t){if(al=-1,cl=0,(le&6)!==0)throw Error(R(327));var r=e.callbackNode;if(ei()&&e.callbackNode!==r)return null;var n=pl(e,e===Fe?Ye:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Il(e,n);else{t=n;var o=le;le|=2;var s=kw();(Fe!==e||Ye!==t)&&(Jr=null,ai=Oe()+500,Uo(e,t));do try{AE();break}catch(a){bw(e,a)}while(!0);Dh(),Tl.current=s,le=o,Le!==null?t=0:(Fe=null,Ye=0,t=He)}if(t!==0){if(t===2&&(o=Wd(e),o!==0&&(n=o,t=vh(e,o))),t===1)throw r=Ma,Uo(e,0),Vn(e,n),Pt(e,Oe()),r;if(t===6)Vn(e,n);else{if(o=e.current.alternate,(n&30)===0&&!PE(o)&&(t=Il(e,n),t===2&&(s=Wd(e),s!==0&&(n=s,t=vh(e,s))),t===1))throw r=Ma,Uo(e,0),Vn(e,n),Pt(e,Oe()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:Oo(e,Et,Jr);break;case 3:if(Vn(e,n),(n&130023424)===n&&(t=rp+500-Oe(),10<t)){if(pl(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){gt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Jd(Oo.bind(null,e,Et,Jr),t);break}Oo(e,Et,Jr);break;case 4:if(Vn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-wr(n);s=1<<i,i=t[i],i>o&&(o=i),n&=~s}if(n=o,n=Oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SE(n/1960))-n,10<n){e.timeoutHandle=Jd(Oo.bind(null,e,Et,Jr),n);break}Oo(e,Et,Jr);break;case 5:Oo(e,Et,Jr);break;default:throw Error(R(329))}}}return Pt(e,Oe()),e.callbackNode===r?xw.bind(null,e):null}function vh(e,t){var r=wa;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),e=Il(e,t),e!==2&&(t=Et,Et=r,t!==null&&xh(t)),e}function xh(e){Et===null?Et=e:Et.push.apply(Et,e)}function PE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],s=o.getSnapshot;o=o.value;try{if(!xr(s(),o))return!1}catch(i){return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t){for(t&=~tp,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wr(t),n=1<<r;e[r]=-1,t&=~n}}function Ay(e){if((le&6)!==0)throw Error(R(327));ei();var t=pl(e,0);if((t&1)===0)return Pt(e,Oe()),null;var r=Il(e,t);if(e.tag!==0&&r===2){var n=Wd(e);n!==0&&(t=n,r=vh(e,n))}if(r===1)throw r=Ma,Uo(e,0),Vn(e,t),Pt(e,Oe()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oo(e,Et,Jr),Pt(e,Oe()),null}function np(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(ai=Oe()+500,jl&&oo())}}function Vo(e){Wn!==null&&Wn.tag===0&&(le&6)===0&&ei();var t=le;le|=1;var r=Xt.transition,n=fe;try{if(Xt.transition=null,fe=1,e)return e()}finally{fe=n,Xt.transition=r,le=t,(le&6)===0&&oo()}}function op(){Rt=Ks.current,be(Ks)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oE(r)),Le!==null)for(r=Le.return;r!==null;){var n=r;switch(zh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vl();break;case 3:si(),be(Ct),be(it),Fh();break;case 5:Zh(n);break;case 4:si();break;case 13:be(Be);break;case 19:be(Be);break;case 10:$h(n.type._context);break;case 22:case 23:op()}r=r.return}if(Fe=e,Le=e=Jn(e.current,null),Ye=Rt=t,He=0,Ma=null,tp=Vl=$o=0,Et=wa=null,Ro!==null){for(t=0;t<Ro.length;t++)if(r=Ro[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=o,n.next=i}r.pending=n}Ro=null}return e}function bw(e,t){do{var r=Le;try{if(Dh(),ol.current=Pl,Sl){for(var n=Ce.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Sl=!1}if(Do=0,Ze=je=Ce=null,ga=!1,Oa=0,ep.current=null,r===null||r.return===null){He=1,Ma=t,Le=null;break}e:{var s=e,i=r.return,a=r,c=t;if(t=Ye,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,f=u.tag;if((u.mode&1)===0&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=yy(i);if(h!==null){h.flags&=-257,wy(h,i,a,s,t),h.mode&1&&gy(s,l,t),t=h,c=l;var y=t.updateQueue;if(y===null){var p=new Set;p.add(c),t.updateQueue=p}else y.add(c);break e}else{if((t&1)===0){gy(s,l,t),sp();break e}c=Error(R(426))}}else if(_e&&a.mode&1){var v=yy(i);if(v!==null){(v.flags&65536)===0&&(v.flags|=256),wy(v,i,a,s,t),jh(ii(c,a));break e}}s=c=ii(c,a),He!==4&&(He=2),wa===null?wa=[s]:wa.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=ow(s,c,t);uy(s,g);break e;case 1:a=c;var m=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yn===null||!Yn.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=sw(s,a,t);uy(s,x);break e}}s=s.return}while(s!==null)}Ew(r)}catch(k){t=k,Le===r&&r!==null&&(Le=r=r.return);continue}break}while(!0)}function kw(){var e=Tl.current;return Tl.current=Pl,e===null?Pl:e}function sp(){(He===0||He===3||He===2)&&(He=4),Fe===null||($o&268435455)===0&&(Vl&268435455)===0||Vn(Fe,Ye)}function Il(e,t){var r=le;le|=2;var n=kw();(Fe!==e||Ye!==t)&&(Jr=null,Uo(e,t));do try{TE();break}catch(o){bw(e,o)}while(!0);if(Dh(),le=r,Tl.current=n,Le!==null)throw Error(R(261));return Fe=null,Ye=0,He}function TE(){for(;Le!==null;)_w(Le)}function AE(){for(;Le!==null&&!n3();)_w(Le)}function _w(e){var t=Cw(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Ew(e):Le=t,ep.current=null}function Ew(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=kE(r,t,Rt),r!==null){Le=r;return}}else{if(r=_E(r,t),r!==null){r.flags&=32767,Le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Le=null;return}}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);He===0&&(He=5)}function Oo(e,t,r){var n=fe,o=Xt.transition;try{Xt.transition=null,fe=1,NE(e,t,r,n)}finally{Xt.transition=o,fe=n}return null}function NE(e,t,r,n){do ei();while(Wn!==null);if((le&6)!==0)throw Error(R(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(h3(e,s),e===Fe&&(Le=Fe=null,Ye=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Jc||(Jc=!0,Sw(hl,function(){return ei(),null})),s=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||s){s=Xt.transition,Xt.transition=null;var i=fe;fe=1;var a=le;le|=4,ep.current=null,BE(e,r),ww(r,e),J3(Yd),ml=!!Qd,Yd=Qd=null,e.current=r,CE(r,e,o),o3(),le=a,fe=i,Xt.transition=s}else e.current=r;if(Jc&&(Jc=!1,Wn=e,Nl=o),s=e.pendingLanes,s===0&&(Yn=null),a3(r.stateNode,n),Pt(e,Oe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Al)throw Al=!1,e=yh,yh=null,e;return(Nl&1)!==0&&e.tag!==0&&ei(),s=e.pendingLanes,(s&1)!==0?e===wh?va++:(va=0,wh=e):va=0,oo(),null}function ei(){if(Wn!==null){var e=o1(Nl),t=Xt.transition,r=fe;try{if(Xt.transition=null,fe=16>e?16:e,Wn===null)var n=!1;else{if(e=Wn,Wn=null,Nl=0,(le&6)!==0)throw Error(R(331));var o=le;for(le|=4,q=e.current;q!==null;){var s=q,i=s.child;if((q.flags&16)!==0){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(q=l;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:ya(8,u,s)}var f=u.child;if(f!==null)f.return=u,q=f;else for(;q!==null;){u=q;var d=u.sibling,h=u.return;if(mw(u),u===l){q=null;break}if(d!==null){d.return=h,q=d;break}q=h}}}var y=s.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}q=s}}if((s.subtreeFlags&2064)!==0&&i!==null)i.return=s,q=i;else e:for(;q!==null;){if(s=q,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:ya(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,q=g;break e}q=s.return}}var m=e.current;for(q=m;q!==null;){i=q;var w=i.child;if((i.subtreeFlags&2064)!==0&&w!==null)w.return=i,q=w;else e:for(i=m;q!==null;){if(a=q,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:$l(9,a)}}catch(k){Ne(a,a.return,k)}if(a===i){q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,q=x;break e}q=a.return}}if(le=o,oo(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Ll,e)}catch(k){}n=!0}return n}finally{fe=r,Xt.transition=t}}return!1}function Ny(e,t,r){t=ii(r,t),t=ow(e,t,1),e=Qn(e,t,1),t=gt(),e!==null&&(Ua(e,1,t),Pt(e,t))}function Ne(e,t,r){if(e.tag===3)Ny(e,e,r);else for(;t!==null;){if(t.tag===3){Ny(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yn===null||!Yn.has(n))){e=ii(r,e),e=sw(t,e,1),t=Qn(t,e,1),e=gt(),t!==null&&(Ua(t,1,e),Pt(t,e));break}}t=t.return}}function IE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&r,Fe===e&&(Ye&r)===r&&(He===4||He===3&&(Ye&130023424)===Ye&&500>Oe()-rp?Uo(e,0):tp|=r),Pt(e,t)}function Bw(e,t){t===0&&((e.mode&1)===0?t=1:(t=jc,jc<<=1,(jc&130023424)===0&&(jc=4194304)));var r=gt();e=an(e,t),e!==null&&(Ua(e,t,r),Pt(e,r))}function OE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Bw(e,r)}function LE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),Bw(e,r)}var Cw;Cw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)Bt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Bt=!1,bE(e,t,r);Bt=(e.flags&131072)!==0}else Bt=!1,_e&&(t.flags&1048576)!==0&&A1(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;il(e,t),e=t.pendingProps;var o=ri(t,it.current);Js(t,r),o=Gh(null,t,n,e,o,r);var s=Qh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(n)?(s=!0,xl(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,qh(t),o.updater=Dl,t.stateNode=o,o._reactInternals=t,ih(t,n,e,r),t=lh(null,t,n,!0,s,r)):(t.tag=0,_e&&s&&Uh(t),mt(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(il(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=ME(n),e=mr(n,e),o){case 0:t=ch(null,t,n,e,r);break e;case 1:t=by(null,t,n,e,r);break e;case 11:t=vy(null,t,n,e,r);break e;case 14:t=xy(null,t,n,mr(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:mr(n,o),ch(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:mr(n,o),by(e,t,n,o,r);case 3:e:{if(lw(t),e===null)throw Error(R(387));n=t.pendingProps,s=t.memoizedState,o=s.element,M1(e,t),Bl(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ii(Error(R(423)),t),t=ky(e,t,n,r,o);break e}else if(n!==o){o=ii(Error(R(424)),t),t=ky(e,t,n,r,o);break e}else for(Mt=Gn(t.stateNode.containerInfo.firstChild),Ut=t,_e=!0,yr=null,r=L1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ni(),n===o){t=cn(e,t,r);break e}mt(e,t,n,r)}t=t.child}return t;case 5:return U1(t),e===null&&nh(t),n=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Xd(n,o)?i=null:s!==null&&Xd(n,s)&&(t.flags|=32),cw(e,t),mt(e,t,i,r),t.child;case 6:return e===null&&nh(t),null;case 13:return uw(e,t,r);case 4:return Wh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=oi(t,null,n,r):mt(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:mr(n,o),vy(e,t,n,o,r);case 7:return mt(e,t,t.pendingProps,r),t.child;case 8:return mt(e,t,t.pendingProps.children,r),t.child;case 12:return mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ve(_l,n._currentValue),n._currentValue=i,s!==null)if(xr(s.value,i)){if(s.children===o.children&&!Ct.current){t=cn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=nn(-1,r&-r),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),oh(s.return,r,t),a.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(R(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),oh(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}mt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Js(t,r),o=Jt(o),n=n(o),t.flags|=1,mt(e,t,n,r),t.child;case 14:return n=t.type,o=mr(n,t.pendingProps),o=mr(n.type,o),xy(e,t,n,o,r);case 15:return iw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:mr(n,o),il(e,t),t.tag=1,St(n)?(e=!0,xl(t)):e=!1,Js(t,r),nw(t,n,o),ih(t,n,o,r),lh(null,t,n,!0,e,r);case 19:return fw(e,t,r);case 22:return aw(e,t,r)}throw Error(R(156,t.tag))};function Sw(e,t){return e1(e,t)}function RE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,r,n){return new RE(e,t,r,n)}function ip(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ME(e){if(typeof e=="function")return ip(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bh)return 11;if(e===Ch)return 14}return 2}function Jn(e,t){var r=e.alternate;return r===null?(r=Yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ll(e,t,r,n,o,s){var i=2;if(n=e,typeof e=="function")ip(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zs:return zo(r.children,o,s,t);case Eh:i=8,o|=8;break;case Ad:return e=Yt(12,r,t,o|2),e.elementType=Ad,e.lanes=s,e;case Nd:return e=Yt(13,r,t,o),e.elementType=Nd,e.lanes=s,e;case Id:return e=Yt(19,r,t,o),e.elementType=Id,e.lanes=s,e;case Uy:return ql(r,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ry:i=10;break e;case My:i=9;break e;case Bh:i=11;break e;case Ch:i=14;break e;case Hn:i=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Yt(i,r,t,o),t.elementType=e,t.type=n,t.lanes=s,t}function zo(e,t,r,n){return e=Yt(7,e,n,t),e.lanes=r,e}function ql(e,t,r,n){return e=Yt(22,e,n,t),e.elementType=Uy,e.lanes=r,e.stateNode={isHidden:!1},e}function Sd(e,t,r){return e=Yt(6,e,null,t),e.lanes=r,e}function Pd(e,t,r){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UE(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ap(e,t,r,n,o,s,i,a,c){return e=new UE(e,t,r,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Yt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qh(s),e}function zE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Pw(e){if(!e)return to;e=e._reactInternals;e:{if(Wo(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(St(r))return P1(e,r,t)}return t}function Tw(e,t,r,n,o,s,i,a,c){return e=ap(r,n,!0,e,o,s,i,a,c),e.context=Pw(null),r=e.current,n=gt(),o=Xn(r),s=nn(n,o),s.callback=t!=null?t:null,Qn(r,s,o),e.current.lanes=o,Ua(e,o,n),Pt(e,n),e}function Wl(e,t,r,n){var o=t.current,s=gt(),i=Xn(o);return r=Pw(r),t.context===null?t.context=r:t.pendingContext=r,t=nn(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qn(o,t,i),e!==null&&(vr(e,o,i,s),nl(e,o,i)),i}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Iy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cp(e,t){Iy(e,t),(e=e.alternate)&&Iy(e,t)}function jE(){return null}var Aw=typeof reportError=="function"?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}Zl.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Wl(e,t,null,null)};Zl.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vo(function(){Wl(null,e,null,null)}),t[sn]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=a1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&l1(e)}};function up(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oy(){}function HE(e,t,r,n,o){if(o){if(typeof n=="function"){var s=n;n=function(){var l=Ol(i);s.call(l)}}var i=Tw(t,n,e,0,null,!1,!1,"",Oy);return e._reactRootContainer=i,e[sn]=i.current,Pa(e.nodeType===8?e.parentNode:e),Vo(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var a=n;n=function(){var l=Ol(c);a.call(l)}}var c=ap(e,0,!1,null,null,!1,!1,"",Oy);return e._reactRootContainer=c,e[sn]=c.current,Pa(e.nodeType===8?e.parentNode:e),Vo(function(){Wl(t,c,r,n)}),c}function Kl(e,t,r,n,o){var s=r._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var c=Ol(i);a.call(c)}}Wl(t,i,e,o)}else i=HE(r,t,e,o,n);return Ol(i)}s1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=la(t.pendingLanes);r!==0&&(Th(t,r|1),Pt(t,Oe()),(le&6)===0&&(ai=Oe()+500,oo()))}break;case 13:Vo(function(){var n=an(e,1);if(n!==null){var o=gt();vr(n,e,1,o)}}),cp(e,1)}};Ah=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var r=gt();vr(t,e,134217728,r)}cp(e,134217728)}};i1=function(e){if(e.tag===13){var t=Xn(e),r=an(e,t);if(r!==null){var n=gt();vr(r,e,t,n)}cp(e,t)}};a1=function(){return fe};c1=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};$d=function(e,t,r){switch(t){case"input":if(Rd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=zl(n);if(!o)throw Error(R(90));jy(n),Rd(n,o)}}}break;case"textarea":Dy(e,r);break;case"select":t=r.value,t!=null&&Gs(e,!!r.multiple,t,!1)}};Ky=np;Gy=Vo;var DE={usingClientEntryPoint:!1,Events:[ja,$s,zl,Zy,Fy,np]},sa={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$E={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xy(e),e===null?null:e.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||jE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ia=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ia.isDisabled&&ia.supportsFiber))try{Ll=ia.inject($E),Mr=ia}catch(e){}var ia;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DE;Ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(t))throw Error(R(200));return zE(e,t,null,r)};Ht.createRoot=function(e,t){if(!up(e))throw Error(R(299));var r=!1,n="",o=Aw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ap(e,1,!1,null,null,r,!1,n,o),e[sn]=t.current,Pa(e.nodeType===8?e.parentNode:e),new lp(t)};Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Xy(t),e=e===null?null:e.stateNode,e};Ht.flushSync=function(e){return Vo(e)};Ht.hydrate=function(e,t,r){if(!Fl(t))throw Error(R(200));return Kl(null,e,t,!0,r)};Ht.hydrateRoot=function(e,t,r){if(!up(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,o=!1,s="",i=Aw;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Tw(t,null,e,1,r!=null?r:null,o,!1,s,i),e[sn]=t.current,Pa(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Zl(t)};Ht.render=function(e,t,r){if(!Fl(t))throw Error(R(200));return Kl(null,e,t,!1,r)};Ht.unmountComponentAtNode=function(e){if(!Fl(e))throw Error(R(40));return e._reactRootContainer?(Vo(function(){Kl(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};Ht.unstable_batchedUpdates=np;Ht.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fl(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Kl(e,t,r,!1,n)};Ht.version="18.3.1-next-f1338f8080-20240426"});var Lw=Xr((LA,Ow)=>{"use strict";function Iw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iw)}catch(e){console.error(e)}}Iw(),Ow.exports=Nw()});var Mw=Xr(fp=>{"use strict";var Rw=Lw();fp.createRoot=Rw.createRoot,fp.hydrateRoot=Rw.hydrateRoot;var RA});var Ok=Xr($f=>{"use strict";var nA=pt(),oA=Symbol.for("react.element"),sA=Symbol.for("react.fragment"),iA=Object.prototype.hasOwnProperty,aA=nA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cA={key:!0,ref:!0,__self:!0,__source:!0};function Ik(e,t,r){var n,o={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)iA.call(t,n)&&!cA.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:oA,type:e,key:s,ref:i,props:o,_owner:aA.current}}$f.Fragment=sA;$f.jsx=Ik;$f.jsxs=Ik});var ce=Xr((lj,Lk)=>{"use strict";Lk.exports=Ok()});var Jk={};Un(Jk,{createWorker:()=>gA});var gA,e_=E_(()=>{gA=()=>new Worker(URL.createObjectURL(new Blob(['class x{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}static createEmpty(a,b){return new x(new Uint8ClampedArray(a*b),a)}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}setRegion(a,b,c,d,e){for(let f=b;f<b+d;f++)for(let g=a;g<a+c;g++)this.set(g,f,!!e)}}\nclass A{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,b){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}\nclass ba{constructor(a){this.bitOffset=this.byteOffset=0;this.bytes=a}readBits(a){if(1>a||32<a||a>this.available())throw Error("Cannot read "+a.toString()+" bits");var b=0;if(0<this.bitOffset){b=8-this.bitOffset;var c=a<b?a:b;b-=c;b=(this.bytes[this.byteOffset]&255>>8-c<<b)>>b;a-=c;this.bitOffset+=c;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<a){for(;8<=a;)b=b<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,a-=8;0<a&&(c=8-a,b=b<<a|(this.bytes[this.byteOffset]&255>>c<<c)>>c,\nthis.bitOffset+=a)}return b}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var B,C=B||(B={});C.Numeric="numeric";C.Alphanumeric="alphanumeric";C.Byte="byte";C.Kanji="kanji";C.ECI="eci";C.StructuredAppend="structuredappend";var D,E=D||(D={});E[E.Terminator=0]="Terminator";E[E.Numeric=1]="Numeric";E[E.Alphanumeric=2]="Alphanumeric";E[E.Byte=4]="Byte";E[E.Kanji=8]="Kanji";E[E.ECI=7]="ECI";E[E.StructuredAppend=3]="StructuredAppend";let F="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");\nfunction ca(a,b){let c=[],d="";b=a.readBits([8,16,16][b]);for(let e=0;e<b;e++){let f=a.readBits(8);c.push(f)}try{d+=decodeURIComponent(c.map(e=>`%${("0"+e.toString(16)).substr(-2)}`).join(""))}catch(e){}return{bytes:c,text:d}}\nfunction da(a,b){a=new ba(a);let c=9>=b?0:26>=b?1:2;for(b={text:"",bytes:[],chunks:[],version:b};4<=a.available();){var d=a.readBits(4);if(d===D.Terminator)return b;if(d===D.ECI)0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(7)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(14)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(21)}):b.chunks.push({type:B.ECI,assignmentNumber:-1});else if(d===D.Numeric){var e=a,f=[];d="";for(var g=\ne.readBits([10,12,14][c]);3<=g;){var h=e.readBits(10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),m=Math.floor(h/10)%10;h%=10;f.push(48+k,48+m,48+h);d+=k.toString()+m.toString()+h.toString();g-=3}if(2===g){g=e.readBits(7);if(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;f.push(48+e,48+g);d+=e.toString()+g.toString()}else if(1===g){e=e.readBits(4);if(10<=e)throw Error("Invalid numeric value above 9");f.push(48+e);d+=e.toString()}b.text+=\nd;b.bytes.push(...f);b.chunks.push({type:B.Numeric,text:d})}else if(d===D.Alphanumeric){e=a;f=[];d="";for(g=e.readBits([9,11,13][c]);2<=g;)m=e.readBits(11),k=Math.floor(m/45),m%=45,f.push(F[k].charCodeAt(0),F[m].charCodeAt(0)),d+=F[k]+F[m],g-=2;1===g&&(e=e.readBits(6),f.push(F[e].charCodeAt(0)),d+=F[e]);b.text+=d;b.bytes.push(...f);b.chunks.push({type:B.Alphanumeric,text:d})}else if(d===D.Byte)d=ca(a,c),b.text+=d.text,b.bytes.push(...d.bytes),b.chunks.push({type:B.Byte,bytes:d.bytes,text:d.text});\nelse if(d===D.Kanji){f=a;d=[];e=f.readBits([8,10,12][c]);for(g=0;g<e;g++)k=f.readBits(13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));b.text+=f;b.bytes.push(...d);b.chunks.push({type:B.Kanji,bytes:d,text:f})}else d===D.StructuredAppend&&b.chunks.push({type:B.StructuredAppend,currentSequence:a.readBits(4),totalSequence:a.readBits(4),parity:a.readBits(8)})}if(0===a.available()||0===a.readBits(a.available()))return b}\nclass G{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.field=a;let c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(c-d),a=0;a<this.coefficients.length;a++)this.coefficients[a]=b[d+a]}else this.coefficients=b}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}addOrSubtract(a){if(this.isZero())return a;\nif(a.isZero())return this;let b=this.coefficients;a=a.coefficients;b.length>a.length&&([b,a]=[a,b]);let c=new Uint8ClampedArray(a.length),d=a.length-b.length;for(var e=0;e<d;e++)c[e]=a[e];for(e=d;e<a.length;e++)c[e]=b[e-d]^a[e];return new G(this.field,c)}multiply(a){if(0===a)return this.field.zero;if(1===a)return this;let b=this.coefficients.length,c=new Uint8ClampedArray(b);for(let d=0;d<b;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new G(this.field,c)}multiplyPoly(a){if(this.isZero()||\na.isZero())return this.field.zero;let b=this.coefficients,c=b.length;a=a.coefficients;let d=a.length,e=new Uint8ClampedArray(c+d-1);for(let f=0;f<c;f++){let g=b[f];for(let h=0;h<d;h++)e[f+h]=H(e[f+h],this.field.multiply(g,a[h]))}return new G(this.field,e)}multiplyByMonomial(a,b){if(0>a)throw Error("Invalid degree less than 0");if(0===b)return this.field.zero;let c=this.coefficients.length;a=new Uint8ClampedArray(c+a);for(let d=0;d<c;d++)a[d]=this.field.multiply(this.coefficients[d],b);return new G(this.field,\na)}evaluateAt(a){let b=0;if(0===a)return this.getCoefficient(0);let c=this.coefficients.length;if(1===a)return this.coefficients.forEach(d=>{b^=d}),b;b=this.coefficients[0];for(let d=1;d<c;d++)b=H(this.field.multiply(a,b),this.coefficients[d]);return b}}function H(a,b){return a^b}\nclass ea{constructor(a,b,c){this.primitive=a;this.size=b;this.generatorBase=c;this.expTable=Array(this.size);this.logTable=Array(this.size);a=1;for(b=0;b<this.size;b++)this.expTable[b]=a,a*=2,a>=this.size&&(a=(a^this.primitive)&this.size-1);for(a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new G(this,Uint8ClampedArray.from([0]));this.one=new G(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]}inverse(a){if(0===\na)throw Error("Can\'t invert 0");return this.expTable[this.size-this.logTable[a]-1]}buildMonomial(a,b){if(0>a)throw Error("Invalid monomial degree less than 0");if(0===b)return this.zero;a=new Uint8ClampedArray(a+1);a[0]=b;return new G(this,a)}log(a){if(0===a)throw Error("Can\'t take log(0)");return this.logTable[a]}exp(a){return this.expTable[a]}}\nfunction fa(a,b,c,d){b.degree()<c.degree()&&([b,c]=[c,b]);let e=a.zero;for(var f=a.one;c.degree()>=d/2;){var g=b;let h=e;b=c;e=f;if(b.isZero())return null;c=g;f=a.zero;g=b.getCoefficient(b.degree());for(g=a.inverse(g);c.degree()>=b.degree()&&!c.isZero();){let k=c.degree()-b.degree(),m=a.multiply(c.getCoefficient(c.degree()),g);f=f.addOrSubtract(a.buildMonomial(k,m));c=c.addOrSubtract(b.multiplyByMonomial(k,m))}f=f.multiplyPoly(e).addOrSubtract(h);if(c.degree()>=b.degree())return null}d=f.getCoefficient(0);\nif(0===d)return null;a=a.inverse(d);return[f.multiply(a),c.multiply(a)]}\nfunction ha(a,b){let c=new Uint8ClampedArray(a.length);c.set(a);a=new ea(285,256,0);var d=new G(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=d.evaluateAt(a.exp(g+a.generatorBase));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new G(a,e);d=fa(a,a.buildMonomial(b,1),d,b);if(null===d)return null;b=d[0];g=b.degree();if(1===g)b=[b.getCoefficient(1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===b.evaluateAt(h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;e=d[1];\nf=b.length;d=Array(f);for(g=0;g<f;g++){h=a.inverse(b[g]);let k=1;for(let m=0;m<f;m++)g!==m&&(k=a.multiply(k,H(1,a.multiply(b[m],h))));d[g]=a.multiply(e.evaluateAt(h),a.inverse(k));0!==a.generatorBase&&(d[g]=a.multiply(d[g],h))}for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}\nlet I=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},\n{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,\n34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},\n{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},\n{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},\n{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,\necBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,\n74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,\nversionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,\ndataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,\ndataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},\n{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},\n{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},\n{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},\n{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},\n{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,\ndataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},\n{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,\n26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},\n{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},\n{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,\ndataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,\ndataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],\nerrorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,\nversionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},\n{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function J(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function K(a,b){return b<<1|a}\nlet ia=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,\ndataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,\nformatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,\ndataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],ja=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%\n2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2];\nfunction ka(a,b,c){c=ja[c.dataMask];let d=a.height;var e=17+4*b.versionNumber;let f=x.createEmpty(e,e);f.setRegion(0,0,9,9,!0);f.setRegion(e-8,0,8,9,!0);f.setRegion(0,e-8,9,8,!0);for(var g of b.alignmentPatternCenters)for(var h of b.alignmentPatternCenters)6===g&&6===h||6===g&&h===e-7||g===e-7&&6===h||f.setRegion(g-2,h-2,5,5,!0);f.setRegion(6,9,1,e-17,!0);f.setRegion(9,6,e-17,1,!0);6<b.versionNumber&&(f.setRegion(e-11,0,3,6,!0),f.setRegion(0,e-11,6,3,!0));b=[];h=g=0;e=!0;for(let k=d-1;0<k;k-=2){6===\nk&&k--;for(let m=0;m<d;m++){let l=e?d-1-m:m;for(let n=0;2>n;n++){let q=k-n;if(!f.get(q,l)){h++;let r=a.get(q,l);c({y:l,x:q})&&(r=!r);g=g<<1|r;8===h&&(b.push(g),g=h=0)}}}e=!e}return b}\nfunction la(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return I[c-1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=K(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let g=b-9;g>=b-11;g--)d=K(a.get(e,g),d);a=Infinity;let f;for(let g of I){if(g.infoBits===c||g.infoBits===d)return g;b=J(c,g.infoBits);b<a&&(f=g,a=b);b=J(d,g.infoBits);b<a&&(f=g,a=b)}if(3>=a)return f}\nfunction ma(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=K(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=K(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=K(a.get(8,e),c);for(e=d-8;e<d;e++)c=K(a.get(e,8),c);a=Infinity;d=null;for(let {bits:f,formatInfo:g}of ia){if(f===b||f===c)return g;e=J(b,f);e<a&&(d=g,a=e);b!==c&&(e=J(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}\nfunction na(a,b,c){let d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(h=>{for(let k=0;k<h.numBlocks;k++)e.push({numDataCodewords:h.dataCodewordsPerBlock,codewords:[]}),f+=h.dataCodewordsPerBlock+d.ecCodewordsPerBlock});if(a.length<f)return null;a=a.slice(0,f);b=d.ecBlocks[0].dataCodewordsPerBlock;for(c=0;c<b;c++)for(var g of e)g.codewords.push(a.shift());if(1<d.ecBlocks.length)for(g=d.ecBlocks[0].numBlocks,b=d.ecBlocks[1].numBlocks,c=0;c<b;c++)e[g+c].codewords.push(a.shift());for(;0<a.length;)for(let h of e)h.codewords.push(a.shift());\nreturn e}function L(a){let b=la(a);if(!b)return null;var c=ma(a);if(!c)return null;a=ka(a,b,c);var d=na(a,b,c.errorCorrectionLevel);if(!d)return null;c=d.reduce((e,f)=>e+f.numDataCodewords,0);c=new Uint8ClampedArray(c);a=0;for(let e of d){d=ha(e.codewords,e.codewords.length-e.numDataCodewords);if(!d)return null;for(let f=0;f<e.numDataCodewords;f++)c[a++]=d[f]}try{return da(c,b.versionNumber)}catch(e){return null}}\nfunction M(a,b,c,d){var e=a.x-b.x+c.x-d.x;let f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};let g=b.x-c.x;var h=d.x-c.x;let k=b.y-c.y,m=d.y-c.y;c=g*m-h*k;h=(e*m-h*f)/c;e=(g*f-e*k)/c;return{a11:b.x-a.x+h*b.x,a12:b.y-a.y+h*b.y,a13:h,a21:d.x-a.x+e*d.x,a22:d.y-a.y+e*d.y,a23:e,a31:a.x,a32:a.y,a33:1}}\nfunction oa(a,b,c,d){a=M(a,b,c,d);return{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}\nfunction pa(a,b){var c=oa({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=M(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=d.a11*c.a11+d.a21*c.a12+d.a31*c.a13,f=d.a12*c.a11+d.a22*c.a12+d.a32*c.a13,g=d.a13*c.a11+d.a23*c.a12+d.a33*c.a13,h=d.a11*c.a21+d.a21*c.a22+d.a31*c.a23,k=d.a12*c.a21+d.a22*c.a22+d.a32*c.a23,m=d.a13*c.a21+d.a23*c.a22+d.a33*c.a23,l=d.a11*c.a31+d.a21*c.a32+d.a31*c.a33,n=d.a12*c.a31+d.a22*c.a32+d.a32*c.a33,q=d.a13*\nc.a31+d.a23*c.a32+d.a33*c.a33;c=x.createEmpty(b.dimension,b.dimension);d=(r,u)=>{const p=g*r+m*u+q;return{x:(e*r+h*u+l)/p,y:(f*r+k*u+n)/p}};for(let r=0;r<b.dimension;r++)for(let u=0;u<b.dimension;u++){let p=d(u+.5,r+.5);c.set(u,r,a.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}let N=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function O(a){return a.reduce((b,c)=>b+c)}\nfunction qa(a,b,c){let d=N(a,b),e=N(b,c),f=N(a,c),g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{bottomLeft:g,topLeft:h,topRight:k}}\nfunction ra(a,b,c,d){d=(O(P(a,c,d,5))/7+O(P(a,b,d,5))/7+O(P(c,a,d,5))/7+O(P(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");b=Math.round(N(a,b)/d);a=Math.round(N(a,c)/d);a=Math.floor((b+a)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:d}}\nfunction Q(a,b,c,d){let e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);let k=Math.abs(a-g),m=Math.abs(b-h),l=Math.floor(-k/2),n=g<a?1:-1,q=h<b?1:-1,r=!0;for(let u=g,p=h;u!==a+n;u+=n){g=f?p:u;h=f?u:p;if(c.get(g,h)!==r&&(r=!r,e.push({x:g,y:h}),e.length===d+1))break;l+=m;if(0<l){if(p===b)break;p+=q;l-=k}}c=\n[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(N(e[f],e[f+1])):c.push(0);return c}function P(a,b,c,d){let e=b.y-a.y,f=b.x-a.x;b=Q(a,b,c,Math.ceil(d/2));a=Q(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function R(a,b){let c=O(a)/O(b),d=0;b.forEach((e,f)=>{d+=Math.pow(a[f]-e*c,2)});return{averageSize:c,error:d}}\nfunction S(a,b,c){try{let d=P(a,{x:-1,y:a.y},c,b.length),e=P(a,{x:a.x,y:-1},c,b.length),f=P(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=P(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=R(d,b),k=R(e,b),m=R(f,b),l=R(g,b),n=(h.averageSize+k.averageSize+m.averageSize+l.averageSize)/4;return Math.sqrt(h.error*h.error+k.error*k.error+m.error*m.error+l.error*l.error)+(Math.pow(h.averageSize-n,2)+Math.pow(k.averageSize-n,2)+Math.pow(m.averageSize-n,2)+\nMath.pow(l.averageSize-n,2))/n}catch(d){return Infinity}}function T(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}\nfunction sa(a){var b=[],c=[];let d=[];var e=[];for(let p=0;p<=a.height;p++){var f=0,g=!1;let t=[0,0,0,0,0];for(let v=-1;v<=a.width;v++){var h=a.get(v,p);if(h===g)f++;else{t=[t[1],t[2],t[3],t[4],f];f=1;g=h;var k=O(t)/7;k=Math.abs(t[0]-k)<k&&Math.abs(t[1]-k)<k&&Math.abs(t[2]-3*k)<3*k&&Math.abs(t[3]-k)<k&&Math.abs(t[4]-k)<k&&!h;var m=O(t.slice(-3))/3;h=Math.abs(t[2]-m)<m&&Math.abs(t[3]-m)<m&&Math.abs(t[4]-m)<m&&h;if(k){let z=v-t[3]-t[4],y=z-t[2];k={startX:y,endX:z,y:p};m=c.filter(w=>y>=w.bottom.startX&&\ny<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<m.length?m[0].bottom=k:c.push({top:k,bottom:k})}if(h){let z=v-t[4],y=z-t[3];h={startX:y,y:p,endX:z};k=e.filter(w=>y>=w.bottom.startX&&y<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<k.length?\nk[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(v=>v.bottom.y!==p&&2<=v.bottom.y-v.top.y));c=c.filter(v=>v.bottom.y===p);d.push(...e.filter(v=>v.bottom.y!==p));e=e.filter(v=>v.bottom.y===p)}b.push(...c.filter(p=>2<=p.bottom.y-p.top.y));d.push(...e);c=[];for(var l of b)2>l.bottom.y-l.top.y||(b=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4,e=(l.top.y+l.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[l.top.endX-l.top.startX,l.bottom.endX-l.bottom.startX,l.bottom.y-l.top.y+\n1],f=O(f)/f.length,g=S({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({score:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((p,t)=>p.score-t.score);l=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var n of c)n!==e&&f.push(Object.assign(Object.assign({},n),{score:n.score+Math.pow(n.size-e.size,2)/e.size}));f.sort((p,t)=>p.score-t.score);l.push({points:[e,f[0],f[1]],score:e.score+f[0].score+f[1].score})}l.sort((p,t)=>p.score-t.score);let {topRight:q,topLeft:r,bottomLeft:u}=qa(...l[0].points);\nl=U(a,d,q,r,u);n=[];l&&n.push({alignmentPattern:{x:l.alignmentPattern.x,y:l.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:l.dimension,topLeft:{x:r.x,y:r.y},topRight:{x:q.x,y:q.y}});l=T(a,q);b=T(a,r);c=T(a,u);(a=U(a,d,l,b,c))&&n.push({alignmentPattern:{x:a.alignmentPattern.x,y:a.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:b.x,y:b.y},topRight:{x:l.x,y:l.y},dimension:a.dimension});return 0===n.length?null:n}\nfunction U(a,b,c,d,e){let f,g;try{({dimension:f,moduleSize:g}=ra(d,c,e,a))}catch(l){return null}var h=c.x-d.x+e.x,k=c.y-d.y+e.y;c=(N(d,e)+N(d,c))/2/g;e=1-3/c;let m={x:d.x+e*(h-d.x),y:d.y+e*(k-d.y)};b=b.map(l=>{const n=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4;l=(l.top.y+l.bottom.y+1)/2;if(a.get(Math.floor(n),Math.floor(l))){var q=S({x:Math.floor(n),y:Math.floor(l)},[1,1,1],a)+N({x:n,y:l},m);return{x:n,y:l,score:q}}}).filter(l=>!!l).sort((l,n)=>l.score-n.score);return{alignmentPattern:15<=\nc&&b.length?b[0]:m,dimension:f}}\nfunction V(a){var b=sa(a);if(!b)return null;for(let e of b){b=pa(a,e);var c=b.matrix;if(null==c)c=null;else{var d=L(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let f=d+1;f<c.height;f++)c.get(d,f)!==c.get(f,d)&&(c.set(d,f,!c.get(d,f)),c.set(f,d,!c.get(f,d)));c=L(c)}}if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:b.mappingFunction(e.dimension,0),topLeftCorner:b.mappingFunction(0,0),bottomRightCorner:b.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:b.mappingFunction(0,\ne.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern},matrix:b.matrix}}return null}let ta={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function W(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}\nfunction X(a,b,c,d={}){let e=Object.create(null);W(e,ta);W(e,d);d="onlyInvert"===e.inversionAttempts||"invertFirst"===e.inversionAttempts;var f="attemptBoth"===e.inversionAttempts||d;var g=e.greyScaleWeights,h=e.canOverwriteImage,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var m=0;if(h){var l=new Uint8ClampedArray(a.buffer,m,k);m+=k}l=new A(b,c,l);if(g.useIntegerApproximation)for(var n=0;n<c;n++)for(var q=0;q<b;q++){var r=4*(n*b+q);l.set(q,n,g.red*a[r]+g.green*a[r+1]+\ng.blue*a[r+2]+128>>8)}else for(n=0;n<c;n++)for(q=0;q<b;q++)r=4*(n*b+q),l.set(q,n,g.red*a[r]+g.green*a[r+1]+g.blue*a[r+2]);g=Math.ceil(b/8);n=Math.ceil(c/8);q=g*n;if(h){var u=new Uint8ClampedArray(a.buffer,m,q);m+=q}u=new A(g,n,u);for(q=0;q<n;q++)for(r=0;r<g;r++){var p=Infinity,t=0;for(var v=0;8>v;v++)for(let w=0;8>w;w++){let aa=l.get(8*r+w,8*q+v);p=Math.min(p,aa);t=Math.max(t,aa)}v=(p+t)/2;v=Math.min(255,1.11*v);24>=t-p&&(v=p/2,0<q&&0<r&&(t=(u.get(r,q-1)+2*u.get(r-1,q)+u.get(r-1,q-1))/4,p<t&&(v=t)));\nu.set(r,q,v)}h?(q=new Uint8ClampedArray(a.buffer,m,k),m+=k,q=new x(q,b)):q=x.createEmpty(b,c);r=null;f&&(h?(a=new Uint8ClampedArray(a.buffer,m,k),r=new x(a,b)):r=x.createEmpty(b,c));for(b=0;b<n;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=n-3;h=2>b?2:b>h?h:b;k=0;for(m=-2;2>=m;m++)for(p=-2;2>=p;p++)k+=u.get(c+m,h+p);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)m=8*a+h,p=8*b+k,t=l.get(m,p),q.set(m,p,t<=c),f&&r.set(m,p,!(t<=c))}f=f?{binarized:q,inverted:r}:{binarized:q};let {binarized:z,inverted:y}=f;(f=V(d?\ny:z))||"attemptBoth"!==e.inversionAttempts&&"invertFirst"!==e.inversionAttempts||(f=V(d?z:y));return f}X.default=X;let Y="dontInvert",Z={red:77,green:150,blue:29,useIntegerApproximation:!0};\nself.onmessage=a=>{let b=a.data.id,c=a.data.data;switch(a.data.type){case "decode":(a=X(c.data,c.width,c.height,{inversionAttempts:Y,greyScaleWeights:Z}))?self.postMessage({id:b,type:"qrResult",data:a.data,cornerPoints:[a.location.topLeftCorner,a.location.topRightCorner,a.location.bottomRightCorner,a.location.bottomLeftCorner]}):self.postMessage({id:b,type:"qrResult",data:null});break;case "grayscaleWeights":Z.red=c.red;Z.green=c.green;Z.blue=c.blue;Z.useIntegerApproximation=c.useIntegerApproximation;\nbreak;case "inversionMode":switch(c){case "original":Y="dontInvert";break;case "invert":Y="onlyInvert";break;case "both":Y="attemptBoth";break;default:throw Error("Invalid inversion mode");}break;case "close":self.close()}}\n']),{type:"application/javascript"}))});var m_=X(pt(),1),g_=X(Mw(),1);var Zo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function VE(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gl(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Fo(e,...t){if(!VE(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Uw(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Gl(e.outputLen),Gl(e.blockLen)}function fi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function zw(e,t){Fo(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Ko(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ql(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function br(e,t){return e<<32-t|e>>>t}function qE(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Da(e){return typeof e=="string"&&(e=qE(e)),Fo(e),e}function jw(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];Fo(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let s=e[n];r.set(s,o),o+=s.length}return r}var ui=class{};function Hw(e){let t=n=>e().update(Da(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function di(e=32){if(Zo&&typeof Zo.getRandomValues=="function")return Zo.getRandomValues(new Uint8Array(e));if(Zo&&typeof Zo.randomBytes=="function")return Uint8Array.from(Zo.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function WE(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}function Dw(e,t,r){return e&t^~e&r}function $w(e,t,r){return e&t^e&r^t&r}var Yl=class extends ui{constructor(t,r,n,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=o,this.buffer=new Uint8Array(t),this.view=Ql(this.buffer)}update(t){fi(this),t=Da(t),Fo(t);let{view:r,buffer:n,blockLen:o}=this,s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Ql(t);for(;o<=s-i;i+=o)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fi(this),zw(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;r[i++]=128,Ko(this.buffer.subarray(i)),this.padOffset>o-i&&(this.process(n,0),i=0);for(let f=i;f<o;f++)r[f]=0;WE(n,o-8,BigInt(this.length*8),s),this.process(n,0);let a=Ql(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:s,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=s,t.length=o,t.pos=a,o%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}},un=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var ZE=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),so=new Uint32Array(64),Xl=class extends Yl{constructor(t=32){super(64,t,8,!1),this.A=un[0]|0,this.B=un[1]|0,this.C=un[2]|0,this.D=un[3]|0,this.E=un[4]|0,this.F=un[5]|0,this.G=un[6]|0,this.H=un[7]|0}get(){let{A:t,B:r,C:n,D:o,E:s,F:i,G:a,H:c}=this;return[t,r,n,o,s,i,a,c]}set(t,r,n,o,s,i,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)so[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let d=so[f-15],h=so[f-2],y=br(d,7)^br(d,18)^d>>>3,p=br(h,17)^br(h,19)^h>>>10;so[f]=p+so[f-7]+y+so[f-16]|0}let{A:n,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=br(a,6)^br(a,11)^br(a,25),h=u+d+Dw(a,c,l)+ZE[f]+so[f]|0,p=(br(n,2)^br(n,13)^br(n,22))+$w(n,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=n,n=h+p|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,o,s,i,a,c,l,u)}roundClean(){Ko(so)}destroy(){this.set(0,0,0,0,0,0,0,0),Ko(this.buffer)}};var hi=Hw(()=>new Xl);var fn=hi;var eu={};Un(eu,{is_hex:()=>hp,is_json:()=>FE,is_prefix:()=>Jl,is_safe_num:()=>pp,within_size:()=>dp});function dp(e,t){if(e.length>t)throw new TypeError("Data is larger than array size: ".concat(e.length," > ").concat(t))}function hp(e){if(e.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+e);if(e.length%2!==0)throw new Error("Length of hex string is invalid: ".concat(e.length))}function FE(e){try{JSON.parse(e)}catch(t){throw new TypeError("JSON string is invalid!")}}function pp(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}function Jl(e,t){if(e!==t)throw new TypeError("Bech32 prefix does not match: ".concat(e," !== ").concat(t))}var KE=new TextEncoder,GE=new TextDecoder;function $a(e){return KE.encode(e)}function Va(e){return GE.decode(e)}function QE(e,t){hp(e);let r=e.length/2;if(t===void 0&&(t=r),r>t)throw new TypeError("Hex string is larger than array size: ".concat(r," > ").concat(t));return t}function mp(e,t,r="le"){t=QE(e,t);let n=r==="le",o=new ArrayBuffer(t),s=new DataView(o),i=n?0:t-1;for(let a=0;a<e.length;a+=2){let c=e.substring(a,a+2),l=parseInt(c,16);n?s.setUint8(i++,l):s.setUint8(i--,l)}return new Uint8Array(o)}function gp(e){let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}function pi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function YE(e,...t){if(!pi(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Fw(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(r=>typeof r=="string"):t.every(r=>Number.isSafeInteger(r)):!1}function Kw(e){if(typeof e!="function")throw new Error("function expected");return!0}function Go(e,t){if(typeof t!="string")throw new Error("".concat(e,": string expected"));return!0}function mi(e){if(!Number.isSafeInteger(e))throw new Error("invalid integer: ".concat(e))}function ru(e){if(!Array.isArray(e))throw new Error("array expected")}function nu(e,t){if(!Fw(!0,t))throw new Error("".concat(e,": array of strings expected"))}function vp(e,t){if(!Fw(!1,t))throw new Error("".concat(e,": array of numbers expected"))}function Wa(...e){let t=s=>s,r=(s,i)=>a=>s(i(a)),n=e.map(s=>s.encode).reduceRight(r,t),o=e.map(s=>s.decode).reduce(r,t);return{encode:n,decode:o}}function su(e){let t=typeof e=="string"?e.split(""):e,r=t.length;nu("alphabet",t);let n=new Map(t.map((o,s)=>[o,s]));return{encode:o=>(ru(o),o.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error('alphabet.encode: digit index outside alphabet "'.concat(s,'". Allowed: ').concat(e));return t[s]})),decode:o=>(ru(o),o.map(s=>{Go("alphabet.decode",s);let i=n.get(s);if(i===void 0)throw new Error('Unknown letter: "'.concat(s,'". Allowed: ').concat(e));return i}))}}function iu(e=""){return Go("join",e),{encode:t=>(nu("join.decode",t),t.join(e)),decode:t=>(Go("join.decode",t),t.split(e))}}function XE(e,t="="){return mi(e),Go("padding",t),{encode(r){for(nu("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){nu("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function Vw(e,t,r){if(t<2)throw new Error("convertRadix: invalid from=".concat(t,", base cannot be less than 2"));if(r<2)throw new Error("convertRadix: invalid to=".concat(r,", base cannot be less than 2"));if(ru(e),!e.length)return[];let n=0,o=[],s=Array.from(e,a=>{if(mi(a),a<0||a>=t)throw new Error("invalid integer: ".concat(a));return a}),i=s.length;for(;;){let a=0,c=!0;for(let l=n;l<i;l++){let u=s[l],f=t*a,d=f+u;if(!Number.isSafeInteger(d)||f/t!==a||d-u!==f)throw new Error("convertRadix: carry overflow");let h=d/r;a=d%r;let y=Math.floor(h);if(s[l]=y,!Number.isSafeInteger(y)||y*r+a!==d)throw new Error("convertRadix: carry overflow");if(c)y?c=!1:n=l;else continue}if(o.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)o.push(0);return o.reverse()}var Gw=(e,t)=>t===0?e:Gw(t,e%t),ou=(e,t)=>e+(t-Gw(e,t)),tu=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function yp(e,t,r,n){if(ru(e),t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(r<=0||r>32)throw new Error("convertRadix2: wrong to=".concat(r));if(ou(t,r)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(r," carryBits=").concat(ou(t,r)));let o=0,s=0,i=tu[t],a=tu[r]-1,c=[];for(let l of e){if(mi(l),l>=i)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(o=o<<t|l,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=r;s-=r)c.push((o>>s-r&a)>>>0);let u=tu[s];if(u===void 0)throw new Error("invalid carry");o&=u-1}if(o=o<<r-s&a,!n&&s>=t)throw new Error("Excess padding");if(!n&&o>0)throw new Error("Non-zero padding: ".concat(o));return n&&s>0&&c.push(o>>>0),c}function JE(e){mi(e);let t=2**8;return{encode:r=>{if(!pi(r))throw new Error("radix.encode input should be Uint8Array");return Vw(Array.from(r),t,e)},decode:r=>(vp("radix.decode",r),Uint8Array.from(Vw(r,e,t)))}}function xp(e,t=!1){if(mi(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ou(8,e)>32||ou(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!pi(r))throw new Error("radix2.encode input should be Uint8Array");return yp(Array.from(r),8,e,!t)},decode:r=>(vp("radix2.decode",r),Uint8Array.from(yp(r,e,8,t)))}}function qw(e){return Kw(e),function(...t){try{return e.apply(null,t)}catch(r){}}}function eB(e,t){return mi(e),Kw(t),{encode(r){if(!pi(r))throw new Error("checksum.encode: input should be Uint8Array");let n=t(r).slice(0,e),o=new Uint8Array(r.length+e);return o.set(r),o.set(n,r.length),o},decode(r){if(!pi(r))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-e),o=r.slice(-e),s=t(n).slice(0,e);for(let i=0;i<e;i++)if(s[i]!==o[i])throw new Error("Invalid checksum");return n}}}var tB=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",bp=tB?{encode(e){return YE(e),e.toBase64()},decode(e){return Go("base64",e),Uint8Array.fromBase64(e,{lastChunkHandling:"strict"})}}:Wa(xp(6),su("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),XE(6),iu(""));var kp=Wa(xp(6),su("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),iu("")),rB=e=>Wa(JE(58),su(e),iu("")),nB=rB("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var oB=e=>Wa(eB(4,t=>e(e(t))),nB),_p=oB,wp=Wa(su("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),iu("")),Ww=[996825010,642813549,513874426,1027748829,705979059];function qa(e){let t=e>>25,r=(e&33554431)<<5;for(let n=0;n<Ww.length;n++)(t>>n&1)===1&&(r^=Ww[n]);return r}function Zw(e,t,r=1){let n=e.length,o=1;for(let s=0;s<n;s++){let i=e.charCodeAt(s);if(i<33||i>126)throw new Error("Invalid prefix (".concat(e,")"));o=qa(o)^i>>5}o=qa(o);for(let s=0;s<n;s++)o=qa(o)^e.charCodeAt(s)&31;for(let s of t)o=qa(o)^s;for(let s=0;s<6;s++)o=qa(o);return o^=r,wp.encode(yp([o%tu[30]],30,5,!1))}function Qw(e){let t=e==="bech32"?1:734539939,r=xp(5),n=r.decode,o=r.encode,s=qw(n);function i(f,d,h=90){Go("bech32.encode prefix",f),pi(d)&&(d=Array.from(d)),vp("bech32.encode",d);let y=f.length;if(y===0)throw new TypeError("Invalid prefix length ".concat(y));let p=y+7+d.length;if(h!==!1&&p>h)throw new TypeError("Length ".concat(p," exceeds limit ").concat(h));let v=f.toLowerCase(),g=Zw(v,d,t);return"".concat(v,"1").concat(wp.encode(d)).concat(g)}function a(f,d=90){Go("bech32.decode input",f);let h=f.length;if(h<8||d!==!1&&h>d)throw new TypeError("invalid string length: ".concat(h," (").concat(f,"). Expected (8..").concat(d,")"));let y=f.toLowerCase();if(f!==y&&f!==f.toUpperCase())throw new Error("String must be lowercase or uppercase");let p=y.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');let v=y.slice(0,p),g=y.slice(p+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");let m=wp.decode(g).slice(0,-6),w=Zw(v,m,t);if(!g.endsWith(w))throw new Error("Invalid checksum in ".concat(f,': expected "').concat(w,'"'));return{prefix:v,words:m}}let c=qw(a);function l(f){let{prefix:d,words:h}=a(f,!1);return{prefix:d,words:h,bytes:n(h)}}function u(f,d){return i(f,o(d))}return{encode:i,decode:a,encodeFromBytes:u,decodeToBytes:l,decodeUnsafe:c,fromWords:n,fromWordsUnsafe:s,toWords:o}}var Za=Qw("bech32"),Fa=Qw("bech32m");var Ep={encode:e=>_p(fn).encode(e),decode:e=>_p(fn).decode(e)},Bp={encode:e=>bp.encode(e),decode:e=>bp.decode(e)},Cp={encode:e=>kp.encode(e),decode:e=>kp.decode(e)},Sp={to_words:Za.toWords,to_bytes:Za.fromWords,encode:(e,t,r=!1)=>Za.encode(e,t,r),decode:(e,t=!1)=>{let{prefix:r,words:n}=Za.decode(e,t);return{prefix:r,words:n}}},Pp={to_words:Fa.toWords,to_bytes:Fa.fromWords,encode:(e,t,r=!1)=>Fa.encode(e,t,r),decode:(e,t=!1)=>{let{prefix:r,words:n}=Fa.decode(e,t);return{prefix:r,words:n}}};var iB=BigInt(0),aB=BigInt(255),Yw=BigInt(256);function cB(e){if(e<=BigInt(255))return 1;if(e<=BigInt(65535))return 2;if(e<=BigInt(0xffffffff))return 4;if(e<=BigInt("0xffffffffffffffff"))return 8;if(e<=BigInt("0xffffffffffffffffffffffffffffffff"))return 16;if(e<=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"))return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function Xw(e,t,r="be"){t===void 0&&(t=cB(e));let n=r==="le",o=new ArrayBuffer(t),s=new DataView(o),i=n?0:t-1;for(;e>iB;){let a=e&aB,c=Number(a);n?s.setUint8(i++,c):s.setUint8(i--,c),e=(e-a)/Yw}return new Uint8Array(o)}function Jw(e){let t=BigInt(0);for(let r=e.length-1;r>=0;r--)t=t*Yw+BigInt(e[r]);return BigInt(t)}function ev(e){let t=e.split("").map(Number);if(t.length%8!==0)throw new Error("Binary array is invalid length: ".concat(e.length));let r=new Uint8Array(t.length/8);for(let n=0,o=0;n<t.length;n+=8,o++){let s=0;for(let i=0;i<8;i++)s|=t[n+i]<<7-i;r[o]=s}return r}function tv(e){let t=new Array(e.length*8),r=0;for(let n of e){if(n>255)throw new Error("Invalid byte value: ".concat(n,". Byte values must be between 0 and 255."));for(let o=7;o>=0;o--,r++)t[r]=n>>o&1}return t.join("")}function lB(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function rv(e,t,r="be"){t===void 0&&(t=lB(e));let n=r==="le",o=new ArrayBuffer(t),s=new DataView(o),i=n?0:t-1;for(;e>0;){let a=e&255;n?s.setUint8(i++,e):s.setUint8(i--,e),e=(e-a)/256}return new Uint8Array(o)}function nv(e){let t=0;for(let r=e.length-1;r>=0;r--)t=t*256+e[r],pp(t);return t}var Ga={};Un(Ga,{bigint_replacer:()=>Np,bigint_reviver:()=>Ip,is_bytes:()=>Tp,is_hex:()=>au,join_array:()=>Ka,parse_data:()=>Op,set_buffer:()=>Ap});function au(e){return e.match(/[^a-fA-F0-9]/)===null&&e.length%2===0}function Tp(e){return typeof e=="string"&&au(e)||typeof e=="number"||typeof e=="bigint"||e instanceof Uint8Array?!0:!!(Array.isArray(e)&&e.every(t=>typeof t=="number"))}function Ap(e,t,r="be"){t===void 0&&(t=e.length),dp(e,t);let n=new Uint8Array(t).fill(0),o=r==="be"?0:t-e.length;return n.set(e,o),n}function Ka(e){let t,r=0,n=e.reduce((s,i)=>s+i.length,0),o=new Uint8Array(n);for(t=0;t<e.length;t++){let s=e[t];o.set(s,r),r+=s.length}return o}function Np(e,t){return typeof t=="bigint"?"".concat(t,"n"):t}function Ip(e,t){return typeof t=="string"&&/^[0-9]+n$/.test(t)?BigInt(t.slice(0,-1)):t}function Op(e,t,r){let n=e.length,o=r/t;if(r%t!==0)throw new TypeError("Invalid parameters: ".concat(r," % ").concat(t," !== 0"));if(n!==r)throw new TypeError("Invalid data stream: ".concat(n," !== ").concat(r));if(n%t!==0)throw new TypeError("Invalid data stream: ".concat(n," % ").concat(t," !== 0"));let s=new Array(o);for(let i=0;i<o;i++){let a=i*t;s[i]=e.subarray(a,a+t)}return s}function cu(e,t,r){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Ap(e,t,r);if(Array.isArray(e)){let n=e.map(o=>cu(o,t,r));return Ka(n)}else{if(typeof e=="string")return mp(e,t,r);if(typeof e=="bigint")return Xw(e,t,r);if(typeof e=="number")return rv(e,t,r);if(typeof e=="boolean")return Uint8Array.of(e?1:0)}throw new TypeError("Unsupported format:"+typeof e)}var J=class J extends Uint8Array{static random(t=32){let r=di(t);return new J(r,t)}static now(t=4){let r=Math.floor(Date.now()/1e3);return new J(r,t)}constructor(t,r,n){if(t instanceof J&&r===void 0)return t;let o=cu(t,r,n);super(o)}get arr(){return[...this]}get num(){return this.to_num()}get big(){return this.to_big()}get str(){return this.to_str()}get hex(){return this.to_hex()}get raw(){return new Uint8Array(this)}get bin(){return this.to_bin()}get b58chk(){return this.to_b58chk()}get base64(){return this.to_base64()}get b64url(){return this.to_b64url()}get digest(){return this.to_hash()}get id(){return this.to_hash().hex}get stream(){return new Rp(this)}to_num(t="be"){let r=t==="be"?this.reverse():this;return nv(r)}to_big(t="be"){let r=t==="be"?this.reverse():this;return Jw(r)}to_bin(){return tv(this)}to_hash(){let t=fn(this);return new J(t)}to_json(t){t===void 0&&(t=Ip);let r=Va(this);return JSON.parse(r,t)}to_bech32(t,r){let{encode:n,to_words:o}=Sp,s=o(this);return n(t,s,r)}to_bech32m(t,r){let{encode:n,to_words:o}=Pp,s=o(this);return n(t,s,r)}to_str(){return Va(this)}to_hex(){return gp(this)}to_bytes(){return new Uint8Array(this)}to_b58chk(){return Ep.encode(this)}to_base64(){return Bp.encode(this)}to_b64url(){return Cp.encode(this)}append(t){return J.join([this,J.bytes(t)])}equals(t){return Lp(t).hex===this.hex}prepend(t){return J.join([J.bytes(t),this])}reverse(){let t=new Uint8Array(this).reverse();return new J(t)}slice(t,r){let n=new Uint8Array(this).slice(t,r);return new J(n)}set(t,r){this.set(t,r)}subarray(t,r){let n=new Uint8Array(this).subarray(t,r);return new J(n)}write(t,r){let n=J.bytes(t);this.set(n,r)}add_varint(t){let r=J.calc_varint(this.length,t);return J.join([r,this])}toJSON(){return this.hex}toString(){return this.hex}static from(t){return new J(Uint8Array.from(t))}static of(...t){return new J(Uint8Array.of(...t))}static join(t){let r=t.map(o=>J.bytes(o)),n=Ka(r);return new J(n)}static sort(t,r){let n=t.map(o=>Lp(o,r).hex);return n.sort(),n.map(o=>J.hex(o,r))}static calc_varint(t,r){if(t<253)return J.num(t,1);if(t<65536)return J.of(253,...J.num(t,2,r));if(t<4294967296)return J.of(254,...J.num(t,4,r));if(BigInt(t)<BigInt(0x10000000000000000))return J.of(255,...J.num(t,8,r));throw new Error("Value is too large: ".concat(t))}};J.num=fB,J.big=hB,J.bin=dB,J.raw=pB,J.str=mB,J.hex=gB,J.bytes=Lp,J.json=yB,J.base64=wB,J.b64url=vB,J.bech32=xB,J.bech32m=bB,J.b58chk=kB,J.encode=$a,J.decode=Va,J.parse=_B,J.is_bytes=Tp,J.is_hex=au,J.is_equal=EB;var P=J;function fB(e,t,r){return new P(e,t,r)}function dB(e,t,r){return new P(ev(e),t,r)}function hB(e,t,r){return new P(e,t,r)}function pB(e,t,r){return new P(e,t,r)}function mB(e,t,r){return new P($a(e),t,r)}function gB(e,t,r){return new P(e,t,r)}function yB(e,t){t===void 0&&(t=Np);let r=JSON.stringify(e,t);return new P($a(r))}function wB(e){return new P(Bp.decode(e))}function vB(e){return new P(Cp.decode(e))}function xB(e,t,r){let{decode:n,to_bytes:o}=Sp,{prefix:s,words:i}=n(e,t),a=o(i);return typeof r=="string"&&Jl(s,r),new P(a)}function bB(e,t,r){let{decode:n,to_bytes:o}=Pp,{prefix:s,words:i}=n(e,t),a=o(i);return typeof r=="string"&&Jl(s,r),new P(a)}function kB(e){return new P(Ep.decode(e))}function _B(e,t,r){let n=cu(e);return Op(n,t,r).map(s=>P.bytes(s))}function EB(e,t){return new P(e).hex===new P(t).hex}function Lp(e,t,r){return new P(e,t,r)}var Rp=class{constructor(t){this.data=P.bytes(t),this.size=this.data.length}peek(t){if(t>this.size)throw new Error("Size greater than stream: ".concat(t," > ").concat(this.size));return new P(this.data.slice(0,t))}read(t){let r=this.peek(t);return this.data=this.data.slice(t),this.size=this.data.length,r}read_varint(t){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).to_num(t);case r===254:return this.read(4).to_num(t);case r===255:return this.read(8).to_num(t);default:throw new Error("Varint is out of range: ".concat(r))}}};var lu=class extends ui{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Uw(t);let n=Da(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),Ko(s)}update(t){return fi(this),this.iHash.update(t),this}digestInto(t){fi(this),Fo(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Mp=(e,t,r)=>new lu(e,t).update(r).digest();Mp.create=(e,t)=>new lu(e,t);var Hp=BigInt(0),jp=BigInt(1);function gi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hn(e){if(!gi(e))throw new Error("Uint8Array expected")}function yi(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Qa(e){let t=e.toString(16);return t.length&1?"0"+t:t}function iv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Hp:BigInt("0x"+e)}var av=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",BB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function wi(e){if(hn(e),av)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=BB[e[r]];return t}var dn={_0:48,_9:57,A:65,F:70,a:97,f:102};function ov(e){if(e>=dn._0&&e<=dn._9)return e-dn._0;if(e>=dn.A&&e<=dn.F)return e-(dn.A-10);if(e>=dn.a&&e<=dn.f)return e-(dn.a-10)}function Ya(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(av)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let o=0,s=0;o<r;o++,s+=2){let i=ov(e.charCodeAt(s)),a=ov(e.charCodeAt(s+1));if(i===void 0||a===void 0){let c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[o]=i*16+a}return n}function Tt(e){return iv(wi(e))}function Dp(e){return hn(e),iv(wi(Uint8Array.from(e).reverse()))}function zr(e,t){return Ya(e.toString(16).padStart(t*2,"0"))}function $p(e,t){return zr(e,t).reverse()}function Re(e,t,r){let n;if(typeof t=="string")try{n=Ya(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(gi(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function wt(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];hn(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let s=e[n];r.set(s,o),o+=s.length}return r}function uu(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}var Up=e=>typeof e=="bigint"&&Hp<=e;function Qo(e,t,r){return Up(e)&&Up(t)&&Up(r)&&t<=e&&e<r}function pn(e,t,r,n){if(!Qo(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function cv(e){let t;for(t=0;e>Hp;e>>=jp,t+=1);return t}var Yo=e=>(jp<<BigInt(e))-jp,zp=e=>new Uint8Array(e),sv=e=>Uint8Array.from(e);function lv(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=zp(e),o=zp(e),s=0,i=()=>{n.fill(1),o.fill(0),s=0},a=(...f)=>r(o,n,...f),c=(f=zp(0))=>{o=a(sv([0]),f),n=a(),f.length!==0&&(o=a(sv([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<t;){n=a();let h=n.slice();d.push(h),f+=n.length}return wt(...d)};return(f,d)=>{i(),c(f);let h;for(;!(h=d(l()));)c();return i(),h}}var CB={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||gi(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function mn(e,t,r={}){let n=(o,s,i)=>{let a=CB[s];if(typeof a!="function")throw new Error("invalid validator function");let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+c)};for(let[o,s]of Object.entries(t))n(o,s,!1);for(let[o,s]of Object.entries(r))n(o,s,!0);return e}function Vp(e){let t=new WeakMap;return(r,...n)=>{let o=t.get(r);if(o!==void 0)return o;let s=e(r,...n);return t.set(r,s),s}}var vt=BigInt(0),at=BigInt(1),Xo=BigInt(2),SB=BigInt(3),fv=BigInt(4),dv=BigInt(5),hv=BigInt(8);function Pe(e,t){let r=e%t;return r>=vt?r:t+r}function Dt(e,t,r){let n=e;for(;t-- >vt;)n*=n,n%=r;return n}function fu(e,t){if(e===vt)throw new Error("invert: expected non-zero number");if(t<=vt)throw new Error("invert: expected positive modulus, got "+t);let r=Pe(e,t),n=t,o=vt,s=at,i=at,a=vt;for(;r!==vt;){let l=n/r,u=n%r,f=o-i*l,d=s-a*l;n=r,r=u,o=i,s=a,i=f,a=d}if(n!==at)throw new Error("invert: does not exist");return Pe(o,t)}function pv(e,t){let r=(e.ORDER+at)/fv,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function PB(e,t){let r=(e.ORDER-dv)/hv,n=e.mul(t,Xo),o=e.pow(n,r),s=e.mul(t,o),i=e.mul(e.mul(s,Xo),o),a=e.mul(s,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function TB(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-at,r=0;for(;t%Xo===vt;)t/=Xo,r++;let n=Xo,o=gn(e);for(;uv(o,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return pv;let s=o.pow(n,t),i=(t+at)/Xo;return function(c,l){if(c.is0(l))return l;if(uv(c,l)!==1)throw new Error("Cannot find square root");let u=r,f=c.mul(c.ONE,s),d=c.pow(l,t),h=c.pow(l,i);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let y=1,p=c.sqr(d);for(;!c.eql(p,c.ONE);)if(y++,p=c.sqr(p),y===u)throw new Error("Cannot find square root");let v=at<<BigInt(u-y-1),g=c.pow(f,v);u=y,f=c.sqr(g),d=c.mul(d,f),h=c.mul(h,g)}return h}}function AB(e){return e%fv===SB?pv:e%hv===dv?PB:TB(e)}var NB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qp(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=NB.reduce((n,o)=>(n[o]="function",n),t);return mn(e,r)}function IB(e,t,r){if(r<vt)throw new Error("invalid exponent, negatives unsupported");if(r===vt)return e.ONE;if(r===at)return t;let n=e.ONE,o=t;for(;r>vt;)r&at&&(n=e.mul(n,o)),o=e.sqr(o),r>>=at;return n}function du(e,t,r=!1){let n=new Array(t.length).fill(r?e.ZERO:void 0),o=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),s=e.inv(o);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),s),n}function uv(e,t){let r=(e.ORDER-at)/Xo,n=e.pow(t,r),o=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),i=e.eql(n,e.neg(e.ONE));if(!o&&!s&&!i)throw new Error("invalid Legendre symbol result");return o?1:s?0:-1}function Wp(e,t){t!==void 0&&Gl(t);let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function gn(e,t,r=!1,n={}){if(e<=vt)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Wp(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:Yo(o),ZERO:vt,ONE:at,create:c=>Pe(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return vt<=c&&c<e},is0:c=>c===vt,isOdd:c=>(c&at)===at,neg:c=>Pe(-c,e),eql:(c,l)=>c===l,sqr:c=>Pe(c*c,e),add:(c,l)=>Pe(c+l,e),sub:(c,l)=>Pe(c-l,e),mul:(c,l)=>Pe(c*l,e),pow:(c,l)=>IB(a,c,l),div:(c,l)=>Pe(c*fu(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>fu(c,e),sqrt:n.sqrt||(c=>(i||(i=AB(e)),i(a,c))),toBytes:c=>r?$p(c,s):zr(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?Dp(c):Tt(c)},invertBatch:c=>du(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function mv(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Zp(e){let t=mv(e);return t+Math.ceil(t/2)}function gv(e,t,r=!1){let n=e.length,o=mv(t),s=Zp(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);let i=r?Dp(e):Tt(e),a=Pe(i,t-at)+at;return r?$p(a,o):zr(a,o)}var yv=BigInt(0),Yp=BigInt(1);function Fp(e,t){let r=t.negate();return e?r:t}function vv(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Kp(e,t){vv(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),o=2**e,s=Yo(e),i=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:o,shiftBy:i}}function wv(e,t,r){let{windowSize:n,mask:o,maxNumber:s,shiftBy:i}=r,a=Number(e&o),c=e>>i;a>n&&(a-=s,c+=Yp);let l=t*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function OB(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function LB(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}var Gp=new WeakMap,xv=new WeakMap;function Qp(e){return xv.get(e)||1}function bv(e,t){return{constTimeNegate:Fp,hasPrecomputes(r){return Qp(r)!==1},unsafeLadder(r,n,o=e.ZERO){let s=r;for(;n>yv;)n&Yp&&(o=o.add(s)),s=s.double(),n>>=Yp;return o},precomputeWindow(r,n){let{windows:o,windowSize:s}=Kp(n,t),i=[],a=r,c=a;for(let l=0;l<o;l++){c=a,i.push(c);for(let u=1;u<s;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(r,n,o){let s=e.ZERO,i=e.BASE,a=Kp(r,t);for(let c=0;c<a.windows;c++){let{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:y}=wv(o,c,a);o=l,f?i=i.add(Fp(h,n[y])):s=s.add(Fp(d,n[u]))}return{p:s,f:i}},wNAFUnsafe(r,n,o,s=e.ZERO){let i=Kp(r,t);for(let a=0;a<i.windows&&o!==yv;a++){let{nextN:c,offset:l,isZero:u,isNeg:f}=wv(o,a,i);if(o=c,!u){let d=n[l];s=s.add(f?d.negate():d)}}return s},getPrecomputes(r,n,o){let s=Gp.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Gp.set(n,o(s))),s},wNAFCached(r,n,o){let s=Qp(r);return this.wNAF(s,this.getPrecomputes(s,r,o),n)},wNAFCachedUnsafe(r,n,o,s){let i=Qp(r);return i===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,r,o),n,s)},setWindowSize(r,n){vv(n,t),xv.set(r,n),Gp.delete(r)}}}function kv(e,t,r,n){OB(r,e),LB(n,t);let o=r.length,s=n.length;if(o!==s)throw new Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=cv(BigInt(o)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=Yo(c),u=new Array(Number(l)+1).fill(i),f=Math.floor((t.BITS-1)/c)*c,d=i;for(let h=f;h>=0;h-=c){u.fill(i);for(let p=0;p<s;p++){let v=n[p],g=Number(v>>BigInt(h)&l);u[g]=u[g].add(r[p])}let y=i;for(let p=u.length-1,v=i;p>0;p--)v=v.add(u[p]),y=y.add(v);if(d=d.add(y),h!==0)for(let p=0;p<c;p++)d=d.double()}return d}function Xp(e){return qp(e.Fp),mn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(O(b(b({},Wp(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function _v(e){e.lowS!==void 0&&yi("lowS",e.lowS),e.prehash!==void 0&&yi("prehash",e.prehash)}function RB(e){let t=Xp(e);mn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze(b({},t))}var tm=class extends Error{constructor(t=""){super(t)}},yn={Err:tm,_tlv:{encode:(e,t)=>{let{Err:r}=yn;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,o=Qa(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?Qa(o.length/2|128):"";return Qa(e)+s+o+t},decode(e,t){let{Err:r}=yn,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let o=t[n++],s=!!(o&128),i=0;if(!s)i=o;else{let c=o&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(n+=c,i<128)throw new r("tlv.decode(long): not minimal encoding")}let a=t.subarray(n,n+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=yn;if(e<wn)throw new t("integer: negative integers are not allowed");let r=Qa(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=yn;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Tt(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=yn,o=Re("signature",e),{v:s,l:i}=n.decode(48,o);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=yn,n=t.encode(2,r.encode(e.r)),o=t.encode(2,r.encode(e.s)),s=n+o;return t.encode(48,s)}};function Jp(e,t){return wi(zr(e,t))}var wn=BigInt(0),Ke=BigInt(1),zN=BigInt(2),em=BigInt(3),MB=BigInt(4);function UB(e){let t=RB(e),{Fp:r}=t,n=gn(t.n,t.nBitLength),o=t.toBytes||((w,x,k)=>{let _=x.toAffine();return wt(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),s=t.fromBytes||(w=>{let x=w.subarray(1),k=r.fromBytes(x.subarray(0,r.BYTES)),_=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:k,y:_}});function i(w){let{a:x,b:k}=t,_=r.sqr(w),C=r.mul(_,w);return r.add(r.add(C,r.mul(w,x)),k)}function a(w,x){let k=r.sqr(x),_=i(w);return r.eql(k,_)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(t.a,em),MB),l=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return Qo(w,Ke,t.n)}function f(w){let{allowedPrivateKeyLengths:x,nByteLength:k,wrapPrivateKey:_,n:C}=t;if(x&&typeof w!="bigint"){if(gi(w)&&(w=wi(w)),typeof w!="string"||!x.includes(w.length))throw new Error("invalid private key");w=w.padStart(k*2,"0")}let S;try{S=typeof w=="bigint"?w:Tt(Re("private key",w,k))}catch(M){throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof w)}return _&&(S=Pe(S,C)),pn("private key",S,Ke,C),S}function d(w){if(!(w instanceof p))throw new Error("ProjectivePoint expected")}let h=Vp((w,x)=>{let{px:k,py:_,pz:C}=w;if(r.eql(C,r.ONE))return{x:k,y:_};let S=w.is0();x==null&&(x=S?r.ONE:r.inv(C));let M=r.mul(k,x),A=r.mul(_,x),I=r.mul(C,x);if(S)return{x:r.ZERO,y:r.ZERO};if(!r.eql(I,r.ONE))throw new Error("invZ was invalid");return{x:M,y:A}}),y=Vp(w=>{if(w.is0()){if(t.allowInfinityPoint&&!r.is0(w.py))return;throw new Error("bad point: ZERO")}let{x,y:k}=w.toAffine();if(!r.isValid(x)||!r.isValid(k))throw new Error("bad point: x or y not FE");if(!a(x,k))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(x,k,_){if(x==null||!r.isValid(x))throw new Error("x required");if(k==null||!r.isValid(k)||r.is0(k))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required");this.px=x,this.py=k,this.pz=_,Object.freeze(this)}static fromAffine(x){let{x:k,y:_}=x||{};if(!x||!r.isValid(k)||!r.isValid(_))throw new Error("invalid affine point");if(x instanceof p)throw new Error("projective point not allowed");let C=S=>r.eql(S,r.ZERO);return C(k)&&C(_)?p.ZERO:new p(k,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let k=du(r,x.map(_=>_.pz));return x.map((_,C)=>_.toAffine(k[C])).map(p.fromAffine)}static fromHex(x){let k=p.fromAffine(s(Re("pointHex",x)));return k.assertValidity(),k}static fromPrivateKey(x){return p.BASE.multiply(f(x))}static msm(x,k){return kv(p,n,x,k)}_setWindowSize(x){m.setWindowSize(this,x)}assertValidity(){y(this)}hasEvenY(){let{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);let{px:k,py:_,pz:C}=this,{px:S,py:M,pz:A}=x,I=r.eql(r.mul(k,A),r.mul(S,C)),H=r.eql(r.mul(_,A),r.mul(M,C));return I&&H}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){let{a:x,b:k}=t,_=r.mul(k,em),{px:C,py:S,pz:M}=this,A=r.ZERO,I=r.ZERO,H=r.ZERO,z=r.mul(C,C),G=r.mul(S,S),E=r.mul(M,M),B=r.mul(C,S);return B=r.add(B,B),H=r.mul(C,M),H=r.add(H,H),A=r.mul(x,H),I=r.mul(_,E),I=r.add(A,I),A=r.sub(G,I),I=r.add(G,I),I=r.mul(A,I),A=r.mul(B,A),H=r.mul(_,H),E=r.mul(x,E),B=r.sub(z,E),B=r.mul(x,B),B=r.add(B,H),H=r.add(z,z),z=r.add(H,z),z=r.add(z,E),z=r.mul(z,B),I=r.add(I,z),E=r.mul(S,M),E=r.add(E,E),z=r.mul(E,B),A=r.sub(A,z),H=r.mul(E,G),H=r.add(H,H),H=r.add(H,H),new p(A,I,H)}add(x){d(x);let{px:k,py:_,pz:C}=this,{px:S,py:M,pz:A}=x,I=r.ZERO,H=r.ZERO,z=r.ZERO,G=t.a,E=r.mul(t.b,em),B=r.mul(k,S),N=r.mul(_,M),U=r.mul(C,A),T=r.add(k,_),j=r.add(S,M);T=r.mul(T,j),j=r.add(B,N),T=r.sub(T,j),j=r.add(k,C);let Z=r.add(S,A);return j=r.mul(j,Z),Z=r.add(B,U),j=r.sub(j,Z),Z=r.add(_,C),I=r.add(M,A),Z=r.mul(Z,I),I=r.add(N,U),Z=r.sub(Z,I),z=r.mul(G,j),I=r.mul(E,U),z=r.add(I,z),I=r.sub(N,z),z=r.add(N,z),H=r.mul(I,z),N=r.add(B,B),N=r.add(N,B),U=r.mul(G,U),j=r.mul(E,j),N=r.add(N,U),U=r.sub(B,U),U=r.mul(G,U),j=r.add(j,U),B=r.mul(N,j),H=r.add(H,B),B=r.mul(Z,j),I=r.mul(T,I),I=r.sub(I,B),B=r.mul(T,N),z=r.mul(Z,z),z=r.add(z,B),new p(I,H,z)}subtract(x){return this.add(x.negate())}is0(){return this.equals(p.ZERO)}wNAF(x){return m.wNAFCached(this,x,p.normalizeZ)}multiplyUnsafe(x){let{endo:k,n:_}=t;pn("scalar",x,wn,_);let C=p.ZERO;if(x===wn)return C;if(this.is0()||x===Ke)return this;if(!k||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,x,p.normalizeZ);let{k1neg:S,k1:M,k2neg:A,k2:I}=k.splitScalar(x),H=C,z=C,G=this;for(;M>wn||I>wn;)M&Ke&&(H=H.add(G)),I&Ke&&(z=z.add(G)),G=G.double(),M>>=Ke,I>>=Ke;return S&&(H=H.negate()),A&&(z=z.negate()),z=new p(r.mul(z.px,k.beta),z.py,z.pz),H.add(z)}multiply(x){let{endo:k,n:_}=t;pn("scalar",x,Ke,_);let C,S;if(k){let{k1neg:M,k1:A,k2neg:I,k2:H}=k.splitScalar(x),{p:z,f:G}=this.wNAF(A),{p:E,f:B}=this.wNAF(H);z=m.constTimeNegate(M,z),E=m.constTimeNegate(I,E),E=new p(r.mul(E.px,k.beta),E.py,E.pz),C=z.add(E),S=G.add(B)}else{let{p:M,f:A}=this.wNAF(x);C=M,S=A}return p.normalizeZ([C,S])[0]}multiplyAndAddUnsafe(x,k,_){let C=p.BASE,S=(A,I)=>I===wn||I===Ke||!A.equals(C)?A.multiplyUnsafe(I):A.multiply(I),M=S(this,k).add(S(x,_));return M.is0()?void 0:M}toAffine(x){return h(this,x)}isTorsionFree(){let{h:x,isTorsionFree:k}=t;if(x===Ke)return!0;if(k)return k(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:k}=t;return x===Ke?this:k?k(p,this):this.multiplyUnsafe(t.h)}toRawBytes(x=!0){return yi("isCompressed",x),this.assertValidity(),o(p,this,x)}toHex(x=!0){return yi("isCompressed",x),wi(this.toRawBytes(x))}}p.BASE=new p(t.Gx,t.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);let{endo:v,nBitLength:g}=t,m=bv(p,v?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:u}}function zB(e){let t=Xp(e);return mn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(b({lowS:!0},t))}function Ev(e){let t=zB(e),{Fp:r,n,nByteLength:o,nBitLength:s}=t,i=r.BYTES+1,a=2*r.BYTES+1;function c(E){return Pe(E,n)}function l(E){return fu(E,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=UB(O(b({},t),{toBytes(E,B,N){let U=B.toAffine(),T=r.toBytes(U.x),j=wt;return yi("isCompressed",N),N?j(Uint8Array.from([B.hasEvenY()?2:3]),T):j(Uint8Array.from([4]),T,r.toBytes(U.y))},fromBytes(E){let B=E.length,N=E[0],U=E.subarray(1);if(B===i&&(N===2||N===3)){let T=Tt(U);if(!Qo(T,Ke,r.ORDER))throw new Error("Point is not on curve");let j=d(T),Z;try{Z=r.sqrt(j)}catch(ge){let me=ge instanceof Error?": "+ge.message:"";throw new Error("Point is not on curve"+me)}let K=(Z&Ke)===Ke;return(N&1)===1!==K&&(Z=r.neg(Z)),{x:T,y:Z}}else if(B===a&&N===4){let T=r.fromBytes(U.subarray(0,r.BYTES)),j=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:T,y:j}}else{let T=i,j=a;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+j+", got "+B)}}}));function y(E){let B=n>>Ke;return E>B}function p(E){return y(E)?c(-E):E}let v=(E,B,N)=>Tt(E.slice(B,N));class g{constructor(B,N,U){pn("r",B,Ke,n),pn("s",N,Ke,n),this.r=B,this.s=N,U!=null&&(this.recovery=U),Object.freeze(this)}static fromCompact(B){let N=o;return B=Re("compactSignature",B,N*2),new g(v(B,0,N),v(B,N,2*N))}static fromDER(B){let{r:N,s:U}=yn.toSig(Re("DER",B));return new g(N,U)}assertValidity(){}addRecoveryBit(B){return new g(this.r,this.s,B)}recoverPublicKey(B){let{r:N,s:U,recovery:T}=this,j=C(Re("msgHash",B));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");let Z=T===2||T===3?N+t.n:N;if(Z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(T&1)===0?"02":"03",pe=u.fromHex(K+Jp(Z,r.BYTES)),ge=l(Z),me=c(-j*ge),Ue=c(U*ge),ke=u.BASE.multiplyAndAddUnsafe(pe,me,Ue);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ya(this.toDERHex())}toDERHex(){return yn.hexFromSig(this)}toCompactRawBytes(){return Ya(this.toCompactHex())}toCompactHex(){let B=o;return Jp(this.r,B)+Jp(this.s,B)}}let m={isValidPrivateKey(E){try{return f(E),!0}catch(B){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let E=Zp(t.n);return gv(t.randomBytes(E),t.n)},precompute(E=8,B=u.BASE){return B._setWindowSize(E),B.multiply(BigInt(3)),B}};function w(E,B=!0){return u.fromPrivateKey(E).toRawBytes(B)}function x(E){if(typeof E=="bigint")return!1;if(E instanceof u)return!0;let N=Re("key",E).length,U=r.BYTES,T=U+1,j=2*U+1;if(!(t.allowedPrivateKeyLengths||o===T))return N===T||N===j}function k(E,B,N=!0){if(x(E)===!0)throw new Error("first arg must be private key");if(x(B)===!1)throw new Error("second arg must be public key");return u.fromHex(B).multiply(f(E)).toRawBytes(N)}let _=t.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");let B=Tt(E),N=E.length*8-s;return N>0?B>>BigInt(N):B},C=t.bits2int_modN||function(E){return c(_(E))},S=Yo(s);function M(E){return pn("num < 2^"+s,E,wn,S),zr(E,o)}function A(E,B,N=I){if(["recovered","canonical"].some(Ae=>Ae in N))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:T}=t,{lowS:j,prehash:Z,extraEntropy:K}=N;j==null&&(j=!0),E=Re("msgHash",E),_v(N),Z&&(E=Re("prehashed msgHash",U(E)));let pe=C(E),ge=f(B),me=[M(ge),M(pe)];if(K!=null&&K!==!1){let Ae=K===!0?T(r.BYTES):K;me.push(Re("extraEntropy",Ae))}let Ue=wt(...me),ke=pe;function _t(Ae){let Lt=_(Ae);if(!h(Lt))return;let Os=l(Lt),Zt=u.BASE.multiply(Lt).toAffine(),ze=c(Zt.x);if(ze===wn)return;let Ft=c(Os*c(ke+ze*ge));if(Ft===wn)return;let Mn=(Zt.x===ze?0:2)|Number(Zt.y&Ke),Yr=Ft;return j&&y(Ft)&&(Yr=p(Ft),Mn^=1),new g(ze,Yr,Mn)}return{seed:Ue,k2sig:_t}}let I={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};function z(E,B,N=I){let{seed:U,k2sig:T}=A(E,B,N),j=t;return lv(j.hash.outputLen,j.nByteLength,j.hmac)(U,T)}u.BASE._setWindowSize(8);function G(E,B,N,U=H){var Mn;let T=E;B=Re("msgHash",B),N=Re("publicKey",N);let{lowS:j,prehash:Z,format:K}=U;if(_v(U),"strict"in U)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");let pe=typeof T=="string"||gi(T),ge=!pe&&!K&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!pe&&!ge)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let me,Ue;try{if(ge&&(me=new g(T.r,T.s)),pe){try{K!=="compact"&&(me=g.fromDER(T))}catch(Yr){if(!(Yr instanceof yn.Err))throw Yr}!me&&K!=="der"&&(me=g.fromCompact(T))}Ue=u.fromHex(N)}catch(Yr){return!1}if(!me||j&&me.hasHighS())return!1;Z&&(B=t.hash(B));let{r:ke,s:_t}=me,Ae=C(B),Lt=l(_t),Os=c(Ae*Lt),Zt=c(ke*Lt),ze=(Mn=u.BASE.multiplyAndAddUnsafe(Ue,Os,Zt))==null?void 0:Mn.toAffine();return ze?c(ze.x)===ke:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:k,sign:z,verify:G,ProjectivePoint:u,Signature:g,utils:m}}function jB(e){return{hash:e,hmac:(t,...r)=>Mp(e,t,jw(...r)),randomBytes:di}}function Bv(e,t){let r=n=>Ev(b(b({},e),jB(n)));return O(b({},r(t)),{create:r})}var HB=Tt;function io(e,t){if(Xa(e),Xa(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function DB(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Xa(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function $B(e,t,r,n){hn(e),hn(t),Xa(r),t.length>255&&(t=n(wt(uu("H2C-OVERSIZE-DST-"),t)));let{outputLen:o,blockLen:s}=n,i=Math.ceil(r/o);if(r>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=wt(t,io(t.length,1)),c=io(0,s),l=io(r,2),u=new Array(i),f=n(wt(c,e,l,io(0,1),a));u[0]=n(wt(f,io(1,1),a));for(let h=1;h<=i;h++){let y=[DB(f,u[h-1]),io(h+1,1),a];u[h]=n(wt(...y))}return wt(...u).slice(0,r)}function VB(e,t,r,n,o){if(hn(e),hn(t),Xa(r),t.length>255){let s=Math.ceil(2*n/8);t=o.create({dkLen:s}).update(uu("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(e).update(io(r,2)).update(t).update(io(t.length,1)).digest()}function hu(e,t,r){mn(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:o,m:s,hash:i,expand:a,DST:c}=r;hn(e),Xa(t);let l=typeof c=="string"?uu(c):c,u=n.toString(2).length,f=Math.ceil((u+o)/8),d=t*s*f,h;if(a==="xmd")h=$B(e,l,d,i);else if(a==="xof")h=VB(e,l,d,o,i);else if(a==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');let y=new Array(t);for(let p=0;p<t;p++){let v=new Array(s);for(let g=0;g<s;g++){let m=f*(g+p*s),w=h.subarray(m,m+f);v[g]=Pe(HB(w),n)}y[p]=v}return y}var tc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),im=BigInt(0),Ja=BigInt(1),mu=BigInt(2),Cv=(e,t)=>(e+t/mu)/t;function Pv(e){let t=tc,r=BigInt(3),n=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Dt(u,r,t)*u%t,d=Dt(f,r,t)*u%t,h=Dt(d,mu,t)*l%t,y=Dt(h,o,t)*h%t,p=Dt(y,s,t)*y%t,v=Dt(p,a,t)*p%t,g=Dt(v,c,t)*v%t,m=Dt(g,a,t)*p%t,w=Dt(m,r,t)*u%t,x=Dt(w,i,t)*y%t,k=Dt(x,n,t)*l%t,_=Dt(k,mu,t);if(!nm.eql(nm.sqr(_),e))throw new Error("Cannot find square root");return _}var nm=gn(tc,void 0,void 0,{sqrt:Pv}),At=Bv({a:im,b:BigInt(7),Fp:nm,n:pu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=pu,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ja*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,i=BigInt("0x100000000000000000000000000000000"),a=Cv(s*e,t),c=Cv(-n*e,t),l=Pe(e-a*r-c*o,t),u=Pe(-a*n-c*s,t),f=l>i,d=u>i;if(f&&(l=t-l),d&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},hi),Sv={};function gu(e,...t){let r=Sv[e];if(r===void 0){let n=hi(Uint8Array.from(e,o=>o.charCodeAt(0)));r=wt(n,n),Sv[e]=r}return hi(wt(r,...t))}var am=e=>e.toRawBytes(!0).slice(1),om=e=>zr(e,32),rm=e=>Pe(e,tc),ec=e=>Pe(e,pu),cm=At.ProjectivePoint,qB=(e,t,r)=>cm.BASE.multiplyAndAddUnsafe(e,t,r);function sm(e){let t=At.utils.normPrivateKeyToScalar(e),r=cm.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:ec(-t),bytes:am(r)}}function Tv(e){pn("x",e,Ja,tc);let t=rm(e*e),r=rm(t*e+BigInt(7)),n=Pv(r);n%mu!==im&&(n=rm(-n));let o=new cm(e,n,Ja);return o.assertValidity(),o}var vi=Tt;function Av(...e){return ec(vi(gu("BIP0340/challenge",...e)))}function WB(e){return sm(e).bytes}function ZB(e,t,r=di(32)){let n=Re("message",e),{bytes:o,scalar:s}=sm(t),i=Re("auxRand",r,32),a=om(s^vi(gu("BIP0340/aux",i))),c=gu("BIP0340/nonce",a,o,n),l=ec(vi(c));if(l===im)throw new Error("sign failed: k is zero");let{bytes:u,scalar:f}=sm(l),d=Av(u,o,n),h=new Uint8Array(64);if(h.set(u,0),h.set(om(ec(f+d*s)),32),!Nv(h,n,o))throw new Error("sign: Invalid signature produced");return h}function Nv(e,t,r){let n=Re("signature",e,64),o=Re("message",t),s=Re("publicKey",r,32);try{let i=Tv(vi(s)),a=vi(n.subarray(0,32));if(!Qo(a,Ja,tc))return!1;let c=vi(n.subarray(32,64));if(!Qo(c,Ja,pu))return!1;let l=Av(om(a),am(i),o),u=qB(i,c,ec(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(i){return!1}}var Jo={getPublicKey:WB,sign:ZB,verify:Nv,utils:{randomPrivateKey:At.utils.randomPrivateKey,lift_x:Tv,pointToBytes:am,numberToBytesBE:zr,bytesToNumberBE:Tt,taggedHash:gu,mod:Pe}};function Iv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function FB(e){if(typeof e!="boolean")throw new Error("boolean expected, not ".concat(e))}function ct(e,...t){if(!Iv(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function rc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function lm(e,t){ct(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Ov(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function kr(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function _r(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function xi(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}var KB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function GB(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function bi(e){if(typeof e=="string")e=GB(e);else if(Iv(e))e=es(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function Lv(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}var Rv=(e,t)=>{function r(n,...o){if(ct(n),!KB)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){let u=o[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?ct(u):ct(u,e.nonceLength)}let s=e.tagLength;s&&o[1]!==void 0&&ct(o[1]);let i=t(n,...o),a=(u,f)=>{if(f!==void 0){if(u!==2)throw new Error("cipher output not supported");ct(f)}},c=!1;return{encrypt(u,f){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ct(u),a(i.encrypt.length,f),i.encrypt(u,f)},decrypt(u,f){if(ct(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(i.decrypt.length,f),i.decrypt(u,f)}}}return Object.assign(r,e),r};function Mv(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!nc(t))throw new Error("invalid output, must be aligned");return t}function yu(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}function Uv(e,t,r){FB(r);let n=new Uint8Array(16),o=xi(n);return yu(o,0,BigInt(t),r),yu(o,8,BigInt(e),r),n}function nc(e){return e.byteOffset%4===0}function es(e){return Uint8Array.from(e)}var vn=16,fm=new Uint8Array(16),jr=kr(fm),QB=225,YB=(e,t,r,n)=>{let o=n&1;return{s3:r<<31|n>>>1,s2:t<<31|r>>>1,s1:e<<31|t>>>1,s0:e>>>1^QB<<24&-(o&1)}},tr=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function XB(e){e.reverse();let t=e[15]&1,r=0;for(let n=0;n<e.length;n++){let o=e[n];e[n]=o>>>1|r,r=(o&1)<<7}return e[0]^=-t&225,e}var JB=e=>e>64*1024?8:e>1024?4:2,wu=class{constructor(t,r){this.blockLen=vn,this.outputLen=vn,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=bi(t),ct(t,16);let n=xi(t),o=n.getUint32(0,!1),s=n.getUint32(4,!1),i=n.getUint32(8,!1),a=n.getUint32(12,!1),c=[];for(let y=0;y<128;y++)c.push({s0:tr(o),s1:tr(s),s2:tr(i),s3:tr(a)}),{s0:o,s1:s,s2:i,s3:a}=YB(o,s,i,a);let l=JB(r||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=l;let f=128/l,d=this.windowSize=2**l,h=[];for(let y=0;y<f;y++)for(let p=0;p<d;p++){let v=0,g=0,m=0,w=0;for(let x=0;x<l;x++){if(!(p>>>l-x-1&1))continue;let{s0:_,s1:C,s2:S,s3:M}=c[l*y+x];v^=_,g^=C,m^=S,w^=M}h.push({s0:v,s1:g,s2:m,s3:w})}this.t=h}_updateBlock(t,r,n,o){t^=this.s0,r^=this.s1,n^=this.s2,o^=this.s3;let{W:s,t:i,windowSize:a}=this,c=0,l=0,u=0,f=0,d=(1<<s)-1,h=0;for(let y of[t,r,n,o])for(let p=0;p<4;p++){let v=y>>>8*p&255;for(let g=8/s-1;g>=0;g--){let m=v>>>s*g&d,{s0:w,s1:x,s2:k,s3:_}=i[h*a+m];c^=w,l^=x,u^=k,f^=_,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=f}update(t){rc(this),t=bi(t),ct(t);let r=kr(t),n=Math.floor(t.length/vn),o=t.length%vn;for(let s=0;s<n;s++)this._updateBlock(r[s*4+0],r[s*4+1],r[s*4+2],r[s*4+3]);return o&&(fm.set(t.subarray(n*vn)),this._updateBlock(jr[0],jr[1],jr[2],jr[3]),_r(jr)),this}destroy(){let{t}=this;for(let r of t)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(t){rc(this),lm(t,this),this.finished=!0;let{s0:r,s1:n,s2:o,s3:s}=this,i=kr(t);return i[0]=r,i[1]=n,i[2]=o,i[3]=s,t}digest(){let t=new Uint8Array(vn);return this.digestInto(t),this.destroy(),t}},um=class extends wu{constructor(t,r){t=bi(t),ct(t);let n=XB(es(t));super(n,r),_r(n)}update(t){t=bi(t),rc(this);let r=kr(t),n=t.length%vn,o=Math.floor(t.length/vn);for(let s=0;s<o;s++)this._updateBlock(tr(r[s*4+3]),tr(r[s*4+2]),tr(r[s*4+1]),tr(r[s*4+0]));return n&&(fm.set(t.subarray(o*vn)),this._updateBlock(tr(jr[3]),tr(jr[2]),tr(jr[1]),tr(jr[0])),_r(jr)),this}digestInto(t){rc(this),lm(t,this),this.finished=!0;let{s0:r,s1:n,s2:o,s3:s}=this,i=kr(t);return i[0]=r,i[1]=n,i[2]=o,i[3]=s,t.reverse()}};function zv(e){let t=(n,o)=>e(o,n.length).update(bi(n)).digest(),r=e(new Uint8Array(16),0);return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=(n,o)=>e(n,o),t}var dm=zv((e,t)=>new wu(e,t)),e4=zv((e,t)=>new um(e,t));var pm=16,t4=4,vu=new Uint8Array(pm),r4=283;function mm(e){return e<<1^r4&-(e>>7)}function jv(e,t){let r=0;for(;t>0;t>>=1)r^=e&-(t&1),e=mm(e);return r}var n4=(()=>{let e=new Uint8Array(256);for(let r=0,n=1;r<256;r++,n^=mm(n))e[r]=n;let t=new Uint8Array(256);t[0]=99;for(let r=0;r<255;r++){let n=e[255-r];n|=n<<8,t[e[r]]=(n^n>>4^n>>5^n>>6^n>>7^99)&255}return _r(e),t})();var o4=e=>e<<24|e>>>8,hm=e=>e<<8|e>>>24;function s4(e,t){if(e.length!==256)throw new Error("Wrong sbox length");let r=new Uint32Array(256).map((l,u)=>t(e[u])),n=r.map(hm),o=n.map(hm),s=o.map(hm),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let f=l*256+u;i[f]=r[l]^n[u],a[f]=o[l]^s[u],c[f]=e[l]<<8|e[u]}return{sbox:e,sbox2:c,T0:r,T1:n,T2:o,T3:s,T01:i,T23:a}}var Dv=s4(n4,e=>jv(e,3)<<24|e<<16|e<<8|jv(e,2));var i4=(()=>{let e=new Uint8Array(16);for(let t=0,r=1;t<16;t++,r=mm(r))e[t]=r;return e})();function a4(e){ct(e);let t=e.length;if(![16,24,32].includes(t))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+t);let{sbox2:r}=Dv,n=[];nc(e)||n.push(e=es(e));let o=kr(e),s=o.length,i=c=>oc(r,c,c,c,c),a=new Uint32Array(t+28);a.set(o);for(let c=s;c<a.length;c++){let l=a[c-1];c%s===0?l=i(o4(l))^i4[c/s-1]:s>6&&c%s===4&&(l=i(l)),a[c]=a[c-s]^l}return _r(...n),a}function xu(e,t,r,n,o,s){return e[r<<8&65280|n>>>8&255]^t[o>>>8&65280|s>>>24&255]}function oc(e,t,r,n,o){return e[t&255|r&65280]|e[n>>>16&255|o>>>16&65280]<<16}function Hv(e,t,r,n,o){let{sbox2:s,T01:i,T23:a}=Dv,c=0;t^=e[c++],r^=e[c++],n^=e[c++],o^=e[c++];let l=e.length/4-2;for(let y=0;y<l;y++){let p=e[c++]^xu(i,a,t,r,n,o),v=e[c++]^xu(i,a,r,n,o,t),g=e[c++]^xu(i,a,n,o,t,r),m=e[c++]^xu(i,a,o,t,r,n);t=p,r=v,n=g,o=m}let u=e[c++]^oc(s,t,r,n,o),f=e[c++]^oc(s,r,n,o,t),d=e[c++]^oc(s,n,o,t,r),h=e[c++]^oc(s,o,t,r,n);return{s0:u,s1:f,s2:d,s3:h}}function bu(e,t,r,n,o){ct(r,pm),ct(n),o=Mv(n.length,o);let s=r,i=kr(s),a=xi(s),c=kr(n),l=kr(o),u=t?0:12,f=n.length,d=a.getUint32(u,t),{s0:h,s1:y,s2:p,s3:v}=Hv(e,i[0],i[1],i[2],i[3]);for(let m=0;m+4<=c.length;m+=4)l[m+0]=c[m+0]^h,l[m+1]=c[m+1]^y,l[m+2]=c[m+2]^p,l[m+3]=c[m+3]^v,d=d+1>>>0,a.setUint32(u,d,t),{s0:h,s1:y,s2:p,s3:v}=Hv(e,i[0],i[1],i[2],i[3]);let g=pm*Math.floor(c.length/t4);if(g<f){let m=new Uint32Array([h,y,p,v]),w=Ov(m);for(let x=g,k=0;x<f;x++,k++)o[x]=n[x]^w[k];_r(m)}return o}function c4(e,t,r,n,o){let s=o?o.length:0,i=e.create(r,n.length+s);o&&i.update(o);let a=Uv(8*n.length,8*s,t);i.update(n),i.update(a);let c=i.digest();return _r(a),c}var gm=Rv({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(t,r,n){if(r.length<8)throw new Error("aes/gcm: invalid nonce length");let o=16;function s(a,c,l){let u=c4(dm,!1,a,l,n);for(let f=0;f<c.length;f++)u[f]^=c[f];return u}function i(){let a=a4(t),c=vu.slice(),l=vu.slice();if(bu(a,!1,l,l,c),r.length===12)l.set(r);else{let f=vu.slice(),d=xi(f);yu(d,8,BigInt(r.length*8),!1);let h=dm.create(c).update(r).update(f);h.digestInto(l),h.destroy()}let u=bu(a,!1,l,vu);return{xk:a,authKey:c,counter:l,tagMask:u}}return{encrypt(a){let{xk:c,authKey:l,counter:u,tagMask:f}=i(),d=new Uint8Array(a.length+o),h=[c,l,u,f];nc(a)||h.push(a=es(a)),bu(c,!1,u,a,d.subarray(0,a.length));let y=s(l,f,d.subarray(0,d.length-o));return h.push(y),d.set(y,a.length),_r(...h),d},decrypt(a){let{xk:c,authKey:l,counter:u,tagMask:f}=i(),d=[c,l,f,u];nc(a)||d.push(a=es(a));let h=a.subarray(0,-o),y=a.subarray(-o),p=s(l,f,h);if(d.push(p),!Lv(p,y))throw new Error("aes/gcm: invalid ghash tag");let v=bu(c,!1,u,h);return _r(...d),v}}});function ki(e){let t=Jo.getPublicKey(e);return new P(t).hex}function ts(e,t){let r=t.length===66?t:"02"+t,n=At.getSharedSecret(e,r,!0);return new P(n).slice(1).hex}function $v(e,t){let r=Jo.sign(t,e);return new P(r).hex}function Vv(e,t,r){return Jo.verify(r,e,t)}function ku(e,t,r){let n=P.str(t),o=P.hex(e),s=r!==void 0?P.hex(r,24):P.random(24),i=gm(o,s).encrypt(n);return new P(i).b64url+"?iv="+s.b64url}function _u(e,t){let[r,n]=t.split("?iv="),o=P.b64url(r),s=P.hex(e),i=P.b64url(n),a=gm(s,i).decrypt(o);return new P(a).str}function Eu(){return P.random(16).hex}function ym(e){let t=JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]);return P.str(t).digest.hex}function l4(e,t){return e.tags.filter(r=>r.at(0)===t)}function qv(e,t){return l4(e,"p").some(n=>n[1]===t)}var V={};Un(V,{BRAND:()=>R4,DIRTY:()=>rs,EMPTY_PATH:()=>h4,INVALID:()=>Q,NEVER:()=>vC,OK:()=>lt,ParseStatus:()=>Je,Schema:()=>ne,ZodAny:()=>lo,ZodArray:()=>_n,ZodBigInt:()=>os,ZodBoolean:()=>ss,ZodBranded:()=>cc,ZodCatch:()=>gs,ZodDate:()=>is,ZodDefault:()=>ms,ZodDiscriminatedUnion:()=>Pu,ZodEffects:()=>or,ZodEnum:()=>hs,ZodError:()=>Nt,ZodFirstPartyTypeKind:()=>Y,ZodFunction:()=>Au,ZodIntersection:()=>us,ZodIssueCode:()=>L,ZodLazy:()=>fs,ZodLiteral:()=>ds,ZodMap:()=>Pi,ZodNaN:()=>Ai,ZodNativeEnum:()=>ps,ZodNever:()=>Er,ZodNull:()=>cs,ZodNullable:()=>$r,ZodNumber:()=>ns,ZodObject:()=>It,ZodOptional:()=>rr,ZodParsedType:()=>$,ZodPipeline:()=>lc,ZodPromise:()=>uo,ZodReadonly:()=>ys,ZodRecord:()=>Tu,ZodSchema:()=>ne,ZodSet:()=>Ti,ZodString:()=>co,ZodSymbol:()=>Ci,ZodTransformer:()=>or,ZodTuple:()=>Dr,ZodType:()=>ne,ZodUndefined:()=>as,ZodUnion:()=>ls,ZodUnknown:()=>kn,ZodVoid:()=>Si,addIssueToContext:()=>D,any:()=>q4,array:()=>K4,bigint:()=>j4,boolean:()=>rx,coerce:()=>wC,custom:()=>Jv,date:()=>H4,datetimeRegex:()=>Yv,defaultErrorMap:()=>xn,discriminatedUnion:()=>X4,effect:()=>uC,enum:()=>aC,function:()=>oC,getErrorMap:()=>_i,getParsedType:()=>Hr,instanceof:()=>U4,intersection:()=>J4,isAborted:()=>Bu,isAsync:()=>Ei,isDirty:()=>Cu,isValid:()=>ao,late:()=>M4,lazy:()=>sC,literal:()=>iC,makeIssue:()=>sc,map:()=>rC,nan:()=>z4,nativeEnum:()=>cC,never:()=>Z4,null:()=>V4,nullable:()=>dC,number:()=>tx,object:()=>G4,objectUtil:()=>wm,oboolean:()=>yC,onumber:()=>gC,optional:()=>fC,ostring:()=>mC,pipeline:()=>pC,preprocess:()=>hC,promise:()=>lC,quotelessJson:()=>u4,record:()=>tC,set:()=>nC,setErrorMap:()=>d4,strictObject:()=>Q4,string:()=>ex,symbol:()=>D4,transformer:()=>uC,tuple:()=>eC,undefined:()=>$4,union:()=>Y4,unknown:()=>W4,util:()=>ae,void:()=>F4});var ae;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function r(o){throw new Error}e.assertNever=r,e.arrayToEnum=o=>{let s={};for(let i of o)s[i]=i;return s},e.getValidEnumValues=o=>{let s=e.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),i={};for(let a of s)i[a]=o[a];return e.objectValues(i)},e.objectValues=o=>e.objectKeys(o).map(function(s){return o[s]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let s=[];for(let i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},e.find=(o,s)=>{for(let i of o)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,s=" | "){return o.map(i=>typeof i=="string"?"'".concat(i,"'"):i).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(ae||(ae={}));var wm;(function(e){e.mergeShapes=(t,r)=>b(b({},t),r)})(wm||(wm={}));var $=ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hr=e=>{switch(typeof e){case"undefined":return $.undefined;case"string":return $.string;case"number":return Number.isNaN(e)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(e)?$.array:e===null?$.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$.promise:typeof Map<"u"&&e instanceof Map?$.map:typeof Set<"u"&&e instanceof Set?$.set:typeof Date<"u"&&e instanceof Date?$.date:$.object;default:return $.unknown}};var L=ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),u4=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Nt=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(s){return s.message},n={_errors:[]},o=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let a=n,c=0;for(;c<i.path.length;){let l=i.path[c];c===i.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(i))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return o(this),n}static assert(t){if(!(t instanceof e))throw new Error("Not a ZodError: ".concat(t))}toString(){return this.message}get message(){return JSON.stringify(this.issues,ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Nt.create=e=>new Nt(e);var f4=(e,t)=>{let r;switch(e.code){case L.invalid_type:e.received===$.undefined?r="Required":r="Expected ".concat(e.expected,", received ").concat(e.received);break;case L.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(e.expected,ae.jsonStringifyReplacer));break;case L.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(ae.joinValues(e.keys,", "));break;case L.invalid_union:r="Invalid input";break;case L.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(ae.joinValues(e.options));break;case L.invalid_enum_value:r="Invalid enum value. Expected ".concat(ae.joinValues(e.options),", received '").concat(e.received,"'");break;case L.invalid_arguments:r="Invalid function arguments";break;case L.invalid_return_type:r="Invalid function return type";break;case L.invalid_date:r="Invalid date";break;case L.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r='Invalid input: must include "'.concat(e.validation.includes,'"'),typeof e.validation.position=="number"&&(r="".concat(r," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?r='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?r='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):ae.assertNever(e.validation):e.validation!=="regex"?r="Invalid ".concat(e.validation):r="Invalid";break;case L.too_small:e.type==="array"?r="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):e.type==="string"?r="String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):e.type==="number"?r="Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):e.type==="date"?r="Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):r="Invalid input";break;case L.too_big:e.type==="array"?r="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):e.type==="string"?r="String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):e.type==="number"?r="Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="bigint"?r="BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="date"?r="Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):r="Invalid input";break;case L.custom:r="Invalid input";break;case L.invalid_intersection_types:r="Intersection results could not be merged";break;case L.not_multiple_of:r="Number must be a multiple of ".concat(e.multipleOf);break;case L.not_finite:r="Number must be finite";break;default:r=t.defaultError,ae.assertNever(e)}return{message:r}},xn=f4;var Wv=xn;function d4(e){Wv=e}function _i(){return Wv}var sc=e=>{let{data:t,path:r,errorMaps:n,issueData:o}=e,s=[...r,...o.path||[]],i=O(b({},o),{path:s});if(o.message!==void 0)return O(b({},o),{path:s,message:o.message});let a="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)a=l(i,{data:t,defaultError:a}).message;return O(b({},o),{path:s,message:a})},h4=[];function D(e,t){let r=_i(),n=sc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===xn?void 0:xn].filter(o=>!!o)});e.common.issues.push(n)}var Je=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let o of r){if(o.status==="aborted")return Q;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let o of r){let s=await o.key,i=await o.value;n.push({key:s,value:i})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let o of r){let{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return Q;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(n[s.value]=i.value)}return{status:t.value,value:n}}},Q=Object.freeze({status:"aborted"}),rs=e=>({status:"dirty",value:e}),lt=e=>({status:"valid",value:e}),Bu=e=>e.status==="aborted",Cu=e=>e.status==="dirty",ao=e=>e.status==="valid",Ei=e=>typeof Promise<"u"&&e instanceof Promise;var F;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(F||(F={}));var Su=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Kv=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},ic,ac,nr=class{constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Zv=(e,t)=>{if(ao(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Nt(e.common.issues);return this._error=r,this._error}}};function re(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(i,a)=>{var l,u;let{message:c}=e;return i.code==="invalid_enum_value"?{message:c!=null?c:a.defaultError}:typeof a.data>"u"?{message:(l=c!=null?c:n)!=null?l:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c!=null?c:r)!=null?u:a.defaultError}},description:o}}var ne=class{get description(){return this._def.description}_getType(t){return Hr(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Hr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Je,ctx:{common:t.parent.common,data:t.data,parsedType:Hr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Ei(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var s;let n={common:{issues:[],async:(s=r==null?void 0:r.async)!=null?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hr(t)},o=this._parseSync({data:t,path:n.path,parent:n});return Zv(n,o)}"~validate"(t){var n,o;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hr(t)};if(!this["~standard"].async)try{let s=this._parseSync({data:t,path:[],parent:r});return ao(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(o=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>ao(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hr(t)},o=this._parse({data:t,path:n.path,parent:n}),s=await(Ei(o)?o:Promise.resolve(o));return Zv(n,s)}refine(t,r){let n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,s)=>{let i=t(o),a=()=>s.addIssue(b({code:L.custom},n(o)));return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new or({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rr.create(this,this._def)}nullable(){return $r.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _n.create(this)}promise(){return uo.create(this,this._def)}or(t){return ls.create([this,t],this._def)}and(t){return us.create(this,t,this._def)}transform(t){return new or(O(b({},re(this._def)),{schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){let r=typeof t=="function"?t:()=>t;return new ms(O(b({},re(this._def)),{innerType:this,defaultValue:r,typeName:Y.ZodDefault}))}brand(){return new cc(b({typeName:Y.ZodBranded,type:this},re(this._def)))}catch(t){let r=typeof t=="function"?t:()=>t;return new gs(O(b({},re(this._def)),{innerType:this,catchValue:r,typeName:Y.ZodCatch}))}describe(t){let r=this.constructor;return new r(O(b({},this._def),{description:t}))}pipe(t){return lc.create(this,t)}readonly(){return ys.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},p4=/^c[^\s-]{8,}$/i,m4=/^[0-9a-z]+$/,g4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,y4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w4=/^[a-z0-9_-]{21}$/i,v4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,x4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,b4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,k4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",vm,_4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,E4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,B4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,C4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,S4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Gv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",T4=new RegExp("^".concat(Gv,"$"));function Qv(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):e.precision==null&&(t="".concat(t,"(\\.\\d+)?"));let r=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(r)}function A4(e){return new RegExp("^".concat(Qv(e),"$"))}function Yv(e){let t="".concat(Gv,"T").concat(Qv(e)),r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(r.join("|"),")"),new RegExp("^".concat(t,"$"))}function N4(e,t){return!!((t==="v4"||!t)&&_4.test(e)||(t==="v6"||!t)&&B4.test(e))}function I4(e,t){if(!v4.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&o.alg!==t)}catch(r){return!1}}function O4(e,t){return!!((t==="v4"||!t)&&E4.test(e)||(t==="v6"||!t)&&C4.test(e))}var co=class e extends ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$.string){let s=this._getOrReturnCtx(t);return D(s,{code:L.invalid_type,expected:$.string,received:s.parsedType}),Q}let n=new Je,o;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(o=this._getOrReturnCtx(t,o),D(o,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(o=this._getOrReturnCtx(t,o),D(o,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(o=this._getOrReturnCtx(t,o),i?D(o,{code:L.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&D(o,{code:L.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")b4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"email",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")vm||(vm=new RegExp(k4,"u")),vm.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"emoji",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")y4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"uuid",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")w4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"nanoid",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")p4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"cuid",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")m4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"cuid2",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")g4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"ulid",code:L.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch(i){o=this._getOrReturnCtx(t,o),D(o,{validation:"url",code:L.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"regex",code:L.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(t,o),D(o,{code:L.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(o=this._getOrReturnCtx(t,o),D(o,{code:L.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(o=this._getOrReturnCtx(t,o),D(o,{code:L.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Yv(s).test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{code:L.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?T4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{code:L.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?A4(s).test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{code:L.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?x4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"duration",code:L.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?N4(t.data,s.version)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"ip",code:L.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?I4(t.data,s.alg)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"jwt",code:L.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?O4(t.data,s.version)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"cidr",code:L.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?S4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"base64",code:L.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?P4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"base64url",code:L.invalid_string,message:s.message}),n.dirty()):ae.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),b({validation:r,code:L.invalid_string},F.errToObj(n)))}_addCheck(t){return new e(O(b({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(b({kind:"email"},F.errToObj(t)))}url(t){return this._addCheck(b({kind:"url"},F.errToObj(t)))}emoji(t){return this._addCheck(b({kind:"emoji"},F.errToObj(t)))}uuid(t){return this._addCheck(b({kind:"uuid"},F.errToObj(t)))}nanoid(t){return this._addCheck(b({kind:"nanoid"},F.errToObj(t)))}cuid(t){return this._addCheck(b({kind:"cuid"},F.errToObj(t)))}cuid2(t){return this._addCheck(b({kind:"cuid2"},F.errToObj(t)))}ulid(t){return this._addCheck(b({kind:"ulid"},F.errToObj(t)))}base64(t){return this._addCheck(b({kind:"base64"},F.errToObj(t)))}base64url(t){return this._addCheck(b({kind:"base64url"},F.errToObj(t)))}jwt(t){return this._addCheck(b({kind:"jwt"},F.errToObj(t)))}ip(t){return this._addCheck(b({kind:"ip"},F.errToObj(t)))}cidr(t){return this._addCheck(b({kind:"cidr"},F.errToObj(t)))}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(b({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!=null?r:!1,local:(n=t==null?void 0:t.local)!=null?n:!1},F.errToObj(t==null?void 0:t.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(b({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision},F.errToObj(t==null?void 0:t.message)))}duration(t){return this._addCheck(b({kind:"duration"},F.errToObj(t)))}regex(t,r){return this._addCheck(b({kind:"regex",regex:t},F.errToObj(r)))}includes(t,r){return this._addCheck(b({kind:"includes",value:t,position:r==null?void 0:r.position},F.errToObj(r==null?void 0:r.message)))}startsWith(t,r){return this._addCheck(b({kind:"startsWith",value:t},F.errToObj(r)))}endsWith(t,r){return this._addCheck(b({kind:"endsWith",value:t},F.errToObj(r)))}min(t,r){return this._addCheck(b({kind:"min",value:t},F.errToObj(r)))}max(t,r){return this._addCheck(b({kind:"max",value:t},F.errToObj(r)))}length(t,r){return this._addCheck(b({kind:"length",value:t},F.errToObj(r)))}nonempty(t){return this.min(1,F.errToObj(t))}trim(){return new e(O(b({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new e(O(b({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new e(O(b({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};co.create=e=>{var t;return new co(b({checks:[],typeName:Y.ZodString,coerce:(t=e==null?void 0:e.coerce)!=null?t:!1},re(e)))};function L4(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,s=Number.parseInt(e.toFixed(o).replace(".","")),i=Number.parseInt(t.toFixed(o).replace(".",""));return s%i/10**o}var ns=class e extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$.number){let s=this._getOrReturnCtx(t);return D(s,{code:L.invalid_type,expected:$.number,received:s.parsedType}),Q}let n,o=new Je;for(let s of this._def.checks)s.kind==="int"?ae.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{code:L.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),D(n,{code:L.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),D(n,{code:L.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?L4(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),D(n,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{code:L.not_finite,message:s.message}),o.dirty()):ae.assertNever(s);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,F.toString(r))}gt(t,r){return this.setLimit("min",t,!1,F.toString(r))}lte(t,r){return this.setLimit("max",t,!0,F.toString(r))}lt(t,r){return this.setLimit("max",t,!1,F.toString(r))}setLimit(t,r,n,o){return new e(O(b({},this._def),{checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:F.toString(o)}]}))}_addCheck(t){return new e(O(b({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:F.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:F.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:F.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ae.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};ns.create=e=>new ns(b({checks:[],typeName:Y.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},re(e)));var os=class e extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch(s){return this._getInvalidInput(t)}if(this._getType(t)!==$.bigint)return this._getInvalidInput(t);let n,o=new Je;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),D(n,{code:L.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),D(n,{code:L.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),D(n,{code:L.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):ae.assertNever(s);return{status:o.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return D(r,{code:L.invalid_type,expected:$.bigint,received:r.parsedType}),Q}gte(t,r){return this.setLimit("min",t,!0,F.toString(r))}gt(t,r){return this.setLimit("min",t,!1,F.toString(r))}lte(t,r){return this.setLimit("max",t,!0,F.toString(r))}lt(t,r){return this.setLimit("max",t,!1,F.toString(r))}setLimit(t,r,n,o){return new e(O(b({},this._def),{checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:F.toString(o)}]}))}_addCheck(t){return new e(O(b({},this._def),{checks:[...this._def.checks,t]}))}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:F.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};os.create=e=>{var t;return new os(b({checks:[],typeName:Y.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!=null?t:!1},re(e)))};var ss=class extends ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$.boolean){let n=this._getOrReturnCtx(t);return D(n,{code:L.invalid_type,expected:$.boolean,received:n.parsedType}),Q}return lt(t.data)}};ss.create=e=>new ss(b({typeName:Y.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},re(e)));var is=class e extends ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$.date){let s=this._getOrReturnCtx(t);return D(s,{code:L.invalid_type,expected:$.date,received:s.parsedType}),Q}if(Number.isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return D(s,{code:L.invalid_date}),Q}let n=new Je,o;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(o=this._getOrReturnCtx(t,o),D(o,{code:L.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(o=this._getOrReturnCtx(t,o),D(o,{code:L.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):ae.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e(O(b({},this._def),{checks:[...this._def.checks,t]}))}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:F.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:F.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};is.create=e=>new is(b({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Y.ZodDate},re(e)));var Ci=class extends ne{_parse(t){if(this._getType(t)!==$.symbol){let n=this._getOrReturnCtx(t);return D(n,{code:L.invalid_type,expected:$.symbol,received:n.parsedType}),Q}return lt(t.data)}};Ci.create=e=>new Ci(b({typeName:Y.ZodSymbol},re(e)));var as=class extends ne{_parse(t){if(this._getType(t)!==$.undefined){let n=this._getOrReturnCtx(t);return D(n,{code:L.invalid_type,expected:$.undefined,received:n.parsedType}),Q}return lt(t.data)}};as.create=e=>new as(b({typeName:Y.ZodUndefined},re(e)));var cs=class extends ne{_parse(t){if(this._getType(t)!==$.null){let n=this._getOrReturnCtx(t);return D(n,{code:L.invalid_type,expected:$.null,received:n.parsedType}),Q}return lt(t.data)}};cs.create=e=>new cs(b({typeName:Y.ZodNull},re(e)));var lo=class extends ne{constructor(){super(...arguments),this._any=!0}_parse(t){return lt(t.data)}};lo.create=e=>new lo(b({typeName:Y.ZodAny},re(e)));var kn=class extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return lt(t.data)}};kn.create=e=>new kn(b({typeName:Y.ZodUnknown},re(e)));var Er=class extends ne{_parse(t){let r=this._getOrReturnCtx(t);return D(r,{code:L.invalid_type,expected:$.never,received:r.parsedType}),Q}};Er.create=e=>new Er(b({typeName:Y.ZodNever},re(e)));var Si=class extends ne{_parse(t){if(this._getType(t)!==$.undefined){let n=this._getOrReturnCtx(t);return D(n,{code:L.invalid_type,expected:$.void,received:n.parsedType}),Q}return lt(t.data)}};Si.create=e=>new Si(b({typeName:Y.ZodVoid},re(e)));var _n=class e extends ne{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==$.array)return D(r,{code:L.invalid_type,expected:$.array,received:r.parsedType}),Q;if(o.exactLength!==null){let i=r.data.length>o.exactLength.value,a=r.data.length<o.exactLength.value;(i||a)&&(D(r,{code:i?L.too_big:L.too_small,minimum:a?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(D(r,{code:L.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(D(r,{code:L.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>o.type._parseAsync(new nr(r,i,r.path,a)))).then(i=>Je.mergeArray(n,i));let s=[...r.data].map((i,a)=>o.type._parseSync(new nr(r,i,r.path,a)));return Je.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new e(O(b({},this._def),{minLength:{value:t,message:F.toString(r)}}))}max(t,r){return new e(O(b({},this._def),{maxLength:{value:t,message:F.toString(r)}}))}length(t,r){return new e(O(b({},this._def),{exactLength:{value:t,message:F.toString(r)}}))}nonempty(t){return this.min(1,t)}};_n.create=(e,t)=>new _n(b({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray},re(t)));function Bi(e){if(e instanceof It){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=rr.create(Bi(n))}return new It(O(b({},e._def),{shape:()=>t}))}else return e instanceof _n?new _n(O(b({},e._def),{type:Bi(e.element)})):e instanceof rr?rr.create(Bi(e.unwrap())):e instanceof $r?$r.create(Bi(e.unwrap())):e instanceof Dr?Dr.create(e.items.map(t=>Bi(t))):e}var It=class e extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=ae.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==$.object){let l=this._getOrReturnCtx(t);return D(l,{code:L.invalid_type,expected:$.object,received:l.parsedType}),Q}let{status:n,ctx:o}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Er&&this._def.unknownKeys==="strip"))for(let l in o.data)i.includes(l)||a.push(l);let c=[];for(let l of i){let u=s[l],f=o.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new nr(o,f,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof Er){let l=this._def.unknownKeys;if(l==="passthrough")for(let u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:o.data[u]}});else if(l==="strict")a.length>0&&(D(o,{code:L.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let u of a){let f=o.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new nr(o,f,o.path,u)),alwaysSet:u in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let u of c){let f=await u.key,d=await u.value;l.push({key:f,value:d,alwaysSet:u.alwaysSet})}return l}).then(l=>Je.mergeObjectSync(n,l)):Je.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return F.errToObj,new e(b(O(b({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(r,n)=>{var s,i,a,c;let o=(a=(i=(s=this._def).errorMap)==null?void 0:i.call(s,r,n).message)!=null?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=F.errToObj(t).message)!=null?c:o}:{message:o}}}:{}))}strip(){return new e(O(b({},this._def),{unknownKeys:"strip"}))}passthrough(){return new e(O(b({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new e(O(b({},this._def),{shape:()=>b(b({},this._def.shape()),t)}))}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>b(b({},this._def.shape()),t._def.shape()),typeName:Y.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e(O(b({},this._def),{catchall:t}))}pick(t){let r={};for(let n of ae.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e(O(b({},this._def),{shape:()=>r}))}omit(t){let r={};for(let n of ae.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e(O(b({},this._def),{shape:()=>r}))}deepPartial(){return Bi(this)}partial(t){let r={};for(let n of ae.objectKeys(this.shape)){let o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}return new e(O(b({},this._def),{shape:()=>r}))}required(t){let r={};for(let n of ae.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof rr;)s=s._def.innerType;r[n]=s}return new e(O(b({},this._def),{shape:()=>r}))}keyof(){return Xv(ae.objectKeys(this.shape))}};It.create=(e,t)=>new It(b({shape:()=>e,unknownKeys:"strip",catchall:Er.create(),typeName:Y.ZodObject},re(t)));It.strictCreate=(e,t)=>new It(b({shape:()=>e,unknownKeys:"strict",catchall:Er.create(),typeName:Y.ZodObject},re(t)));It.lazycreate=(e,t)=>new It(b({shape:e,unknownKeys:"strip",catchall:Er.create(),typeName:Y.ZodObject},re(t)));var ls=class extends ne{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function o(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let i=s.map(a=>new Nt(a.ctx.common.issues));return D(r,{code:L.invalid_union,unionErrors:i}),Q}if(r.common.async)return Promise.all(n.map(async s=>{let i=O(b({},r),{common:O(b({},r.common),{issues:[]}),parent:null});return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(o);{let s,i=[];for(let c of n){let l=O(b({},r),{common:O(b({},r.common),{issues:[]}),parent:null}),u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(c=>new Nt(c));return D(r,{code:L.invalid_union,unionErrors:a}),Q}}get options(){return this._def.options}};ls.create=(e,t)=>new ls(b({options:e,typeName:Y.ZodUnion},re(t)));var bn=e=>e instanceof fs?bn(e.schema):e instanceof or?bn(e.innerType()):e instanceof ds?[e.value]:e instanceof hs?e.options:e instanceof ps?ae.objectValues(e.enum):e instanceof ms?bn(e._def.innerType):e instanceof as?[void 0]:e instanceof cs?[null]:e instanceof rr?[void 0,...bn(e.unwrap())]:e instanceof $r?[null,...bn(e.unwrap())]:e instanceof cc||e instanceof ys?bn(e.unwrap()):e instanceof gs?bn(e._def.innerType):[],Pu=class e extends ne{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==$.object)return D(r,{code:L.invalid_type,expected:$.object,received:r.parsedType}),Q;let n=this.discriminator,o=r.data[n],s=this.optionsMap.get(o);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(D(r,{code:L.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let o=new Map;for(let s of r){let i=bn(s.shape[t]);if(!i.length)throw new Error("A discriminator value for key `".concat(t,"` could not be extracted from all schema options"));for(let a of i){if(o.has(a))throw new Error("Discriminator property ".concat(String(t)," has duplicate value ").concat(String(a)));o.set(a,s)}}return new e(b({typeName:Y.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:o},re(n)))}};function xm(e,t){let r=Hr(e),n=Hr(t);if(e===t)return{valid:!0,data:e};if(r===$.object&&n===$.object){let o=ae.objectKeys(t),s=ae.objectKeys(e).filter(a=>o.indexOf(a)!==-1),i=b(b({},e),t);for(let a of s){let c=xm(e[a],t[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(r===$.array&&n===$.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let s=0;s<e.length;s++){let i=e[s],a=t[s],c=xm(i,a);if(!c.valid)return{valid:!1};o.push(c.data)}return{valid:!0,data:o}}else return r===$.date&&n===$.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var us=class extends ne{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=(s,i)=>{if(Bu(s)||Bu(i))return Q;let a=xm(s.value,i.value);return a.valid?((Cu(s)||Cu(i))&&r.dirty(),{status:r.value,value:a.data}):(D(n,{code:L.invalid_intersection_types}),Q)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};us.create=(e,t,r)=>new us(b({left:e,right:t,typeName:Y.ZodIntersection},re(r)));var Dr=class e extends ne{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$.array)return D(n,{code:L.invalid_type,expected:$.array,received:n.parsedType}),Q;if(n.data.length<this._def.items.length)return D(n,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&n.data.length>this._def.items.length&&(D(n,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((i,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new nr(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>Je.mergeArray(r,i)):Je.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new e(O(b({},this._def),{rest:t}))}};Dr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Dr(b({items:e,typeName:Y.ZodTuple,rest:null},re(t)))};var Tu=class e extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$.object)return D(n,{code:L.invalid_type,expected:$.object,received:n.parsedType}),Q;let o=[],s=this._def.keyType,i=this._def.valueType;for(let a in n.data)o.push({key:s._parse(new nr(n,a,n.path,a)),value:i._parse(new nr(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Je.mergeObjectAsync(r,o):Je.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ne?new e(b({keyType:t,valueType:r,typeName:Y.ZodRecord},re(n))):new e(b({keyType:co.create(),valueType:t,typeName:Y.ZodRecord},re(r)))}},Pi=class extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$.map)return D(n,{code:L.invalid_type,expected:$.map,received:n.parsedType}),Q;let o=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([a,c],l)=>({key:o._parse(new nr(n,a,n.path,[l,"key"])),value:s._parse(new nr(n,c,n.path,[l,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of i){let l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Q;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of i){let l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Q;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}};Pi.create=(e,t,r)=>new Pi(b({valueType:t,keyType:e,typeName:Y.ZodMap},re(r)));var Ti=class e extends ne{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$.set)return D(n,{code:L.invalid_type,expected:$.set,received:n.parsedType}),Q;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(D(n,{code:L.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(D(n,{code:L.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let s=this._def.valueType;function i(c){let l=new Set;for(let u of c){if(u.status==="aborted")return Q;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}let a=[...n.data.values()].map((c,l)=>s._parse(new nr(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(t,r){return new e(O(b({},this._def),{minSize:{value:t,message:F.toString(r)}}))}max(t,r){return new e(O(b({},this._def),{maxSize:{value:t,message:F.toString(r)}}))}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Ti.create=(e,t)=>new Ti(b({valueType:e,minSize:null,maxSize:null,typeName:Y.ZodSet},re(t)));var Au=class e extends ne{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==$.function)return D(r,{code:L.invalid_type,expected:$.function,received:r.parsedType}),Q;function n(a,c){return sc({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_i(),xn].filter(l=>!!l),issueData:{code:L.invalid_arguments,argumentsError:c}})}function o(a,c){return sc({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_i(),xn].filter(l=>!!l),issueData:{code:L.invalid_return_type,returnTypeError:c}})}let s={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof uo){let a=this;return lt(async function(...c){let l=new Nt([]),u=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(n(c,h)),l}),f=await Reflect.apply(i,this,u);return await a._def.returns._def.type.parseAsync(f,s).catch(h=>{throw l.addIssue(o(f,h)),l})})}else{let a=this;return lt(function(...c){let l=a._def.args.safeParse(c,s);if(!l.success)throw new Nt([n(c,l.error)]);let u=Reflect.apply(i,this,l.data),f=a._def.returns.safeParse(u,s);if(!f.success)throw new Nt([o(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e(O(b({},this._def),{args:Dr.create(t).rest(kn.create())}))}returns(t){return new e(O(b({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e(b({args:t||Dr.create([]).rest(kn.create()),returns:r||kn.create(),typeName:Y.ZodFunction},re(n)))}},fs=class extends ne{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};fs.create=(e,t)=>new fs(b({getter:e,typeName:Y.ZodLazy},re(t)));var ds=class extends ne{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return D(r,{received:r.data,code:L.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:t.data}}get value(){return this._def.value}};ds.create=(e,t)=>new ds(b({value:e,typeName:Y.ZodLiteral},re(t)));function Xv(e,t){return new hs(b({values:e,typeName:Y.ZodEnum},re(t)))}var hs=class e extends ne{constructor(){super(...arguments),ic.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return D(r,{expected:ae.joinValues(n),received:r.parsedType,code:L.invalid_type}),Q}if(Su(this,ic,"f")||Kv(this,ic,new Set(this._def.values),"f"),!Su(this,ic,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return D(r,{received:r.data,code:L.invalid_enum_value,options:n}),Q}return lt(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,b(b({},this._def),r))}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),b(b({},this._def),r))}};ic=new WeakMap;hs.create=Xv;var ps=class extends ne{constructor(){super(...arguments),ac.set(this,void 0)}_parse(t){let r=ae.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==$.string&&n.parsedType!==$.number){let o=ae.objectValues(r);return D(n,{expected:ae.joinValues(o),received:n.parsedType,code:L.invalid_type}),Q}if(Su(this,ac,"f")||Kv(this,ac,new Set(ae.getValidEnumValues(this._def.values)),"f"),!Su(this,ac,"f").has(t.data)){let o=ae.objectValues(r);return D(n,{received:n.data,code:L.invalid_enum_value,options:o}),Q}return lt(t.data)}get enum(){return this._def.values}};ac=new WeakMap;ps.create=(e,t)=>new ps(b({values:e,typeName:Y.ZodNativeEnum},re(t)));var uo=class extends ne{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==$.promise&&r.common.async===!1)return D(r,{code:L.invalid_type,expected:$.promise,received:r.parsedType}),Q;let n=r.parsedType===$.promise?r.data:Promise.resolve(r.data);return lt(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};uo.create=(e,t)=>new uo(b({type:e,typeName:Y.ZodPromise},re(t)));var or=class extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,s={addIssue:i=>{D(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let i=o.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return Q;let c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?Q:c.status==="dirty"?rs(c.value):r.value==="dirty"?rs(c.value):c});{if(r.value==="aborted")return Q;let a=this._def.schema._parseSync({data:i,path:n.path,parent:n});return a.status==="aborted"?Q:a.status==="dirty"?rs(a.value):r.value==="dirty"?rs(a.value):a}}if(o.type==="refinement"){let i=a=>{let c=o.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Q:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Q:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(o.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ao(i))return i;let a=o.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>ao(i)?Promise.resolve(o.transform(i.value,s)).then(a=>({status:r.value,value:a})):i);ae.assertNever(o)}};or.create=(e,t,r)=>new or(b({schema:e,typeName:Y.ZodEffects,effect:t},re(r)));or.createWithPreprocess=(e,t,r)=>new or(b({schema:t,effect:{type:"preprocess",transform:e},typeName:Y.ZodEffects},re(r)));var rr=class extends ne{_parse(t){return this._getType(t)===$.undefined?lt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};rr.create=(e,t)=>new rr(b({innerType:e,typeName:Y.ZodOptional},re(t)));var $r=class extends ne{_parse(t){return this._getType(t)===$.null?lt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};$r.create=(e,t)=>new $r(b({innerType:e,typeName:Y.ZodNullable},re(t)));var ms=class extends ne{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===$.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};ms.create=(e,t)=>new ms(b({innerType:e,typeName:Y.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},re(t)));var gs=class extends ne{_parse(t){let{ctx:r}=this._processInputParams(t),n=O(b({},r),{common:O(b({},r.common),{issues:[]})}),o=this._def.innerType._parse({data:n.data,path:n.path,parent:b({},n)});return Ei(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Nt(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Nt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};gs.create=(e,t)=>new gs(b({innerType:e,typeName:Y.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},re(t)));var Ai=class extends ne{_parse(t){if(this._getType(t)!==$.nan){let n=this._getOrReturnCtx(t);return D(n,{code:L.invalid_type,expected:$.nan,received:n.parsedType}),Q}return{status:"valid",value:t.data}}};Ai.create=e=>new Ai(b({typeName:Y.ZodNaN},re(e)));var R4=Symbol("zod_brand"),cc=class extends ne{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},lc=class e extends ne{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Q:s.status==="dirty"?(r.dirty(),rs(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Q:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:Y.ZodPipeline})}},ys=class extends ne{_parse(t){let r=this._def.innerType._parse(t),n=o=>(ao(o)&&(o.value=Object.freeze(o.value)),o);return Ei(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};ys.create=(e,t)=>new ys(b({innerType:e,typeName:Y.ZodReadonly},re(t)));function Fv(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Jv(e,t={},r){return e?lo.create().superRefine((n,o)=>{var i,a;let s=e(n);if(s instanceof Promise)return s.then(c=>{var l,u;if(!c){let f=Fv(t,n),d=(u=(l=f.fatal)!=null?l:r)!=null?u:!0;o.addIssue(O(b({code:"custom"},f),{fatal:d}))}});if(!s){let c=Fv(t,n),l=(a=(i=c.fatal)!=null?i:r)!=null?a:!0;o.addIssue(O(b({code:"custom"},c),{fatal:l}))}}):lo.create()}var M4={object:It.lazycreate},Y;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Y||(Y={}));var U4=(e,t={message:"Input not instance of ".concat(e.name)})=>Jv(r=>r instanceof e,t),ex=co.create,tx=ns.create,z4=Ai.create,j4=os.create,rx=ss.create,H4=is.create,D4=Ci.create,$4=as.create,V4=cs.create,q4=lo.create,W4=kn.create,Z4=Er.create,F4=Si.create,K4=_n.create,G4=It.create,Q4=It.strictCreate,Y4=ls.create,X4=Pu.create,J4=us.create,eC=Dr.create,tC=Tu.create,rC=Pi.create,nC=Ti.create,oC=Au.create,sC=fs.create,iC=ds.create,aC=hs.create,cC=ps.create,lC=uo.create,uC=or.create,fC=rr.create,dC=$r.create,hC=or.createWithPreprocess,pC=lc.create,mC=()=>ex().optional(),gC=()=>tx().optional(),yC=()=>rx().optional(),wC={string:e=>co.create(O(b({},e),{coerce:!0})),number:e=>ns.create(O(b({},e),{coerce:!0})),boolean:e=>ss.create(O(b({},e),{coerce:!0})),bigint:e=>os.create(O(b({},e),{coerce:!0})),date:e=>is.create(O(b({},e),{coerce:!0}))};var vC=Q;var nx=V;var uc=nx;var xC=V.bigint(),bC=V.boolean(),kC=V.date(),_C=V.number(),EC=V.number().max(Number.MAX_SAFE_INTEGER),BC=V.string(),CC=V.number().min(5e8).max(Number.MAX_SAFE_INTEGER),SC=V.string().url(),PC=V.any(),Ni=V.string().regex(/^[0-9a-fA-F]*$/).refine(e=>e.length%2===0),TC=V.union([V.string(),V.number(),V.boolean(),V.null()]),AC=Ni.refine(e=>e.length===32),NC=Ni.refine(e=>e.length===40),IC=Ni.refine(e=>e.length===64),OC=Ni.refine(e=>e.length===128),LC=Ni.refine(e=>e.length===66),RC=V.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/),MC=V.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/),UC=V.string().regex(/^[a-zA-Z0-9\-_]+={0,2}$/),zC=V.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/),Ot={any:PC,base58:RC,base64:MC,b64url:UC,bech32:zC,big:xC,bool:bC,date:kC,hex32:IC,hex16:AC,hex20:NC,hex64:OC,hex:Ni,literal:TC,num:_C,pubkey:LC,str:BC,stamp:CC,uint:EC,url:SC};var ox=Ot.str.array(),sx=V.object({content:Ot.str,created_at:Ot.stamp,kind:Ot.num,pubkey:Ot.hex32,tags:ox.array()}),ix=sx.extend({id:Ot.hex32}),jC=ix.extend({sig:Ot.hex64}),ax={signed:jC,tags:ox,template:sx,unsigned:ix};var HC=Ot.hex16,DC=Ot.str,$C=Ot.str.min(3).max(256),VC=V.tuple([$C,HC,DC]),cx={envelope:VC};var fo={base:Ot,event:ax,msg:cx};var lx;(function(e){function t(o,s){if(o===!1)throw new Error(s!=null?s:"Assertion failed!")}e.ok=t;function r(o,s){if(typeof o>"u")throw new TypeError(s!=null?s:"Input is undefined!");if(o===null)throw new TypeError(s!=null?s:"Input is null!")}e.exists=r;function n(o,s,i){let a=P.bytes(o);if(a.length!==s)throw new Error(i!=null?i:"Invalid byte size: ".concat(a.hex," !== ").concat(s));return!0}e.size=n})(lx||(lx={}));var fc=()=>Math.floor(Date.now()/1e3);function Nu(e){return e instanceof Error?e.message:typeof e=="string"?e:String(e)}function ux(e,t,r,n){var l;let o=(l=e.created_at)!=null?l:fc(),s=ki(n),i=ts(n,r),a=ku(i,t),c=O(b({},e),{pubkey:s,content:a,created_at:o});return c.tags.push(["p",r]),qC(n,c)}function qC(e,t){let r=ym(t),n=$v(e,r);return O(b({},t),{id:r,sig:n})}function fx(e){let a=e,{id:t,sig:r}=a,n=Cc(a,["id","sig"]),s=fo.event.signed.safeParse(e),i=ym(n);return s.success?t!==i?"event id mismatch":Vv(t,e.pubkey,r)?null:"invalid event signature":"event failed schema validation"}function hx(e,t){let r=fx(e);if(r!==null)throw new Error(r);let n=ki(t);if(!qv(e,n))throw new Error("pubkey not in peers list");let o=ts(t,e.pubkey),s=_u(o,e.content);return JSON.parse(s)}function sr(e){var r;let t=(r=e.id)!=null?r:Eu();return O(b({},e),{id:t})}function px(e,t,r){try{return JSON.stringify([e,r,t])}catch(n){throw new Error("failed to create message payload")}}function mx(e,t){let n=fo.msg.envelope.safeParse(e);if(!n.success)throw!1,new Error("envelope failed schema validation");let[o,s,i]=n.data;return{env:t,data:i,id:s,tag:o}}function gx(e){if(!fo.base.url.array().safeParse(e).success)throw new Error("invalid relay set: "+e)}function yx(e){if(!fo.base.hex32.safeParse(e).success)throw new Error("invalid secret key: "+e)}var po={};Un(po,{H1:()=>XC,H2:()=>JC,H3:()=>e8,H4:()=>t8,H5:()=>r8});var Br=BigInt(0),Cr=BigInt(1),FC=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ii=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Oi=At.CURVE,ho=gn(Ii,32,!0),KC=At.ProjectivePoint,ws="FROST-secp256k1-SHA256-v1",Iu={_0n:Br,_1n:Cr,_N:Ii,_P:FC,CURVE:Oi,DOMAIN:ws,FIELD:ho,POINT:KC};var{POINT:GC,_N:QC,_P:zO}=Iu;function ye(e){return Pe(e,QC)}function km(e){return new TextEncoder().encode(e)}function xt(e){let t=P.bytes(e);if(t.length<32||t.length>33)throw new Error("invalid pubkeky: "+t.hex+" "+t.length);return t.length===32&&(t=t.prepend(2)),GC.fromHex(t.hex)}var YC={m:1,p:Ii,k:128,expand:"xmd",hash:fn};function _m(e){return O(b({},YC),{DST:e})}function XC(e){let t=ws+"rho",r=hu(e,1,_m(t));return P.big(r[0][0],32)}function JC(e){let t=ws+"chal",r=hu(e,1,_m(t));return P.big(r[0][0],32)}function e8(e){let t=ws+"nonce",r=hu(e,1,_m(t));return P.big(r[0][0],32)}function t8(e){let t=km(ws+"msg"),r=fn(new Uint8Array([...t,...e]));return new P(r)}function r8(e){let t=km(ws+"com"),r=fn(new Uint8Array([...t,...e]));return new P(r)}var de={};Un(de,{DeserializeElement:()=>v8,DeserializeScalar:()=>b8,ElementAdd:()=>Ou,ElementAddMany:()=>g8,Identity:()=>p8,Order:()=>h8,RandomScalar:()=>m8,ScalarBaseMulti:()=>Em,ScalarMulti:()=>y8,SerializeElement:()=>w8,SerializeScalar:()=>x8});var De={};Un(De,{equal_arr_size:()=>l8,exists:()=>o8,is_equal_set:()=>c8,is_included:()=>i8,is_unique_set:()=>a8,ok:()=>n8,size:()=>s8});function n8(e,t){if(e===!1)throw new Error(t!=null?t:"Assertion failed!")}function o8(e){if(typeof e>"u")throw new TypeError("Input is undefined!");if(e===null)throw new TypeError("Input is null!")}function s8(e,t){let r=P.bytes(e);if(r.length!==t)throw new Error("Invalid byte size: ".concat(r.hex," !== ").concat(t));return!0}function i8(e,t){if(!e.includes(t))throw new Error("item is not included in array")}function a8(e){for(let t of e)if(e.filter(n=>n===t).length!==1)throw new Error("item in set is not unique: "+String(t))}function c8(e){if(!e.every(t=>t===e[0]))throw new Error("set does not have equal items")}function l8(e,t){if(e.length!==t.length)throw new Error("array lengths are unequal: ".concat(e.length," !== ").concat(t.length))}function u8(e){let t=P.str(e).digest;return P.join([t,t])}function wx(e,...t){let r=u8(e),n=t.map(o=>P.bytes(o));return P.join([r,...n]).digest}var{POINT:xx,_0n:vx,_1n:f8,_N:d8}=Iu;function h8(){return d8}function p8(){return new xx(vx,f8,vx)}function m8(){let e=P.random(32).big;return ye(e)}function Ou(e,t){if(e===null&&t===null)throw new Error("both points are null!");if(e===null)return De.exists(t),t;if(t===null)return e;{let r=e.add(t);return r.assertValidity(),r}}function g8(e){let t=e.slice(1).reduce((r,n)=>Ou(r,n),e[0]);if(t===null)throw new Error("Summed point is null.");return t.assertValidity(),t}function y8(e,t){let r=e.multiply(t);return r.assertValidity(),r}function Em(e){let r=At.ProjectivePoint.BASE.multiply(e);return r.assertValidity(),r}function w8(e){return P.bytes(e.toRawBytes(!0))}function v8(e){let t=P.bytes(e).hex;return xx.fromHex(t)}function x8(e){return new P(e,32)}function b8(e){return P.bytes(e).big}function Bm(e){let t=P.bytes(e).big,r=de.ScalarBaseMulti(t);return de.SerializeElement(r).hex}function kx(e,t,r){let n=bx(t,"bip340"),o=bx(e,"bip340");return De.size(n,32),De.size(o,32),wx("BIP0340/challenge",o,n,r).big}function bx(e,t){let r=P.bytes(e);if(t==="ecdsa")return r.length===32?r.prepend(2).hex:r.hex;if(t==="bip340")return r.length===33?r.slice(1).hex:r.hex;throw new Error("invalid pubkey type")}function _x(e){return e.map(t=>BigInt(t.idx))}function Cm(e){let t=[],r=e.sort((n,o)=>n.idx-o.idx);for(let{idx:n,hidden_pn:o,binder_pn:s}of r){let i=[de.SerializeScalar(n),o,s];t=[...t,...i]}return P.join(t)}function Lu(e,t,r){let n=P.hex(r),o=po.H4(n),s=Cm(e),i=po.H5(s);return P.join([t,o,i])}function Ru(e,t){for(let r of e)if(t===r.idx)return P.bytes(r.factor).big;throw new Error("invalid participant")}function Mu(e,t){return e.map(({idx:r})=>{let n=de.SerializeScalar(r),o=P.join([t,n]);return{idx:r,factor:po.H1(o).hex}})}function Uu(e,t){let r=null;for(let{idx:n,binder_pn:o,hidden_pn:s}of e){let i=de.DeserializeElement(s),a=de.DeserializeElement(o),c=Ru(t,n),l=de.ScalarMulti(a,c);r=de.ElementAdd(r,i),r=de.ElementAdd(r,l)}return De.exists(r),de.SerializeElement(r).hex}function Ex(e,t=[]){let r=t.map(l=>P.bytes(l).big),n=Cr,o=Ii-n,s=e,i=n,a=n,c=Br;for(let l of r){let u=Em(l);i=s.hasEvenY()?n:o,s=i===o?s.negate():s,s=Ou(s,u),s.assertValidity(),a=ye(i*a),c=ye(l+i*c)}return i=s.hasEvenY()?n:o,{parity:i,point:s,state:a,tweak:c}}function E8(e,t){let r=P.bytes(e).hex,n=xt(r),o=Ex(n,t),s=o.point.toHex(!0);return{int_pk:r,int_pt:n,group_pk:s,group_pt:o}}function B8(e,t,r){let n=e.group_pk,o=Lu(t,n,r).hex,s=Mu(t,o),i=Uu(t,s),a=_x(t),c=kx(i,n,r);return r=P.bytes(r).hex,{bind_prefix:o,bind_factors:s,challenge:c,pnonces:t,group_pn:i,indexes:a,message:r}}function Bx(e,t,r,n){let o=E8(e,n),s=B8(o,t,r);return b(b({},o),s)}function Sm(e,t){De.is_included(e,t),De.is_unique_set(e);let r=Cr,n=Cr;for(let o of e)o!==t&&(r=ye(ho.mul(r,o)),n=ye(ho.mul(n,o-t)));return ye(ho.div(r,n))}function Pm(e,t,r){De.is_unique_set(e);let n=Cr,o=Cr;for(let s of e)s!==t&&(n=ye(ho.mul(n,r-s)),o=ye(ho.mul(o,t-s)));return ye(ho.div(n,o))}function Cx(e,t,r){let n=e.filter(f=>f!==t.idx).map(f=>BigInt(f)),o=BigInt(t.idx),s=P.hex(t.seckey).big,i=xt(r),a=Pm(n,o,Br),c=ye(a*s),l=i.multiply(c),u=de.SerializeElement(l).hex;return{idx:t.idx,pubkey:u}}function Sx(e){let t=null;for(let r of e)if(t===null)t=xt(r.pubkey);else{let n=xt(r.pubkey);t=t.add(n)}return De.exists(t),de.SerializeElement(t).hex}function Ax(e,t,r){let{bind_factors:n,challenge:o,indexes:s,group_pt:i}=e,a=Ru(n,t.idx),c=Sm(s,BigInt(t.idx));if(r.idx!==t.idx)throw new Error("commit index does not match share index: ".concat(r.idx," !== ").concat(t.idx));let l=P.bytes(r.hidden_sn).big,u=P.bytes(r.binder_sn).big,f=P.bytes(t.seckey).big;xt(e.group_pn).hasEvenY()||(l=Oi.n-l,u=Oi.n-u);let h=ye(i.parity*i.state*f),y=ye(l+u*a),p=ye(o*c*h+y);return{idx:t.idx,psig:P.big(p,32).hex,pubkey:Bm(t.seckey)}}function Nx(e,t){let{challenge:r,pnonces:n,group_pt:o,group_pk:s,message:i}=e,a=Lu(n,s,i),c=Mu(n,a),l=Uu(n,c),u=t.map(h=>P.hex(h.psig).big).reduce((h,y)=>ye(h+y),Br),f=ye(r*o.parity*o.tweak),d=ye(u+f);return P.join([l.slice(2),P.big(d,32)]).hex}function Ix(e,t,r,n){let{bind_factors:o,challenge:s,indexes:i,group_pn:a,group_pt:c}=e,l=Ru(o,t.idx),u=xt(t.hidden_pn),f=xt(t.binder_pn),d=xt(r);xt(a).hasEvenY()||(u=de.ScalarMulti(u,Oi.n-Cr),f=de.ScalarMulti(f,Oi.n-Cr));let y=de.ScalarMulti(f,l),p=de.ElementAdd(u,y),v=Sm(i,BigInt(t.idx)),g=ye(c.parity*c.state),m=ye(s*v*g),w=P.hex(n).big,x=de.ScalarBaseMulti(w),k=de.ScalarMulti(d,m),_=de.ElementAdd(p,k);return x.x===_.x}function Ox(e,t,r){let n=Cx(e,r,t);return{idx:n.idx,keyshare:n.pubkey,members:e,ecdh_pk:t}}function Lx(e){let t=e.map(r=>({idx:r.idx,pubkey:r.keyshare}));return Sx(t)}var S8=V.bigint(),P8=V.boolean(),T8=V.date(),A8=V.number(),N8=V.number().max(Number.MAX_SAFE_INTEGER),I8=V.string(),O8=V.number().min(5e8).max(Number.MAX_SAFE_INTEGER),L8=V.any(),R8=V.bigint().max(BigInt(100000000)*BigInt(21000000)),Rx=V.union([V.string(),V.number(),V.boolean(),V.null()]),Tm=V.lazy(()=>V.union([Rx,V.array(Tm),V.record(Tm)])),dc=V.string().regex(/^[0-9a-fA-F]*$/).refine(e=>e.length%2===0),M8=dc.refine(e=>e.length===40),U8=dc.refine(e=>e.length===64),z8=dc.refine(e=>e.length===66),j8=dc.refine(e=>e.length===128),H8=V.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/),D8=V.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/),$8=V.string().regex(/^[a-zA-Z0-9\-_]+={0,2}$/),V8=V.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/),te={any:L8,base58:H8,base64:D8,base64url:$8,bech32:V8,big:S8,bool:P8,date:T8,hex20:M8,hex32:U8,hex33:z8,hex64:j8,hex:dc,json:Tm,literal:Rx,num:A8,sats:R8,str:I8,stamp:O8,uint:N8};var Mx=V.object({send:V.boolean(),recv:V.boolean()}),Ux=V.object({pubkey:te.hex32,policy:Mx}),q8=Ux.extend({status:V.enum(["online","offline"]),updated:te.stamp}),zu={config:Ux,data:q8,policy:Mx};var W8=V.object({ecdh:V.map(te.hex33,te.hex33).optional()}),zx=V.object({ecdh:V.function().optional(),sign:V.function().optional()}),Z8=V.object({debug:V.boolean(),middleware:zx,policies:zu.config.array(),sign_ival:te.num}),jx={cache:W8,config:Z8,middleware:zx};var Hx=V.object({idx:te.num,pubkey:te.hex33,hidden_pn:te.hex33,binder_pn:te.hex33}),F8=V.object({commits:V.array(Hx),group_pk:te.hex33,threshold:te.num}),K8=V.object({idx:te.num,binder_sn:te.hex32,hidden_sn:te.hex32,seckey:te.hex32}),G8=V.object({idx:te.num,keyshare:te.hex,members:te.num.array(),ecdh_pk:te.hex}),hc={commit:Hx,ecdh:G8,group:F8,share:K8};var Q8=hc.commit.extend({bind_hash:te.hex32,sid:te.hex32,sighash:te.hex32}),Y8=hc.share.extend({bind_hash:te.hex32,sid:te.hex32,sighash:te.hex32}),Dx=uc.tuple([te.hex32,te.hex32]),$x=uc.tuple([te.hex32]).rest(te.hex32),Vx=uc.object({content:te.str.nullable(),hashes:$x.array(),members:te.num.array(),stamp:te.num,type:te.str}),X8=Vx.extend({gid:te.hex32,sid:te.hex32}),J8=uc.object({idx:te.num,psigs:Dx.array(),pubkey:te.hex33,sid:te.hex32}),qx={commit:Q8,member:Y8,psig_entry:Dx,psig_pkg:J8,session:X8,sighash_vec:$x,template:Vx};var $t={base:te,node:jx,peer:zu,pkg:hc,sign:qx};function ju(e){try{let t=$t.pkg.ecdh,r=JSON.parse(e.data),n=t.parse(r);return O(b({},e),{data:n})}catch(t){throw new Error("ecdh message failed validation")}}function Wx(e){try{let t=$t.sign.session,r=JSON.parse(e.data),n=t.parse(r);return O(b({},e),{data:n})}catch(t){throw new Error("session message failed validation")}}function Zx(e){try{let t=$t.sign.psig_pkg,r=JSON.parse(e.data),n=t.parse(r);return O(b({},e),{data:n})}catch(t){throw new Error("signature message failed validation")}}function Fx(e){try{return $t.pkg.group.parse(e)}catch(t){throw console.log("error:",t),new Error("group package failed validation")}}function Kx(e){try{return $t.pkg.share.parse(e)}catch(t){throw console.log("error:",t),new Error("share package failed validation")}}var ir=()=>Math.floor(Date.now()/1e3),Gx=(e=1e3)=>new Promise(t=>setTimeout(t,e));function ar(e){return JSON.parse(JSON.stringify(e))}function Hu(e){return e instanceof Map||Array.isArray(e)||typeof e!="object"?e:Object.keys(e).sort().filter(([t,r])=>r!==void 0).reduce((t,r)=>(t[r]=e[r],t),{})}function bt(e){return e instanceof Error?e.message:typeof e=="string"?e:String(e)}function Qx(e,t,r){if(t.safeParse(e).success)return!0;if(r===void 0)return!1;throw new Error(r!=null?r:"object failed schema validation")}var ue;(function(e){function t(a,c){if(a===!1)throw new Error(c!=null?c:"Assertion failed!")}e.ok=t;function r(a,c,l){if(a!==c)throw new Error(l!=null?l:"".concat(a," !== ").concat(c))}e.equal=r;function n(a,c){if(typeof a>"u")throw new TypeError(c!=null?c:"Input is undefined!");if(a===null)throw new TypeError(c!=null?c:"Input is null!")}e.exists=n;function o(a,c,l){let u=P.bytes(a);if(u.length!==c)throw new Error(l!=null?l:"Invalid byte size: ".concat(u.hex," !== ").concat(c));return!0}e.size=o;function s(a,c,l){n(c),Qx(c,a,l!=null?l:null)}e.schema=s;function i(a){if(typeof a!="string"||a.match(/[^a-fA-F0-9]/)!==null||a.length%2!==0)throw new Error("invalid hex:"+a)}e.is_hex=i})(ue||(ue={}));var Am=At.CURVE.n,eS=gn(Am,32,!0),Nm=At.ProjectivePoint.BASE;function tS(e,t=!1){let r=vs(e).big%Am;return t?Nm.multiply(r).hasEvenY()?P.big(r).hex:P.big(Am-r).hex:P.big(r).hex}function xs(e,t){let r=vs(e).big,o=Nm.multiply(r).toHex(!0);return mo(o,t)}function Im(e,t,r=!1){let n=vs(e).big,o=vs(t).big,s=eS.add(n,o),i=P.big(s);return tS(i,r)}function Om(e,t,r=!1){let n=oS(e),o=vs(t).big,s=rS(e),i=Nm.multiply(o),a=s.add(i);r&&!a.hasEvenY()&&(a=a.negate());let c=a.toHex(!0);return mo(c,n)}function rS(e){try{let t=mo(e,"ecdsa");return At.ProjectivePoint.fromHex(t)}catch(t){throw new Error("invalid pubkey: "+e)}}function nS(e,t){try{let r=vs(e);return r.length===33&&t==="bip340"?r.slice(1):r.length===32&&t==="ecdsa"?r.prepend(2):r}catch(r){throw new Error("invalid pubkey: "+String(e))}}function mo(e,t){return nS(e,t).hex}function oS(e){let t=vs(e);if(t.length===33)return"ecdsa";if(t.length===32)return"bip340";throw new Error("invalid pubkey: "+String(e))}function vs(e){try{return P.bytes(e)}catch(t){throw new Error("invalid bytes: "+String(e))}}var Yx;(function(e){function t(o){return o instanceof Error?o.message:typeof o=="string"?o:String(o)}e.error=t;function r(o,s){return s.safeParse(o)}e.data=r;function n(o,s){let i=o.map(c=>s.safeParse(c)),a=i.filter(c=>!c.success).map(c=>c.error.errors.map(l=>"".concat(l.message,": ").concat(l.path)));return a.length!==0?{ok:!1,errors:a}:{ok:!0,data:i.map(c=>c.data)}}e.array=n})(Yx||(Yx={}));function Du(e,t){let r=()=>Math.random()>.5?1:-1,n=Math.min(e.length,t-1);return e.sort(r).slice(0,n)}function $u(e,t){let r=e.commits.filter(n=>t.includes(mo(n.pubkey,"bip340"))).map(n=>n.idx);return ue.ok(r.length===t.length,"index count does not match pubkey count"),r}function Xx(e){return e.map(t=>t.pubkey)}function Jx(e){return e.filter(t=>t.policy.recv).map(t=>t.pubkey)}function Vu(e){return e.filter(t=>t.policy.send).map(t=>t.pubkey)}async function e2(e,t){let r=e.config.middleware.ecdh;try{e.emit("/ecdh/handler/req",ar(t)),typeof r=="function"&&(t=r(e,t));let{members:n,ecdh_pk:o}=t.data,s=e.signer.gen_ecdh_share(n,o),i=sr({data:JSON.stringify(s),id:t.id,tag:"/ecdh/res"}),a=await e.client.publish(i,t.env.pubkey);if(!a.ok)throw new Error("failed to publish response");e.emit("/ecdh/handler/res",ar(a.data))}catch(n){e.debug&&console.log(n),e.emit("/ecdh/handler/rej",[bt(n),ar(t)])}}function t2(e){return async(t,r)=>{let n=e.group.threshold,o=Vu(e.peers),s=Du(r!=null?r:r=o,n),i=e.cache.ecdh.get(t);if(i!==void 0)return{ok:!0,data:e.signer.unwrap(i,t)};let a=$u(e.group,[e.pubkey,...s]),c=e.signer.gen_ecdh_share(a,t),l=null;try{l=await sS(e,s,c),e.emit("/ecdh/sender/res",ar(l))}catch(u){e.debug&&console.log(u);let f=bt(u);return e.emit("/ecdh/sender/rej",[f,ar(c)]),{ok:!1,err:f}}try{ue.ok(l!==null,"no responses from peers");let u=[c,...l.map(h=>h.data)],f=iS(u),d=e.signer.wrap(f,t);return e.cache.ecdh.set(t,d),e.emit("/ecdh/sender/ret",[t,f]),{ok:!0,data:f}}catch(u){e.debug&&console.log(u);let f=bt(u);return e.emit("/ecdh/sender/err",[f,ar(l!=null?l:[])]),{ok:!1,err:f}}}}async function sS(e,t,r){let n={data:JSON.stringify(r),tag:"/ecdh/req"},o=await e.client.multicast(n,t);if(!o.sub.ok)throw new Error(o.sub.reason);return o.sub.inbox.map(s=>{let i=ju(s);return ue.ok(i!==null,"invalid ecdh response from pubkey: "+s.env.pubkey),i})}function iS(e){return Lx(e)}function r2(e){return async t=>{let r=null;try{r=await aS(e,t),e.emit("/echo/sender/res",r)}catch(n){e.debug&&console.log(n);let o=bt(n);return e.emit("/echo/sender/rej",[o,r]),{ok:!1,err:o}}try{return ue.ok(r!==null,"no response from self"),e.emit("/echo/sender/ret",[r.data]),{ok:!0,data:r.data}}catch(n){e.debug&&console.log(n);let o=bt(n);return e.emit("/echo/sender/err",[o,r]),{ok:!1,err:o}}}}async function aS(e,t){let r=await e.client.request({data:t,tag:"/echo/req"},e.pubkey,{});if(!r.ok)throw new Error(r.reason);return r.inbox[0]}async function n2(e,t){try{e.emit("/ping/handler/req",t);let r=e.peers.find(s=>s.pubkey===t.env.pubkey);if(r===void 0)throw new Error("peer data not found");let n=sr({data:JSON.stringify(r.policy),id:t.id,tag:"/ping/res"}),o=await e.client.publish(n,t.env.pubkey);if(!o.ok)throw new Error("failed to publish response");e.update_peer(O(b({},r),{status:"online",updated:ir()})),e.emit("/ping/handler/res",o.data)}catch(r){e.debug&&console.log(r),e.emit("/ping/handler/rej",[bt(r),t])}}function o2(e){return async t=>{let r=e.peers.find(o=>o.pubkey===t);ue.exists(r,"peer data not found");let n=null;try{n=await cS(e,t),e.emit("/ping/sender/res",n)}catch(o){e.debug&&console.log(o);let s=bt(o);return e.emit("/ping/sender/rej",[s,n]),{ok:!1,err:s}}try{ue.ok(n!==null,"no response from peer");let o=lS(n);if(o===null)throw new Error("invalid ping response");let s=O(b({},r),{status:"online",updated:ir()});return e.update_peer(s),e.emit("/ping/sender/ret",s),{ok:!0,data:o}}catch(o){e.debug&&console.log(o);let s=bt(o);return e.emit("/ping/sender/err",[s,n]),e.update_peer(O(b({},r),{status:"offline",updated:ir()})),{ok:!1,err:s}}}}async function cS(e,t){let r=await e.client.request({data:"ping",tag:"/ping/req"},t,{});if(!r.ok)throw new Error(r.reason);return r.inbox[0]}function lS(e){try{let t=JSON.parse(e.data),r=$t.peer.policy.safeParse(t);return r.success?r.data:null}catch(t){return null}}function s2(e){if(Array.isArray(e))return e;if(typeof e=="string")return[e];throw new Error("invalid message payload")}function i2(e,t,r){let n=c2(e,t.idx,r),o=Om(t.hidden_pn,n),s=Om(t.binder_pn,n),[i]=r;return O(b({},t),{binder_pn:s,hidden_pn:o,bind_hash:n,sighash:i,sid:e})}function a2(e,t,r){let n=c2(e,t.idx,r),o=Im(t.hidden_sn,n),s=Im(t.binder_sn,n),[i]=r;return O(b({},t),{binder_sn:s,hidden_sn:o,bind_hash:n,sighash:i,sid:e})}function c2(e,t,r){let n=P.bytes(e),o=P.num(t,4),s=P.join(r);return P.join([n,o,s]).digest.hex}function l2(e){let t=Cm(e.commits);return P.join([t,e.group_pk]).digest.hex}function u2(e,t){let r=e.find(n=>n.idx===t);return ue.exists(r,"commit package not found for idx: "+t),r}var uS=()=>({content:null,stamp:ir(),type:"message"});function f2(e,t,r={}){let n=typeof t=="string"?[[t]]:t,s=$t.sign.template.safeParse(O(b(b({},uS()),r),{hashes:n,members:e.sort()}));return s.success?s.data:null}function d2(e,t){let r=l2(e),n=fS(r,t);return O(b({},t),{gid:r,sid:n})}function fS(e,t){var c;let r=t.members.map(l=>P.bytes(l)),n=t.hashes.map(l=>P.join(l)),o=P.bytes((c=t.content)!=null?c:"00"),s=P.str(t.type),i=P.num(t.stamp,4);return P.join([e,...r,...n,o,s,i]).digest.hex}function dS(e,t,r){let n=u2(e.commits,r);return t.hashes.map(o=>i2(t.sid,n,o))}function h2(e,t){return e.hashes.map(r=>a2(e.sid,t,r))}function hS(e,t){return t.members.map(r=>dS(e,t,r)).flat()}function qu(e,t){let r=e.commits.map(s=>s.pubkey),n=hS(e,t),o=new Map;for(let s of t.hashes){let[i,...a]=s,c=n.filter(u=>u.sighash===i),l=Bx(e.group_pk,c,i,a);o.set(i,l)}return{pubkeys:r,session:t,sigmap:o}}function p2(e,t){let r=e.session.sid,n=xs(t.seckey,"ecdsa"),o=e.session.hashes.map(a=>a[0]),s=h2(e.session,t),i=o.map(a=>{let c=s.find(f=>f.sighash===a),l=e.sigmap.get(a);ue.exists(c,"share not found for sighash: "+a),ue.exists(l,"context not found for sighash: "+a);let u=mS(l,c);return[a,u]});return{idx:t.idx,psigs:i,pubkey:n,sid:r}}function m2(e,t){let{idx:r,psigs:n,pubkey:o,sid:s}=t;if(s!==e.session.sid)return"session id mismatch";if(!e.pubkeys.includes(o))return"pubkey not found in group";for(let[i,a]of e.sigmap.entries()){let c=n.find(u=>u[0]===i);if(c===void 0)return"partial signature entry not found for sighash: "+i;let l=a.pnonces.find(u=>u.idx===r);if(l===void 0)return"commit package not found for psig idx: "+r;if(!Ix(a,l,o,c[1]))return"partial signature invalid"}return null}function pS(e){return e.map(({idx:t,psigs:r,pubkey:n,sid:o})=>r.map(([s,i])=>({sighash:s,idx:t,pubkey:n,psig:i,sid:o}))).flat()}function g2(e,t){let r=e.session.members.length,n=pS(t),o=[];for(let[s,i]of e.sigmap.entries()){let a=n.filter(u=>u.sighash===s);ue.ok(a.length===r,"missing partial signatures for sighash: "+s);let c=i.group_pk,l=Nx(i,a);o.push([s,c,l])}return o}function mS(e,t){let{idx:r,binder_sn:n,hidden_sn:o,seckey:s}=t;return Ax(e,{idx:r,seckey:s},{idx:r,binder_sn:n,hidden_sn:o}).psig}async function y2(e,t){let r=e.config.middleware.sign;try{e.emit("/sign/handler/req",ar(t)),typeof r=="function"&&(t=r(e,t));let n=e.signer.sign_session(t.data),o=sr({data:JSON.stringify(n),id:t.id,tag:"/sign/res"}),s=await e.client.publish(o,t.env.pubkey);if(!s.ok)throw new Error("failed to publish response");e.emit("/sign/handler/res",ar(s.data))}catch(n){e.debug&&console.log(n),e.emit("/sign/handler/rej",[bt(n),ar(t)])}}function w2(e){return async t=>{let r=s2(t);return e.queue.push(r)}}function v2(e){return async(t,r={})=>{var d;let n=typeof t=="string"?[[t]]:t,o=Vu(e.peers),s=(d=r.peers)!=null?d:r.peers=o,i=e.group.threshold,a=Du(s,i),c=$u(e.group,[e.pubkey,...a]),l=f2(c,n,r);ue.ok(l!==null,"invalid session template");let u=d2(e.group,l),f=null;try{f=await gS(e,a,u),e.emit("/sign/sender/res",ar(f))}catch(h){e.debug&&console.log(h);let y=bt(h);return e.emit("/sign/sender/rej",[y,u]),{ok:!1,err:y}}try{ue.ok(f!==null,"no responses from peers");let h=yS(e,f,u);return e.emit("/sign/sender/ret",[u.sid,h]),{ok:!0,data:h}}catch(h){e.debug&&console.log(h);let y=bt(h);return e.emit("/sign/sender/err",[y,f!=null?f:[]]),{ok:!1,err:y}}}}async function gS(e,t,r){let n=await e.client.multicast({data:JSON.stringify(r),tag:"/sign/req"},t);if(!n.sub.ok)throw new Error(n.sub.reason);return n.sub.inbox}function yS(e,t,r){let n=qu(e.group,r),o=[e.signer.sign_session(r)];return t.forEach(s=>{let i=Zx(s),a=m2(n,i.data);ue.ok(a===null,a+" : "+s.env.pubkey),o.push(i.data)}),g2(n,o)}var Zu=class{constructor(){this.eventMap=new Map}_get_event_handlers(t){let r=this.eventMap.get(t);if(!r){let n=new Set;return this.eventMap.set(t,n),n}return r}has(t){let r=this.eventMap.get(t);return r!==void 0&&r.size>0}on(t,r){this._get_event_handlers(t).add(r)}once(t,r){let n=o=>{this.off(t,n),Wu(r,o)};this.on(t,n)}within(t,r,n){let o=s=>{Wu(r,s)};setTimeout(()=>{this.off(t,o)},n),this.on(t,o)}emit(t,r){let n=[];this._get_event_handlers(t).forEach(o=>{let s=Wu(o,r);s instanceof Promise&&n.push(s)}),this._get_event_handlers("*").forEach(o=>{let s=Wu(o,[t,r]);s instanceof Promise&&n.push(s)}),Promise.allSettled(n)}off(t,r){this._get_event_handlers(t).delete(r)}clear(t){this.eventMap.delete(t)}};function Wu(e,t){return Array.isArray(t)&&t.length>0?e.apply(null,t):e(t)}var vS=()=>({}),pc=class{constructor(t,r,n){this._config=b(b({},vS()),n),this._group=Fx(t),this._share=Kx(r),this._pubkey=xs(this._share.seckey,"bip340")}get config(){return this._config}get group(){return this._group}get pubkey(){return this._pubkey}gen_ecdh_share(t,r){return Ox(t,r,this._share)}sign_message(t,r){let n=Jo.sign(t,this._share.seckey,r);return new P(n).hex}sign_session(t){let r=qu(this._group,t);return p2(r,this._share)}unwrap(t,r){let n=this._share.seckey,o=ts(n,r);return _u(o,t)}wrap(t,r){let n=this._share.seckey,o=ts(n,r);return ku(o,t)}};var Fu=class{constructor(t){this._node=t,this._ival=t.config.sign_ival,this._queue=[],this._timer=null}get node(){return this._node}get timer(){return this._timer}async push(t){return new Promise((r,n)=>{this._queue.push({sigvec:t,resolve:r,reject:n}),this.schedule()})}async process(){let t=[...this._queue];if(this._queue=[],this._timer=null,t.length!==0){this.node.emit("info","batch signing event ids: "+String(t.map(r=>r.sigvec[0])));try{let r=t.map(o=>o.sigvec),n=await this.node.req.sign(r);if(!n.ok){t.forEach(o=>o.reject(n.err));return}t.forEach(o=>{let s=n.data.find(i=>i[0]===o.sigvec[0]);s!==void 0?o.resolve(s):o.reject("signature missing from response")})}catch(r){t.forEach(n=>n.reject(r.message))}}}schedule(){this.timer===null&&(this._timer=setTimeout(()=>this.process(),this._ival))}};var En=class{constructor(){this.eventMap=new Map}getEventHandlers(t){let r=this.eventMap.get(t);if(!r){let n=new Set;return this.eventMap.set(t,n),n}return r}has(t){let r=this.eventMap.get(t);return r!==void 0&&r.size>0}on(t,r){this.getEventHandlers(t).add(r)}once(t,r){let n=o=>{this.off(t,n),r(o)};this.on(t,n)}within(t,r,n){let o=s=>{r(s)};setTimeout(()=>{this.off(t,o)},n),this.on(t,o)}emit(t,r){let n=[];this.getEventHandlers(t).forEach(o=>{let s=o(r);s instanceof Promise&&n.push(s)}),this.getEventHandlers("*").forEach(o=>{let s=o(t,r);s instanceof Promise&&n.push(s)}),Promise.allSettled(n)}off(t,r){this.getEventHandlers(t).delete(r)}clear(t){this.eventMap.delete(t)}};function b2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Rm(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(t,", not of length=").concat(e.length))}function k2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");b2(e.outputLen),b2(e.blockLen)}function Li(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _2(e,t){Rm(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least ".concat(r))}var Ku=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var E2=e=>e instanceof Uint8Array;var Gu=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Sr=(e,t)=>e<<32-t|e>>>t,xS=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xS)throw new Error("Non little-endian hardware is not supported");function bS(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function mc(e){if(typeof e=="string"&&(e=bS(e)),!E2(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function B2(...e){let t=new Uint8Array(e.reduce((n,o)=>n+o.length,0)),r=0;return e.forEach(n=>{if(!E2(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}var Ri=class{clone(){return this._cloneInto()}},JR={}.toString;function C2(e){let t=n=>e().update(mc(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Qu(e=32){if(Ku&&typeof Ku.getRandomValues=="function")return Ku.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function kS(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}var Yu=class extends Ri{constructor(t,r,n,o){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Gu(this.buffer)}update(t){Li(this);let{view:r,buffer:n,blockLen:o}=this;t=mc(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Gu(t);for(;o<=s-i;i+=o)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Li(this),_2(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;r[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(n,0),i=0);for(let f=i;f<o;f++)r[f]=0;kS(n,o-8,BigInt(this.length*8),s),this.process(n,0);let a=Gu(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%r&&t.buffer.set(n),t}};var _S=(e,t,r)=>e&t^~e&r,ES=(e,t,r)=>e&t^e&r^t&r,BS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),go=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yo=new Uint32Array(64),Mm=class extends Yu{constructor(){super(64,32,8,!1),this.A=go[0]|0,this.B=go[1]|0,this.C=go[2]|0,this.D=go[3]|0,this.E=go[4]|0,this.F=go[5]|0,this.G=go[6]|0,this.H=go[7]|0}get(){let{A:t,B:r,C:n,D:o,E:s,F:i,G:a,H:c}=this;return[t,r,n,o,s,i,a,c]}set(t,r,n,o,s,i,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)yo[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let d=yo[f-15],h=yo[f-2],y=Sr(d,7)^Sr(d,18)^d>>>3,p=Sr(h,17)^Sr(h,19)^h>>>10;yo[f]=p+yo[f-7]+y+yo[f-16]|0}let{A:n,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=Sr(a,6)^Sr(a,11)^Sr(a,25),h=u+d+_S(a,c,l)+BS[f]+yo[f]|0,p=(Sr(n,2)^Sr(n,13)^Sr(n,22))+ES(n,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=n,n=h+p|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,o,s,i,a,c,l,u)}roundClean(){yo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Xu=C2(()=>new Mm);var Hm={};Un(Hm,{bitGet:()=>IS,bitLen:()=>NS,bitMask:()=>gc,bitSet:()=>OS,bytesToHex:()=>bs,bytesToNumberBE:()=>et,bytesToNumberLE:()=>tf,concatBytes:()=>Bn,createHmacDrbg:()=>jm,ensureBytes:()=>$e,equalBytes:()=>TS,hexToBytes:()=>ks,hexToNumber:()=>zm,numberToBytesBE:()=>Pr,numberToBytesLE:()=>rf,numberToHexUnpadded:()=>T2,numberToVarBytesBE:()=>PS,utf8ToBytes:()=>AS,validateObject:()=>wo});var P2=BigInt(0),Ju=BigInt(1),CS=BigInt(2),ef=e=>e instanceof Uint8Array,SS=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bs(e){if(!ef(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=SS[e[r]];return t}function T2(e){let t=e.toString(16);return t.length&1?"0".concat(t):t}function zm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":"0x".concat(e))}function ks(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){let o=n*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[n]=i}return r}function et(e){return zm(bs(e))}function tf(e){if(!ef(e))throw new Error("Uint8Array expected");return zm(bs(Uint8Array.from(e).reverse()))}function Pr(e,t){return ks(e.toString(16).padStart(t*2,"0"))}function rf(e,t){return Pr(e,t).reverse()}function PS(e){return ks(T2(e))}function $e(e,t,r){let n;if(typeof t=="string")try{n=ks(t)}catch(s){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(s))}else if(ef(t))n=Uint8Array.from(t);else throw new Error("".concat(e," must be hex string or Uint8Array"));let o=n.length;if(typeof r=="number"&&o!==r)throw new Error("".concat(e," expected ").concat(r," bytes, got ").concat(o));return n}function Bn(...e){let t=new Uint8Array(e.reduce((n,o)=>n+o.length,0)),r=0;return e.forEach(n=>{if(!ef(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function TS(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function AS(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function NS(e){let t;for(t=0;e>P2;e>>=Ju,t+=1);return t}function IS(e,t){return e>>BigInt(t)&Ju}var OS=(e,t,r)=>e|(r?Ju:P2)<<BigInt(t),gc=e=>(CS<<BigInt(e-1))-Ju,Um=e=>new Uint8Array(e),S2=e=>Uint8Array.from(e);function jm(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Um(e),o=Um(e),s=0,i=()=>{n.fill(1),o.fill(0),s=0},a=(...f)=>r(o,n,...f),c=(f=Um())=>{o=a(S2([0]),f),n=a(),f.length!==0&&(o=a(S2([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<t;){n=a();let h=n.slice();d.push(h),f+=n.length}return Bn(...d)};return(f,d)=>{i(),c(f);let h;for(;!(h=d(l()));)c();return i(),h}}var LS={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function wo(e,t,r={}){let n=(o,s,i)=>{let a=LS[s];if(typeof a!="function")throw new Error('Invalid validator "'.concat(s,'", expected function'));let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("Invalid param ".concat(String(o),"=").concat(c," (").concat(typeof c,"), expected ").concat(s))};for(let[o,s]of Object.entries(t))n(o,s,!1);for(let[o,s]of Object.entries(r))n(o,s,!0);return e}var qe=BigInt(0),Ie=BigInt(1),_s=BigInt(2),RS=BigInt(3),Dm=BigInt(4),A2=BigInt(5),N2=BigInt(8),MS=BigInt(9),US=BigInt(16);function Ve(e,t){let r=e%t;return r>=qe?r:t+r}function zS(e,t,r){if(r<=qe||t<qe)throw new Error("Expected power/modulo > 0");if(r===Ie)return qe;let n=Ie;for(;t>qe;)t&Ie&&(n=n*e%r),e=e*e%r,t>>=Ie;return n}function Vt(e,t,r){let n=e;for(;t-- >qe;)n*=n,n%=r;return n}function nf(e,t){if(e===qe||t<=qe)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let r=Ve(e,t),n=t,o=qe,s=Ie,i=Ie,a=qe;for(;r!==qe;){let l=n/r,u=n%r,f=o-i*l,d=s-a*l;n=r,r=u,o=i,s=a,i=f,a=d}if(n!==Ie)throw new Error("invert: does not exist");return Ve(o,t)}function jS(e){let t=(e-Ie)/_s,r,n,o;for(r=e-Ie,n=0;r%_s===qe;r/=_s,n++);for(o=_s;o<e&&zS(o,t,e)!==e-Ie;o++);if(n===1){let i=(e+Ie)/Dm;return function(c,l){let u=c.pow(l,i);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let s=(r+Ie)/_s;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,o),r),f=a.pow(c,s),d=a.pow(c,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(d);h<l&&!a.eql(p,a.ONE);h++)p=a.sqr(p);let y=a.pow(u,Ie<<BigInt(l-h-1));u=a.sqr(y),f=a.mul(f,y),d=a.mul(d,u),l=h}return f}}function HS(e){if(e%Dm===RS){let t=(e+Ie)/Dm;return function(n,o){let s=n.pow(o,t);if(!n.eql(n.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%N2===A2){let t=(e-A2)/N2;return function(n,o){let s=n.mul(o,_s),i=n.pow(s,t),a=n.mul(o,i),c=n.mul(n.mul(a,_s),i),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),o))throw new Error("Cannot find square root");return l}}return e%US,jS(e)}var DS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $m(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=DS.reduce((n,o)=>(n[o]="function",n),t);return wo(e,r)}function $S(e,t,r){if(r<qe)throw new Error("Expected power > 0");if(r===qe)return e.ONE;if(r===Ie)return t;let n=e.ONE,o=t;for(;r>qe;)r&Ie&&(n=e.mul(n,o)),o=e.sqr(o),r>>=Ie;return n}function VS(e,t){let r=new Array(t.length),n=t.reduce((s,i,a)=>e.is0(i)?s:(r[a]=s,e.mul(s,i)),e.ONE),o=e.inv(n);return t.reduceRight((s,i,a)=>e.is0(i)?s:(r[a]=e.mul(s,r[a]),e.mul(s,i)),o),r}function Vm(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function I2(e,t,r=!1,n={}){if(e<=qe)throw new Error("Expected Field ORDER > 0, got ".concat(e));let{nBitLength:o,nByteLength:s}=Vm(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let i=HS(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:s,MASK:gc(o),ZERO:qe,ONE:Ie,create:c=>Ve(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("Invalid field element: expected bigint, got ".concat(typeof c));return qe<=c&&c<e},is0:c=>c===qe,isOdd:c=>(c&Ie)===Ie,neg:c=>Ve(-c,e),eql:(c,l)=>c===l,sqr:c=>Ve(c*c,e),add:(c,l)=>Ve(c+l,e),sub:(c,l)=>Ve(c-l,e),mul:(c,l)=>Ve(c*l,e),pow:(c,l)=>$S(a,c,l),div:(c,l)=>Ve(c*nf(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>nf(c,e),sqrt:n.sqrt||(c=>i(a,c)),invertBatch:c=>VS(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?rf(c,s):Pr(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(c.length));return r?tf(c):et(c)}});return Object.freeze(a)}function O2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function qm(e){let t=O2(e);return t+Math.ceil(t/2)}function L2(e,t,r=!1){let n=e.length,o=O2(t),s=qm(t);if(n<16||n<s||n>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(n));let i=r?et(e):tf(e),a=Ve(i,t-Ie)+Ie;return r?rf(a,o):Pr(a,o)}var WS=BigInt(0),Wm=BigInt(1);function R2(e,t){let r=(o,s)=>{let i=s.negate();return o?i:s},n=o=>{let s=Math.ceil(t/o)+1,i=2**(o-1);return{windows:s,windowSize:i}};return{constTimeNegate:r,unsafeLadder(o,s){let i=e.ZERO,a=o;for(;s>WS;)s&Wm&&(i=i.add(a)),a=a.double(),s>>=Wm;return i},precomputeWindow(o,s){let{windows:i,windowSize:a}=n(s),c=[],l=o,u=l;for(let f=0;f<i;f++){u=l,c.push(u);for(let d=1;d<a;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(o,s,i){let{windows:a,windowSize:c}=n(o),l=e.ZERO,u=e.BASE,f=BigInt(2**o-1),d=2**o,h=BigInt(o);for(let y=0;y<a;y++){let p=y*c,v=Number(i&f);i>>=h,v>c&&(v-=d,i+=Wm);let g=p,m=p+Math.abs(v)-1,w=y%2!==0,x=v<0;v===0?u=u.add(r(w,s[g])):l=l.add(r(x,s[m]))}return{p:l,f:u}},wNAFCached(o,s,i,a){let c=o._WINDOW_SIZE||1,l=s.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&s.set(o,a(l))),this.wNAF(c,l,i)}}}function Zm(e){return $m(e.Fp),wo(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(O(b(b({},Vm(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function ZS(e){let t=Zm(e);wo(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(b({},t))}var{bytesToNumberBE:FS,hexToBytes:KS}=Hm,Es={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=Es;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:FS(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=Es,r=typeof e=="string"?KS(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:o,l:s}=Es._parseInt(r.subarray(2)),{d:i,l:a}=Es._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:i}},hexFromSig(e){let t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let u=l.toString(16);return u.length&1?"0".concat(u):u},n=t(r(e.s)),o=t(r(e.r)),s=n.length/2,i=o.length/2,a=r(s),c=r(i);return"30".concat(r(i+s+4),"02").concat(c).concat(o,"02").concat(a).concat(n)}},Cn=BigInt(0),cr=BigInt(1),mM=BigInt(2),M2=BigInt(3),gM=BigInt(4);function GS(e){let t=ZS(e),{Fp:r}=t,n=t.toBytes||((y,p,v)=>{let g=p.toAffine();return Bn(Uint8Array.from([4]),r.toBytes(g.x),r.toBytes(g.y))}),o=t.fromBytes||(y=>{let p=y.subarray(1),v=r.fromBytes(p.subarray(0,r.BYTES)),g=r.fromBytes(p.subarray(r.BYTES,2*r.BYTES));return{x:v,y:g}});function s(y){let{a:p,b:v}=t,g=r.sqr(y),m=r.mul(g,y);return r.add(r.add(m,r.mul(y,p)),v)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function i(y){return typeof y=="bigint"&&Cn<y&&y<t.n}function a(y){if(!i(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(y){let{allowedPrivateKeyLengths:p,nByteLength:v,wrapPrivateKey:g,n:m}=t;if(p&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=bs(y)),typeof y!="string"||!p.includes(y.length))throw new Error("Invalid key");y=y.padStart(v*2,"0")}let w;try{w=typeof y=="bigint"?y:et($e("private key",y,v))}catch(x){throw new Error("private key must be ".concat(v," bytes, hex or bigint, not ").concat(typeof y))}return g&&(w=Ve(w,m)),a(w),w}let l=new Map;function u(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(p,v,g){if(this.px=p,this.py=v,this.pz=g,p==null||!r.isValid(p))throw new Error("x required");if(v==null||!r.isValid(v))throw new Error("y required");if(g==null||!r.isValid(g))throw new Error("z required")}static fromAffine(p){let{x:v,y:g}=p||{};if(!p||!r.isValid(v)||!r.isValid(g))throw new Error("invalid affine point");if(p instanceof f)throw new Error("projective point not allowed");let m=w=>r.eql(w,r.ZERO);return m(v)&&m(g)?f.ZERO:new f(v,g,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){let v=r.invertBatch(p.map(g=>g.pz));return p.map((g,m)=>g.toAffine(v[m])).map(f.fromAffine)}static fromHex(p){let v=f.fromAffine(o($e("pointHex",p)));return v.assertValidity(),v}static fromPrivateKey(p){return f.BASE.multiply(c(p))}_setWindowSize(p){this._WINDOW_SIZE=p,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:p,y:v}=this.toAffine();if(!r.isValid(p)||!r.isValid(v))throw new Error("bad point: x or y not FE");let g=r.sqr(v),m=s(p);if(!r.eql(g,m))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:p}=this.toAffine();if(r.isOdd)return!r.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);let{px:v,py:g,pz:m}=this,{px:w,py:x,pz:k}=p,_=r.eql(r.mul(v,k),r.mul(w,m)),C=r.eql(r.mul(g,k),r.mul(x,m));return _&&C}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:p,b:v}=t,g=r.mul(v,M2),{px:m,py:w,pz:x}=this,k=r.ZERO,_=r.ZERO,C=r.ZERO,S=r.mul(m,m),M=r.mul(w,w),A=r.mul(x,x),I=r.mul(m,w);return I=r.add(I,I),C=r.mul(m,x),C=r.add(C,C),k=r.mul(p,C),_=r.mul(g,A),_=r.add(k,_),k=r.sub(M,_),_=r.add(M,_),_=r.mul(k,_),k=r.mul(I,k),C=r.mul(g,C),A=r.mul(p,A),I=r.sub(S,A),I=r.mul(p,I),I=r.add(I,C),C=r.add(S,S),S=r.add(C,S),S=r.add(S,A),S=r.mul(S,I),_=r.add(_,S),A=r.mul(w,x),A=r.add(A,A),S=r.mul(A,I),k=r.sub(k,S),C=r.mul(A,M),C=r.add(C,C),C=r.add(C,C),new f(k,_,C)}add(p){u(p);let{px:v,py:g,pz:m}=this,{px:w,py:x,pz:k}=p,_=r.ZERO,C=r.ZERO,S=r.ZERO,M=t.a,A=r.mul(t.b,M2),I=r.mul(v,w),H=r.mul(g,x),z=r.mul(m,k),G=r.add(v,g),E=r.add(w,x);G=r.mul(G,E),E=r.add(I,H),G=r.sub(G,E),E=r.add(v,m);let B=r.add(w,k);return E=r.mul(E,B),B=r.add(I,z),E=r.sub(E,B),B=r.add(g,m),_=r.add(x,k),B=r.mul(B,_),_=r.add(H,z),B=r.sub(B,_),S=r.mul(M,E),_=r.mul(A,z),S=r.add(_,S),_=r.sub(H,S),S=r.add(H,S),C=r.mul(_,S),H=r.add(I,I),H=r.add(H,I),z=r.mul(M,z),E=r.mul(A,E),H=r.add(H,z),z=r.sub(I,z),z=r.mul(M,z),E=r.add(E,z),I=r.mul(H,E),C=r.add(C,I),I=r.mul(B,E),_=r.mul(G,_),_=r.sub(_,I),I=r.mul(G,H),S=r.mul(B,S),S=r.add(S,I),new f(_,C,S)}subtract(p){return this.add(p.negate())}is0(){return this.equals(f.ZERO)}wNAF(p){return h.wNAFCached(this,l,p,v=>{let g=r.invertBatch(v.map(m=>m.pz));return v.map((m,w)=>m.toAffine(g[w])).map(f.fromAffine)})}multiplyUnsafe(p){let v=f.ZERO;if(p===Cn)return v;if(a(p),p===cr)return this;let{endo:g}=t;if(!g)return h.unsafeLadder(this,p);let{k1neg:m,k1:w,k2neg:x,k2:k}=g.splitScalar(p),_=v,C=v,S=this;for(;w>Cn||k>Cn;)w&cr&&(_=_.add(S)),k&cr&&(C=C.add(S)),S=S.double(),w>>=cr,k>>=cr;return m&&(_=_.negate()),x&&(C=C.negate()),C=new f(r.mul(C.px,g.beta),C.py,C.pz),_.add(C)}multiply(p){a(p);let v=p,g,m,{endo:w}=t;if(w){let{k1neg:x,k1:k,k2neg:_,k2:C}=w.splitScalar(v),{p:S,f:M}=this.wNAF(k),{p:A,f:I}=this.wNAF(C);S=h.constTimeNegate(x,S),A=h.constTimeNegate(_,A),A=new f(r.mul(A.px,w.beta),A.py,A.pz),g=S.add(A),m=M.add(I)}else{let{p:x,f:k}=this.wNAF(v);g=x,m=k}return f.normalizeZ([g,m])[0]}multiplyAndAddUnsafe(p,v,g){let m=f.BASE,w=(k,_)=>_===Cn||_===cr||!k.equals(m)?k.multiplyUnsafe(_):k.multiply(_),x=w(this,v).add(w(p,g));return x.is0()?void 0:x}toAffine(p){let{px:v,py:g,pz:m}=this,w=this.is0();p==null&&(p=w?r.ONE:r.inv(m));let x=r.mul(v,p),k=r.mul(g,p),_=r.mul(m,p);if(w)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x,y:k}}isTorsionFree(){let{h:p,isTorsionFree:v}=t;if(p===cr)return!0;if(v)return v(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:p,clearCofactor:v}=t;return p===cr?this:v?v(f,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return this.assertValidity(),n(f,this,p)}toHex(p=!0){return bs(this.toRawBytes(p))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let d=t.nBitLength,h=R2(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:i}}function QS(e){let t=Zm(e);return wo(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(b({lowS:!0},t))}function U2(e){let t=QS(e),{Fp:r,n}=t,o=r.BYTES+1,s=2*r.BYTES+1;function i(E){return Cn<E&&E<r.ORDER}function a(E){return Ve(E,n)}function c(E){return nf(E,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=GS(O(b({},t),{toBytes(E,B,N){let U=B.toAffine(),T=r.toBytes(U.x),j=Bn;return N?j(Uint8Array.from([B.hasEvenY()?2:3]),T):j(Uint8Array.from([4]),T,r.toBytes(U.y))},fromBytes(E){let B=E.length,N=E[0],U=E.subarray(1);if(B===o&&(N===2||N===3)){let T=et(U);if(!i(T))throw new Error("Point is not on curve");let j=f(T),Z=r.sqrt(j),K=(Z&cr)===cr;return(N&1)===1!==K&&(Z=r.neg(Z)),{x:T,y:Z}}else if(B===s&&N===4){let T=r.fromBytes(U.subarray(0,r.BYTES)),j=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:T,y:j}}else throw new Error("Point of length ".concat(B," was invalid. Expected ").concat(o," compressed bytes or ").concat(s," uncompressed bytes"))}})),h=E=>bs(Pr(E,t.nByteLength));function y(E){let B=n>>cr;return E>B}function p(E){return y(E)?a(-E):E}let v=(E,B,N)=>et(E.slice(B,N));class g{constructor(B,N,U){this.r=B,this.s=N,this.recovery=U,this.assertValidity()}static fromCompact(B){let N=t.nByteLength;return B=$e("compactSignature",B,N*2),new g(v(B,0,N),v(B,N,2*N))}static fromDER(B){let{r:N,s:U}=Es.toSig($e("DER",B));return new g(N,U)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(B){return new g(this.r,this.s,B)}recoverPublicKey(B){let{r:N,s:U,recovery:T}=this,j=C($e("msgHash",B));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");let Z=T===2||T===3?N+t.n:N;if(Z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(T&1)===0?"02":"03",pe=l.fromHex(K+h(Z)),ge=c(Z),me=a(-j*ge),Ue=a(U*ge),ke=l.BASE.multiplyAndAddUnsafe(pe,me,Ue);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ks(this.toDERHex())}toDERHex(){return Es.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ks(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let m={isValidPrivateKey(E){try{return u(E),!0}catch(B){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let E=qm(t.n);return L2(t.randomBytes(E),t.n)},precompute(E=8,B=l.BASE){return B._setWindowSize(E),B.multiply(BigInt(3)),B}};function w(E,B=!0){return l.fromPrivateKey(E).toRawBytes(B)}function x(E){let B=E instanceof Uint8Array,N=typeof E=="string",U=(B||N)&&E.length;return B?U===o||U===s:N?U===2*o||U===2*s:E instanceof l}function k(E,B,N=!0){if(x(E))throw new Error("first arg must be private key");if(!x(B))throw new Error("second arg must be public key");return l.fromHex(B).multiply(u(E)).toRawBytes(N)}let _=t.bits2int||function(E){let B=et(E),N=E.length*8-t.nBitLength;return N>0?B>>BigInt(N):B},C=t.bits2int_modN||function(E){return a(_(E))},S=gc(t.nBitLength);function M(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(Cn<=E&&E<S))throw new Error("bigint expected < 2^".concat(t.nBitLength));return Pr(E,t.nByteLength)}function A(E,B,N=I){if(["recovered","canonical"].some(Ae=>Ae in N))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:T}=t,{lowS:j,prehash:Z,extraEntropy:K}=N;j==null&&(j=!0),E=$e("msgHash",E),Z&&(E=$e("prehashed msgHash",U(E)));let pe=C(E),ge=u(B),me=[M(ge),M(pe)];if(K!=null){let Ae=K===!0?T(r.BYTES):K;me.push($e("extraEntropy",Ae))}let Ue=Bn(...me),ke=pe;function _t(Ae){let Lt=_(Ae);if(!d(Lt))return;let Os=c(Lt),Zt=l.BASE.multiply(Lt).toAffine(),ze=a(Zt.x);if(ze===Cn)return;let Ft=a(Os*a(ke+ze*ge));if(Ft===Cn)return;let Mn=(Zt.x===ze?0:2)|Number(Zt.y&cr),Yr=Ft;return j&&y(Ft)&&(Yr=p(Ft),Mn^=1),new g(ze,Yr,Mn)}return{seed:Ue,k2sig:_t}}let I={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};function z(E,B,N=I){let{seed:U,k2sig:T}=A(E,B,N),j=t;return jm(j.hash.outputLen,j.nByteLength,j.hmac)(U,T)}l.BASE._setWindowSize(8);function G(E,B,N,U=H){var Zt;let T=E;if(B=$e("msgHash",B),N=$e("publicKey",N),"strict"in U)throw new Error("options.strict was renamed to lowS");let{lowS:j,prehash:Z}=U,K,pe;try{if(typeof T=="string"||T instanceof Uint8Array)try{K=g.fromDER(T)}catch(ze){if(!(ze instanceof Es.Err))throw ze;K=g.fromCompact(T)}else if(typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint"){let{r:ze,s:Ft}=T;K=new g(ze,Ft)}else throw new Error("PARSE");pe=l.fromHex(N)}catch(ze){if(ze.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&K.hasHighS())return!1;Z&&(B=t.hash(B));let{r:ge,s:me}=K,Ue=C(B),ke=c(me),_t=a(Ue*ke),Ae=a(ge*ke),Lt=(Zt=l.BASE.multiplyAndAddUnsafe(pe,_t,Ae))==null?void 0:Zt.toAffine();return Lt?a(Lt.x)===ge:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:k,sign:z,verify:G,ProjectivePoint:l,Signature:g,utils:m}}var of=class extends Ri{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,k2(t);let n=mc(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return Li(this),this.iHash.update(t),this}digestInto(t){Li(this),Rm(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Fm=(e,t,r)=>new of(e,t).update(r).digest();Fm.create=(e,t)=>new of(e,t);function YS(e){return{hash:e,hmac:(t,...r)=>Fm(e,t,B2(...r)),randomBytes:Qu}}function z2(e,t){let r=n=>U2(b(b({},e),YS(n)));return Object.freeze(O(b({},r(t)),{create:r}))}var lf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),D2=BigInt(1),af=BigInt(2),j2=(e,t)=>(e+t/af)/t;function $2(e){let t=lf,r=BigInt(3),n=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Vt(u,r,t)*u%t,d=Vt(f,r,t)*u%t,h=Vt(d,af,t)*l%t,y=Vt(h,o,t)*h%t,p=Vt(y,s,t)*y%t,v=Vt(p,a,t)*p%t,g=Vt(v,c,t)*v%t,m=Vt(g,a,t)*p%t,w=Vt(m,r,t)*u%t,x=Vt(w,i,t)*y%t,k=Vt(x,n,t)*l%t,_=Vt(k,af,t);if(!Gm.eql(Gm.sqr(_),e))throw new Error("Cannot find square root");return _}var Gm=I2(lf,void 0,void 0,{sqrt:$2}),vo=z2({a:BigInt(0),b:BigInt(7),Fp:Gm,n:sf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=sf,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-D2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,i=BigInt("0x100000000000000000000000000000000"),a=j2(s*e,t),c=j2(-n*e,t),l=Ve(e-a*r-c*o,t),u=Ve(-a*n-c*s,t),f=l>i,d=u>i;if(f&&(l=t-l),d&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Xu),uf=BigInt(0),V2=e=>typeof e=="bigint"&&uf<e&&e<lf,XS=e=>typeof e=="bigint"&&uf<e&&e<sf,H2={};function cf(e,...t){let r=H2[e];if(r===void 0){let n=Xu(Uint8Array.from(e,o=>o.charCodeAt(0)));r=Bn(n,n),H2[e]=r}return Xu(Bn(r,...t))}var Xm=e=>e.toRawBytes(!0).slice(1),Qm=e=>Pr(e,32),Km=e=>Ve(e,lf),yc=e=>Ve(e,sf),Jm=vo.ProjectivePoint,JS=(e,t,r)=>Jm.BASE.multiplyAndAddUnsafe(e,t,r);function Ym(e){let t=vo.utils.normPrivateKeyToScalar(e),r=Jm.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:yc(-t),bytes:Xm(r)}}function q2(e){if(!V2(e))throw new Error("bad x: need 0 < x < p");let t=Km(e*e),r=Km(t*e+BigInt(7)),n=$2(r);n%af!==uf&&(n=Km(-n));let o=new Jm(e,n,D2);return o.assertValidity(),o}function W2(...e){return yc(et(cf("BIP0340/challenge",...e)))}function e6(e){return Ym(e).bytes}function t6(e,t,r=Qu(32)){let n=$e("message",e),{bytes:o,scalar:s}=Ym(t),i=$e("auxRand",r,32),a=Qm(s^et(cf("BIP0340/aux",i))),c=cf("BIP0340/nonce",a,o,n),l=yc(et(c));if(l===uf)throw new Error("sign failed: k is zero");let{bytes:u,scalar:f}=Ym(l),d=W2(u,o,n),h=new Uint8Array(64);if(h.set(u,0),h.set(Qm(yc(f+d*s)),32),!Z2(h,n,o))throw new Error("sign: Invalid signature produced");return h}function Z2(e,t,r){let n=$e("signature",e,64),o=$e("message",t),s=$e("publicKey",r,32);try{let i=q2(et(s)),a=et(n.subarray(0,32));if(!V2(a))return!1;let c=et(n.subarray(32,64));if(!XS(c))return!1;let l=W2(Qm(a),Xm(i),o),u=JS(i,c,yc(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(i){return!1}}var Mi={getPublicKey:e6,sign:t6,verify:Z2,utils:{randomPrivateKey:vo.utils.randomPrivateKey,lift_x:q2,pointToBytes:Xm,numberToBytesBE:Pr,bytesToNumberBE:et,taggedHash:cf,mod:Ve}};var ff=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var e0=e=>e instanceof Uint8Array;var df=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Tr=(e,t)=>e<<32-t|e>>>t,r6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!r6)throw new Error("Non little-endian hardware is not supported");var n6=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Me(e){if(!e0(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n6[e[r]];return t}function Bs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){let o=n*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[n]=i}return r}function o6(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function xo(e){if(typeof e=="string"&&(e=o6(e)),!e0(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function zi(...e){let t=new Uint8Array(e.reduce((n,o)=>n+o.length,0)),r=0;return e.forEach(n=>{if(!e0(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}var Ui=class{clone(){return this._cloneInto()}};function t0(e){let t=n=>e().update(xo(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function hf(e=32){if(ff&&typeof ff.getRandomValues=="function")return ff.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function r0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function s6(e){if(typeof e!="boolean")throw new Error("Expected boolean, not ".concat(e))}function F2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(t,", not of length=").concat(e.length))}function i6(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");r0(e.outputLen),r0(e.blockLen)}function a6(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c6(e,t){F2(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least ".concat(r))}var l6={number:r0,bool:s6,bytes:F2,hash:i6,exists:a6,output:c6},qt=l6;function u6(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}var pf=class extends Ui{constructor(t,r,n,o){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=df(this.buffer)}update(t){qt.exists(this);let{view:r,buffer:n,blockLen:o}=this;t=xo(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=df(t);for(;o<=s-i;i+=o)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){qt.exists(this),qt.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;r[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(n,0),i=0);for(let f=i;f<o;f++)r[f]=0;u6(n,o-8,BigInt(this.length*8),s),this.process(n,0);let a=df(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%r&&t.buffer.set(n),t}};var f6=(e,t,r)=>e&t^~e&r,d6=(e,t,r)=>e&t^e&r^t&r,h6=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ko=new Uint32Array(64),mf=class extends pf{constructor(){super(64,32,8,!1),this.A=bo[0]|0,this.B=bo[1]|0,this.C=bo[2]|0,this.D=bo[3]|0,this.E=bo[4]|0,this.F=bo[5]|0,this.G=bo[6]|0,this.H=bo[7]|0}get(){let{A:t,B:r,C:n,D:o,E:s,F:i,G:a,H:c}=this;return[t,r,n,o,s,i,a,c]}set(t,r,n,o,s,i,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)ko[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let d=ko[f-15],h=ko[f-2],y=Tr(d,7)^Tr(d,18)^d>>>3,p=Tr(h,17)^Tr(h,19)^h>>>10;ko[f]=p+ko[f-7]+y+ko[f-16]|0}let{A:n,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=Tr(a,6)^Tr(a,11)^Tr(a,25),h=u+d+f6(a,c,l)+h6[f]+ko[f]|0,p=(Tr(n,2)^Tr(n,13)^Tr(n,22))+d6(n,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=n,n=h+p|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,o,s,i,a,c,l,u)}roundClean(){ko.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},n0=class extends mf{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Vr=t0(()=>new mf),$M=t0(()=>new n0);function ji(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function Sn(...e){let t=(o,s)=>i=>o(s(i)),r=Array.from(e).reverse().reduce((o,s)=>o?t(o,s.encode):s.encode,void 0),n=e.reduce((o,s)=>o?t(o,s.decode):s.decode,void 0);return{encode:r,decode:n}}function Pn(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(ji(r),r<0||r>=e.length)throw new Error("Digit index outside alphabet: ".concat(r," (alphabet: ").concat(e.length,")"));return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error("alphabet.decode: not string element=".concat(r));let n=e.indexOf(r);if(n===-1)throw new Error('Unknown letter: "'.concat(r,'". Allowed: ').concat(e));return n})}}}function Tn(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error("join.encode: non-string input=".concat(r));return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function yf(e,t="="){if(ji(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error("padding.encode: non-string input=".concat(n));for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of r)if(typeof o!="string")throw new Error("padding.decode: non-string input=".concat(o));let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function J2(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function K2(e,t,r){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(r<2)throw new Error("convertRadix: wrong to=".concat(r,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0,o=[],s=Array.from(e);for(s.forEach(i=>{if(ji(i),i<0||i>=t)throw new Error("Wrong integer: ".concat(i))});;){let i=0,a=!0;for(let c=n;c<s.length;c++){let l=s[c],u=t*i+l;if(!Number.isSafeInteger(u)||t*i/t!==i||u-l!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%r,s[c]=Math.floor(u/r),!Number.isSafeInteger(s[c])||s[c]*r+i!==u)throw new Error("convertRadix: carry overflow");if(a)s[c]?a=!1:n=c;else continue}if(o.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)o.push(0);return o.reverse()}var eb=(e,t)=>t?eb(t,e%t):e,gf=(e,t)=>e+(t-eb(e,t));function o0(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(r<=0||r>32)throw new Error("convertRadix2: wrong to=".concat(r));if(gf(t,r)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(r," carryBits=").concat(gf(t,r)));let o=0,s=0,i=2**r-1,a=[];for(let c of e){if(ji(c),c>=2**t)throw new Error("convertRadix2: invalid data word=".concat(c," from=").concat(t));if(o=o<<t|c,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=r;s-=r)a.push((o>>s-r&i)>>>0);o&=2**s-1}if(o=o<<r-s&i,!n&&s>=t)throw new Error("Excess padding");if(!n&&o)throw new Error("Non-zero padding: ".concat(o));return n&&s>0&&a.push(o>>>0),a}function p6(e){return ji(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return K2(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(K2(t,e,2**8))}}}function _o(e,t=!1){if(ji(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(gf(8,e)>32||gf(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return o0(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(o0(r,e,8,t))}}}function G2(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(r){}}}var m6=Sn(_o(4),Pn("0123456789ABCDEF"),Tn("")),g6=Sn(_o(5),Pn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),yf(5),Tn("")),qM=Sn(_o(5),Pn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),yf(5),Tn("")),WM=Sn(_o(5),Pn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Tn(""),J2(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),lr=Sn(_o(6),Pn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),yf(6),Tn("")),y6=Sn(_o(6),Pn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),yf(6),Tn("")),a0=e=>Sn(p6(58),Pn(e),Tn("")),s0=a0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),ZM=a0("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),FM=a0("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Q2=[0,2,3,5,6,7,9,10,11],w6={encode(e){let t="";for(let r=0;r<e.length;r+=8){let n=e.subarray(r,r+8);t+=s0.encode(n).padStart(Q2[n.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){let n=e.slice(r,r+11),o=Q2.indexOf(n.length),s=s0.decode(n);for(let i=0;i<s.length-o;i++)if(s[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(t)}};var i0=Sn(Pn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Tn("")),Y2=[996825010,642813549,513874426,1027748829,705979059];function wc(e){let t=e>>25,r=(e&33554431)<<5;for(let n=0;n<Y2.length;n++)(t>>n&1)===1&&(r^=Y2[n]);return r}function X2(e,t,r=1){let n=e.length,o=1;for(let s=0;s<n;s++){let i=e.charCodeAt(s);if(i<33||i>126)throw new Error("Invalid prefix (".concat(e,")"));o=wc(o)^i>>5}o=wc(o);for(let s=0;s<n;s++)o=wc(o)^e.charCodeAt(s)&31;for(let s of t)o=wc(o)^s;for(let s=0;s<6;s++)o=wc(o);return o^=r,i0.encode(o0([o%2**30],30,5,!1))}function tb(e){let t=e==="bech32"?1:734539939,r=_o(5),n=r.decode,o=r.encode,s=G2(n);function i(u,f,d=90){if(typeof u!="string")throw new Error("bech32.encode prefix should be string, not ".concat(typeof u));if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error("bech32.encode words should be array of numbers, not ".concat(typeof f));let h=u.length+7+f.length;if(d!==!1&&h>d)throw new TypeError("Length ".concat(h," exceeds limit ").concat(d));return u=u.toLowerCase(),"".concat(u,"1").concat(i0.encode(f)).concat(X2(u,f,t))}function a(u,f=90){if(typeof u!="string")throw new Error("bech32.decode input should be string, not ".concat(typeof u));if(u.length<8||f!==!1&&u.length>f)throw new TypeError("Wrong string length: ".concat(u.length," (").concat(u,"). Expected (8..").concat(f,")"));let d=u.toLowerCase();if(u!==d&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=d;let h=u.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');let y=u.slice(0,h),p=u.slice(h+1);if(p.length<6)throw new Error("Data must be at least 6 characters long");let v=i0.decode(p).slice(0,-6),g=X2(y,v,t);if(!p.endsWith(g))throw new Error("Invalid checksum in ".concat(u,': expected "').concat(g,'"'));return{prefix:y,words:v}}let c=G2(a);function l(u){let{prefix:f,words:d}=a(u,!1);return{prefix:f,words:d,bytes:n(d)}}return{encode:i,decode:a,decodeToBytes:l,decodeUnsafe:c,fromWords:n,fromWordsUnsafe:s,toWords:o}}var Eo=tb("bech32"),KM=tb("bech32m"),v6={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},x6=Sn(_o(4),Pn("0123456789abcdef"),Tn(""),J2(e=>{if(typeof e!="string"||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()})),b6={utf8:v6,hex:x6,base16:m6,base32:g6,base64:lr,base64url:y6,base58:s0,base58xmr:w6},GM="Invalid encoding type. Available types: ".concat(Object.keys(b6).join(", "));function wf(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, not ".concat(e))}function c0(e){if(typeof e!="boolean")throw new Error("boolean expected, not ".concat(e))}function l0(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function oe(e,...t){if(!l0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length ".concat(t,", not of length=").concat(e.length))}function Bo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function vc(e,t){oe(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least ".concat(r))}var vf=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);var se=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Co=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),k6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!k6)throw new Error("Non little-endian hardware is not supported");function _6(e){if(typeof e!="string")throw new Error("string expected, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function qr(e){if(typeof e=="string")e=_6(e);else if(l0(e))e=e.slice();else throw new Error("Uint8Array expected, got ".concat(typeof e));return e}function rb(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Cs(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}var Wr=(e,t)=>(Object.assign(t,e),t);function Ss(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}var An=16,f0=new Uint8Array(16),Zr=se(f0),E6=225,B6=(e,t,r,n)=>{let o=n&1;return{s3:r<<31|n>>>1,s2:t<<31|r>>>1,s1:e<<31|t>>>1,s0:e>>>1^E6<<24&-(o&1)}},ur=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function C6(e){e.reverse();let t=e[15]&1,r=0;for(let n=0;n<e.length;n++){let o=e[n];e[n]=o>>>1|r,r=(o&1)<<7}return e[0]^=-t&225,e}var S6=e=>e>64*1024?8:e>1024?4:2,xf=class{constructor(t,r){this.blockLen=An,this.outputLen=An,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=qr(t),oe(t,16);let n=Co(t),o=n.getUint32(0,!1),s=n.getUint32(4,!1),i=n.getUint32(8,!1),a=n.getUint32(12,!1),c=[];for(let y=0;y<128;y++)c.push({s0:ur(o),s1:ur(s),s2:ur(i),s3:ur(a)}),{s0:o,s1:s,s2:i,s3:a}=B6(o,s,i,a);let l=S6(r||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: wrong window size=".concat(l,", should be 2, 4 or 8"));this.W=l;let f=128/l,d=this.windowSize=2**l,h=[];for(let y=0;y<f;y++)for(let p=0;p<d;p++){let v=0,g=0,m=0,w=0;for(let x=0;x<l;x++){if(!(p>>>l-x-1&1))continue;let{s0:_,s1:C,s2:S,s3:M}=c[l*y+x];v^=_,g^=C,m^=S,w^=M}h.push({s0:v,s1:g,s2:m,s3:w})}this.t=h}_updateBlock(t,r,n,o){t^=this.s0,r^=this.s1,n^=this.s2,o^=this.s3;let{W:s,t:i,windowSize:a}=this,c=0,l=0,u=0,f=0,d=(1<<s)-1,h=0;for(let y of[t,r,n,o])for(let p=0;p<4;p++){let v=y>>>8*p&255;for(let g=8/s-1;g>=0;g--){let m=v>>>s*g&d,{s0:w,s1:x,s2:k,s3:_}=i[h*a+m];c^=w,l^=x,u^=k,f^=_,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=f}update(t){t=qr(t),Bo(this);let r=se(t),n=Math.floor(t.length/An),o=t.length%An;for(let s=0;s<n;s++)this._updateBlock(r[s*4+0],r[s*4+1],r[s*4+2],r[s*4+3]);return o&&(f0.set(t.subarray(n*An)),this._updateBlock(Zr[0],Zr[1],Zr[2],Zr[3]),Zr.fill(0)),this}destroy(){let{t}=this;for(let r of t)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(t){Bo(this),vc(t,this),this.finished=!0;let{s0:r,s1:n,s2:o,s3:s}=this,i=se(t);return i[0]=r,i[1]=n,i[2]=o,i[3]=s,t}digest(){let t=new Uint8Array(An);return this.digestInto(t),this.destroy(),t}},u0=class extends xf{constructor(t,r){t=qr(t);let n=C6(t.slice());super(n,r),n.fill(0)}update(t){t=qr(t),Bo(this);let r=se(t),n=t.length%An,o=Math.floor(t.length/An);for(let s=0;s<o;s++)this._updateBlock(ur(r[s*4+3]),ur(r[s*4+2]),ur(r[s*4+1]),ur(r[s*4+0]));return n&&(f0.set(t.subarray(o*An)),this._updateBlock(ur(Zr[3]),ur(Zr[2]),ur(Zr[1]),ur(Zr[0])),Zr.fill(0)),this}digestInto(t){Bo(this),vc(t,this),this.finished=!0;let{s0:r,s1:n,s2:o,s3:s}=this,i=se(t);return i[0]=r,i[1]=n,i[2]=o,i[3]=s,t.reverse()}};function nb(e){let t=(n,o)=>e(o,n.length).update(qr(n)).digest(),r=e(new Uint8Array(16),0);return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=(n,o)=>e(n,o),t}var d0=nb((e,t)=>new xf(e,t)),ob=nb((e,t)=>new u0(e,t));var kt=16,m0=4,bf=new Uint8Array(kt),P6=283;function g0(e){return e<<1^P6&-(e>>7)}function Hi(e,t){let r=0;for(;t>0;t>>=1)r^=e&-(t&1),e=g0(e);return r}var p0=(()=>{let e=new Uint8Array(256);for(let r=0,n=1;r<256;r++,n^=g0(n))e[r]=n;let t=new Uint8Array(256);t[0]=99;for(let r=0;r<255;r++){let n=e[255-r];n|=n<<8,t[e[r]]=(n^n>>4^n>>5^n>>6^n>>7^99)&255}return t})(),T6=p0.map((e,t)=>p0.indexOf(t)),A6=e=>e<<24|e>>>8,h0=e=>e<<8|e>>>24;function sb(e,t){if(e.length!==256)throw new Error("Wrong sbox length");let r=new Uint32Array(256).map((l,u)=>t(e[u])),n=r.map(h0),o=n.map(h0),s=o.map(h0),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let f=l*256+u;i[f]=r[l]^n[u],a[f]=o[l]^s[u],c[f]=e[l]<<8|e[u]}return{sbox:e,sbox2:c,T0:r,T1:n,T2:o,T3:s,T01:i,T23:a}}var y0=sb(p0,e=>Hi(e,3)<<24|e<<16|e<<8|Hi(e,2)),ib=sb(T6,e=>Hi(e,11)<<24|Hi(e,13)<<16|Hi(e,9)<<8|Hi(e,14)),N6=(()=>{let e=new Uint8Array(16);for(let t=0,r=1;t<16;t++,r=g0(r))e[t]=r;return e})();function Po(e){oe(e);let t=e.length;if(![16,24,32].includes(t))throw new Error("aes: wrong key size: should be 16, 24 or 32, got: ".concat(t));let{sbox2:r}=y0,n=se(e),o=n.length,s=a=>Fr(r,a,a,a,a),i=new Uint32Array(t+28);i.set(n);for(let a=o;a<i.length;a++){let c=i[a-1];a%o===0?c=s(A6(c))^N6[a/o-1]:o>6&&a%o===4&&(c=s(c)),i[a]=i[a-o]^c}return i}function ab(e){let t=Po(e),r=t.slice(),n=t.length,{sbox2:o}=y0,{T0:s,T1:i,T2:a,T3:c}=ib;for(let l=0;l<n;l+=4)for(let u=0;u<4;u++)r[l+u]=t[n-l-4+u];t.fill(0);for(let l=4;l<n-4;l++){let u=r[l],f=Fr(o,u,u,u,u);r[l]=s[f&255]^i[f>>>8&255]^a[f>>>16&255]^c[f>>>24]}return r}function So(e,t,r,n,o,s){return e[r<<8&65280|n>>>8&255]^t[o>>>8&65280|s>>>24&255]}function Fr(e,t,r,n,o){return e[t&255|r&65280]|e[n>>>16&255|o>>>16&65280]<<16}function fr(e,t,r,n,o){let{sbox2:s,T01:i,T23:a}=y0,c=0;t^=e[c++],r^=e[c++],n^=e[c++],o^=e[c++];let l=e.length/4-2;for(let y=0;y<l;y++){let p=e[c++]^So(i,a,t,r,n,o),v=e[c++]^So(i,a,r,n,o,t),g=e[c++]^So(i,a,n,o,t,r),m=e[c++]^So(i,a,o,t,r,n);t=p,r=v,n=g,o=m}let u=e[c++]^Fr(s,t,r,n,o),f=e[c++]^Fr(s,r,n,o,t),d=e[c++]^Fr(s,n,o,t,r),h=e[c++]^Fr(s,o,t,r,n);return{s0:u,s1:f,s2:d,s3:h}}function cb(e,t,r,n,o){let{sbox2:s,T01:i,T23:a}=ib,c=0;t^=e[c++],r^=e[c++],n^=e[c++],o^=e[c++];let l=e.length/4-2;for(let y=0;y<l;y++){let p=e[c++]^So(i,a,t,o,n,r),v=e[c++]^So(i,a,r,t,o,n),g=e[c++]^So(i,a,n,r,t,o),m=e[c++]^So(i,a,o,n,r,t);t=p,r=v,n=g,o=m}let u=e[c++]^Fr(s,t,o,n,r),f=e[c++]^Fr(s,r,t,o,n),d=e[c++]^Fr(s,n,r,t,o),h=e[c++]^Fr(s,o,n,r,t);return{s0:u,s1:f,s2:d,s3:h}}function Di(e,t){if(!t)return new Uint8Array(e);if(oe(t),t.length<e)throw new Error("aes: wrong destination length, expected at least ".concat(e,", got: ").concat(t.length));return t}function I6(e,t,r,n){oe(t,kt),oe(r);let o=r.length;n=Di(o,n);let s=t,i=se(s),{s0:a,s1:c,s2:l,s3:u}=fr(e,i[0],i[1],i[2],i[3]),f=se(r),d=se(n);for(let y=0;y+4<=f.length;y+=4){d[y+0]=f[y+0]^a,d[y+1]=f[y+1]^c,d[y+2]=f[y+2]^l,d[y+3]=f[y+3]^u;let p=1;for(let v=s.length-1;v>=0;v--)p=p+(s[v]&255)|0,s[v]=p&255,p>>>=8;({s0:a,s1:c,s2:l,s3:u}=fr(e,i[0],i[1],i[2],i[3]))}let h=kt*Math.floor(f.length/m0);if(h<o){let y=new Uint32Array([a,c,l,u]),p=vf(y);for(let v=h,g=0;v<o;v++,g++)n[v]=r[v]^p[g]}return n}function xc(e,t,r,n,o){oe(r,kt),oe(n),o=Di(n.length,o);let s=r,i=se(s),a=Co(s),c=se(n),l=se(o),u=t?0:12,f=n.length,d=a.getUint32(u,t),{s0:h,s1:y,s2:p,s3:v}=fr(e,i[0],i[1],i[2],i[3]);for(let m=0;m+4<=c.length;m+=4)l[m+0]=c[m+0]^h,l[m+1]=c[m+1]^y,l[m+2]=c[m+2]^p,l[m+3]=c[m+3]^v,d=d+1>>>0,a.setUint32(u,d,t),{s0:h,s1:y,s2:p,s3:v}=fr(e,i[0],i[1],i[2],i[3]);let g=kt*Math.floor(c.length/m0);if(g<f){let m=new Uint32Array([h,y,p,v]),w=vf(m);for(let x=g,k=0;x<f;x++,k++)o[x]=n[x]^w[k]}return o}var iU=Wr({blockSize:16,nonceLength:16},function(t,r){oe(t),oe(r,kt);function n(o,s){let i=Po(t),a=r.slice(),c=I6(i,a,o,s);return i.fill(0),a.fill(0),c}return{encrypt:(o,s)=>n(o,s),decrypt:(o,s)=>n(o,s)}});function lb(e){if(oe(e),e.length%kt!==0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ".concat(kt))}function ub(e,t,r){let n=e.length,o=n%kt;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");let s=se(e);if(t){let c=kt-o;c||(c=kt),n=n+c}let i=Di(n,r),a=se(i);return{b:s,o:a,out:i}}function fb(e,t){if(!t)return e;let r=e.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");let n=e[r-1];if(n<=0||n>16)throw new Error("aes/pcks5: wrong padding byte: ".concat(n));let o=e.subarray(0,-n);for(let s=0;s<n;s++)if(e[r-s-1]!==n)throw new Error("aes/pcks5: wrong padding");return o}function db(e){let t=new Uint8Array(16),r=se(t);t.set(e);let n=kt-e.length;for(let o=kt-n;o<kt;o++)t[o]=n;return r}var aU=Wr({blockSize:16},function(t,r={}){oe(t);let n=!r.disablePadding;return{encrypt:(o,s)=>{oe(o);let{b:i,o:a,out:c}=ub(o,n,s),l=Po(t),u=0;for(;u+4<=i.length;){let{s0:f,s1:d,s2:h,s3:y}=fr(l,i[u+0],i[u+1],i[u+2],i[u+3]);a[u++]=f,a[u++]=d,a[u++]=h,a[u++]=y}if(n){let f=db(o.subarray(u*4)),{s0:d,s1:h,s2:y,s3:p}=fr(l,f[0],f[1],f[2],f[3]);a[u++]=d,a[u++]=h,a[u++]=y,a[u++]=p}return l.fill(0),c},decrypt:(o,s)=>{lb(o);let i=ab(t),a=Di(o.length,s),c=se(o),l=se(a);for(let u=0;u+4<=c.length;){let{s0:f,s1:d,s2:h,s3:y}=cb(i,c[u+0],c[u+1],c[u+2],c[u+3]);l[u++]=f,l[u++]=d,l[u++]=h,l[u++]=y}return i.fill(0),fb(a,n)}}}),w0=Wr({blockSize:16,nonceLength:16},function(t,r,n={}){oe(t),oe(r,16);let o=!n.disablePadding;return{encrypt:(s,i)=>{let a=Po(t),{b:c,o:l,out:u}=ub(s,o,i),f=se(r),d=f[0],h=f[1],y=f[2],p=f[3],v=0;for(;v+4<=c.length;)d^=c[v+0],h^=c[v+1],y^=c[v+2],p^=c[v+3],{s0:d,s1:h,s2:y,s3:p}=fr(a,d,h,y,p),l[v++]=d,l[v++]=h,l[v++]=y,l[v++]=p;if(o){let g=db(s.subarray(v*4));d^=g[0],h^=g[1],y^=g[2],p^=g[3],{s0:d,s1:h,s2:y,s3:p}=fr(a,d,h,y,p),l[v++]=d,l[v++]=h,l[v++]=y,l[v++]=p}return a.fill(0),u},decrypt:(s,i)=>{lb(s);let a=ab(t),c=se(r),l=Di(s.length,i),u=se(s),f=se(l),d=c[0],h=c[1],y=c[2],p=c[3];for(let v=0;v+4<=u.length;){let g=d,m=h,w=y,x=p;d=u[v+0],h=u[v+1],y=u[v+2],p=u[v+3];let{s0:k,s1:_,s2:C,s3:S}=cb(a,d,h,y,p);f[v++]=k^g,f[v++]=_^m,f[v++]=C^w,f[v++]=S^x}return a.fill(0),fb(l,o)}}}),cU=Wr({blockSize:16,nonceLength:16},function(t,r){oe(t),oe(r,16);function n(o,s,i){let a=Po(t),c=o.length;i=Di(c,i);let l=se(o),u=se(i),f=s?u:l,d=se(r),h=d[0],y=d[1],p=d[2],v=d[3];for(let m=0;m+4<=l.length;){let{s0:w,s1:x,s2:k,s3:_}=fr(a,h,y,p,v);u[m+0]=l[m+0]^w,u[m+1]=l[m+1]^x,u[m+2]=l[m+2]^k,u[m+3]=l[m+3]^_,h=f[m++],y=f[m++],p=f[m++],v=f[m++]}let g=kt*Math.floor(l.length/m0);if(g<c){({s0:h,s1:y,s2:p,s3:v}=fr(a,h,y,p,v));let m=vf(new Uint32Array([h,y,p,v]));for(let w=g,x=0;w<c;w++,x++)i[w]=o[w]^m[x];m.fill(0)}return a.fill(0),i}return{encrypt:(o,s)=>n(o,!0,s),decrypt:(o,s)=>n(o,!1,s)}});function hb(e,t,r,n,o){let s=e.create(r,n.length+((o==null?void 0:o.length)||0));o&&s.update(o),s.update(n);let i=new Uint8Array(16),a=Co(i);return o&&Ss(a,0,BigInt(o.length*8),t),Ss(a,8,BigInt(n.length*8),t),s.update(i),s.digest()}var lU=Wr({blockSize:16,nonceLength:12,tagLength:16},function(t,r,n){if(oe(r),r.length===0)throw new Error("aes/gcm: empty nonce");let o=16;function s(a,c,l){let u=hb(d0,!1,a,l,n);for(let f=0;f<c.length;f++)u[f]^=c[f];return u}function i(){let a=Po(t),c=bf.slice(),l=bf.slice();if(xc(a,!1,l,l,c),r.length===12)l.set(r);else{let f=bf.slice(),d=Co(f);Ss(d,8,BigInt(r.length*8),!1),d0.create(c).update(r).update(f).digestInto(l)}let u=xc(a,!1,l,bf);return{xk:a,authKey:c,counter:l,tagMask:u}}return{encrypt:a=>{oe(a);let{xk:c,authKey:l,counter:u,tagMask:f}=i(),d=new Uint8Array(a.length+o);xc(c,!1,u,a,d);let h=s(l,f,d.subarray(0,d.length-o));return d.set(h,a.length),c.fill(0),d},decrypt:a=>{if(oe(a),a.length<o)throw new Error("aes/gcm: ciphertext less than tagLen (".concat(o,")"));let{xk:c,authKey:l,counter:u,tagMask:f}=i(),d=a.subarray(0,-o),h=a.subarray(-o),y=s(l,f,d);if(!Cs(y,h))throw new Error("aes/gcm: invalid ghash tag");let p=xc(c,!1,u,d);return l.fill(0),f.fill(0),c.fill(0),p}}}),kf=(e,t,r)=>n=>{if(!Number.isSafeInteger(n)||t>n||n>r)throw new Error("".concat(e,": invalid value=").concat(n,", must be [").concat(t,"..").concat(r,"]"))},uU=Wr({blockSize:16,nonceLength:12,tagLength:16},function(t,r,n){let s=kf("AAD",0,68719476736),i=kf("plaintext",0,2**36),a=kf("nonce",12,12),c=kf("ciphertext",16,2**36+16);oe(r),a(r.length),n&&(oe(n),s(n.length));function l(){let d=t.length;if(d!==16&&d!==24&&d!==32)throw new Error("key length must be 16, 24 or 32 bytes, got: ".concat(d," bytes"));let h=Po(t),y=new Uint8Array(d),p=new Uint8Array(16),v=se(r),g=0,m=v[0],w=v[1],x=v[2],k=0;for(let _ of[p,y].map(se)){let C=se(_);for(let S=0;S<C.length;S+=2){let{s0:M,s1:A}=fr(h,g,m,w,x);C[S+0]=M,C[S+1]=A,g=++k}}return h.fill(0),{authKey:p,encKey:Po(y)}}function u(d,h,y){let p=hb(ob,!0,h,y,n);for(let k=0;k<12;k++)p[k]^=r[k];p[15]&=127;let v=se(p),g=v[0],m=v[1],w=v[2],x=v[3];return{s0:g,s1:m,s2:w,s3:x}=fr(d,g,m,w,x),v[0]=g,v[1]=m,v[2]=w,v[3]=x,p}function f(d,h,y){let p=h.slice();return p[15]|=128,xc(d,!0,p,y)}return{encrypt:d=>{oe(d),i(d.length);let{encKey:h,authKey:y}=l(),p=u(h,y,d),v=new Uint8Array(d.length+16);return v.set(p,d.length),v.set(f(h,p,d)),h.fill(0),y.fill(0),v},decrypt:d=>{oe(d),c(d.length);let h=d.subarray(-16),{encKey:y,authKey:p}=l(),v=f(y,h,d.subarray(0,-16)),g=u(y,p,v);if(y.fill(0),p.fill(0),!Cs(h,g))throw new Error("invalid polyval tag");return v}}});var tt=(e,t)=>e[t++]&255|(e[t++]&255)<<8,v0=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=qr(t),oe(t,32);let r=tt(t,0),n=tt(t,2),o=tt(t,4),s=tt(t,6),i=tt(t,8),a=tt(t,10),c=tt(t,12),l=tt(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=tt(t,16+2*u)}process(t,r,n=!1){let o=n?0:2048,{h:s,r:i}=this,a=i[0],c=i[1],l=i[2],u=i[3],f=i[4],d=i[5],h=i[6],y=i[7],p=i[8],v=i[9],g=tt(t,r+0),m=tt(t,r+2),w=tt(t,r+4),x=tt(t,r+6),k=tt(t,r+8),_=tt(t,r+10),C=tt(t,r+12),S=tt(t,r+14),M=s[0]+(g&8191),A=s[1]+((g>>>13|m<<3)&8191),I=s[2]+((m>>>10|w<<6)&8191),H=s[3]+((w>>>7|x<<9)&8191),z=s[4]+((x>>>4|k<<12)&8191),G=s[5]+(k>>>1&8191),E=s[6]+((k>>>14|_<<2)&8191),B=s[7]+((_>>>11|C<<5)&8191),N=s[8]+((C>>>8|S<<8)&8191),U=s[9]+(S>>>5|o),T=0,j=T+M*a+A*(5*v)+I*(5*p)+H*(5*y)+z*(5*h);T=j>>>13,j&=8191,j+=G*(5*d)+E*(5*f)+B*(5*u)+N*(5*l)+U*(5*c),T+=j>>>13,j&=8191;let Z=T+M*c+A*a+I*(5*v)+H*(5*p)+z*(5*y);T=Z>>>13,Z&=8191,Z+=G*(5*h)+E*(5*d)+B*(5*f)+N*(5*u)+U*(5*l),T+=Z>>>13,Z&=8191;let K=T+M*l+A*c+I*a+H*(5*v)+z*(5*p);T=K>>>13,K&=8191,K+=G*(5*y)+E*(5*h)+B*(5*d)+N*(5*f)+U*(5*u),T+=K>>>13,K&=8191;let pe=T+M*u+A*l+I*c+H*a+z*(5*v);T=pe>>>13,pe&=8191,pe+=G*(5*p)+E*(5*y)+B*(5*h)+N*(5*d)+U*(5*f),T+=pe>>>13,pe&=8191;let ge=T+M*f+A*u+I*l+H*c+z*a;T=ge>>>13,ge&=8191,ge+=G*(5*v)+E*(5*p)+B*(5*y)+N*(5*h)+U*(5*d),T+=ge>>>13,ge&=8191;let me=T+M*d+A*f+I*u+H*l+z*c;T=me>>>13,me&=8191,me+=G*a+E*(5*v)+B*(5*p)+N*(5*y)+U*(5*h),T+=me>>>13,me&=8191;let Ue=T+M*h+A*d+I*f+H*u+z*l;T=Ue>>>13,Ue&=8191,Ue+=G*c+E*a+B*(5*v)+N*(5*p)+U*(5*y),T+=Ue>>>13,Ue&=8191;let ke=T+M*y+A*h+I*d+H*f+z*u;T=ke>>>13,ke&=8191,ke+=G*l+E*c+B*a+N*(5*v)+U*(5*p),T+=ke>>>13,ke&=8191;let _t=T+M*p+A*y+I*h+H*d+z*f;T=_t>>>13,_t&=8191,_t+=G*u+E*l+B*c+N*a+U*(5*v),T+=_t>>>13,_t&=8191;let Ae=T+M*v+A*p+I*y+H*h+z*d;T=Ae>>>13,Ae&=8191,Ae+=G*f+E*u+B*l+N*c+U*a,T+=Ae>>>13,Ae&=8191,T=(T<<2)+T|0,T=T+j|0,j=T&8191,T=T>>>13,Z+=T,s[0]=j,s[1]=Z,s[2]=K,s[3]=pe,s[4]=ge,s[5]=me,s[6]=Ue,s[7]=ke,s[8]=_t,s[9]=Ae}finalize(){let{h:t,pad:r}=this,n=new Uint16Array(10),o=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=o,o=t[a]>>>13,t[a]&=8191;t[0]+=o*5,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,n[0]=t[0]+5,o=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=t[a]+o,o=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(o^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|n[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+r[0];t[0]=i&65535;for(let a=1;a<8;a++)i=(t[a]+r[a]|0)+(i>>>16)|0,t[a]=i&65535}update(t){Bo(this);let{buffer:r,blockLen:n}=this;t=qr(t);let o=t.length;for(let s=0;s<o;){let i=Math.min(n-this.pos,o-s);if(i===n){for(;n<=o-s;s+=n)this.process(t,s);continue}r.set(t.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Bo(this),vc(t,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:o}=this;if(o){for(r[o++]=1;o<16;o++)r[o]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)t[s++]=n[i]>>>0,t[s++]=n[i]>>>8;return t}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}};function O6(e){let t=(n,o)=>e(o).update(qr(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}var pb=O6(e=>new v0(e));var gb=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),L6=gb("expand 16-byte k"),R6=gb("expand 32-byte k"),M6=se(L6),yb=se(R6),yU=yb.slice();function W(e,t){return e<<t|e>>>32-t}function x0(e){return e.byteOffset%4===0}var _f=64,U6=16,wb=2**32-1,mb=new Uint32Array;function z6(e,t,r,n,o,s,i,a){let c=o.length,l=new Uint8Array(_f),u=se(l),f=x0(o)&&x0(s),d=f?se(o):mb,h=f?se(s):mb;for(let y=0;y<c;i++){if(e(t,r,n,u,i,a),i>=wb)throw new Error("arx: counter overflow");let p=Math.min(_f,c-y);if(f&&p===_f){let v=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let g=0,m;g<U6;g++)m=v+g,h[m]=d[m]^u[g];y+=_f;continue}for(let v=0,g;v<p;v++)g=y+v,s[g]=o[g]^l[v];y+=p}}function b0(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:o,counterRight:s,rounds:i}=rb({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return wf(o),wf(i),c0(s),c0(r),(a,c,l,u,f=0)=>{oe(a),oe(c),oe(l);let d=l.length;if(u||(u=new Uint8Array(d)),oe(u),wf(f),f<0||f>=wb)throw new Error("arx: counter overflow");if(u.length<d)throw new Error("arx: output (".concat(u.length,") is shorter than data (").concat(d,")"));let h=[],y=a.length,p,v;if(y===32)p=a.slice(),h.push(p),v=yb;else if(y===16&&r)p=new Uint8Array(32),p.set(a),p.set(a,16),v=M6,h.push(p);else throw new Error("arx: invalid 32-byte key, got length=".concat(y));x0(c)||(c=c.slice(),h.push(c));let g=se(p);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(v,g,se(c.subarray(0,16)),g),c=c.subarray(16)}let m=16-o;if(m!==c.length)throw new Error("arx: nonce must be ".concat(m," or 16 bytes"));if(m!==12){let x=new Uint8Array(12);x.set(c,s?0:12-c.length),c=x,h.push(c)}let w=se(c);for(z6(e,v,g,w,l,u,f,i);h.length>0;)h.pop().fill(0);return u}}function bb(e,t,r,n,o,s=20){let i=e[0],a=e[1],c=e[2],l=e[3],u=t[0],f=t[1],d=t[2],h=t[3],y=t[4],p=t[5],v=t[6],g=t[7],m=o,w=r[0],x=r[1],k=r[2],_=i,C=a,S=c,M=l,A=u,I=f,H=d,z=h,G=y,E=p,B=v,N=g,U=m,T=w,j=x,Z=k;for(let pe=0;pe<s;pe+=2)_=_+A|0,U=W(U^_,16),G=G+U|0,A=W(A^G,12),_=_+A|0,U=W(U^_,8),G=G+U|0,A=W(A^G,7),C=C+I|0,T=W(T^C,16),E=E+T|0,I=W(I^E,12),C=C+I|0,T=W(T^C,8),E=E+T|0,I=W(I^E,7),S=S+H|0,j=W(j^S,16),B=B+j|0,H=W(H^B,12),S=S+H|0,j=W(j^S,8),B=B+j|0,H=W(H^B,7),M=M+z|0,Z=W(Z^M,16),N=N+Z|0,z=W(z^N,12),M=M+z|0,Z=W(Z^M,8),N=N+Z|0,z=W(z^N,7),_=_+I|0,Z=W(Z^_,16),B=B+Z|0,I=W(I^B,12),_=_+I|0,Z=W(Z^_,8),B=B+Z|0,I=W(I^B,7),C=C+H|0,U=W(U^C,16),N=N+U|0,H=W(H^N,12),C=C+H|0,U=W(U^C,8),N=N+U|0,H=W(H^N,7),S=S+z|0,T=W(T^S,16),G=G+T|0,z=W(z^G,12),S=S+z|0,T=W(T^S,8),G=G+T|0,z=W(z^G,7),M=M+A|0,j=W(j^M,16),E=E+j|0,A=W(A^E,12),M=M+A|0,j=W(j^M,8),E=E+j|0,A=W(A^E,7);let K=0;n[K++]=i+_|0,n[K++]=a+C|0,n[K++]=c+S|0,n[K++]=l+M|0,n[K++]=u+A|0,n[K++]=f+I|0,n[K++]=d+H|0,n[K++]=h+z|0,n[K++]=y+G|0,n[K++]=p+E|0,n[K++]=v+B|0,n[K++]=g+N|0,n[K++]=m+U|0,n[K++]=w+T|0,n[K++]=x+j|0,n[K++]=k+Z|0}function j6(e,t,r,n){let o=e[0],s=e[1],i=e[2],a=e[3],c=t[0],l=t[1],u=t[2],f=t[3],d=t[4],h=t[5],y=t[6],p=t[7],v=r[0],g=r[1],m=r[2],w=r[3];for(let k=0;k<20;k+=2)o=o+c|0,v=W(v^o,16),d=d+v|0,c=W(c^d,12),o=o+c|0,v=W(v^o,8),d=d+v|0,c=W(c^d,7),s=s+l|0,g=W(g^s,16),h=h+g|0,l=W(l^h,12),s=s+l|0,g=W(g^s,8),h=h+g|0,l=W(l^h,7),i=i+u|0,m=W(m^i,16),y=y+m|0,u=W(u^y,12),i=i+u|0,m=W(m^i,8),y=y+m|0,u=W(u^y,7),a=a+f|0,w=W(w^a,16),p=p+w|0,f=W(f^p,12),a=a+f|0,w=W(w^a,8),p=p+w|0,f=W(f^p,7),o=o+l|0,w=W(w^o,16),y=y+w|0,l=W(l^y,12),o=o+l|0,w=W(w^o,8),y=y+w|0,l=W(l^y,7),s=s+u|0,v=W(v^s,16),p=p+v|0,u=W(u^p,12),s=s+u|0,v=W(v^s,8),p=p+v|0,u=W(u^p,7),i=i+f|0,g=W(g^i,16),d=d+g|0,f=W(f^d,12),i=i+f|0,g=W(g^i,8),d=d+g|0,f=W(f^d,7),a=a+c|0,m=W(m^a,16),h=h+m|0,c=W(c^h,12),a=a+c|0,m=W(m^a,8),h=h+m|0,c=W(c^h,7);let x=0;n[x++]=o,n[x++]=s,n[x++]=i,n[x++]=a,n[x++]=v,n[x++]=g,n[x++]=m,n[x++]=w}var Ef=b0(bb,{counterRight:!1,counterLength:4,allowShortKeys:!1}),H6=b0(bb,{counterRight:!1,counterLength:8,extendNonceFn:j6,allowShortKeys:!1});var D6=new Uint8Array(16),vb=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(D6.subarray(r))},$6=new Uint8Array(32);function xb(e,t,r,n,o){let s=e(t,r,$6),i=pb.create(s);o&&vb(i,o),vb(i,n);let a=new Uint8Array(16),c=Co(a);Ss(c,0,BigInt(o?o.length:0),!0),Ss(c,8,BigInt(n.length),!0),i.update(a);let l=i.digest();return s.fill(0),l}var kb=e=>(t,r,n)=>(oe(t,32),oe(r),{encrypt:(s,i)=>{let a=s.length,c=a+16;i?oe(i,c):i=new Uint8Array(c),e(t,r,s,i,1);let l=xb(e,t,r,i.subarray(0,-16),n);return i.set(l,a),i},decrypt:(s,i)=>{let a=s.length,c=a-16;if(a<16)throw new Error("encrypted data must be at least 16 bytes");i?oe(i,c):i=new Uint8Array(c);let l=s.subarray(0,-16),u=s.subarray(-16),f=xb(e,t,r,l,n);if(!Cs(u,f))throw new Error("invalid tag");return e(t,r,l,i,1),i}}),_U=Wr({blockSize:64,nonceLength:12,tagLength:16},kb(Ef)),EU=Wr({blockSize:64,nonceLength:24,tagLength:16},kb(H6));var Bf=class extends Ui{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,qt.hash(t);let n=xo(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return qt.exists(this),this.iHash.update(t),this}digestInto(t){qt.exists(this),qt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},$i=(e,t,r)=>new Bf(e,t).update(r).digest();$i.create=(e,t)=>new Bf(e,t);function Eb(e,t,r){return qt.hash(e),r===void 0&&(r=new Uint8Array(e.outputLen)),$i(e,xo(r),xo(t))}var k0=new Uint8Array([0]),_b=new Uint8Array;function Bb(e,t,r,n=32){if(qt.hash(e),qt.number(n),n>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");let o=Math.ceil(n/e.outputLen);r===void 0&&(r=_b);let s=new Uint8Array(o*e.outputLen),i=$i.create(e,t),a=i._cloneInto(),c=new Uint8Array(i.outputLen);for(let l=0;l<o;l++)k0[0]=l+1,a.update(l===0?_b:c).update(r).update(k0).digestInto(c),s.set(c,e.outputLen*l),i._cloneInto(a);return i.destroy(),a.destroy(),c.fill(0),k0.fill(0),s.slice(0,n)}var V6=Object.defineProperty,Ee=(e,t)=>{for(var r in t)V6(e,r,{get:t[r],enumerable:!0})},Ps=Symbol("verified"),q6=e=>e instanceof Object;function E0(e){if(!q6(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let r=e.tags[t];if(!Array.isArray(r))return!1;for(let n=0;n<r.length;n++)if(typeof r[n]!="string")return!1}return!0}var W6={};Ee(W6,{Queue:()=>Tb,QueueNode:()=>Pb,binarySearch:()=>B0,insertEventIntoAscendingList:()=>F6,insertEventIntoDescendingList:()=>Z6,normalizeURL:()=>Ts,utf8Decoder:()=>Nn,utf8Encoder:()=>Ar});var Nn=new TextDecoder("utf-8"),Ar=new TextEncoder;function Ts(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch(t){throw new Error("Invalid URL: ".concat(e))}}function Z6(e,t){let[r,n]=B0(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return n||e.splice(r,0,t),e}function F6(e,t){let[r,n]=B0(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return n||e.splice(r,0,t),e}function B0(e,t){let r=0,n=e.length-1;for(;r<=n;){let o=Math.floor((r+n)/2),s=t(e[o]);if(s===0)return[o,!0];s<0?n=o-1:r=o+1}return[r,!1]}var Pb=class{constructor(e){ee(this,"value");ee(this,"next",null);ee(this,"prev",null);this.value=e}},Tb=class{constructor(){ee(this,"first");ee(this,"last");this.first=null,this.last=null}enqueue(e){let t=new Pb(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let t=this.first;return this.first=null,this.last=null,t.value}let e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},K6=class{generateSecretKey(){return Mi.utils.randomPrivateKey()}getPublicKey(e){return Me(Mi.getPublicKey(e))}finalizeEvent(e,t){let r=e;return r.pubkey=Me(Mi.getPublicKey(t)),r.id=Cf(r),r.sig=Me(Mi.sign(Cf(r),t)),r[Ps]=!0,r}verifyEvent(e){if(typeof e[Ps]=="boolean")return e[Ps];let t=Cf(e);if(t!==e.id)return e[Ps]=!1,!1;try{let r=Mi.verify(e.sig,t,e.pubkey);return e[Ps]=r,r}catch(r){return e[Ps]=!1,!1}}};function G6(e){if(!E0(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Cf(e){let t=Vr(Ar.encode(G6(e)));return Me(t)}var Pf=new K6,Q6=Pf.generateSecretKey,C0=Pf.getPublicKey,Kr=Pf.finalizeEvent,Tf=Pf.verifyEvent,Y6={};Ee(Y6,{Application:()=>Y5,BadgeAward:()=>i5,BadgeDefinition:()=>q5,BlockedRelaysList:()=>P5,BookmarkList:()=>B5,Bookmarksets:()=>D5,Calendar:()=>oP,CalendarEventRSVP:()=>sP,ChannelCreation:()=>Rb,ChannelHideMessage:()=>zb,ChannelMessage:()=>Ub,ChannelMetadata:()=>Mb,ChannelMuteUser:()=>jb,ClassifiedListing:()=>eP,ClientAuth:()=>Db,CommunitiesList:()=>C5,CommunityDefinition:()=>cP,CommunityPostApproval:()=>p5,Contacts:()=>n5,CreateOrUpdateProduct:()=>F5,CreateOrUpdateStall:()=>Z5,Curationsets:()=>$5,Date:()=>rP,DirectMessageRelaysList:()=>I5,DraftClassifiedListing:()=>tP,DraftLong:()=>G5,Emojisets:()=>Q5,EncryptedDirectMessage:()=>o5,EventDeletion:()=>s5,FileMetadata:()=>c5,FileServerPreference:()=>O5,Followsets:()=>z5,GenericRepost:()=>A0,Genericlists:()=>j5,GiftWrap:()=>Hb,HTTPAuth:()=>N0,Handlerinformation:()=>aP,Handlerrecommendation:()=>iP,Highlights:()=>b5,InterestsList:()=>A5,Interestsets:()=>W5,JobFeedback:()=>y5,JobRequest:()=>m5,JobResult:()=>g5,Label:()=>h5,LightningPubRPC:()=>R5,LiveChatMessage:()=>l5,LiveEvent:()=>X5,LongFormArticle:()=>K5,Metadata:()=>t5,Mutelist:()=>k5,NWCWalletInfo:()=>L5,NWCWalletRequest:()=>$b,NWCWalletResponse:()=>M5,NostrConnect:()=>U5,OpenTimestamps:()=>a5,Pinlist:()=>_5,PrivateDirectMessage:()=>Lb,ProblemTracker:()=>u5,ProfileBadges:()=>V5,PublicChatsList:()=>S5,Reaction:()=>T0,RecommendRelay:()=>r5,RelayList:()=>E5,Relaysets:()=>H5,Report:()=>f5,Reporting:()=>d5,Repost:()=>P0,Seal:()=>Ob,SearchRelaysList:()=>T5,ShortTextNote:()=>Ib,Time:()=>nP,UserEmojiList:()=>N5,UserStatuses:()=>J5,Zap:()=>x5,ZapGoal:()=>w5,ZapRequest:()=>v5,classifyKind:()=>J6,isAddressableKind:()=>Af,isEphemeralKind:()=>Nb,isKind:()=>e5,isParameterizedReplaceableKind:()=>X6,isRegularKind:()=>Ab,isReplaceableKind:()=>S0});function Ab(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function S0(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Nb(e){return 2e4<=e&&e<3e4}function Af(e){return 3e4<=e&&e<4e4}var X6=Af;function J6(e){return Ab(e)?"regular":S0(e)?"replaceable":Nb(e)?"ephemeral":Af(e)?"parameterized":"unknown"}function e5(e,t){let r=t instanceof Array?t:[t];return E0(e)&&r.includes(e.kind)||!1}var t5=0,Ib=1,r5=2,n5=3,o5=4,s5=5,P0=6,T0=7,i5=8,Ob=13,Lb=14,A0=16,Rb=40,Mb=41,Ub=42,zb=43,jb=44,a5=1040,Hb=1059,c5=1063,l5=1311,u5=1971,f5=1984,d5=1984,h5=1985,p5=4550,m5=5999,g5=6999,y5=7e3,w5=9041,v5=9734,x5=9735,b5=9802,k5=1e4,_5=10001,E5=10002,B5=10003,C5=10004,S5=10005,P5=10006,T5=10007,A5=10015,N5=10030,I5=10050,O5=10096,L5=13194,R5=21e3,Db=22242,$b=23194,M5=23195,U5=24133,N0=27235,z5=3e4,j5=30001,H5=30002,D5=30003,$5=30004,V5=30008,q5=30009,W5=30015,Z5=30017,F5=30018,K5=30023,G5=30024,Q5=30030,Y5=30078,X5=30311,J5=30315,eP=30402,tP=30403,rP=31922,nP=31923,oP=31924,sP=31925,iP=31989,aP=31990,cP=34550;function lP(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let r in e)if(r[0]==="#"){let n=r.slice(1),o=e["#".concat(n)];if(o&&!t.tags.find(([s,i])=>s===r.slice(1)&&o.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function uP(e,t){for(let r=0;r<e.length;r++)if(lP(e[r],t))return!0;return!1}var fP={};Ee(fP,{getHex64:()=>Nf,getInt:()=>Vb,getSubscriptionId:()=>qb,matchEventId:()=>dP,matchEventKind:()=>pP,matchEventPubkey:()=>hP});function Nf(e,t){let r=t.length+3,n=e.indexOf('"'.concat(t,'":'))+r,o=e.slice(n).indexOf('"')+n+1;return e.slice(o,o+64)}function Vb(e,t){let r=t.length,n=e.indexOf('"'.concat(t,'":'))+r+3,o=e.slice(n),s=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,s),10)}function qb(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let r=e.slice(t+7+1).indexOf('"');if(r===-1)return null;let n=t+7+1+r,o=e.slice(n+1,80).indexOf('"');if(o===-1)return null;let s=n+1+o;return e.slice(n+1,s)}function dP(e,t){return t===Nf(e,"id")}function hP(e,t){return t===Nf(e,"pubkey")}function pP(e,t){return t===Vb(e,"kind")}var mP={};Ee(mP,{makeAuthEvent:()=>Wb});function Wb(e,t){return{kind:Db,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function gP(){return new Promise(e=>{let t=new MessageChannel,r=()=>{t.port1.removeEventListener("message",r),e()};t.port1.addEventListener("message",r),t.port2.postMessage(0),t.port1.start()})}var yP=e=>(e[Ps]=!0,!0),Zb=class{constructor(e,t){ee(this,"url");ee(this,"_connected",!1);ee(this,"onclose",null);ee(this,"onnotice",e=>console.debug("NOTICE from ".concat(this.url,": ").concat(e)));ee(this,"_onauth",null);ee(this,"baseEoseTimeout",4400);ee(this,"connectionTimeout",4400);ee(this,"publishTimeout",4400);ee(this,"openSubs",new Map);ee(this,"connectionTimeoutHandle");ee(this,"connectionPromise");ee(this,"openCountRequests",new Map);ee(this,"openEventPublishes",new Map);ee(this,"ws");ee(this,"incomingMessageQueue",new Tb);ee(this,"queueRunning",!1);ee(this,"challenge");ee(this,"authPromise");ee(this,"serial",0);ee(this,"verifyEvent");ee(this,"_WebSocket");this.url=Ts(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){let r=new Zb(e,t);return await r.connect(),r}closeAllSubscriptions(e){for(let[t,r]of this.openSubs)r.close(e);this.openSubs.clear();for(let[t,r]of this.openEventPublishes)r.reject(new Error(e));this.openEventPublishes.clear();for(let[t,r]of this.openCountRequests)r.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var r;t("connection timed out"),this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(r){clearTimeout(this.connectionTimeoutHandle),t(r);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=r=>{var n;clearTimeout(this.connectionTimeoutHandle),t(r.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var r;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await gP();this.queueRunning=!1}handleNext(){var r,n,o;let e=this.incomingMessageQueue.dequeue();if(!e)return!1;let t=qb(e);if(t){let s=this.openSubs.get(t);if(!s)return;let i=Nf(e,"id"),a=(r=s.alreadyHaveEvent)==null?void 0:r.call(s,i);if((n=s.receivedEvent)==null||n.call(s,this,i),a)return}try{let s=JSON.parse(e);switch(s[0]){case"EVENT":{let i=this.openSubs.get(s[1]),a=s[2];this.verifyEvent(a)&&uP(i.filters,a)&&i.onevent(a);return}case"COUNT":{let i=s[1],a=s[2],c=this.openCountRequests.get(i);c&&(c.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{let i=this.openSubs.get(s[1]);if(!i)return;i.receivedEose();return}case"OK":{let i=s[1],a=s[2],c=s[3],l=this.openEventPublishes.get(i);l&&(clearTimeout(l.timeout),a?l.resolve(c):l.reject(new Error(c)),this.openEventPublishes.delete(i));return}case"CLOSED":{let i=s[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(s[2]);return}case"NOTICE":this.onnotice(s[1]);return;case"AUTH":{this.challenge=s[1],(o=this._onauth)==null||o.call(this,s[1]);return}}}catch(s){return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){let t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(r,n)=>{let o=await e(Wb(this.url,t)),s=setTimeout(()=>{let i=this.openEventPublishes.get(o.id);i&&(i.reject(new Error("auth timed out")),this.openEventPublishes.delete(o.id))},this.publishTimeout);this.openEventPublishes.set(o.id,{resolve:r,reject:n,timeout:s}),this.send('["AUTH",'+JSON.stringify(o)+"]")}),this.authPromise)}async publish(e){let t=new Promise((r,n)=>{let o=setTimeout(()=>{let s=this.openEventPublishes.get(e.id);s&&(s.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:r,reject:n,timeout:o})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;let r=(t==null?void 0:t.id)||"count:"+this.serial,n=new Promise((o,s)=>{this.openCountRequests.set(r,{resolve:o,reject:s})});return this.send('["COUNT","'+r+'",'+JSON.stringify(e).substring(1)),n}subscribe(e,t){let r=this.prepareSubscription(e,t);return r.fire(),r}prepareSubscription(e,t){this.serial++;let r=t.id||(t.label?t.label+":":"sub:")+this.serial,n=new wP(this,r,e,t);return this.openSubs.set(r,n),n}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},wP=class{constructor(e,t,r,n){ee(this,"relay");ee(this,"id");ee(this,"closed",!1);ee(this,"eosed",!1);ee(this,"filters");ee(this,"alreadyHaveEvent");ee(this,"receivedEvent");ee(this,"onevent");ee(this,"oneose");ee(this,"onclose");ee(this,"eoseTimeout");ee(this,"eoseTimeoutHandle");this.relay=e,this.filters=r,this.id=t,this.alreadyHaveEvent=n.alreadyHaveEvent,this.receivedEvent=n.receivedEvent,this.eoseTimeout=n.eoseTimeout||e.baseEoseTimeout,this.oneose=n.oneose,this.onclose=n.onclose,this.onevent=n.onevent||(o=>{console.warn("onevent() callback not defined for subscription '".concat(this.id,"' in relay ").concat(this.relay.url,". event received:"),o)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},vP;try{vP=WebSocket}catch(e){}var xP=class{constructor(e){ee(this,"relays",new Map);ee(this,"seenOn",new Map);ee(this,"trackRelays",!1);ee(this,"verifyEvent");ee(this,"trustedRelayURLs",new Set);ee(this,"_WebSocket");this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation}async ensureRelay(e,t){e=Ts(e);let r=this.relays.get(e);return r||(r=new Zb(e,{verifyEvent:this.trustedRelayURLs.has(e)?yP:this.verifyEvent,websocketImplementation:this._WebSocket}),t!=null&&t.connectionTimeout&&(r.connectionTimeout=t.connectionTimeout),this.relays.set(e,r)),await r.connect(),r}close(e){e.map(Ts).forEach(t=>{var r;(r=this.relays.get(t))==null||r.close()})}subscribe(e,t,r){return this.subscribeMap(e.map(n=>({url:n,filter:t})),r)}subscribeMany(e,t,r){return this.subscribeMap(e.flatMap(n=>t.map(o=>({url:n,filter:o}))),r)}subscribeMap(e,t){this.trackRelays&&(t.receivedEvent=(u,f)=>{let d=this.seenOn.get(f);d||(d=new Set,this.seenOn.set(f,d)),d.add(u)});let r=new Set,n=[],o=[],s=u=>{var f;o[u]||(o[u]=!0,o.filter(d=>d).length===e.length&&((f=t.oneose)==null||f.call(t),s=()=>{}))},i=[],a=(u,f)=>{var d;i[u]||(s(u),i[u]=f,i.filter(h=>h).length===e.length&&((d=t.onclose)==null||d.call(t,i),a=()=>{}))},c=u=>{var d;if((d=t.alreadyHaveEvent)!=null&&d.call(t,u))return!0;let f=r.has(u);return r.add(u),f},l=Promise.all(e.map(async({url:u,filter:f},d)=>{u=Ts(u);let h;try{h=await this.ensureRelay(u,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(p){a(d,(p==null?void 0:p.message)||String(p));return}let y=h.subscribe([f],O(b({},t),{oneose:()=>s(d),onclose:p=>{p.startsWith("auth-required:")&&t.doauth?h.auth(t.doauth).then(()=>{h.subscribe([f],O(b({},t),{oneose:()=>s(d),onclose:v=>{a(d,v)},alreadyHaveEvent:c,eoseTimeout:t.maxWait}))}).catch(v=>{a(d,"auth was required and attempted, but failed with: ".concat(v))}):a(d,p)},alreadyHaveEvent:c,eoseTimeout:t.maxWait}));n.push(y)}));return{async close(){await l,n.forEach(u=>{u.close()})}}}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(f,d)=>{let h=this.seenOn.get(d);h||(h=new Set,this.seenOn.set(d,h)),h.add(f)});let r=new Set,n=[],o=Object.keys(e).length,s=[],i=f=>{var d;s[f]||(s[f]=!0,s.filter(h=>h).length===o&&((d=t.oneose)==null||d.call(t),i=()=>{}))},a=[],c=(f,d)=>{var h;a[f]||(i(f),a[f]=d,a.filter(y=>y).length===o&&((h=t.onclose)==null||h.call(t,a),c=()=>{}))},l=f=>{var h;if((h=t.alreadyHaveEvent)!=null&&h.call(t,f))return!0;let d=r.has(f);return r.add(f),d},u=Promise.all(Object.entries(e).map(async(f,d,h)=>{if(h.indexOf(f)!==d){c(d,"duplicate url");return}let[y,p]=f;y=Ts(y);let v;try{v=await this.ensureRelay(y,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(m){c(d,(m==null?void 0:m.message)||String(m));return}let g=v.subscribe(p,O(b({},t),{oneose:()=>i(d),onclose:m=>{m.startsWith("auth-required:")&&t.doauth?v.auth(t.doauth).then(()=>{v.subscribe(p,O(b({},t),{oneose:()=>i(d),onclose:w=>{c(d,w)},alreadyHaveEvent:l,eoseTimeout:t.maxWait}))}).catch(w=>{c(d,"auth was required and attempted, but failed with: ".concat(w))}):c(d,m)},alreadyHaveEvent:l,eoseTimeout:t.maxWait}));n.push(g)}));return{async close(){await u,n.forEach(f=>{f.close()})}}}subscribeEose(e,t,r){let n=this.subscribe(e,t,O(b({},r),{oneose(){n.close()}}));return n}subscribeManyEose(e,t,r){let n=this.subscribeMany(e,t,O(b({},r),{oneose(){n.close()}}));return n}async querySync(e,t,r){return new Promise(async n=>{let o=[];this.subscribeEose(e,t,O(b({},r),{onevent(s){o.push(s)},onclose(s){n(o)}}))})}async get(e,t,r){t.limit=1;let n=await this.querySync(e,t,r);return n.sort((o,s)=>s.created_at-o.created_at),n[0]||null}publish(e,t){return e.map(Ts).map(async(r,n,o)=>{if(o.indexOf(r)!==n)return Promise.reject("duplicate url");let s=await this.ensureRelay(r);return s.publish(t).then(i=>{if(this.trackRelays){let a=this.seenOn.get(t.id);a||(a=new Set,this.seenOn.set(t.id,a)),a.add(s)}return i})})}listConnectionStatus(){let e=new Map;return this.relays.forEach((t,r)=>e.set(r,t.connected)),e}destroy(){this.relays.forEach(e=>e.close()),this.relays=new Map}},Fb;try{Fb=WebSocket}catch(e){}var Kb=class extends xP{constructor(){super({verifyEvent:Tf,websocketImplementation:Fb})}},bP={};Ee(bP,{BECH32_REGEX:()=>Gb,Bech32MaxSize:()=>I0,NostrTypeGuard:()=>kP,decode:()=>If,decodeNostrURI:()=>EP,encodeBytes:()=>Lf,naddrEncode:()=>AP,neventEncode:()=>TP,noteEncode:()=>SP,nprofileEncode:()=>PP,npubEncode:()=>CP,nsecEncode:()=>BP});var kP={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},I0=5e3,Gb=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function _P(e){let t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function EP(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),If(e)}catch(t){return{type:"invalid",data:null}}}function If(e){var o,s,i,a,c,l,u;let{prefix:t,words:r}=Eo.decode(e,I0),n=new Uint8Array(Eo.fromWords(r));switch(t){case"nprofile":{let f=_0(n);if(!((o=f[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(f[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Me(f[0][0]),relays:f[1]?f[1].map(d=>Nn.decode(d)):[]}}}case"nevent":{let f=_0(n);if(!((s=f[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(f[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(f[2]&&f[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(f[3]&&f[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Me(f[0][0]),relays:f[1]?f[1].map(d=>Nn.decode(d)):[],author:(i=f[2])!=null&&i[0]?Me(f[2][0]):void 0,kind:(a=f[3])!=null&&a[0]?parseInt(Me(f[3][0]),16):void 0}}}case"naddr":{let f=_0(n);if(!((c=f[0])!=null&&c[0]))throw new Error("missing TLV 0 for naddr");if(!((l=f[2])!=null&&l[0]))throw new Error("missing TLV 2 for naddr");if(f[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=f[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(f[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Nn.decode(f[0][0]),pubkey:Me(f[2][0]),kind:parseInt(Me(f[3][0]),16),relays:f[1]?f[1].map(d=>Nn.decode(d)):[]}}}case"nsec":return{type:t,data:n};case"npub":case"note":return{type:t,data:Me(n)};default:throw new Error("unknown prefix ".concat(t))}}function _0(e){let t={},r=e;for(;r.length>0;){let n=r[0],o=r[1],s=r.slice(2,2+o);if(r=r.slice(2+o),s.length<o)throw new Error("not enough data to read on TLV ".concat(n));t[n]=t[n]||[],t[n].push(s)}return t}function BP(e){return Lf("nsec",e)}function CP(e){return Lf("npub",Bs(e))}function SP(e){return Lf("note",Bs(e))}function Of(e,t){let r=Eo.toWords(t);return Eo.encode(e,r,I0)}function Lf(e,t){return Of(e,t)}function PP(e){let t=O0({0:[Bs(e.pubkey)],1:(e.relays||[]).map(r=>Ar.encode(r))});return Of("nprofile",t)}function TP(e){let t;e.kind!==void 0&&(t=_P(e.kind));let r=O0({0:[Bs(e.id)],1:(e.relays||[]).map(n=>Ar.encode(n)),2:e.author?[Bs(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Of("nevent",r)}function AP(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let r=O0({0:[Ar.encode(e.identifier)],1:(e.relays||[]).map(n=>Ar.encode(n)),2:[Bs(e.pubkey)],3:[new Uint8Array(t)]});return Of("naddr",r)}function O0(e){let t=[];return Object.entries(e).reverse().forEach(([r,n])=>{n.forEach(o=>{let s=new Uint8Array(o.length+2);s.set([parseInt(r)],0),s.set([o.length],1),s.set(o,2),t.push(s)})}),zi(...t)}var NP={};Ee(NP,{decrypt:()=>IP,encrypt:()=>Qb});function Qb(e,t,r){let n=e instanceof Uint8Array?Me(e):e,o=vo.getSharedSecret(n,"02"+t),s=Yb(o),i=Uint8Array.from(hf(16)),a=Ar.encode(r),c=w0(s,i).encrypt(a),l=lr.encode(new Uint8Array(c)),u=lr.encode(new Uint8Array(i.buffer));return"".concat(l,"?iv=").concat(u)}function IP(e,t,r){let n=e instanceof Uint8Array?Me(e):e,[o,s]=r.split("?iv="),i=vo.getSharedSecret(n,"02"+t),a=Yb(i),c=lr.decode(s),l=lr.decode(o),u=w0(a,c).decrypt(l);return Nn.decode(u)}function Yb(e){return e.slice(1,33)}var OP={};Ee(OP,{NIP05_REGEX:()=>L0,isNip05:()=>LP,isValid:()=>UP,queryProfile:()=>Xb,searchDomain:()=>MP,useFetchImplementation:()=>RP});var L0=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,LP=e=>L0.test(e||""),Rf;try{Rf=fetch}catch(e){}function RP(e){Rf=e}async function MP(e,t=""){try{let r="https://".concat(e,"/.well-known/nostr.json?name=").concat(t),n=await Rf(r,{redirect:"manual"});if(n.status!==200)throw Error("Wrong response code");return(await n.json()).names}catch(r){return{}}}async function Xb(e){var o;let t=e.match(L0);if(!t)return null;let[,r="_",n]=t;try{let s="https://".concat(n,"/.well-known/nostr.json?name=").concat(r),i=await Rf(s,{redirect:"manual"});if(i.status!==200)throw Error("Wrong response code");let a=await i.json(),c=a.names[r];return c?{pubkey:c,relays:(o=a.relays)==null?void 0:o[c]}:null}catch(s){return null}}async function UP(e,t){let r=await Xb(t);return r?r.pubkey===e:!1}var zP={};Ee(zP,{parse:()=>jP});function jP(e){let t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]},r,n;for(let o=e.tags.length-1;o>=0;o--){let s=e.tags[o];if(s[0]==="e"&&s[1]){let[i,a,c,l,u]=s,f={id:a,relays:c?[c]:[],author:u};if(l==="root"){t.root=f;continue}if(l==="reply"){t.reply=f;continue}if(l==="mention"){t.mentions.push(f);continue}r?n=f:r=f,t.mentions.push(f);continue}if(s[0]==="q"&&s[1]){let[i,a,c]=s;t.quotes.push({id:a,relays:c?[c]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=n||r||t.reply),t.reply||(t.reply=r||t.root),[t.reply,t.root].forEach(o=>{if(!o)return;let s=t.mentions.indexOf(o);if(s!==-1&&t.mentions.splice(s,1),o.author){let i=t.profiles.find(a=>a.pubkey===o.author);i&&i.relays&&(o.relays||(o.relays=[]),i.relays.forEach(a=>{var c;((c=o.relays)==null?void 0:c.indexOf(a))===-1&&o.relays.push(a)}),i.relays=o.relays)}}),t.mentions.forEach(o=>{if(o.author){let s=t.profiles.find(i=>i.pubkey===o.author);s&&s.relays&&(o.relays||(o.relays=[]),s.relays.forEach(i=>{o.relays.indexOf(i)===-1&&o.relays.push(i)}),s.relays=o.relays)}}),t}var HP={};Ee(HP,{fetchRelayInformation:()=>$P,useFetchImplementation:()=>DP});var Jb;try{Jb=fetch}catch(e){}function DP(e){Jb=e}async function $P(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var VP={};Ee(VP,{fastEventHash:()=>tk,getPow:()=>ek,minePow:()=>qP});function ek(e){let t=0;for(let r=0;r<64;r+=8){let n=parseInt(e.substring(r,r+8),16);if(n===0)t+=32;else{t+=Math.clz32(n);break}}return t}function qP(e,t){let r=0,n=e,o=["nonce",r.toString(),t.toString()];for(n.tags.push(o);;){let s=Math.floor(new Date().getTime()/1e3);if(s!==n.created_at&&(r=0,n.created_at=s),o[1]=(++r).toString(),n.id=tk(n),ek(n.id)>=t)break}return n}function tk(e){return Me(Vr(Ar.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var WP={};Ee(WP,{unwrapEvent:()=>nT,unwrapManyEvents:()=>oT,wrapEvent:()=>pk,wrapManyEvents:()=>rT});var ZP={};Ee(ZP,{createRumor:()=>uk,createSeal:()=>fk,createWrap:()=>dk,unwrapEvent:()=>j0,unwrapManyEvents:()=>hk,wrapEvent:()=>Sf,wrapManyEvents:()=>eT});var FP={};Ee(FP,{decrypt:()=>z0,encrypt:()=>U0,getConversationKey:()=>R0,v2:()=>XP});var rk=1,nk=65535;function R0(e,t){let r=vo.getSharedSecret(e,"02"+t).subarray(1,33);return Eb(Vr,r,"nip44-v2")}function ok(e,t){let r=Bb(Vr,e,t,76);return{chacha_key:r.subarray(0,32),chacha_nonce:r.subarray(32,44),hmac_key:r.subarray(44,76)}}function M0(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;let t=1<<Math.floor(Math.log2(e-1))+1,r=t<=256?32:t/8;return r*(Math.floor((e-1)/r)+1)}function KP(e){if(!Number.isSafeInteger(e)||e<rk||e>nk)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");let t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function GP(e){let t=Ar.encode(e),r=t.length,n=KP(r),o=new Uint8Array(M0(r)-r);return zi(n,t,o)}function QP(e){let t=new DataView(e.buffer).getUint16(0),r=e.subarray(2,2+t);if(t<rk||t>nk||r.length!==t||e.length!==2+M0(t))throw new Error("invalid padding");return Nn.decode(r)}function sk(e,t,r){if(r.length!==32)throw new Error("AAD associated data must be 32 bytes");let n=zi(r,t);return $i(Vr,e,n)}function YP(e){if(typeof e!="string")throw new Error("payload must be a valid string");let t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let r;try{r=lr.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}let n=r.length;if(n<99||n>65603)throw new Error("invalid data length: "+n);let o=r[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:r.subarray(1,33),ciphertext:r.subarray(33,-32),mac:r.subarray(-32)}}function U0(e,t,r=hf(32)){let{chacha_key:n,chacha_nonce:o,hmac_key:s}=ok(t,r),i=GP(e),a=Ef(n,o,i),c=sk(s,a,r);return lr.encode(zi(new Uint8Array([2]),r,a,c))}function z0(e,t){let{nonce:r,ciphertext:n,mac:o}=YP(e),{chacha_key:s,chacha_nonce:i,hmac_key:a}=ok(t,r),c=sk(a,n,r);if(!Cs(c,o))throw new Error("invalid MAC");let l=Ef(s,i,n);return QP(l)}var XP={utils:{getConversationKey:R0,calcPaddedLen:M0},encrypt:U0,decrypt:z0},JP=2*24*60*60,ik=()=>Math.round(Date.now()/1e3),ak=()=>Math.round(ik()-Math.random()*JP),ck=(e,t)=>R0(e,t),lk=(e,t,r)=>U0(JSON.stringify(e),ck(t,r)),Cb=(e,t)=>JSON.parse(z0(e.content,ck(t,e.pubkey)));function uk(e,t){let r=O(b({created_at:ik(),content:"",tags:[]},e),{pubkey:C0(t)});return r.id=Cf(r),r}function fk(e,t,r){return Kr({kind:Ob,content:lk(e,t,r),created_at:ak(),tags:[]},t)}function dk(e,t){let r=Q6();return Kr({kind:Hb,content:lk(e,r,t),created_at:ak(),tags:[["p",t]]},r)}function Sf(e,t,r){let n=uk(e,t),o=fk(n,t,r);return dk(o,r)}function eT(e,t,r){if(!r||r.length===0)throw new Error("At least one recipient is required.");let n=C0(t),o=[Sf(e,t,n)];return r.forEach(s=>{o.push(Sf(e,t,s))}),o}function j0(e,t){let r=Cb(e,t);return Cb(r,t)}function hk(e,t){let r=[];return e.forEach(n=>{r.push(j0(n,t))}),r.sort((n,o)=>n.created_at-o.created_at),r}function tT(e,t,r,n){let o={created_at:Math.ceil(Date.now()/1e3),kind:Lb,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:i,relayUrl:a})=>{o.tags.push(a?["p",i,a]:["p",i])}),n&&o.tags.push(["e",n.eventId,n.relayUrl||"","reply"]),r&&o.tags.push(["subject",r]),o}function pk(e,t,r,n,o){let s=tT(t,r,n,o);return Sf(s,e,t.publicKey)}function rT(e,t,r,n,o){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:C0(e)},...t].map(i=>pk(e,i,r,n,o))}var nT=j0,oT=hk,sT={};Ee(sT,{finishRepostEvent:()=>iT,getRepostedEvent:()=>aT,getRepostedEventPointer:()=>mk});function iT(e,t,r,n){var i,a;let o,s=[...(i=e.tags)!=null?i:[],["e",t.id,r],["p",t.pubkey]];return t.kind===Ib?o=P0:(o=A0,s.push(["k",String(t.kind)])),Kr({kind:o,tags:s,content:e.content===""||(a=t.tags)!=null&&a.find(c=>c[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},n)}function mk(e){if(![P0,A0].includes(e.kind))return;let t,r;for(let n=e.tags.length-1;n>=0&&(t===void 0||r===void 0);n--){let o=e.tags[n];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&r===void 0&&(r=o))}if(t!==void 0)return{id:t[1],relays:[t[2],r==null?void 0:r[2]].filter(n=>typeof n=="string"),author:r==null?void 0:r[1]}}function aT(e,{skipVerification:t}={}){let r=mk(e);if(r===void 0||e.content==="")return;let n;try{n=JSON.parse(e.content)}catch(o){return}if(n.id===r.id&&!(!t&&!Tf(n)))return n}var cT={};Ee(cT,{NOSTR_URI_REGEX:()=>H0,parse:()=>uT,test:()=>lT});var H0=new RegExp("nostr:(".concat(Gb.source,")"));function lT(e){return typeof e=="string"&&new RegExp("^".concat(H0.source,"$")).test(e)}function uT(e){let t=e.match(new RegExp("^".concat(H0.source,"$")));if(!t)throw new Error("Invalid Nostr URI: ".concat(e));return{uri:t[0],value:t[1],decoded:If(t[1])}}var fT={};Ee(fT,{finishReactionEvent:()=>dT,getReactedEventPointer:()=>hT});function dT(e,t,r){var o,s;let n=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Kr(O(b({},e),{kind:T0,tags:[...(o=e.tags)!=null?o:[],...n,["e",t.id],["p",t.pubkey]],content:(s=e.content)!=null?s:"+"}),r)}function hT(e){if(e.kind!==T0)return;let t,r;for(let n=e.tags.length-1;n>=0&&(t===void 0||r===void 0);n--){let o=e.tags[n];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&r===void 0&&(r=o))}if(!(t===void 0||r===void 0))return{id:t[1],relays:[t[2],r[2]].filter(n=>n!==void 0),author:r[1]}}var pT={};Ee(pT,{parse:()=>gT});var mT=/\W/m,Sb=/\W |\W$|$|,| /m;function*gT(e){let t=e.length,r=0,n=0;for(;n<t;){let o=e.indexOf(":",n);if(o===-1)break;if(e.substring(o-5,o)==="nostr"){let s=e.substring(o+60).match(mT),i=s?o+60+s.index:t;try{let a,{data:c,type:l}=If(e.substring(o+1,i));switch(l){case"npub":a={pubkey:c};break;case"nsec":case"note":n=i+1;continue;default:a=c}r!==o-5&&(yield{type:"text",text:e.substring(r,o-5)}),yield{type:"reference",pointer:a},n=i,r=n;continue}catch(a){n=o+1;continue}}else if(e.substring(o-5,o)==="https"||e.substring(o-4,o)==="http"){let s=e.substring(o+4).match(Sb),i=s?o+4+s.index:t,a=e[o-1]==="s"?5:4;try{let c=new URL(e.substring(o-a,i));if(c.hostname.indexOf(".")===-1)throw new Error("invalid url");if(r!==o-a&&(yield{type:"text",text:e.substring(r,o-a)}),c.pathname.endsWith(".png")||c.pathname.endsWith(".jpg")||c.pathname.endsWith(".jpeg")||c.pathname.endsWith(".gif")||c.pathname.endsWith(".webp")){yield{type:"image",url:c.toString()},n=i,r=n;continue}if(c.pathname.endsWith(".mp4")||c.pathname.endsWith(".avi")||c.pathname.endsWith(".webm")||c.pathname.endsWith(".mkv")){yield{type:"video",url:c.toString()},n=i,r=n;continue}if(c.pathname.endsWith(".mp3")||c.pathname.endsWith(".aac")||c.pathname.endsWith(".ogg")||c.pathname.endsWith(".opus")){yield{type:"audio",url:c.toString()},n=i,r=n;continue}yield{type:"url",url:c.toString()},n=i,r=n;continue}catch(c){n=i+1;continue}}else if(e.substring(o-3,o)==="wss"||e.substring(o-2,o)==="ws"){let s=e.substring(o+4).match(Sb),i=s?o+4+s.index:t,a=e[o-1]==="s"?3:2;try{let c=new URL(e.substring(o-a,i));if(c.hostname.indexOf(".")===-1)throw new Error("invalid ws url");r!==o-a&&(yield{type:"text",text:e.substring(r,o-a)}),yield{type:"relay",url:c.toString()},n=i,r=n;continue}catch(c){n=i+1;continue}}else{n=o+1;continue}}r!==t&&(yield{type:"text",text:e.substring(r)})}var yT={};Ee(yT,{channelCreateEvent:()=>wT,channelHideMessageEvent:()=>bT,channelMessageEvent:()=>xT,channelMetadataEvent:()=>vT,channelMuteUserEvent:()=>kT});var wT=(e,t)=>{var n;let r;if(typeof e.content=="object")r=JSON.stringify(e.content);else if(typeof e.content=="string")r=e.content;else return;return Kr({kind:Rb,tags:[...(n=e.tags)!=null?n:[]],content:r,created_at:e.created_at},t)},vT=(e,t)=>{var n;let r;if(typeof e.content=="object")r=JSON.stringify(e.content);else if(typeof e.content=="string")r=e.content;else return;return Kr({kind:Mb,tags:[["e",e.channel_create_event_id],...(n=e.tags)!=null?n:[]],content:r,created_at:e.created_at},t)},xT=(e,t)=>{var n;let r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Kr({kind:Ub,tags:[...r,...(n=e.tags)!=null?n:[]],content:e.content,created_at:e.created_at},t)},bT=(e,t)=>{var n;let r;if(typeof e.content=="object")r=JSON.stringify(e.content);else if(typeof e.content=="string")r=e.content;else return;return Kr({kind:zb,tags:[["e",e.channel_message_event_id],...(n=e.tags)!=null?n:[]],content:r,created_at:e.created_at},t)},kT=(e,t)=>{var n;let r;if(typeof e.content=="object")r=JSON.stringify(e.content);else if(typeof e.content=="string")r=e.content;else return;return Kr({kind:jb,tags:[["p",e.pubkey_to_mute],...(n=e.tags)!=null?n:[]],content:r,created_at:e.created_at},t)},_T={};Ee(_T,{EMOJI_SHORTCODE_REGEX:()=>gk,matchAll:()=>ET,regex:()=>D0,replaceAll:()=>BT});var gk=/:(\w+):/,D0=()=>new RegExp("\\B".concat(gk.source,"\\B"),"g");function*ET(e){let t=e.matchAll(D0());for(let r of t)try{let[n,o]=r;yield{shortcode:n,name:o,start:r.index,end:r.index+n.length}}catch(n){}}function BT(e,t){return e.replaceAll(D0(),(r,n)=>t({shortcode:r,name:n}))}var CT={};Ee(CT,{useFetchImplementation:()=>ST,validateGithub:()=>PT});var $0;try{$0=fetch}catch(e){}function ST(e){$0=e}async function PT(e,t,r){try{return await(await $0("https://gist.github.com/".concat(t,"/").concat(r,"/raw"))).text()==="Verifying that I control the following Nostr public key: ".concat(e)}catch(n){return!1}}var TT={};Ee(TT,{makeNwcRequestEvent:()=>NT,parseConnectionString:()=>AT});function AT(e){let{pathname:t,searchParams:r}=new URL(e),n=t,o=r.get("relay"),s=r.get("secret");if(!n||!o||!s)throw new Error("invalid connection string");return{pubkey:n,relay:o,secret:s}}async function NT(e,t,r){let o=await Qb(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:r}})),s={kind:$b,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return Kr(s,t)}var IT={};Ee(IT,{normalizeIdentifier:()=>OT});function OT(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var LT={};Ee(LT,{getZapEndpoint:()=>MT,makeZapReceipt:()=>jT,makeZapRequest:()=>UT,useFetchImplementation:()=>RT,validateZapRequest:()=>zT});var V0;try{V0=fetch}catch(e){}function RT(e){V0=e}async function MT(e){try{let t="",{lud06:r,lud16:n}=JSON.parse(e.content);if(r){let{words:i}=Eo.decode(r,1e3),a=Eo.fromWords(i);t=Nn.decode(a)}else if(n){let[i,a]=n.split("@");t=new URL("/.well-known/lnurlp/".concat(i),"https://".concat(a)).toString()}else return null;let s=await(await V0(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch(t){}return null}function UT({profile:e,event:t,amount:r,relays:n,comment:o=""}){if(!r)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",r.toString()],["relays",...n]]};if(t&&typeof t=="string"&&s.tags.push(["e",t]),t&&typeof t=="object"){if(S0(t.kind)){let i=["a","".concat(t.kind,":").concat(t.pubkey,":")];s.tags.push(i)}else if(Af(t.kind)){let i=t.tags.find(([c,l])=>c==="d"&&l);if(!i)throw new Error("d tag not found or is empty");let a=["a","".concat(t.kind,":").concat(t.pubkey,":").concat(i[1])];s.tags.push(a)}}return s}function zT(e){let t;try{t=JSON.parse(e)}catch(s){return"Invalid zap request JSON."}if(!E0(t))return"Zap request is not a valid Nostr event.";if(!Tf(t))return"Invalid signature on zap request.";let r=t.tags.find(([s,i])=>s==="p"&&i);if(!r)return"Zap request doesn't have a 'p' tag.";if(!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let n=t.tags.find(([s,i])=>s==="e"&&i);return n&&!n[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,i])=>s==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function jT({zapRequest:e,preimage:t,bolt11:r,paidAt:n}){let o=JSON.parse(e),s=o.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(n.getTime()/1e3),content:"",tags:[...s,["P",o.pubkey],["bolt11",r],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var HT={};Ee(HT,{getToken:()=>DT,hashPayload:()=>q0,unpackEventFromToken:()=>wk,validateEvent:()=>Ek,validateEventKind:()=>xk,validateEventMethodTag:()=>kk,validateEventPayloadTag:()=>_k,validateEventTimestamp:()=>vk,validateEventUrlTag:()=>bk,validateToken:()=>$T});var yk="Nostr ";async function DT(e,t,r,n=!1,o){let s={kind:N0,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&s.tags.push(["payload",q0(o)]);let i=await r(s);return(n?yk:"")+lr.encode(Ar.encode(JSON.stringify(i)))}async function $T(e,t,r){let n=await wk(e).catch(s=>{throw s});return await Ek(n,t,r).catch(s=>{throw s})}async function wk(e){if(!e)throw new Error("Missing token");e=e.replace(yk,"");let t=Nn.decode(lr.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function vk(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function xk(e){return e.kind===N0}function bk(e,t){let r=e.tags.find(n=>n[0]==="u");return r?r.length>0&&r[1]===t:!1}function kk(e,t){let r=e.tags.find(n=>n[0]==="method");return r?r.length>0&&r[1].toLowerCase()===t.toLowerCase():!1}function q0(e){let t=Vr(Ar.encode(JSON.stringify(e)));return Me(t)}function _k(e,t){let r=e.tags.find(o=>o[0]==="payload");if(!r)return!1;let n=q0(t);return r.length>0&&r[1]===n}async function Ek(e,t,r,n){if(!Tf(e))throw new Error("Invalid nostr event, signature invalid");if(!xk(e))throw new Error("Invalid nostr event, kind invalid");if(!vk(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!bk(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!kk(e,r))throw new Error("Invalid nostr event, method tag invalid");if(n&&typeof n=="object"&&Object.keys(n).length>0&&!_k(e,n))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var VT=()=>({envelope:{kind:20004,tags:[]},filter:{kinds:[20004],since:fc()},req_timeout:5e3,since_offset:5,start_delay:2e3}),Vi=class extends En{constructor(t,r,n={}){super(),this._inbox={event:new En,id:new En,peer:new En,tag:new En},this._sub=null,this._handler=o=>{try{let s=hx(o,this._seckey.hex),i=mx(s,o);this.emit("message",i),this.inbox.id.emit(i.id,i),this.inbox.peer.emit(i.env.pubkey,i),this.inbox.tag.emit(i.tag,i)}catch(s){this.emit("bounced",[o.id,Nu(s)])}},this._publish=async(o,s,i)=>{var h;let a=(h=i==null?void 0:i.cache)!=null?h:new Map,c=WT(this,i),l=px(o.tag,o.data,o.id),u=ux(c,l,s,this._seckey.hex),f=O(b({},o),{env:u}),d=this._pool.publish(this.relays,u);return this._inbox.event.emit("published",f),Promise.all(d).then(y=>{let p=this.relays.filter(w=>!y.includes(w)),v=o.id,g=y.length>0,m={acks:y,fails:p,ok:g,peer_pk:s,data:f};return a.set(s,m),this._inbox.event.emit("settled",O(b({},m),{msg_id:v})),O(b({},m),{ok:g,msg_id:v})})},gx(t),yx(r),this._seckey=new P(r),this._pubkey=ki(this._seckey.hex),this._config=qT(n),this._filter=Bk(this,n.filter),this._pool=new Kb,this._relays=t,this.emit("info",["filter:",JSON.stringify(this.filter,null,2)])}_subscribe(t,r=this.config.req_timeout,n=Eu()){var o;return this._filter=Bk(this,t),this.filter["#p"]=[...(o=this.filter["#p"])!=null?o:[],this.pubkey],this._sub=this._pool.subscribeMany(this.relays,[this._filter],{id:n,oneose:()=>this.emit("subscribed",[n,this.filter]),onevent:this._handler}),new Promise(s=>{let i=setTimeout(()=>s("timeout"),r),a=c=>{clearTimeout(i),s(c)};this.within("subscribed",([c])=>{c===n&&a(null)},r)})}get config(){return this._config}get filter(){return this._filter}get inbox(){return this._inbox}get pubkey(){return this._pubkey}get relays(){return this._relays}async broadcast(t,r,n){let o=new Map,s=sr(t),i=r.map(a=>this._publish(s,a,n));return Promise.all(i).then(a=>{let l={ok:a.every(u=>u.ok),cache:o,msg_id:s.id,peers:r};return a.forEach(u=>o.set(u.peer_pk,u)),this.emit("broadcast",l),b({},l)})}async connect(t=this.config.req_timeout){let r=await this._subscribe(this._filter,t);if(r!==null)throw new Error(r);return this.emit("ready",this),this}async close(){this._sub!==null&&this._sub.close(),this._pool.close!==void 0&&this._pool.close(this.relays),this.emit("close",this)}async request(t,r,n){let o=sr(t),s=this.subscribe({id:o.id,peers:[r]},n);return this.publish(o,r,n),s}async multicast(t,r,n={}){let o=sr(t),s=this.subscribe({id:o.id,peers:r},n),i=this.broadcast(o,r,n);return Promise.all([s,i]).then(([a,c])=>({sub:a,pub:c}))}async publish(t,r,n){let o=sr(t);return this._publish(o,r,n)}async subscribe(t,r){let n=ZT(this,r);return new Promise(o=>{let{timeout:s,threshold:i}=n,{id:a,peers:c=[],tag:l}=t,u=new Set,f=new Set,d=setTimeout(()=>h(!1,"timeout"),s),h=(p,v)=>{clearTimeout(d);let g={ok:p,authors:Array.from(u),inbox:Array.from(f),peers:c,reason:v};this.emit("resolved",g),o(b({},g))},y=p=>typeof a=="string"&&a!==p.id||typeof l=="string"&&l!==p.tag||c.length>0&&!c.includes(p.env.pubkey);this.within("message",p=>{y(p)||(u.add(p.env.pubkey),f.add(p)),typeof i=="number"&&u.size>=i&&h(!0,"threshold"),Array.isArray(c)&&c.every(v=>u.has(v))&&h(!0,"complete")},s)})}async update(t){return this._sub!==null&&this._sub.close(),this._subscribe(t)}};function qT(e={}){let t=VT(),r=b(b({},t.envelope),e.envelope),n=b(b({},t.filter),e.filter);return O(b({},t),{envelope:r,filter:n})}function WT(e,t={}){var a,c;let i=t,{created_at:r=fc(),tags:n=[]}=i,o=Cc(i,["created_at","tags"]),s=e.config.envelope;return n=[...(a=s.tags)!=null?a:[],...(c=t.tags)!=null?c:[]],O(b(b({},s),o),{created_at:r,tags:n})}function Bk(e,t={}){return b(b({},e.config.filter),t)}function ZT(e,t={}){var n;let r=(n=t.timeout)!=null?n:e.config.req_timeout;return O(b({},t),{timeout:r})}var FT=()=>({ecdh:new Map}),KT=()=>({debug:!1,middleware:{},policies:[],sign_ival:100}),bc=class extends Zu{constructor(t,r,n,o){super(),this._is_ready=!1,this._cache=GT(o==null?void 0:o.cache),this._config=QT(o),this._queue=new Fu(this),this._signer=new pc(t,r,o),this._peers=YT(this);let s=[...Xx(this.peers),this.pubkey];this._client=new Vi(n,r.seckey,{filter:{authors:s}}),this._client.on("closed",()=>{this._is_ready=!1,this.emit("closed",this)}),this._client.on("ready",()=>{this._is_ready=!0,this.emit("ready",this)}),this._client.on("message",i=>{if(this.emit("message",i),!!this._filter(i))try{switch(i.tag){case"/ping/req":{n2(this,i);break}case"/ecdh/req":{let a=ju(i);e2(this,a);break}case"/sign/req":{let a=Wx(i);y2(this,a);break}}}catch(a){this.emit("bounced",[Nu(a),i])}})}_filter(t){let{pubkey:r}=t.env;return t.tag==="/echo/req"?!0:r===this.pubkey?!1:t.tag==="/ping/req"||Jx(this.peers).includes(t.env.pubkey)?!0:(this.emit("bounced",["unauthorized",t]),!1)}get cache(){return this._cache}get client(){return this._client}get config(){return this._config}get debug(){return this._config.debug}get group(){return this._signer.group}get is_ready(){return this._is_ready}get queue(){return this._queue}get peers(){return this._peers}get pubkey(){return mo(this.signer.pubkey,"bip340")}get req(){return{ecdh:t2(this),echo:r2(this),ping:o2(this),queue:w2(this),sign:v2(this)}}get signer(){return this._signer}async connect(){this.client.connect()}async close(){this.client.close()}update_peer(t){let r=this.peers.findIndex(n=>n.pubkey===t.pubkey);r!==-1&&(this._peers[r]=b(b({},this._peers[r]),t))}};function GT(e={}){return b(b({},FT()),e)}function QT(e={}){let t=b(b({},KT()),e),r=$t.node.config.safeParse(t);if(!r.success)throw new Error("invalid node config");return r.data}function YT(e){var s;let t=ir(),r=e.pubkey,n=e.group.commits.map(i=>mo(i.pubkey,"bip340")).filter(i=>i!==r),o=[];for(let i of n){let a=e.config.policies.find(l=>l.pubkey===i),c=(s=a==null?void 0:a.policy)!=null?s:{send:!0,recv:!0};o.push({policy:c,pubkey:i,status:"offline",updated:t})}return o}function zf(e){return Z0(e).to_bech32m("bfgroup")}function To(e){let t=P.bech32m(e);return F0(t)}function Z0(e){let t=P.num(e.threshold,4),r=P.hex(e.group_pk,33),n=e.commits.map(o=>JT(o));return P.join([r,t,...n])}function F0(e){let t=new P(e).stream,r=t.read(33).hex,n=t.read(4).num;ue.ok(t.size%103===0,"commit data is malformed");let o=t.size/103,s=[];for(let i=0;i<o;i++){let a=t.read(103);s.push(eA(a))}return ue.size(t.data,0),Hu({commits:s,group_pk:r,threshold:n})}function JT(e){let t=P.num(e.idx,4),r=P.hex(e.pubkey,33),n=P.hex(e.binder_pn,33),o=P.hex(e.hidden_pn,33);return P.join([t,r,n,o])}function eA(e){let t=new P(e).stream;ue.size(t.data,103);let r=t.read(4).num,n=t.read(33).hex,o=t.read(33).hex,s=t.read(33).hex;return ue.size(t.data,0),{idx:r,binder_pn:o,hidden_pn:s,pubkey:n}}function Hf(e){let t=K0(e);return ue.size(t,100),t.to_bech32m("bfshare")}function qi(e){let t=P.bech32m(e);return G0(t)}function K0(e){let t=P.num(e.idx,4),r=P.hex(e.seckey,32),n=P.hex(e.binder_sn,32),o=P.hex(e.hidden_sn,32);return P.join([t,r,n,o])}function G0(e){let t=new P(e).stream;ue.size(t.data,100);let r=t.read(4).num,n=t.read(32).hex,o=t.read(32).hex,s=t.read(32).hex;return ue.size(t.data,0),Hu({idx:r,binder_sn:o,hidden_sn:s,seckey:n})}var Q0;(function(e){e.group={encode:zf,decode:To,serialize:Z0,deserialize:F0},e.share={encode:Hf,decode:qi,serialize:K0,deserialize:G0}})(Q0||(Q0={}));var Y0="frostr-demo",Nk={group:null,share:null,relays:[],peers:[],logs:[]};var Df=class{constructor(t,r){this._subs=new Set;this._defaults=r,this._store_key=t}get_defaults(){return this._defaults}get(){try{let t=localStorage.getItem(this._store_key);return t?JSON.parse(t):this._defaults}catch(t){return this._defaults}}reset(){this.set(this._defaults)}set(t){try{localStorage.setItem(this._store_key,JSON.stringify(t)),this._notify_subs()}catch(r){console.error("Error saving to localStorage:",r)}}subscribe(t){return this._subs.add(t),()=>this._subs.delete(t)}update(t){this.set(b(b({},this.get()),t))}_notify_subs(){this._subs.forEach(t=>t())}};var Wi=X(pt(),1);var Mk=X(ce(),1);function Rk(e){let t=(0,Wi.createContext)(null);return{StoreProvider:({children:o})=>{let[s,i]=(0,Wi.useState)(e.get()),a=()=>{e.reset(),i(e.get_defaults())},c=l=>{let u=b(b({},s),l);e.set(u),i(u)};return(0,Mk.jsx)(t.Provider,{value:{data:s,reset:a,update:c},children:o})},useStore:()=>{let o=(0,Wi.useContext)(t);if(o===null)throw new Error("useStore must be used within a StoreProvider");return o}}}var lA=new URLSearchParams(window.location.search),Uk=lA.get("name"),uA=Uk?"".concat(Y0,"-").concat(Uk):Y0,fA=new Df(uA,Nk),{StoreProvider:zk,useStore:ut}=Rk(fA);var Gr=X(pt(),1);function Hk(){let[e,t]=(0,Gr.useState)("stopped"),r=ut(),n=(0,Gr.useRef)(null),o=(0,Gr.useRef)(r.data);(0,Gr.useEffect)(()=>{o.current=r.data},[r.data]);let s=()=>{if(!dA(r.data))return;r.update({logs:[]});let{group:a,share:c,peers:l,relays:u}=r.data,f=u.map(d=>d.url);n.current=new bc(a,c,f,{policies:l}),n.current.on("ready",()=>{console.log("bifrost node initialized"),t("online")}),n.current.on("closed",()=>{t("offline")}),n.current.on("error",d=>{t("offline")}),n.current.on("*",(d,h)=>{if(d==="message"||d.startsWith("/ping"))return;let y={timestamp:new Date().toISOString(),message:String(d),type:"info"};console.log("event:",d),console.dir(h,{depth:null});let p=hA(o.current,y);r.update({logs:p})}),n.current.connect()},i=()=>{n.current=null};return(0,Gr.useEffect)(()=>{s()},[r.data.group,r.data.share,r.data.relays]),(0,Gr.useMemo)(()=>({ref:n,reset:s,stop:i,status:e}),[s,i,e])}function dA(e){return e.group!==null&&e.share!==null&&e.relays.length>0}function hA(e,t){let r=[...e.logs,t];if(r.length>100){let n=r.length-100;r=r.slice(n)}return r}var Vf=X(pt(),1),Vk=X(ce(),1),Dk=(0,Vf.createContext)(null);function $k({children:e}){let t=Hk();return(0,Vk.jsx)(Dk.Provider,{value:t,children:e})}function Zi(){let e=(0,Vf.useContext)(Dk);if(e===null)throw new Error("useNode must be used within a NodeProvider");return e}var h_=X(pt(),1);var In=X(ce(),1);function qk(){return(0,In.jsxs)("div",{className:"page-header",children:[(0,In.jsx)("img",{src:"assets/frostr-icon.png",alt:"Frost Logo",className:"frost-logo"}),(0,In.jsx)("div",{className:"title-container",children:(0,In.jsx)("h1",{children:"FROSTR Web Demo"})}),(0,In.jsx)("p",{children:"FROSTR Web Demo"}),(0,In.jsx)("a",{href:"https://frostr.org",target:"_blank",rel:"noopener noreferrer",children:"https://frostr.org"}),(0,In.jsx)("div",{className:"alpha-pill alpha-pill-standalone",children:"alpha edition"})]})}var f_=X(pt(),1);var dr=X(ce(),1);function Wk(){let e=ut(),t=async()=>{e.update({logs:[]})};return(0,dr.jsxs)("div",{className:"console-container",children:[(0,dr.jsx)("h2",{className:"section-header",children:"Event Console"}),(0,dr.jsx)("p",{className:"description",children:"Monitor events from your bifrost node."}),(0,dr.jsx)("div",{className:"console-output",children:e.data.logs.length===0?(0,dr.jsx)("div",{className:"console-empty",children:"No events logged yet"}):e.data.logs.map((r,n)=>(0,dr.jsxs)("div",{className:"console-entry",children:[(0,dr.jsx)("span",{className:"console-timestamp",children:new Date(r.timestamp).toLocaleTimeString()}),(0,dr.jsx)("span",{className:"console-message console-".concat(r.type),children:r.message})]},n))}),(0,dr.jsx)("div",{className:"console-controls",children:(0,dr.jsx)("button",{className:"button",onClick:t,children:"Clear Console"})})]})}var Nr=X(ce(),1);function Zk(){var t;let e=Zi();return(0,Nr.jsxs)("div",{className:"dashboard-container",children:[(0,Nr.jsx)("h2",{className:"section-header",children:"Node Status"}),(0,Nr.jsxs)("pre",{children:["pubkey: ",((t=e.ref.current)==null?void 0:t.pubkey)||"unknown"]}),(0,Nr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[(0,Nr.jsx)("span",{children:"status:"}),(0,Nr.jsx)("span",{className:"status-indicator ".concat(e.status),children:e.status})]}),(0,Nr.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[(0,Nr.jsx)("button",{className:"button",onClick:()=>pA(e),children:"Send Echo"}),(0,Nr.jsx)("button",{className:"button",onClick:()=>e.reset(),children:"Reset Node"})]})]})}function pA(e){var t;(t=e.ref.current)==null||t.req.echo("echo")}var As=X(pt(),1);function Kk(){let e=Zi(),[t,r]=(0,As.useState)(!1),[n,o]=(0,As.useState)([]),s=(c,l)=>{o(u=>{let f={pubkey:c,status:l,updated:ir()};return[...u.filter(d=>d.pubkey!==c),f]})},i=async c=>{var u;if(!((u=e.ref.current)!=null&&u.is_ready))return;let l=await e.ref.current.req.ping(c);s(c,l.ok?"online":"offline")},a=async()=>{var d;if(!((d=e.ref.current)!=null&&d.is_ready))return;let c=ir(),u=e.ref.current.peers.filter(h=>h.status==="offline"||h.updated<c-10);if(u.length===0)return;let f=[];for(let h of u){let y=e.ref.current.req.ping(h.pubkey).then(p=>{s(h.pubkey,p.ok?"online":"offline")});f.push(y)}return Promise.all(f)};return(0,As.useEffect)(()=>{if(e.ref.current&&n.length===0){let c=e.ref.current.peers.map(l=>({pubkey:l.pubkey,status:"checking",updated:l.updated}));o(c)}},[e.ref]),(0,As.useEffect)(()=>{e.ref.current&&!t&&(async()=>(await Gx(500),await a(),r(!0)))()},[n]),(0,As.useEffect)(()=>{let c=setInterval(a,10*1e3);return()=>clearInterval(c)},[e.status,e.ref]),{status:n,ping_peer:i}}var Wt=X(ce(),1);var Gk=()=>(0,Wt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Wt.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,Wt.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});var Qk=()=>(0,Wt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Wt.jsx)("polyline",{points:"4 17 10 11 4 5"}),(0,Wt.jsx)("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]});var Yk=()=>(0,Wt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Wt.jsx)("path",{d:"M23 4v6h-6"}),(0,Wt.jsx)("path",{d:"M1 20v-6h6"}),(0,Wt.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"}),(0,Wt.jsx)("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"})]});var We=X(ce(),1);function Xk(){let e=Zi(),{status:t,ping_peer:r}=Kk();return(0,We.jsxs)("div",{className:"dashboard-container",children:[(0,We.jsx)("h2",{className:"section-header",children:"Peer Status"}),t.length===0?(0,We.jsx)("p",{children:"waiting for peers..."}):(0,We.jsxs)("table",{className:"peers-table",children:[(0,We.jsx)("thead",{children:(0,We.jsxs)("tr",{children:[(0,We.jsx)("th",{children:"Pubkey"}),(0,We.jsx)("th",{children:"Status"}),(0,We.jsx)("th",{children:"Refresh"})]})}),(0,We.jsx)("tbody",{children:t.map(n=>(0,We.jsxs)("tr",{children:[(0,We.jsx)("td",{className:"pubkey-cell",children:n.pubkey}),(0,We.jsx)("td",{className:"status-cell",children:(0,We.jsx)("span",{className:"status-indicator ".concat(n.status),children:n.status})}),(0,We.jsx)("td",{className:"refresh-cell",children:(0,We.jsx)("button",{className:"button",onClick:()=>r(n.pubkey),disabled:e.status!=="online",title:"Refresh peer status",children:(0,We.jsx)(Yk,{})})})]},n.pubkey))})]})]})}var On=X(pt(),1);var Ao=X(pt(),1);var Ns=class e{constructor(t,r,n,o,s){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||o||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof o=="function"?o:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof o=="number"?o:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let i=!1;if(t.hidden&&(t.hidden=!1,i=!0),document.body.contains(t)||(document.body.appendChild(t),i=!0),n=t.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(o=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!o&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(a){}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let a=window.getComputedStyle(t);a.display==="none"&&(t.style.setProperty("display","block","important"),i=!0),a.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),i=!0),i&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(t){return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="videoinput"),n;try{t&&(await r()).every(o=>!o.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(o){}try{return(await r()).map((o,s)=>({id:o.deviceId,label:o.label||(s===0?"Default Camera":"Camera ".concat(s+1))}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),e._stopVideoStream(n))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch(r){return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),e._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:r}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(t):(this._setVideoMirror(r),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,r,n,o,s=!1,i=!1){let a,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(a=r.scanRegion,n=r.qrEngine,o=r.canvas,s=r.disallowCanvasResizing||!1,i=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||o||s||i?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let l,u;[n,l]=await Promise.all([n||e.createQrEngine(),e._loadImage(t)]),[o,u]=e._drawToCanvas(l,a,o,s);let f;if(n instanceof Worker){let d=n;r||e._postWorkerMessageSync(d,"inversionMode","both"),f=await new Promise((h,y)=>{let p,v,g,m=-1;v=x=>{x.data.id===m&&(d.removeEventListener("message",v),d.removeEventListener("error",g),clearTimeout(p),x.data.data!==null?h({data:x.data.data,cornerPoints:e._convertPoints(x.data.cornerPoints,a)}):y(e.NO_QR_CODE_FOUND))},g=x=>{d.removeEventListener("message",v),d.removeEventListener("error",g),clearTimeout(p),y("Scanner error: "+(x?x.message||x:"Unknown Error"))},d.addEventListener("message",v),d.addEventListener("error",g),p=setTimeout(()=>g("timeout"),1e4);let w=u.getImageData(0,0,o.width,o.height);m=e._postWorkerMessageSync(d,"decode",w,[w.data.buffer])})}else f=await Promise.race([new Promise((d,h)=>window.setTimeout(()=>h("Scanner error: timeout"),1e4)),(async()=>{try{var[d]=await n.detect(o);if(!d)throw e.NO_QR_CODE_FOUND;return{data:d.rawValue,cornerPoints:e._convertPoints(d.cornerPoints,a)}}catch(h){if(d=h.message||h,/not implemented|service unavailable/.test(d))return e._disableBarcodeDetector=!0,e.scanImage(t,{scanRegion:a,canvas:o,disallowCanvasResizing:s,alsoTryWithoutScanRegion:i});throw"Scanner error: ".concat(d)}})()]);return c?f:f.data}catch(l){if(!a||!i)throw l;let u=await e.scanImage(t,{qrEngine:n,canvas:o,disallowCanvasResizing:s});return c?u:u.data}finally{r||e._postWorkerMessage(n,"close")}}setGrayscaleWeights(t,r,n,o=!0){e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:n,useIntegerApproximation:o})}setInversionMode(t){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>Promise.resolve().then(()=>(e_(),Jk)).then(n=>n.createWorker()),!(!e._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:o})=>/arm/i.test(n||"arm")&&13<=parseInt(o||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let r=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-r)/2),y:Math.round((t.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,r=t.videoWidth,n=t.videoHeight,o=t.offsetWidth,s=t.offsetHeight,i=t.offsetLeft,a=t.offsetTop,c=window.getComputedStyle(t),l=c.objectFit,u=r/n,f=o/s;switch(l){case"none":var d=r,h=n;break;case"fill":d=o,h=s;break;default:(l==="cover"?u>f:u<f)?(h=s,d=h*u):(d=o,h=d/u),l==="scale-down"&&(d=Math.min(d,r),h=Math.min(h,n))}var[y,p]=c.objectPosition.split(" ").map((g,m)=>{let w=parseFloat(g);return g.endsWith("%")?(m?s-h:o-d)*w/100:w});c=this._scanRegion.width||r,f=this._scanRegion.height||n,l=this._scanRegion.x||0;var v=this._scanRegion.y||0;u=this.$overlay.style,u.width="".concat(c/r*d,"px"),u.height="".concat(f/n*h,"px"),u.top="".concat(a+p+v/n*h,"px"),n=/scaleX\(-1\)/.test(t.style.transform),u.left="".concat(i+(n?o-y-d:y)+(n?r-l-c:l)/r*d,"px"),u.transform=t.style.transform}})}static _convertPoints(t,r){if(!r)return t;let n=r.x||0,o=r.y||0,s=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let i of t)i.x=i.x*s+n,i.y=i.y*r+o;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;t<r&&await new Promise(o=>setTimeout(o,r-t)),this._lastScanTimestamp=Date.now();try{var n=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(o){if(!this._active)return;this._onDecodeError(o)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=e.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox","".concat(this._scanRegion.x||0," ")+"".concat(this._scanRegion.y||0," ")+"".concat(this._scanRegion.width||this.$video.videoWidth," ")+"".concat(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:o,y:s})=>"".concat(o,",").concat(s)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==e.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(o=>Object.assign({},o,{[t]:{exact:this._preferredCamera}}));for(let o of[...n,...r])try{let s=await navigator.mediaDevices.getUserMedia({video:o,audio:!1}),i=this._getFacingMode(s)||(o.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:i}}catch(s){}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let r of t.getTracks())r.stop(),t.removeTrack(r)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,r,n,o=!1){n=n||document.createElement("canvas");let s=r&&r.x?r.x:0,i=r&&r.y?r.y:0,a=r&&r.width?r.width:t.videoWidth||t.width,c=r&&r.height?r.height:t.videoHeight||t.height;return o||(o=r&&r.downScaledWidth?r.downScaledWidth:a,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==o&&(n.width=o),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(t,s,i,a,c,0,0,n.width,n.height),[n,r]}static async _loadImage(t){if(t instanceof Image)return await e._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let r=new Image;r.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await e._awaitImageLoad(r),r}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((r,n)=>{let o=s=>{t.removeEventListener("load",o),t.removeEventListener("error",o),s instanceof ErrorEvent?n("Image load error"):r()};t.addEventListener("load",o),t.addEventListener("error",o)})}static async _postWorkerMessage(t,r,n,o){return e._postWorkerMessageSync(await t,r,n,o)}static _postWorkerMessageSync(t,r,n,o){if(!(t instanceof Worker))return-1;let s=e._workerMessageId++;return t.postMessage({id:s,type:r,data:n},o),s}};Ns.DEFAULT_CANVAS_SIZE=400;Ns.NO_QR_CODE_FOUND="No QR code found";Ns._disableBarcodeDetector=!1;Ns._workerMessageId=0;var t_=Ns;var Fi=X(ce(),1),r_={container:{width:"100%",maxWidth:"400px",margin:"1rem auto",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden",position:"relative",backgroundColor:"#000"},video:{width:"100%",height:"auto",display:"block"}};function qf({onResult:e,onError:t}){let r=(0,Ao.useRef)(null),n=(0,Ao.useRef)(null),[o,s]=(0,Ao.useState)(null),[i,a]=(0,Ao.useState)(null);return(0,Ao.useEffect)(()=>{let c=null;return(async()=>{if(!r.current){s("Video element not found");return}try{c=new t_(r.current,u=>{e(u.data),c==null||c.stop()},{returnDetailedScanResult:!0}),await c.start(),s(null),a(!0),n.current=c}catch(u){let f=u instanceof Error?u:new Error("Failed to initialize scanner");s(f.message),t?t(f):console.error("Failed to start QR scanner:",f)}})(),()=>{c&&(c.stop(),c.destroy())}},[e,t]),(0,Fi.jsxs)("div",{style:r_.container,children:[(0,Fi.jsx)("video",{ref:r,style:r_.video,playsInline:!0,autoPlay:!0,muted:!0}),o&&(0,Fi.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"1rem",borderRadius:"4px",textAlign:"center",zIndex:1e3},children:[o,i===!1&&(0,Fi.jsx)("div",{style:{marginTop:"1rem"},children:"Please grant camera permissions to use the QR scanner"})]})]})}var ft=X(ce(),1);function n_(){var d;let e=ut(),[t,r]=(0,On.useState)(""),[n,o]=(0,On.useState)(null),[s,i]=(0,On.useState)(!1),[a,c]=(0,On.useState)(!1),[l,u]=(0,On.useState)(!1),f=h=>{if(n===null){if(h==="")e.update({group:null});else try{let y=To(h);if(y===null)return;e.update({group:y})}catch(y){console.log(y),o("failed to decode package data")}c(!0),setTimeout(()=>c(!1),1500)}};return(0,On.useEffect)(()=>{try{e.data.group!==null?r(o_(e.data.group)):r("")}catch(h){r("")}},[e.data.group]),(0,On.useEffect)(()=>{if(t==="")o(null);else if(!t.startsWith("bfgroup"))o('input must start with "bfgroup"');else if(!yA(t))o("input contains invalid characters");else{let h=vA(t);o(h!==null?null:"failed to decode package data")}},[t]),(0,ft.jsxs)("div",{className:"container",children:[(0,ft.jsx)("h2",{className:"section-header",children:"Group Package"}),(0,ft.jsx)("p",{className:"description",children:"Paste your encoded group string (starts with bfgroup). It contains information about your signing group."}),(0,ft.jsxs)("div",{className:"content-container",children:[(0,ft.jsxs)("div",{className:"input-with-button",children:[(0,ft.jsx)("input",{type:s?"text":"password",value:t,onChange:h=>r(h.target.value.trim()),placeholder:"bfgroup1..."}),(0,ft.jsxs)("div",{className:"input-actions",children:[(0,ft.jsx)("button",{className:"button",onClick:()=>i(!s),children:s?"hide":"show"}),(0,ft.jsx)("button",{className:"button",onClick:()=>u(!l),children:l?"stop scan":"scan"}),(0,ft.jsx)("button",{className:"button action-button ".concat(a?"saved-button":""),onClick:()=>f(t),disabled:!wA(t,e.data.group)||n!==null,children:a?"Saved":"Save"})]})]}),l&&(0,ft.jsx)(qf,{onResult:h=>{r(h.trim()),u(!1)},onError:h=>{console.error("QR scan error:",h)}}),t!==""&&n===null&&s&&(0,ft.jsx)("pre",{className:"code-display",children:(d=xA(t))!=null?d:"invalid group package"}),(0,ft.jsx)("div",{className:"notification-container",children:n&&(0,ft.jsx)("p",{className:"error-text",children:n})})]})]})}function yA(e){return/^bfgroup1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(e)}function wA(e,t){if(t===null)return e!=="";{let r=o_(t);return e!==r}}function o_(e){try{return e!==null?zf(e):""}catch(t){return""}}function vA(e){try{return e!==""?To(e):null}catch(t){return null}}function xA(e){try{let t=To(e);return JSON.stringify(t,null,2)}catch(t){return null}}var Is=X(pt(),1);var Te=X(ce(),1);function s_(){let e=ut(),[t,r]=(0,Is.useState)(e.data.peers),[n,o]=(0,Is.useState)(!1),[s,i]=(0,Is.useState)(!1),a=()=>{e.update({peers:t}),o(!1),i(!0),setTimeout(()=>i(!1),1500)},c=()=>{r(e.data.peers),o(!1)},l=(u,f,d)=>{r(h=>{let y=[...h!=null?h:[]];return y[u].policy[f]=d,y}),o(!0)};return(0,Is.useEffect)(()=>{r(e.data.peers)},[e.data.peers]),(0,Is.useEffect)(()=>{let{share:u,group:f,peers:d}=e.data;if(u&&f&&d.length===0){let h=bA(f,u.idx);r(h),e.update({peers:h})}else(!u||!f)&&(r([]),e.update({peers:[]}))},[e.data.share,e.data.group]),(0,Te.jsxs)("div",{className:"container",children:[(0,Te.jsx)("h2",{className:"section-header",children:"Peer Connections"}),(0,Te.jsx)("p",{className:"description",children:'Configure how you communicate with other peers in your signing group. "Request" will send signature requests to that peer, and "Respond" will co-sign requests from that peer.'}),t===null&&(0,Te.jsx)("p",{className:"description",children:"You must configure your node's credentials first."}),t!==null&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("table",{children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{children:"Peer Public Key"}),(0,Te.jsx)("th",{className:"checkbox-cell",children:"Send"}),(0,Te.jsx)("th",{className:"checkbox-cell",children:"Receive"})]})}),(0,Te.jsx)("tbody",{children:t.map((u,f)=>(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"pubkey-cell",children:u.pubkey}),(0,Te.jsx)("td",{className:"checkbox-cell",children:(0,Te.jsx)("input",{type:"checkbox",className:"peer-checkbox",checked:u.policy.send,onChange:()=>l(f,"send",!u.policy.send)})}),(0,Te.jsx)("td",{className:"checkbox-cell",children:(0,Te.jsx)("input",{type:"checkbox",className:"peer-checkbox",checked:u.policy.recv,onChange:()=>l(f,"recv",!u.policy.recv)})})]},f))})]}),(0,Te.jsxs)("div",{className:"action-buttons",children:[(0,Te.jsx)("button",{onClick:a,disabled:!n,className:"button button-primary action-button ".concat(s?"saved-button":""),children:s?"Saved":"Save"}),n&&(0,Te.jsx)("button",{onClick:c,className:"button",children:"Cancel"})]})]})]})}function bA(e,t){return e.commits.filter(r=>r.idx!==t).map(r=>({pubkey:r.pubkey.slice(2),policy:{send:!1,recv:!0}}))}var Ln=X(pt(),1);var he=X(ce(),1);function i_(){let e=ut(),[t,r]=(0,Ln.useState)(e.data.relays),[n,o]=(0,Ln.useState)(""),[s,i]=(0,Ln.useState)(!1),[a,c]=(0,Ln.useState)(null),[l,u]=(0,Ln.useState)(!1),f=()=>{e.update({relays:t}),i(!1),u(!0),setTimeout(()=>u(!1),1500)},d=()=>{r(e.data.relays),i(!1)},h=(v,g)=>{let m=[...t];m[v][g]=!m[v][g],r(m),i(!0)},y=()=>{n.trim()&&(n.startsWith("wss://")||n.startsWith("ws://")?kA(n)?t.some(v=>v.url===n)?c("Relay already exists"):(r(v=>[...v,{url:n,read:!0,write:!0}]),o(""),i(!0)):c("Invalid URL format"):c("Relay URL must start with wss:// or ws://"))},p=v=>{let g=t.filter((m,w)=>w!==v);r(g),i(!0)};return(0,Ln.useEffect)(()=>{a!==null&&c(null)},[n]),(0,Ln.useEffect)(()=>{r(e.data.relays)},[e.data.relays]),(0,he.jsxs)("div",{className:"container",children:[(0,he.jsx)("h2",{className:"section-header",children:"Relay Connections"}),(0,he.jsx)("p",{className:"description",children:'Configure which relays your node will use to communicate. "Read" will enable listening for inbound requests, and "Write" will enable publishing outbound requests.'}),(0,he.jsxs)("table",{children:[(0,he.jsx)("thead",{children:(0,he.jsxs)("tr",{children:[(0,he.jsx)("th",{className:"url-column",children:"Relay URL"}),(0,he.jsx)("th",{className:"checkbox-cell",children:"Read"}),(0,he.jsx)("th",{className:"checkbox-cell",children:"Write"}),(0,he.jsx)("th",{className:"action-cell",children:"Actions"})]})}),(0,he.jsx)("tbody",{children:t.map((v,g)=>(0,he.jsxs)("tr",{children:[(0,he.jsx)("td",{children:v.url}),(0,he.jsx)("td",{className:"checkbox-cell",children:(0,he.jsx)("input",{type:"checkbox",className:"relay-checkbox",checked:v.read,onChange:()=>h(g,"read")})}),(0,he.jsx)("td",{className:"checkbox-cell",children:(0,he.jsx)("input",{type:"checkbox",className:"relay-checkbox",checked:v.write,onChange:()=>h(g,"write")})}),(0,he.jsx)("td",{className:"action-cell",children:(0,he.jsx)("button",{onClick:()=>p(g),className:"button button-remove",children:"Remove"})})]},g))})]}),(0,he.jsxs)("div",{className:"input-group relay-controls",children:[(0,he.jsx)("input",{type:"text",value:n,onChange:v=>o(v.target.value),placeholder:"wss://relay.example.com",className:"relay-input"}),(0,he.jsx)("button",{onClick:y,className:"button add-relay-button",children:"Add Relay"})]}),(0,he.jsxs)("div",{className:"action-buttons",children:[(0,he.jsx)("button",{onClick:f,disabled:!s,className:"button button-primary action-button ".concat(l?"saved-button":""),children:l?"Saved":"Save"}),s&&(0,he.jsx)("button",{onClick:d,className:"button",children:"Cancel"}),(0,he.jsx)("div",{className:"notification-container",children:a&&(0,he.jsx)("p",{className:"error-text",children:a})})]})]})}function kA(e){try{return new URL(e),!0}catch(t){return!1}}var Ki=X(ce(),1);function a_(){let e=ut();return(0,Ki.jsxs)("div",{className:"container",children:[(0,Ki.jsx)("h2",{className:"section-header",children:"Reset Store"}),(0,Ki.jsx)("p",{className:"description",children:"Reset the store to the initial state."}),(0,Ki.jsx)("button",{onClick:()=>{e.reset()},className:"button",children:"Reset Store"})]})}var Rn=X(pt(),1);var dt=X(ce(),1);function c_(){var d;let e=ut(),[t,r]=(0,Rn.useState)(""),[n,o]=(0,Rn.useState)(null),[s,i]=(0,Rn.useState)(!1),[a,c]=(0,Rn.useState)(!1),[l,u]=(0,Rn.useState)(!1),f=()=>{if(n===null){if(t==="")e.update({share:null});else try{let h=qi(t);if(h===null)return;e.update({share:h})}catch(h){console.log(h),o("failed to decode package data")}c(!0),setTimeout(()=>c(!1),1500)}};return(0,Rn.useEffect)(()=>{try{e.data.share!==null?r(l_(e.data.share)):r("")}catch(h){r("")}},[e.data.share]),(0,Rn.useEffect)(()=>{if(t==="")o(null);else if(!t.startsWith("bfshare"))o('input must start with "bfshare"');else if(!_A(t))o("input contains invalid characters");else{let h=BA(t);o(h!==null?null:"failed to decode package data")}},[t]),(0,dt.jsxs)("div",{className:"container",children:[(0,dt.jsx)("h2",{className:"section-header",children:"Share Package"}),(0,dt.jsx)("p",{className:"description",children:"Paste your encoded share string (starts with bfshare). It contains secret information about your signing share."}),(0,dt.jsxs)("div",{className:"content-container",children:[(0,dt.jsxs)("div",{className:"input-with-button",children:[(0,dt.jsx)("input",{type:s?"text":"password",value:t,onChange:h=>r(h.target.value.trim()),placeholder:"bfshare..."}),(0,dt.jsxs)("div",{className:"input-actions",children:[(0,dt.jsx)("button",{className:"button",onClick:()=>i(!s),children:s?"hide":"show"}),(0,dt.jsx)("button",{className:"button",onClick:()=>u(!l),children:l?"stop scan":"scan"}),(0,dt.jsx)("button",{className:"button action-button ".concat(a?"saved-button":""),onClick:f,disabled:!EA(t,e.data.share)||n!==null,children:a?"Saved":"Save"})]})]}),l&&(0,dt.jsx)(qf,{onResult:h=>{r(h.trim()),u(!1)},onError:h=>{console.error("QR scan error:",h)}}),t!==""&&n===null&&s&&(0,dt.jsx)("pre",{className:"code-display",children:(d=CA(t))!=null?d:"invalid share package"}),(0,dt.jsx)("div",{className:"notification-container",children:n&&(0,dt.jsx)("p",{className:"error-text",children:n})})]})]})}function _A(e){return/^bfshare1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(e)}function EA(e,t){if(t===null)return e!=="";{let r=l_(t);return e!==r}}function l_(e){try{return e!==null?Hf(e):""}catch(t){return""}}function BA(e){try{return e!==""?qi(e):null}catch(t){return null}}function CA(e){try{let t=qi(e);return JSON.stringify(t,null,2)}catch(t){return null}}var Qr=X(ce(),1);function u_(){return(0,Qr.jsxs)(Qr.Fragment,{children:[(0,Qr.jsx)(n_,{}),(0,Qr.jsx)(c_,{}),(0,Qr.jsx)(s_,{}),(0,Qr.jsx)(i_,{}),(0,Qr.jsx)(a_,{})]})}var Ge=X(ce(),1);function d_(){let[e,t]=(0,f_.useState)("dashboard");return(0,Ge.jsxs)("div",{className:"tabs-container",children:[(0,Ge.jsx)("div",{className:"tabs-nav-wrapper",children:(0,Ge.jsxs)("div",{className:"tabs-navigation",children:[(0,Ge.jsxs)("button",{className:"tab-button ".concat(e==="dashboard"?"active":""),onClick:()=>t("dashboard"),children:[(0,Ge.jsx)(Qk,{}),(0,Ge.jsx)("span",{children:"Dashboard"})]}),(0,Ge.jsxs)("button",{className:"tab-button ".concat(e==="settings"?"active":""),onClick:()=>t("settings"),children:[(0,Ge.jsx)(Gk,{}),(0,Ge.jsx)("span",{children:"Settings"})]})]})}),(0,Ge.jsxs)("div",{className:"tab-content",children:[e==="dashboard"&&(0,Ge.jsxs)("div",{className:"tab-panel",children:[(0,Ge.jsx)(Zk,{}),(0,Ge.jsx)(Xk,{}),(0,Ge.jsx)(Wk,{})]}),e==="settings"&&(0,Ge.jsx)("div",{className:"tab-panel",children:(0,Ge.jsx)(u_,{})})]})]})}var kc=X(ce(),1);function p_(){let e=ut();return(0,h_.useEffect)(()=>{try{let{relays:t,group:r}=e.data,n=new URLSearchParams(window.location.search),o=n.get("g"),s=n.getAll("r");for(let i of s)t.some(a=>a.url===i)||t.push({url:i,read:!0,write:!0});r===null&&o!==null&&(r=To(o)),e.update({group:r,relays:t})}catch(t){console.error(t)}},[]),(0,kc.jsxs)("div",{className:"app",children:[(0,kc.jsx)(qk,{}),(0,kc.jsx)(d_,{})]})}var X0=document.createElement("link");X0.rel="stylesheet";X0.href="styles/global.css";document.head.appendChild(X0);var J0=document.createElement("link");J0.rel="stylesheet";J0.href="styles/layout.css";document.head.appendChild(J0);var eg=document.createElement("link");eg.rel="stylesheet";eg.href="styles/node.css";document.head.appendChild(eg);var tg=document.createElement("link");tg.rel="stylesheet";tg.href="styles/settings.css";document.head.appendChild(tg);var _c=X(ce(),1),y_=document.getElementById("root");if(!y_)throw new Error("[ app ] root container not found");var SA=(0,g_.createRoot)(y_);SA.render((0,_c.jsx)(m_.StrictMode,{children:(0,_c.jsx)(zk,{children:(0,_c.jsx)($k,{children:(0,_c.jsx)(p_,{})})})}));
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=app.js.map
