var x_=Object.create;var Bc=Object.defineProperty,b_=Object.defineProperties,k_=Object.getOwnPropertyDescriptor,__=Object.getOwnPropertyDescriptors,E_=Object.getOwnPropertyNames,Ec=Object.getOwnPropertySymbols,B_=Object.getPrototypeOf,Zf=Object.prototype.hasOwnProperty,rg=Object.prototype.propertyIsEnumerable;var Wf=(e,t,n)=>t in e?Bc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))Zf.call(t,n)&&Wf(e,n,t[n]);if(Ec)for(var n of Ec(t))rg.call(t,n)&&Wf(e,n,t[n]);return e},L=(e,t)=>b_(e,__(t));var Cc=(e,t)=>{var n={};for(var r in e)Zf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ec)for(var r of Ec(e))t.indexOf(r)<0&&rg.call(e,r)&&(n[r]=e[r]);return n};var C_=(e,t)=>()=>(e&&(t=e(e=0)),t);var Jn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ur=(e,t)=>{for(var n in t)Bc(e,n,{get:t[n],enumerable:!0})},S_=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E_(t))!Zf.call(e,o)&&o!==n&&Bc(e,o,{get:()=>t[o],enumerable:!(r=k_(t,o))||r.enumerable});return e};var X=(e,t,n)=>(n=e!=null?x_(B_(e)):{},S_(t||!e||!e.__esModule?Bc(n,"default",{value:e,enumerable:!0}):n,e));var ee=(e,t,n)=>Wf(e,typeof t!="symbol"?t+"":t,n);var mg=Jn(ie=>{"use strict";var Gi=Symbol.for("react.element"),P_=Symbol.for("react.portal"),T_=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),N_=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),O_=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),M_=Symbol.for("react.memo"),U_=Symbol.for("react.lazy"),og=Symbol.iterator;function z_(e){return e===null||typeof e!="object"?null:(e=og&&e[og]||e["@@iterator"],typeof e=="function"?e:null)}var ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cg=Object.assign,lg={};function Os(e,t,n){this.props=e,this.context=t,this.refs=lg,this.updater=n||ag}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ug(){}ug.prototype=Os.prototype;function Kf(e,t,n){this.props=e,this.context=t,this.refs=lg,this.updater=n||ag}var Gf=Kf.prototype=new ug;Gf.constructor=Kf;cg(Gf,Os.prototype);Gf.isPureReactComponent=!0;var sg=Array.isArray,fg=Object.prototype.hasOwnProperty,Qf={current:null},dg={key:!0,ref:!0,__self:!0,__source:!0};function hg(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)fg.call(t,r)&&!dg.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Gi,type:e,key:s,ref:i,props:o,_owner:Qf.current}}function j_(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function H_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ig=/\/+/g;function Ff(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H_(""+e.key):t.toString(36)}function Pc(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gi:case P_:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Ff(i,0):r,sg(o)?(n="",e!=null&&(n=e.replace(ig,"$&/")+"/"),Pc(o,t,n,"",function(l){return l})):o!=null&&(Yf(o)&&(o=j_(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(ig,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",sg(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+Ff(s,a);i+=Pc(s,t,n,c,o)}else if(c=z_(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+Ff(s,a++),i+=Pc(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Sc(e,t,n){if(e==null)return e;var r=[],o=0;return Pc(e,r,"","",function(s){return t.call(n,s,o++)}),r}function D_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Tc={transition:null},$_={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Tc,ReactCurrentOwner:Qf};function pg(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Sc,forEach:function(e,t,n){Sc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sc(e,function(){t++}),t},toArray:function(e){return Sc(e,function(t){return t})||[]},only:function(e){if(!Yf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Os;ie.Fragment=T_;ie.Profiler=N_;ie.PureComponent=Kf;ie.StrictMode=A_;ie.Suspense=R_;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;ie.act=pg;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cg({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Qf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)fg.call(t,c)&&!dg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Gi,type:e.type,key:o,ref:s,props:r,_owner:i}};ie.createContext=function(e){return e={$$typeof:L_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I_,_context:e},e.Consumer=e};ie.createElement=hg;ie.createFactory=function(e){var t=hg.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:O_,render:e}};ie.isValidElement=Yf;ie.lazy=function(e){return{$$typeof:U_,_payload:{_status:-1,_result:e},_init:D_}};ie.memo=function(e,t){return{$$typeof:M_,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Tc.transition;Tc.transition={};try{e()}finally{Tc.transition=t}};ie.unstable_act=pg;ie.useCallback=function(e,t){return mt.current.useCallback(e,t)};ie.useContext=function(e){return mt.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};ie.useEffect=function(e,t){return mt.current.useEffect(e,t)};ie.useId=function(){return mt.current.useId()};ie.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return mt.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};ie.useRef=function(e){return mt.current.useRef(e)};ie.useState=function(e){return mt.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return mt.current.useTransition()};ie.version="18.3.1"});var rt=Jn((IA,gg)=>{"use strict";gg.exports=mg()});var Cg=Jn(we=>{"use strict";function td(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<Ac(o,t))e[r]=t,e[n]=o,n=r;else break e}}function pn(e){return e.length===0?null:e[0]}function Ic(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var i=2*(r+1)-1,a=e[i],c=i+1,l=e[c];if(0>Ac(a,n))c<o&&0>Ac(l,a)?(e[r]=l,e[c]=n,r=c):(e[r]=a,e[i]=n,r=i);else if(c<o&&0>Ac(l,n))e[r]=l,e[c]=n,r=c;else break e}}return t}function Ac(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(yg=performance,we.unstable_now=function(){return yg.now()}):(Xf=Date,wg=Xf.now(),we.unstable_now=function(){return Xf.now()-wg});var yg,Xf,wg,Ln=[],zr=[],V_=1,Gt=null,ot=3,Lc=!1,No=!1,Yi=!1,bg=typeof setTimeout=="function"?setTimeout:null,kg=typeof clearTimeout=="function"?clearTimeout:null,vg=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function nd(e){for(var t=pn(zr);t!==null;){if(t.callback===null)Ic(zr);else if(t.startTime<=e)Ic(zr),t.sortIndex=t.expirationTime,td(Ln,t);else break;t=pn(zr)}}function rd(e){if(Yi=!1,nd(e),!No)if(pn(Ln)!==null)No=!0,sd(od);else{var t=pn(zr);t!==null&&id(rd,t.startTime-e)}}function od(e,t){No=!1,Yi&&(Yi=!1,kg(Xi),Xi=-1),Lc=!0;var n=ot;try{for(nd(t),Gt=pn(Ln);Gt!==null&&(!(Gt.expirationTime>t)||e&&!Bg());){var r=Gt.callback;if(typeof r=="function"){Gt.callback=null,ot=Gt.priorityLevel;var o=r(Gt.expirationTime<=t);t=we.unstable_now(),typeof o=="function"?Gt.callback=o:Gt===pn(Ln)&&Ic(Ln),nd(t)}else Ic(Ln);Gt=pn(Ln)}if(Gt!==null)var s=!0;else{var i=pn(zr);i!==null&&id(rd,i.startTime-t),s=!1}return s}finally{Gt=null,ot=n,Lc=!1}}var Oc=!1,Nc=null,Xi=-1,_g=5,Eg=-1;function Bg(){return!(we.unstable_now()-Eg<_g)}function Jf(){if(Nc!==null){var e=we.unstable_now();Eg=e;var t=!0;try{t=Nc(!0,e)}finally{t?Qi():(Oc=!1,Nc=null)}}else Oc=!1}var Qi;typeof vg=="function"?Qi=function(){vg(Jf)}:typeof MessageChannel<"u"?(ed=new MessageChannel,xg=ed.port2,ed.port1.onmessage=Jf,Qi=function(){xg.postMessage(null)}):Qi=function(){bg(Jf,0)};var ed,xg;function sd(e){Nc=e,Oc||(Oc=!0,Qi())}function id(e,t){Xi=bg(function(){e(we.unstable_now())},t)}we.unstable_IdlePriority=5;we.unstable_ImmediatePriority=1;we.unstable_LowPriority=4;we.unstable_NormalPriority=3;we.unstable_Profiling=null;we.unstable_UserBlockingPriority=2;we.unstable_cancelCallback=function(e){e.callback=null};we.unstable_continueExecution=function(){No||Lc||(No=!0,sd(od))};we.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_g=0<e?Math.floor(1e3/e):5};we.unstable_getCurrentPriorityLevel=function(){return ot};we.unstable_getFirstCallbackNode=function(){return pn(Ln)};we.unstable_next=function(e){switch(ot){case 1:case 2:case 3:var t=3;break;default:t=ot}var n=ot;ot=t;try{return e()}finally{ot=n}};we.unstable_pauseExecution=function(){};we.unstable_requestPaint=function(){};we.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=ot;ot=e;try{return t()}finally{ot=n}};we.unstable_scheduleCallback=function(e,t,n){var r=we.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:V_++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,td(zr,e),pn(Ln)===null&&e===pn(zr)&&(Yi?(kg(Xi),Xi=-1):Yi=!0,id(rd,n-r))):(e.sortIndex=o,td(Ln,e),No||Lc||(No=!0,sd(od))),e};we.unstable_shouldYield=Bg;we.unstable_wrapCallback=function(e){var t=ot;return function(){var n=ot;ot=t;try{return e.apply(this,arguments)}finally{ot=n}}}});var Pg=Jn((OA,Sg)=>{"use strict";Sg.exports=Cg()});var Iw=Jn(Dt=>{"use strict";var q_=rt(),jt=Pg();function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ry=new Set,xa={};function qo(e,t){ti(e,t),ti(e+"Capture",t)}function ti(e,t){for(xa[e]=t,e=0;e<t.length;e++)Ry.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Td=Object.prototype.hasOwnProperty,W_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tg={},Ag={};function Z_(e){return Td.call(Ag,e)?!0:Td.call(Tg,e)?!1:W_.test(e)?Ag[e]=!0:(Tg[e]=!0,!1)}function F_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function K_(e,t,n,r){if(t===null||typeof t>"u"||F_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bh=/[\-:]([a-z])/g;function kh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bh,kh);Je[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bh,kh);Je[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bh,kh);Je[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _h(e,t,n,r){var o=Je.hasOwnProperty(t)?Je[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(K_(t,n,o,r)&&(n=null),r||o===null?Z_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var lr=q_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Us=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Eh=Symbol.for("react.strict_mode"),Ad=Symbol.for("react.profiler"),My=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),Bh=Symbol.for("react.forward_ref"),Nd=Symbol.for("react.suspense"),Id=Symbol.for("react.suspense_list"),Ch=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var zy=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Ng=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=Ng&&e[Ng]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,ad;function aa(e){if(ad===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ad=t&&t[1]||""}return"\n"+ad+e}var cd=!1;function ld(e,t){if(!e||cd)return"";cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var o=l.stack.split("\n"),s=r.stack.split("\n"),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var c="\n"+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{cd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?aa(e):""}function G_(e){switch(e.tag){case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return e=ld(e.type,!1),e;case 11:return e=ld(e.type.render,!1),e;case 1:return e=ld(e.type,!0),e;default:return""}}function Ld(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case Us:return"Portal";case Ad:return"Profiler";case Eh:return"StrictMode";case Nd:return"Suspense";case Id:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uy:return(e.displayName||"Context")+".Consumer";case My:return(e._context.displayName||"Context")+".Provider";case Bh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ch:return t=e.displayName||null,t!==null?t:Ld(e.type)||"Memo";case Hr:t=e._payload,e=e._init;try{return Ld(e(t))}catch(n){}}return null}function Q_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(t);case 8:return t===Eh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Y_(e){var t=jy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mc(e){e._valueTracker||(e._valueTracker=Y_(e))}function Hy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Od(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Ig(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=eo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dy(e,t){t=t.checked,t!=null&&_h(e,"checked",t,!1)}function Rd(e,t){Dy(e,t);var n=eo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Md(e,t.type,n):t.hasOwnProperty("defaultValue")&&Md(e,t.type,eo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Md(e,t,n){(t!=="number"||ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ca=Array.isArray;function Gs(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+eo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ud(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Og(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(ca(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:eo(n)}}function $y(e,t){var n=eo(t.value),r=eo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uc,qy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uc=Uc||document.createElement("div"),Uc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X_=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(e){X_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fa[t]=fa[e]})});function Wy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fa.hasOwnProperty(e)&&fa[e]?(""+t).trim():t+"px"}function Zy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Wy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var J_=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jd(e,t){if(t){if(J_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Hd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=null;function Sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $d=null,Qs=null,Ys=null;function Mg(e){if(e=ja(e)){if(typeof $d!="function")throw Error(R(280));var t=e.stateNode;t&&(t=zl(t),$d(e.stateNode,e.type,t))}}function Fy(e){Qs?Ys?Ys.push(e):Ys=[e]:Qs=e}function Ky(){if(Qs){var e=Qs,t=Ys;if(Ys=Qs=null,Mg(e),t)for(e=0;e<t.length;e++)Mg(t[e])}}function Gy(e,t){return e(t)}function Qy(){}var ud=!1;function Yy(e,t,n){if(ud)return e(t,n);ud=!0;try{return Gy(e,t,n)}finally{ud=!1,(Qs!==null||Ys!==null)&&(Qy(),Ky())}}function ka(e,t){var n=e.stateNode;if(n===null)return null;var r=zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Vd=!1;if(sr)try{Rs={},Object.defineProperty(Rs,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch(e){Vd=!1}var Rs;function e3(e,t,n,r,o,s,i,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var da=!1,fl=null,dl=!1,qd=null,t3={onError:function(e){da=!0,fl=e}};function n3(e,t,n,r,o,s,i,a,c){da=!1,fl=null,e3.apply(t3,arguments)}function r3(e,t,n,r,o,s,i,a,c){if(n3.apply(this,arguments),da){if(da){var l=fl;da=!1,fl=null}else throw Error(R(198));dl||(dl=!0,qd=l)}}function Wo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ug(e){if(Wo(e)!==e)throw Error(R(188))}function o3(e){var t=e.alternate;if(!t){if(t=Wo(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ug(o),e;if(s===r)return Ug(o),t;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Jy(e){return e=o3(e),e!==null?e1(e):null}function e1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e1(e);if(t!==null)return t;e=e.sibling}return null}var t1=jt.unstable_scheduleCallback,zg=jt.unstable_cancelCallback,s3=jt.unstable_shouldYield,i3=jt.unstable_requestPaint,Oe=jt.unstable_now,a3=jt.unstable_getCurrentPriorityLevel,Ph=jt.unstable_ImmediatePriority,n1=jt.unstable_UserBlockingPriority,hl=jt.unstable_NormalPriority,c3=jt.unstable_LowPriority,r1=jt.unstable_IdlePriority,Ol=null,Un=null;function l3(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch(t){}}var vn=Math.clz32?Math.clz32:d3,u3=Math.log,f3=Math.LN2;function d3(e){return e>>>=0,e===0?32:31-(u3(e)/f3|0)|0}var zc=64,jc=4194304;function la(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=la(a):(s&=i,s!==0&&(r=la(s)))}else i=n&~o,i!==0?r=la(i):s!==0&&(r=la(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vn(t),o=1<<n,r|=e[n],t&=~o;return r}function h3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-vn(s),a=1<<i,c=o[i];c===-1?((a&n)===0||(a&r)!==0)&&(o[i]=h3(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function Wd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o1(){var e=zc;return zc<<=1,(zc&4194240)===0&&(zc=64),e}function fd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ua(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vn(t),e[t]=n}function m3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-vn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Th(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var fe=0;function s1(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var i1,Ah,a1,c1,l1,Zd=!1,Hc=[],Zr=null,Fr=null,Kr=null,_a=new Map,Ea=new Map,$r=[],g3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jg(e,t){switch(e){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":_a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(t.pointerId)}}function ea(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=ja(t),t!==null&&Ah(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function y3(e,t,n,r,o){switch(t){case"focusin":return Zr=ea(Zr,e,t,n,r,o),!0;case"dragenter":return Fr=ea(Fr,e,t,n,r,o),!0;case"mouseover":return Kr=ea(Kr,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return _a.set(s,ea(_a.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Ea.set(s,ea(Ea.get(s)||null,e,t,n,r,o)),!0}return!1}function u1(e){var t=Oo(e.target);if(t!==null){var n=Wo(t);if(n!==null){if(t=n.tag,t===13){if(t=Xy(n),t!==null){e.blockedOn=t,l1(e.priority,function(){a1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dd=r,n.target.dispatchEvent(r),Dd=null}else return t=ja(n),t!==null&&Ah(t),e.blockedOn=n,!1;t.shift()}return!0}function Hg(e,t,n){el(e)&&n.delete(t)}function w3(){Zd=!1,Zr!==null&&el(Zr)&&(Zr=null),Fr!==null&&el(Fr)&&(Fr=null),Kr!==null&&el(Kr)&&(Kr=null),_a.forEach(Hg),Ea.forEach(Hg)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,w3)))}function Ba(e){function t(o){return ta(o,e)}if(0<Hc.length){ta(Hc[0],e);for(var n=1;n<Hc.length;n++){var r=Hc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zr!==null&&ta(Zr,e),Fr!==null&&ta(Fr,e),Kr!==null&&ta(Kr,e),_a.forEach(t),Ea.forEach(t),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)u1(n),n.blockedOn===null&&$r.shift()}var Xs=lr.ReactCurrentBatchConfig,ml=!0;function v3(e,t,n,r){var o=fe,s=Xs.transition;Xs.transition=null;try{fe=1,Nh(e,t,n,r)}finally{fe=o,Xs.transition=s}}function x3(e,t,n,r){var o=fe,s=Xs.transition;Xs.transition=null;try{fe=4,Nh(e,t,n,r)}finally{fe=o,Xs.transition=s}}function Nh(e,t,n,r){if(ml){var o=Fd(e,t,n,r);if(o===null)wd(e,t,r,gl,n),jg(e,r);else if(y3(o,e,t,n,r))r.stopPropagation();else if(jg(e,r),t&4&&-1<g3.indexOf(e)){for(;o!==null;){var s=ja(o);if(s!==null&&i1(s),s=Fd(e,t,n,r),s===null&&wd(e,t,r,gl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else wd(e,t,r,null,n)}}var gl=null;function Fd(e,t,n,r){if(gl=null,e=Sh(r),e=Oo(e),e!==null)if(t=Wo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function f1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a3()){case Ph:return 1;case n1:return 4;case hl:case c3:return 16;case r1:return 536870912;default:return 16}default:return 16}}var qr=null,Ih=null,tl=null;function d1(){if(tl)return tl;var e,t=Ih,n=t.length,r,o="value"in qr?qr.value:qr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return tl=o.slice(e,1<r?1-r:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dc(){return!0}function Dg(){return!1}function Ht(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dc:Dg,this.isPropagationStopped=Dg,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),t}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lh=Ht(ci),za=Pe({},ci,{view:0,detail:0}),b3=Ht(za),dd,hd,na,Rl=Pe({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(dd=e.screenX-na.screenX,hd=e.screenY-na.screenY):hd=dd=0,na=e),dd)},movementY:function(e){return"movementY"in e?e.movementY:hd}}),$g=Ht(Rl),k3=Pe({},Rl,{dataTransfer:0}),_3=Ht(k3),E3=Pe({},za,{relatedTarget:0}),pd=Ht(E3),B3=Pe({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),C3=Ht(B3),S3=Pe({},ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P3=Ht(S3),T3=Pe({},ci,{data:0}),Vg=Ht(T3),A3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I3[e])?!!t[e]:!1}function Oh(){return L3}var O3=Pe({},za,{key:function(e){if(e.key){var t=A3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oh,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R3=Ht(O3),M3=Pe({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qg=Ht(M3),U3=Pe({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oh}),z3=Ht(U3),j3=Pe({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),H3=Ht(j3),D3=Pe({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$3=Ht(D3),V3=[9,13,27,32],Rh=sr&&"CompositionEvent"in window,ha=null;sr&&"documentMode"in document&&(ha=document.documentMode);var q3=sr&&"TextEvent"in window&&!ha,h1=sr&&(!Rh||ha&&8<ha&&11>=ha),Wg=" ",Zg=!1;function p1(e,t){switch(e){case"keyup":return V3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function W3(e,t){switch(e){case"compositionend":return m1(t);case"keypress":return t.which!==32?null:(Zg=!0,Wg);case"textInput":return e=t.data,e===Wg&&Zg?null:e;default:return null}}function Z3(e,t){if(js)return e==="compositionend"||!Rh&&p1(e,t)?(e=d1(),tl=Ih=qr=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h1&&t.locale!=="ko"?null:t.data;default:return null}}var F3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F3[e.type]:t==="textarea"}function g1(e,t,n,r){Fy(r),t=yl(t,"onChange"),0<t.length&&(n=new Lh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pa=null,Ca=null;function K3(e){S1(e,0)}function Ml(e){var t=$s(e);if(Hy(t))return e}function G3(e,t){if(e==="change")return t}var y1=!1;sr&&(sr?(Vc="oninput"in document,Vc||(md=document.createElement("div"),md.setAttribute("oninput","return;"),Vc=typeof md.oninput=="function"),$c=Vc):$c=!1,y1=$c&&(!document.documentMode||9<document.documentMode));var $c,Vc,md;function Kg(){pa&&(pa.detachEvent("onpropertychange",w1),Ca=pa=null)}function w1(e){if(e.propertyName==="value"&&Ml(Ca)){var t=[];g1(t,Ca,e,Sh(e)),Yy(K3,t)}}function Q3(e,t,n){e==="focusin"?(Kg(),pa=t,Ca=n,pa.attachEvent("onpropertychange",w1)):e==="focusout"&&Kg()}function Y3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(Ca)}function X3(e,t){if(e==="click")return Ml(t)}function J3(e,t){if(e==="input"||e==="change")return Ml(t)}function eE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:eE;function Sa(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Td.call(t,o)||!bn(e[o],t[o]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,t){var n=Gg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gg(n)}}function v1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?v1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x1(){for(var e=window,t=ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=ul(e.document)}return t}function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tE(e){var t=x1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&v1(n.ownerDocument.documentElement,n)){if(r!==null&&Mh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Qg(n,s);var i=Qg(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nE=sr&&"documentMode"in document&&11>=document.documentMode,Hs=null,Kd=null,ma=null,Gd=!1;function Yg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gd||Hs==null||Hs!==ul(r)||(r=Hs,"selectionStart"in r&&Mh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ma&&Sa(ma,r)||(ma=r,r=yl(Kd,"onSelect"),0<r.length&&(t=new Lh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hs)))}function qc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ds={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},gd={},b1={};sr&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Ul(e){if(gd[e])return gd[e];if(!Ds[e])return e;var t=Ds[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in b1)return gd[e]=t[n];return e}var k1=Ul("animationend"),_1=Ul("animationiteration"),E1=Ul("animationstart"),B1=Ul("transitionend"),C1=new Map,Xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(e,t){C1.set(e,t),qo(t,[e])}for(Wc=0;Wc<Xg.length;Wc++)Zc=Xg[Wc],Jg=Zc.toLowerCase(),ey=Zc[0].toUpperCase()+Zc.slice(1),no(Jg,"on"+ey);var Zc,Jg,ey,Wc;no(k1,"onAnimationEnd");no(_1,"onAnimationIteration");no(E1,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(B1,"onTransitionEnd");ti("onMouseEnter",["mouseout","mouseover"]);ti("onMouseLeave",["mouseout","mouseover"]);ti("onPointerEnter",["pointerout","pointerover"]);ti("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function ty(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,r3(r,t,void 0,e),e.currentTarget=null}function S1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&o.isPropagationStopped())break e;ty(o,a,l),s=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&o.isPropagationStopped())break e;ty(o,a,l),s=c}}}if(dl)throw e=qd,dl=!1,qd=null,e}function xe(e,t){var n=t[eh];n===void 0&&(n=t[eh]=new Set);var r=e+"__bubble";n.has(r)||(P1(t,e,2,!1),n.add(r))}function yd(e,t,n){var r=0;t&&(r|=4),P1(n,e,r,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Pa(e){if(!e[Fc]){e[Fc]=!0,Ry.forEach(function(n){n!=="selectionchange"&&(rE.has(n)||yd(n,!1,e),yd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fc]||(t[Fc]=!0,yd("selectionchange",!1,t))}}function P1(e,t,n,r){switch(f1(t)){case 1:var o=v3;break;case 4:o=x3;break;default:o=Nh}n=o.bind(null,t,n,e),o=void 0,!Vd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function wd(e,t,n,r,o){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Oo(a),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}a=a.parentNode}}r=r.return}Yy(function(){var l=s,u=Sh(n),f=[];e:{var d=C1.get(e);if(d!==void 0){var h=Lh,y=e;switch(e){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":h=R3;break;case"focusin":y="focus",h=pd;break;case"focusout":y="blur",h=pd;break;case"beforeblur":case"afterblur":h=pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=z3;break;case k1:case _1:case E1:h=C3;break;case B1:h=H3;break;case"scroll":h=b3;break;case"wheel":h=$3;break;case"copy":case"cut":case"paste":h=P3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=qg}var p=(t&4)!==0,v=!p&&e==="scroll",g=p?d!==null?d+"Capture":null:d;p=[];for(var m=l,w;m!==null;){w=m;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=ka(m,g),x!=null&&p.push(Ta(m,x,w)))),v)break;m=m.return}0<p.length&&(d=new h(d,y,null,n,u),f.push({event:d,listeners:p}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Dd&&(y=n.relatedTarget||n.fromElement)&&(Oo(y)||y[ir]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=l,y=y?Oo(y):null,y!==null&&(v=Wo(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=l),h!==y)){if(p=$g,x="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(p=qg,x="onPointerLeave",g="onPointerEnter",m="pointer"),v=h==null?d:$s(h),w=y==null?d:$s(y),d=new p(x,m+"leave",h,n,u),d.target=v,d.relatedTarget=w,x=null,Oo(u)===l&&(p=new p(g,m+"enter",y,n,u),p.target=w,p.relatedTarget=v,x=p),v=x,h&&y)t:{for(p=h,g=y,m=0,w=p;w;w=Ms(w))m++;for(w=0,x=g;x;x=Ms(x))w++;for(;0<m-w;)p=Ms(p),m--;for(;0<w-m;)g=Ms(g),w--;for(;m--;){if(p===g||g!==null&&p===g.alternate)break t;p=Ms(p),g=Ms(g)}p=null}else p=null;h!==null&&ny(f,d,h,p,!1),y!==null&&v!==null&&ny(f,v,y,p,!0)}}e:{if(d=l?$s(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var k=G3;else if(Fg(d))if(y1)k=J3;else{k=Y3;var _=Q3}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=X3);if(k&&(k=k(e,l))){g1(f,k,n,u);break e}_&&_(e,d,l),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Md(d,"number",d.value)}switch(_=l?$s(l):window,e){case"focusin":(Fg(_)||_.contentEditable==="true")&&(Hs=_,Kd=l,ma=null);break;case"focusout":ma=Kd=Hs=null;break;case"mousedown":Gd=!0;break;case"contextmenu":case"mouseup":case"dragend":Gd=!1,Yg(f,n,u);break;case"selectionchange":if(nE)break;case"keydown":case"keyup":Yg(f,n,u)}var C;if(Rh)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else js?p1(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(h1&&n.locale!=="ko"&&(js||S!=="onCompositionStart"?S==="onCompositionEnd"&&js&&(C=d1()):(qr=u,Ih="value"in qr?qr.value:qr.textContent,js=!0)),_=yl(l,S),0<_.length&&(S=new Vg(S,e,null,n,u),f.push({event:S,listeners:_}),C?S.data=C:(C=m1(n),C!==null&&(S.data=C)))),(C=q3?W3(e,n):Z3(e,n))&&(l=yl(l,"onBeforeInput"),0<l.length&&(u=new Vg("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:l}),u.data=C))}S1(f,t)})}function Ta(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ka(e,n),s!=null&&r.unshift(Ta(e,s,o)),s=ka(e,t),s!=null&&r.push(Ta(e,s,o))),e=e.return}return r}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ny(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,o?(c=ka(n,s),c!=null&&i.unshift(Ta(n,c,a))):o||(c=ka(n,s),c!=null&&i.push(Ta(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var oE=/\r\n?/g,sE=/\u0000|\uFFFD/g;function ry(e){return(typeof e=="string"?e:""+e).replace(oE,"\n").replace(sE,"")}function Kc(e,t,n){if(t=ry(t),ry(e)!==t&&n)throw Error(R(425))}function wl(){}var Qd=null,Yd=null;function Xd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jd=typeof setTimeout=="function"?setTimeout:void 0,iE=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(e){return oy.resolve(null).then(e).catch(cE)}:Jd;function cE(e){setTimeout(function(){throw e})}function vd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ba(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ba(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),Mn="__reactFiber$"+li,Aa="__reactProps$"+li,ir="__reactContainer$"+li,eh="__reactEvents$"+li,lE="__reactListeners$"+li,uE="__reactHandles$"+li;function Oo(e){var t=e[Mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ir]||n[Mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sy(e);e!==null;){if(n=e[Mn])return n;e=sy(e)}return t}e=n,n=e.parentNode}return null}function ja(e){return e=e[Mn]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function zl(e){return e[Aa]||null}var th=[],Vs=-1;function ro(e){return{current:e}}function be(e){0>Vs||(e.current=th[Vs],th[Vs]=null,Vs--)}function ve(e,t){Vs++,th[Vs]=e.current,e.current=t}var to={},ct=ro(to),St=ro(!1),jo=to;function ni(e,t){var n=e.type.contextTypes;if(!n)return to;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pt(e){return e=e.childContextTypes,e!=null}function vl(){be(St),be(ct)}function iy(e,t,n){if(ct.current!==to)throw Error(R(168));ve(ct,t),ve(St,n)}function T1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(R(108,Q_(e)||"Unknown",o));return Pe({},n,r)}function xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||to,jo=ct.current,ve(ct,e),ve(St,St.current),!0}function ay(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=T1(e,t,jo),r.__reactInternalMemoizedMergedChildContext=e,be(St),be(ct),ve(ct,e)):be(St),ve(St,n)}var tr=null,jl=!1,xd=!1;function A1(e){tr===null?tr=[e]:tr.push(e)}function fE(e){jl=!0,A1(e)}function oo(){if(!xd&&tr!==null){xd=!0;var e=0,t=fe;try{var n=tr;for(fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tr=null,jl=!1}catch(o){throw tr!==null&&(tr=tr.slice(e+1)),t1(Ph,oo),o}finally{fe=t,xd=!1}}return null}var qs=[],Ws=0,bl=null,kl=0,Qt=[],Yt=0,Ho=null,nr=1,rr="";function Io(e,t){qs[Ws++]=kl,qs[Ws++]=bl,bl=e,kl=t}function N1(e,t,n){Qt[Yt++]=nr,Qt[Yt++]=rr,Qt[Yt++]=Ho,Ho=e;var r=nr;e=rr;var o=32-vn(r)-1;r&=~(1<<o),n+=1;var s=32-vn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,nr=1<<32-vn(t)+o|n<<o|r,rr=s+e}else nr=1<<s|n<<o|r,rr=e}function Uh(e){e.return!==null&&(Io(e,1),N1(e,1,0))}function zh(e){for(;e===bl;)bl=qs[--Ws],qs[Ws]=null,kl=qs[--Ws],qs[Ws]=null;for(;e===Ho;)Ho=Qt[--Yt],Qt[Yt]=null,rr=Qt[--Yt],Qt[Yt]=null,nr=Qt[--Yt],Qt[Yt]=null}var zt=null,Ut=null,_e=!1,wn=null;function I1(e,t){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Ut=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ho!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zt=e,Ut=null,!0):!1;default:return!1}}function nh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rh(e){if(_e){var t=Ut;if(t){var n=t;if(!cy(e,t)){if(nh(e))throw Error(R(418));t=Gr(n.nextSibling);var r=zt;t&&cy(e,t)?I1(r,n):(e.flags=e.flags&-4097|2,_e=!1,zt=e)}}else{if(nh(e))throw Error(R(418));e.flags=e.flags&-4097|2,_e=!1,zt=e}}}function ly(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function Gc(e){if(e!==zt)return!1;if(!_e)return ly(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xd(e.type,e.memoizedProps)),t&&(t=Ut)){if(nh(e))throw L1(),Error(R(418));for(;t;)I1(e,t),t=Gr(t.nextSibling)}if(ly(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=zt?Gr(e.stateNode.nextSibling):null;return!0}function L1(){for(var e=Ut;e;)e=Gr(e.nextSibling)}function ri(){Ut=zt=null,_e=!1}function jh(e){wn===null?wn=[e]:wn.push(e)}var dE=lr.ReactCurrentBatchConfig;function ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Qc(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uy(e){var t=e._init;return t(e._payload)}function O1(e){function t(g,m){if(e){var w=g.deletions;w===null?(g.deletions=[m],g.flags|=16):w.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function o(g,m){return g=Jr(g,m),g.index=0,g.sibling=null,g}function s(g,m,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<m?(g.flags|=2,m):w):(g.flags|=2,m)):(g.flags|=1048576,m)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,w,x){return m===null||m.tag!==6?(m=Sd(w,g.mode,x),m.return=g,m):(m=o(m,w),m.return=g,m)}function c(g,m,w,x){var k=w.type;return k===zs?u(g,m,w.props.children,x,w.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hr&&uy(k)===m.type)?(x=o(m,w.props),x.ref=ra(g,m,w),x.return=g,x):(x=ll(w.type,w.key,w.props,null,g.mode,x),x.ref=ra(g,m,w),x.return=g,x)}function l(g,m,w,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Pd(w,g.mode,x),m.return=g,m):(m=o(m,w.children||[]),m.return=g,m)}function u(g,m,w,x,k){return m===null||m.tag!==7?(m=zo(w,g.mode,x,k),m.return=g,m):(m=o(m,w),m.return=g,m)}function f(g,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Sd(""+m,g.mode,w),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rc:return w=ll(m.type,m.key,m.props,null,g.mode,w),w.ref=ra(g,null,m),w.return=g,w;case Us:return m=Pd(m,g.mode,w),m.return=g,m;case Hr:var x=m._init;return f(g,x(m._payload),w)}if(ca(m)||Ji(m))return m=zo(m,g.mode,w,null),m.return=g,m;Qc(g,m)}return null}function d(g,m,w,x){var k=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(g,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rc:return w.key===k?c(g,m,w,x):null;case Us:return w.key===k?l(g,m,w,x):null;case Hr:return k=w._init,d(g,m,k(w._payload),x)}if(ca(w)||Ji(w))return k!==null?null:u(g,m,w,x,null);Qc(g,w)}return null}function h(g,m,w,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,a(m,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rc:return g=g.get(x.key===null?w:x.key)||null,c(m,g,x,k);case Us:return g=g.get(x.key===null?w:x.key)||null,l(m,g,x,k);case Hr:var _=x._init;return h(g,m,w,_(x._payload),k)}if(ca(x)||Ji(x))return g=g.get(w)||null,u(m,g,x,k,null);Qc(m,x)}return null}function y(g,m,w,x){for(var k=null,_=null,C=m,S=m=0,M=null;C!==null&&S<w.length;S++){C.index>S?(M=C,C=null):M=C.sibling;var A=d(g,C,w[S],x);if(A===null){C===null&&(C=M);break}e&&C&&A.alternate===null&&t(g,C),m=s(A,m,S),_===null?k=A:_.sibling=A,_=A,C=M}if(S===w.length)return n(g,C),_e&&Io(g,S),k;if(C===null){for(;S<w.length;S++)C=f(g,w[S],x),C!==null&&(m=s(C,m,S),_===null?k=C:_.sibling=C,_=C);return _e&&Io(g,S),k}for(C=r(g,C);S<w.length;S++)M=h(C,g,S,w[S],x),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?S:M.key),m=s(M,m,S),_===null?k=M:_.sibling=M,_=M);return e&&C.forEach(function(I){return t(g,I)}),_e&&Io(g,S),k}function p(g,m,w,x){var k=Ji(w);if(typeof k!="function")throw Error(R(150));if(w=k.call(w),w==null)throw Error(R(151));for(var _=k=null,C=m,S=m=0,M=null,A=w.next();C!==null&&!A.done;S++,A=w.next()){C.index>S?(M=C,C=null):M=C.sibling;var I=d(g,C,A.value,x);if(I===null){C===null&&(C=M);break}e&&C&&I.alternate===null&&t(g,C),m=s(I,m,S),_===null?k=I:_.sibling=I,_=I,C=M}if(A.done)return n(g,C),_e&&Io(g,S),k;if(C===null){for(;!A.done;S++,A=w.next())A=f(g,A.value,x),A!==null&&(m=s(A,m,S),_===null?k=A:_.sibling=A,_=A);return _e&&Io(g,S),k}for(C=r(g,C);!A.done;S++,A=w.next())A=h(C,g,S,A.value,x),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?S:A.key),m=s(A,m,S),_===null?k=A:_.sibling=A,_=A);return e&&C.forEach(function(H){return t(g,H)}),_e&&Io(g,S),k}function v(g,m,w,x){if(typeof w=="object"&&w!==null&&w.type===zs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Rc:e:{for(var k=w.key,_=m;_!==null;){if(_.key===k){if(k=w.type,k===zs){if(_.tag===7){n(g,_.sibling),m=o(_,w.props.children),m.return=g,g=m;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hr&&uy(k)===_.type){n(g,_.sibling),m=o(_,w.props),m.ref=ra(g,_,w),m.return=g,g=m;break e}n(g,_);break}else t(g,_);_=_.sibling}w.type===zs?(m=zo(w.props.children,g.mode,x,w.key),m.return=g,g=m):(x=ll(w.type,w.key,w.props,null,g.mode,x),x.ref=ra(g,m,w),x.return=g,g=x)}return i(g);case Us:e:{for(_=w.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(g,m.sibling),m=o(m,w.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Pd(w,g.mode,x),m.return=g,g=m}return i(g);case Hr:return _=w._init,v(g,m,_(w._payload),x)}if(ca(w))return y(g,m,w,x);if(Ji(w))return p(g,m,w,x);Qc(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(g,m.sibling),m=o(m,w),m.return=g,g=m):(n(g,m),m=Sd(w,g.mode,x),m.return=g,g=m),i(g)):n(g,m)}return v}var oi=O1(!0),R1=O1(!1),_l=ro(null),El=null,Zs=null,Hh=null;function Dh(){Hh=Zs=El=null}function $h(e){var t=_l.current;be(_l),e._currentValue=t}function oh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Js(e,t){El=e,Hh=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(Hh!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(El===null)throw Error(R(308));Zs=e,El.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var Ro=null;function Vh(e){Ro===null?Ro=[e]:Ro.push(e)}function M1(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Vh(t)):(n.next=o.next,o.next=n),t.interleaved=n,ar(e,r)}function ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dr=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(le&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ar(e,n)}return o=r.interleaved,o===null?(t.next=t,Vh(r)):(t.next=o.next,o.next=t),r.interleaved=t,ar(e,n)}function rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Th(e,n)}}function fy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bl(e,t,n,r){var o=e.updateQueue;Dr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,l=c.next;c.next=null,i===null?s=l:i.next=l,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;i=0,u=l=c=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,p=a;switch(d=t,h=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=Pe({},f,d);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,i|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(u===null&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);$o|=i,e.lanes=i,e.memoizedState=f}}function dy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(R(191,o));o.call(r)}}}var Ha={},zn=ro(Ha),Na=ro(Ha),Ia=ro(Ha);function Mo(e){if(e===Ha)throw Error(R(174));return e}function Wh(e,t){switch(ve(Ia,t),ve(Na,e),ve(zn,Ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zd(t,e)}be(zn),ve(zn,t)}function si(){be(zn),be(Na),be(Ia)}function z1(e){Mo(Ia.current);var t=Mo(zn.current),n=zd(t,e.type);t!==n&&(ve(Na,e),ve(zn,n))}function Zh(e){Na.current===e&&(be(zn),be(Na))}var Ce=ro(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bd=[];function Fh(){for(var e=0;e<bd.length;e++)bd[e]._workInProgressVersionPrimary=null;bd.length=0}var ol=lr.ReactCurrentDispatcher,kd=lr.ReactCurrentBatchConfig,Do=0,Se=null,He=null,Fe=null,Sl=!1,ga=!1,La=0,hE=0;function st(){throw Error(R(321))}function Kh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function Gh(e,t,n,r,o,s){if(Do=s,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?yE:wE,e=n(r,o),ga){s=0;do{if(ga=!1,La=0,25<=s)throw Error(R(301));s+=1,Fe=He=null,t.updateQueue=null,ol.current=vE,e=n(r,o)}while(ga)}if(ol.current=Pl,t=He!==null&&He.next!==null,Do=0,Fe=He=Se=null,Sl=!1,t)throw Error(R(300));return e}function Qh(){var e=La!==0;return La=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Se.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function tn(){if(He===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Fe===null?Se.memoizedState:Fe.next;if(t!==null)Fe=t,He=e;else{if(e===null)throw Error(R(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Fe===null?Se.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Oa(e,t){return typeof t=="function"?t(e):t}function _d(e){var t=tn(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=He,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,c=null,l=s;do{var u=l.lane;if((Do&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,Se.lanes|=u,$o|=u}l=l.next}while(l!==null&&l!==s);c===null?i=r:c.next=a,bn(r,t.memoizedState)||(Ct=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Se.lanes|=s,$o|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ed(e){var t=tn(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);bn(s,t.memoizedState)||(Ct=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function j1(){}function H1(e,t){var n=Se,r=tn(),o=t(),s=!bn(r.memoizedState,o);if(s&&(r.memoizedState=o,Ct=!0),r=r.queue,Yh(V1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Ra(9,$1.bind(null,n,r,o,t),void 0,null),Ke===null)throw Error(R(349));(Do&30)!==0||D1(n,t,o)}return o}function D1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $1(e,t,n,r){t.value=n,t.getSnapshot=r,q1(t)&&W1(e)}function V1(e,t,n){return n(function(){q1(t)&&W1(e)})}function q1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch(r){return!0}}function W1(e){var t=ar(e,1);t!==null&&xn(t,e,1,-1)}function hy(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t.queue=e,e=e.dispatch=gE.bind(null,Se,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Z1(){return tn().memoizedState}function sl(e,t,n,r){var o=Rn();Se.flags|=e,o.memoizedState=Ra(1|t,n,void 0,r===void 0?null:r)}function Hl(e,t,n,r){var o=tn();r=r===void 0?null:r;var s=void 0;if(He!==null){var i=He.memoizedState;if(s=i.destroy,r!==null&&Kh(r,i.deps)){o.memoizedState=Ra(t,n,s,r);return}}Se.flags|=e,o.memoizedState=Ra(1|t,n,s,r)}function py(e,t){return sl(8390656,8,e,t)}function Yh(e,t){return Hl(2048,8,e,t)}function F1(e,t){return Hl(4,2,e,t)}function K1(e,t){return Hl(4,4,e,t)}function G1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Q1(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4,4,G1.bind(null,t,e),n)}function Xh(){}function Y1(e,t){var n=tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function X1(e,t){var n=tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function J1(e,t,n){return(Do&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=n):(bn(n,t)||(n=o1(),Se.lanes|=n,$o|=n,e.baseState=!0),t)}function pE(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var r=kd.transition;kd.transition={};try{e(!1),t()}finally{fe=n,kd.transition=r}}function ew(){return tn().memoizedState}function mE(e,t,n){var r=Xr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tw(e))nw(t,n);else if(n=M1(e,t,n,r),n!==null){var o=yt();xn(n,e,r,o),rw(n,t,r)}}function gE(e,t,n){var r=Xr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tw(e))nw(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,bn(a,i)){var c=t.interleaved;c===null?(o.next=o,Vh(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch(l){}finally{}n=M1(e,t,o,r),n!==null&&(o=yt(),xn(n,e,r,o),rw(n,t,r))}}function tw(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function nw(e,t){ga=Sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rw(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Th(e,n)}}var Pl={readContext:en,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},yE={readContext:en,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:py,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sl(4194308,4,G1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var n=Rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mE.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:hy,useDebugValue:Xh,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=hy(!1),t=e[0];return e=pE.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,o=Rn();if(_e){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ke===null)throw Error(R(349));(Do&30)!==0||D1(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,py(V1.bind(null,r,s,e),[e]),r.flags|=2048,Ra(9,$1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Rn(),t=Ke.identifierPrefix;if(_e){var n=rr,r=nr;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=La++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wE={readContext:en,useCallback:Y1,useContext:en,useEffect:Yh,useImperativeHandle:Q1,useInsertionEffect:F1,useLayoutEffect:K1,useMemo:X1,useReducer:_d,useRef:Z1,useState:function(){return _d(Oa)},useDebugValue:Xh,useDeferredValue:function(e){var t=tn();return J1(t,He.memoizedState,e)},useTransition:function(){var e=_d(Oa)[0],t=tn().memoizedState;return[e,t]},useMutableSource:j1,useSyncExternalStore:H1,useId:ew,unstable_isNewReconciler:!1},vE={readContext:en,useCallback:Y1,useContext:en,useEffect:Yh,useImperativeHandle:Q1,useInsertionEffect:F1,useLayoutEffect:K1,useMemo:X1,useReducer:Ed,useRef:Z1,useState:function(){return Ed(Oa)},useDebugValue:Xh,useDeferredValue:function(e){var t=tn();return He===null?t.memoizedState=e:J1(t,He.memoizedState,e)},useTransition:function(){var e=Ed(Oa)[0],t=tn().memoizedState;return[e,t]},useMutableSource:j1,useSyncExternalStore:H1,useId:ew,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dl={isMounted:function(e){return(e=e._reactInternals)?Wo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),o=Xr(e),s=or(r,o);s.payload=t,n!=null&&(s.callback=n),t=Qr(e,s,o),t!==null&&(xn(t,e,o,r),rl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),o=Xr(e),s=or(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Qr(e,s,o),t!==null&&(xn(t,e,o,r),rl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Xr(e),o=or(n,r);o.tag=2,t!=null&&(o.callback=t),t=Qr(e,o,r),t!==null&&(xn(t,e,r,n),rl(t,e,r))}};function my(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Sa(n,r)||!Sa(o,s):!0}function ow(e,t,n){var r=!1,o=to,s=t.contextType;return typeof s=="object"&&s!==null?s=en(s):(o=Pt(t)?jo:ct.current,r=t.contextTypes,s=(r=r!=null)?ni(e,o):to),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function gy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dl.enqueueReplaceState(t,t.state,null)}function ih(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},qh(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=en(s):(s=Pt(t)?jo:ct.current,o.context=ni(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(sh(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Dl.enqueueReplaceState(o,o.state,null),Bl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,t){try{var n="",r=t;do n+=G_(r),r=r.return;while(r);var o=n}catch(s){o="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:o,digest:null}}function Bd(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ah(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xE=typeof WeakMap=="function"?WeakMap:Map;function sw(e,t,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Al||(Al=!0,yh=r),ah(e,t)},n}function iw(e,t,n){n=or(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ah(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ah(e,t),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function yy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xE;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=OE.bind(null,e,t,n),t.then(e,e))}function wy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vy(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=or(-1,1),t.tag=2,Qr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bE=lr.ReactCurrentOwner,Ct=!1;function gt(e,t,n,r){t.child=e===null?R1(t,null,n,r):oi(t,e.child,n,r)}function xy(e,t,n,r,o){n=n.render;var s=t.ref;return Js(t,o),r=Gh(e,t,n,r,s,o),n=Qh(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cr(e,t,o)):(_e&&n&&Uh(t),t.flags|=1,gt(e,t,r,o),t.child)}function by(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!ip(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,aw(e,t,s,r,o)):(e=ll(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sa,n(i,r)&&e.ref===t.ref)return cr(e,t,o)}return t.flags|=1,e=Jr(s,r),e.ref=t.ref,e.return=t,t.child=e}function aw(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Sa(s,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=s,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,cr(e,t,o)}return ch(e,t,n,r,o)}function cw(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Ks,Mt),Mt|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Ks,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(Ks,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ve(Ks,Mt),Mt|=r;return gt(e,t,o,n),t.child}function lw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ch(e,t,n,r,o){var s=Pt(n)?jo:ct.current;return s=ni(t,s),Js(t,o),n=Gh(e,t,n,r,s,o),r=Qh(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cr(e,t,o)):(_e&&r&&Uh(t),t.flags|=1,gt(e,t,n,o),t.child)}function ky(e,t,n,r,o){if(Pt(n)){var s=!0;xl(t)}else s=!1;if(Js(t,o),t.stateNode===null)il(e,t),ow(t,n,r),ih(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,l=n.contextType;typeof l=="object"&&l!==null?l=en(l):(l=Pt(n)?jo:ct.current,l=ni(t,l));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==l)&&gy(t,i,r,l),Dr=!1;var d=t.memoizedState;i.state=d,Bl(t,r,i,o),c=t.memoizedState,a!==r||d!==c||St.current||Dr?(typeof u=="function"&&(sh(t,n,u,r),c=t.memoizedState),(a=Dr||my(t,n,a,r,d,c,l))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=l,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,U1(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:gn(t.type,a),i.props=l,f=t.pendingProps,d=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=en(c):(c=Pt(n)?jo:ct.current,c=ni(t,c));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||d!==c)&&gy(t,i,r,c),Dr=!1,d=t.memoizedState,i.state=d,Bl(t,r,i,o);var y=t.memoizedState;a!==f||d!==y||St.current||Dr?(typeof h=="function"&&(sh(t,n,h,r),y=t.memoizedState),(l=Dr||my(t,n,l,r,d,y,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=l):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return lh(e,t,n,r,s,o)}function lh(e,t,n,r,o,s){lw(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&ay(t,n,!1),cr(e,t,s);r=t.stateNode,bE.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=oi(t,e.child,null,s),t.child=oi(t,null,a,s)):gt(e,t,a,s),t.memoizedState=r.state,o&&ay(t,n,!0),t.child}function uw(e){var t=e.stateNode;t.pendingContext?iy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iy(e,t.context,!1),Wh(e,t.containerInfo)}function _y(e,t,n,r,o){return ri(),jh(o),t.flags|=256,gt(e,t,n,r),t.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function fw(e,t,n){var r=t.pendingProps,o=Ce.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ve(Ce,o&1),e===null)return rh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ql(i,r,0,null),e=zo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fh(n),t.memoizedState=uh,e):Jh(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return kE(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Jr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Jr(a,s):(s=zo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?fh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=uh,r}return s=e.child,e=s.sibling,r=Jr(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jh(e,t){return t=ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,n,r){return r!==null&&jh(r),oi(t,e.child,null,n),e=Jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kE(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Bd(Error(R(422))),Yc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=ql({mode:"visible",children:r.children},o,0,null),s=zo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&oi(t,e.child,null,i),t.child.memoizedState=fh(i),t.memoizedState=uh,s);if((t.mode&1)===0)return Yc(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=Bd(s,r,void 0),Yc(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ct||a){if(r=Ke,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|i))!==0?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,ar(e,o),xn(r,e,o,-1))}return sp(),r=Bd(Error(R(421))),Yc(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=RE.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ut=Gr(o.nextSibling),zt=t,_e=!0,wn=null,e!==null&&(Qt[Yt++]=nr,Qt[Yt++]=rr,Qt[Yt++]=Ho,nr=e.id,rr=e.overflow,Ho=t),t=Jh(t,r.children),t.flags|=4096,t)}function Ey(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oh(e.return,t,n)}function Cd(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function dw(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(gt(e,t,r.children,n),r=Ce.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,n,t);else if(e.tag===19)Ey(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ve(Ce,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Cd(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Cl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Cd(t,!0,n,null,s);break;case"together":Cd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$o|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _E(e,t,n){switch(t.tag){case 3:uw(t),ri();break;case 5:z1(t);break;case 1:Pt(t.type)&&xl(t);break;case 4:Wh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ve(_l,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ce,Ce.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?fw(e,t,n):(ve(Ce,Ce.current&1),e=cr(e,t,n),e!==null?e.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return dw(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ve(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,cw(e,t,n)}return cr(e,t,n)}var hw,dh,pw,mw;hw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dh=function(){};pw=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Mo(zn.current);var s=null;switch(n){case"input":o=Od(e,o),r=Od(e,r),s=[];break;case"select":o=Pe({},o,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":o=Ud(e,o),r=Ud(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wl)}jd(n,r);var i;n=null;for(l in o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var a=o[l];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(xa.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=o!=null?o[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(xa.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&xe("scroll",e),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};mw=function(e,t,n,r){n!==r&&(t.flags|=4)};function oa(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function EE(e,t,n){var r=t.pendingProps;switch(zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return Pt(t.type)&&vl(),it(t),null;case 3:return r=t.stateNode,si(),be(St),be(ct),Fh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wn!==null&&(xh(wn),wn=null))),dh(e,t),it(t),null;case 5:Zh(t);var o=Mo(Ia.current);if(n=t.type,e!==null&&t.stateNode!=null)pw(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return it(t),null}if(e=Mo(zn.current),Gc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Mn]=t,r[Aa]=s,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(o=0;o<ua.length;o++)xe(ua[o],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Ig(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":Og(r,s),xe("invalid",r)}jd(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kc(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kc(r.textContent,a,e),o=["children",""+a]):xa.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&xe("scroll",r)}switch(n){case"input":Mc(r),Lg(r,s,!0);break;case"textarea":Mc(r),Rg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Mn]=t,e[Aa]=r,hw(e,t,!1,!1),t.stateNode=e;e:{switch(i=Hd(n,r),n){case"dialog":xe("cancel",e),xe("close",e),o=r;break;case"iframe":case"object":case"embed":xe("load",e),o=r;break;case"video":case"audio":for(o=0;o<ua.length;o++)xe(ua[o],e);o=r;break;case"source":xe("error",e),o=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),o=r;break;case"details":xe("toggle",e),o=r;break;case"input":Ig(e,r),o=Od(e,r),xe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Pe({},r,{value:void 0}),xe("invalid",e);break;case"textarea":Og(e,r),o=Ud(e,r),xe("invalid",e);break;default:o=r}jd(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Zy(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qy(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ba(e,c):typeof c=="number"&&ba(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&xe("scroll",e):c!=null&&_h(e,s,c,i))}switch(n){case"input":Mc(e),Lg(e,r,!1);break;case"textarea":Mc(e),Rg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+eo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Gs(e,!!r.multiple,s,!1):r.defaultValue!=null&&Gs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)mw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Mo(Ia.current),Mo(zn.current),Gc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mn]=t,(s=r.nodeValue!==n)&&(e=zt,e!==null))switch(e.tag){case 3:Kc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=t,t.stateNode=r}return it(t),null;case 13:if(be(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)L1(),ri(),t.flags|=98560,s=!1;else if(s=Gc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[Mn]=t}else ri(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),s=!1}else wn!==null&&(xh(wn),wn=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ce.current&1)!==0?De===0&&(De=3):sp())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return si(),dh(e,t),e===null&&Pa(t.stateNode.containerInfo),it(t),null;case 10:return $h(t.type._context),it(t),null;case 17:return Pt(t.type)&&vl(),it(t),null;case 19:if(be(Ce),s=t.memoizedState,s===null)return it(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)oa(s,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Cl(e),i!==null){for(t.flags|=128,oa(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ce,Ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&Oe()>ai&&(t.flags|=128,r=!0,oa(s,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!_e)return it(t),null}else 2*Oe()-s.renderingStartTime>ai&&n!==1073741824&&(t.flags|=128,r=!0,oa(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Oe(),t.sibling=null,n=Ce.current,ve(Ce,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return op(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Mt&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function BE(e,t){switch(zh(t),t.tag){case 1:return Pt(t.type)&&vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(),be(St),be(ct),Fh(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Zh(t),null;case 13:if(be(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Ce),null;case 4:return si(),null;case 10:return $h(t.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var Xc=!1,at=!1,CE=typeof WeakSet=="function"?WeakSet:Set,q=null;function Fs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function hh(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var By=!1;function SE(e,t){if(Qd=ml,e=x1(),Mh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var i=0,a=-1,c=-1,l=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==n||o!==0&&f.nodeType!==3||(a=i+o),f!==s||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===o&&(a=i),d===s&&++u===r&&(c=i),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yd={focusedElem:e,selectionRange:n},ml=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,v=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:gn(t.type,p),v);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(x){Ie(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return y=By,By=!1,y}function ya(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&hh(t,n,s)}o=o.next}while(o!==r)}}function $l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ph(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gw(e){var t=e.alternate;t!==null&&(e.alternate=null,gw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[Aa],delete t[eh],delete t[lE],delete t[uE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yw(e){return e.tag===5||e.tag===3||e.tag===4}function Cy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wl));else if(r!==4&&(e=e.child,e!==null))for(mh(e,t,n),e=e.sibling;e!==null;)mh(e,t,n),e=e.sibling}function gh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gh(e,t,n),e=e.sibling;e!==null;)gh(e,t,n),e=e.sibling}var Ye=null,yn=!1;function jr(e,t,n){for(n=n.child;n!==null;)ww(e,t,n),n=n.sibling}function ww(e,t,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Ol,n)}catch(a){}switch(n.tag){case 5:at||Fs(n,t);case 6:var r=Ye,o=yn;Ye=null,jr(e,t,n),Ye=r,yn=o,Ye!==null&&(yn?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(yn?(e=Ye,n=n.stateNode,e.nodeType===8?vd(e.parentNode,n):e.nodeType===1&&vd(e,n),Ba(e)):vd(Ye,n.stateNode));break;case 4:r=Ye,o=yn,Ye=n.stateNode.containerInfo,yn=!0,jr(e,t,n),Ye=r,yn=o;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&((s&2)!==0||(s&4)!==0)&&hh(n,t,i),o=o.next}while(o!==r)}jr(e,t,n);break;case 1:if(!at&&(Fs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,t,a)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,jr(e,t,n),at=r):jr(e,t,n);break;default:jr(e,t,n)}}function Sy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CE),t.forEach(function(r){var o=ME.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function mn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,yn=!1;break e;case 3:Ye=a.stateNode.containerInfo,yn=!0;break e;case 4:Ye=a.stateNode.containerInfo,yn=!0;break e}a=a.return}if(Ye===null)throw Error(R(160));ww(s,i,o),Ye=null,yn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(l){Ie(o,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vw(t,e),t=t.sibling}function vw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),On(e),r&4){try{ya(3,e,e.return),$l(3,e)}catch(p){Ie(e,e.return,p)}try{ya(5,e,e.return)}catch(p){Ie(e,e.return,p)}}break;case 1:mn(t,e),On(e),r&512&&n!==null&&Fs(n,n.return);break;case 5:if(mn(t,e),On(e),r&512&&n!==null&&Fs(n,n.return),e.flags&32){var o=e.stateNode;try{ba(o,"")}catch(p){Ie(e,e.return,p)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Dy(o,s),Hd(a,i);var l=Hd(a,s);for(i=0;i<c.length;i+=2){var u=c[i],f=c[i+1];u==="style"?Zy(o,f):u==="dangerouslySetInnerHTML"?qy(o,f):u==="children"?ba(o,f):_h(o,u,f,l)}switch(a){case"input":Rd(o,s);break;case"textarea":$y(o,s);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Gs(o,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Gs(o,!!s.multiple,s.defaultValue,!0):Gs(o,!!s.multiple,s.multiple?[]:"",!1))}o[Aa]=s}catch(p){Ie(e,e.return,p)}}break;case 6:if(mn(t,e),On(e),r&4){if(e.stateNode===null)throw Error(R(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(p){Ie(e,e.return,p)}}break;case 3:if(mn(t,e),On(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(t.containerInfo)}catch(p){Ie(e,e.return,p)}break;case 4:mn(t,e),On(e);break;case 13:mn(t,e),On(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(np=Oe())),r&4&&Sy(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(at=(l=at)||u,mn(t,e),at=l):mn(t,e),On(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&(e.mode&1)!==0)for(q=e,u=e.child;u!==null;){for(f=q=u;q!==null;){switch(d=q,h=d.child,d.tag){case 0:case 11:case 14:case 15:ya(4,d,d.return);break;case 1:Fs(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){Ie(r,n,p)}}break;case 5:Fs(d,d.return);break;case 22:if(d.memoizedState!==null){Ty(f);continue}}h!==null?(h.return=d,q=h):Ty(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{o=f.stateNode,l?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Wy("display",i))}catch(p){Ie(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(p){Ie(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mn(t,e),On(e),r&4&&Sy(e);break;case 21:break;default:mn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yw(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ba(o,""),r.flags&=-33);var s=Cy(e);gh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Cy(e);mh(e,a,i);break;default:throw Error(R(161))}}catch(c){Ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PE(e,t,n){q=e,xw(e,t,n)}function xw(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var o=q,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Xc;if(!i){var a=o.alternate,c=a!==null&&a.memoizedState!==null||at;a=Xc;var l=at;if(Xc=i,(at=c)&&!l)for(q=o;q!==null;)i=q,c=i.child,i.tag===22&&i.memoizedState!==null?Ay(o):c!==null?(c.return=i,q=c):Ay(o);for(;s!==null;)q=s,xw(s,t,n),s=s.sibling;q=o,Xc=a,at=l}Py(e,t,n)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,q=s):Py(e,t,n)}}function Py(e){for(;q!==null;){var t=q;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:at||$l(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&dy(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}dy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}at||t.flags&512&&ph(t)}catch(d){Ie(t,t.return,d)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Ty(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Ay(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$l(4,t)}catch(c){Ie(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Ie(t,o,c)}}var s=t.return;try{ph(t)}catch(c){Ie(t,s,c)}break;case 5:var i=t.return;try{ph(t)}catch(c){Ie(t,i,c)}}}catch(c){Ie(t,t.return,c)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var TE=Math.ceil,Tl=lr.ReactCurrentDispatcher,ep=lr.ReactCurrentOwner,Jt=lr.ReactCurrentBatchConfig,le=0,Ke=null,Re=null,Xe=0,Mt=0,Ks=ro(0),De=0,Ma=null,$o=0,Vl=0,tp=0,wa=null,Bt=null,np=0,ai=1/0,er=null,Al=!1,yh=null,Yr=null,Jc=!1,Wr=null,Nl=0,va=0,wh=null,al=-1,cl=0;function yt(){return(le&6)!==0?Oe():al!==-1?al:al=Oe()}function Xr(e){return(e.mode&1)===0?1:(le&2)!==0&&Xe!==0?Xe&-Xe:dE.transition!==null?(cl===0&&(cl=o1()),cl):(e=fe,e!==0||(e=window.event,e=e===void 0?16:f1(e.type)),e)}function xn(e,t,n,r){if(50<va)throw va=0,wh=null,Error(R(185));Ua(e,n,r),((le&2)===0||e!==Ke)&&(e===Ke&&((le&2)===0&&(Vl|=n),De===4&&Vr(e,Xe)),Tt(e,r),n===1&&le===0&&(t.mode&1)===0&&(ai=Oe()+500,jl&&oo()))}function Tt(e,t){var n=e.callbackNode;p3(e,t);var r=pl(e,e===Ke?Xe:0);if(r===0)n!==null&&zg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zg(n),t===1)e.tag===0?fE(Ny.bind(null,e)):A1(Ny.bind(null,e)),aE(function(){(le&6)===0&&oo()}),n=null;else{switch(s1(r)){case 1:n=Ph;break;case 4:n=n1;break;case 16:n=hl;break;case 536870912:n=r1;break;default:n=hl}n=Pw(n,bw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bw(e,t){if(al=-1,cl=0,(le&6)!==0)throw Error(R(327));var n=e.callbackNode;if(ei()&&e.callbackNode!==n)return null;var r=pl(e,e===Ke?Xe:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Il(e,r);else{t=r;var o=le;le|=2;var s=_w();(Ke!==e||Xe!==t)&&(er=null,ai=Oe()+500,Uo(e,t));do try{IE();break}catch(a){kw(e,a)}while(!0);Dh(),Tl.current=s,le=o,Re!==null?t=0:(Ke=null,Xe=0,t=De)}if(t!==0){if(t===2&&(o=Wd(e),o!==0&&(r=o,t=vh(e,o))),t===1)throw n=Ma,Uo(e,0),Vr(e,r),Tt(e,Oe()),n;if(t===6)Vr(e,r);else{if(o=e.current.alternate,(r&30)===0&&!AE(o)&&(t=Il(e,r),t===2&&(s=Wd(e),s!==0&&(r=s,t=vh(e,s))),t===1))throw n=Ma,Uo(e,0),Vr(e,r),Tt(e,Oe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Lo(e,Bt,er);break;case 3:if(Vr(e,r),(r&130023424)===r&&(t=np+500-Oe(),10<t)){if(pl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Jd(Lo.bind(null,e,Bt,er),t);break}Lo(e,Bt,er);break;case 4:if(Vr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-vn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TE(r/1960))-r,10<r){e.timeoutHandle=Jd(Lo.bind(null,e,Bt,er),r);break}Lo(e,Bt,er);break;case 5:Lo(e,Bt,er);break;default:throw Error(R(329))}}}return Tt(e,Oe()),e.callbackNode===n?bw.bind(null,e):null}function vh(e,t){var n=wa;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),e=Il(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&xh(t)),e}function xh(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function AE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!bn(s(),o))return!1}catch(i){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~tp,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vn(t),r=1<<n;e[n]=-1,t&=~r}}function Ny(e){if((le&6)!==0)throw Error(R(327));ei();var t=pl(e,0);if((t&1)===0)return Tt(e,Oe()),null;var n=Il(e,t);if(e.tag!==0&&n===2){var r=Wd(e);r!==0&&(t=r,n=vh(e,r))}if(n===1)throw n=Ma,Uo(e,0),Vr(e,t),Tt(e,Oe()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lo(e,Bt,er),Tt(e,Oe()),null}function rp(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(ai=Oe()+500,jl&&oo())}}function Vo(e){Wr!==null&&Wr.tag===0&&(le&6)===0&&ei();var t=le;le|=1;var n=Jt.transition,r=fe;try{if(Jt.transition=null,fe=1,e)return e()}finally{fe=r,Jt.transition=n,le=t,(le&6)===0&&oo()}}function op(){Mt=Ks.current,be(Ks)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iE(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vl();break;case 3:si(),be(St),be(ct),Fh();break;case 5:Zh(r);break;case 4:si();break;case 13:be(Ce);break;case 19:be(Ce);break;case 10:$h(r.type._context);break;case 22:case 23:op()}n=n.return}if(Ke=e,Re=e=Jr(e.current,null),Xe=Mt=t,De=0,Ma=null,tp=Vl=$o=0,Bt=wa=null,Ro!==null){for(t=0;t<Ro.length;t++)if(n=Ro[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Ro=null}return e}function kw(e,t){do{var n=Re;try{if(Dh(),ol.current=Pl,Sl){for(var r=Se.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Sl=!1}if(Do=0,Fe=He=Se=null,ga=!1,La=0,ep.current=null,n===null||n.return===null){De=1,Ma=t,Re=null;break}e:{var s=e,i=n.return,a=n,c=t;if(t=Xe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,f=u.tag;if((u.mode&1)===0&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=wy(i);if(h!==null){h.flags&=-257,vy(h,i,a,s,t),h.mode&1&&yy(s,l,t),t=h,c=l;var y=t.updateQueue;if(y===null){var p=new Set;p.add(c),t.updateQueue=p}else y.add(c);break e}else{if((t&1)===0){yy(s,l,t),sp();break e}c=Error(R(426))}}else if(_e&&a.mode&1){var v=wy(i);if(v!==null){(v.flags&65536)===0&&(v.flags|=256),vy(v,i,a,s,t),jh(ii(c,a));break e}}s=c=ii(c,a),De!==4&&(De=2),wa===null?wa=[s]:wa.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=sw(s,c,t);fy(s,g);break e;case 1:a=c;var m=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yr===null||!Yr.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=iw(s,a,t);fy(s,x);break e}}s=s.return}while(s!==null)}Bw(n)}catch(k){t=k,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function _w(){var e=Tl.current;return Tl.current=Pl,e===null?Pl:e}function sp(){(De===0||De===3||De===2)&&(De=4),Ke===null||($o&268435455)===0&&(Vl&268435455)===0||Vr(Ke,Xe)}function Il(e,t){var n=le;le|=2;var r=_w();(Ke!==e||Xe!==t)&&(er=null,Uo(e,t));do try{NE();break}catch(o){kw(e,o)}while(!0);if(Dh(),le=n,Tl.current=r,Re!==null)throw Error(R(261));return Ke=null,Xe=0,De}function NE(){for(;Re!==null;)Ew(Re)}function IE(){for(;Re!==null&&!s3();)Ew(Re)}function Ew(e){var t=Sw(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?Bw(e):Re=t,ep.current=null}function Bw(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=EE(n,t,Mt),n!==null){Re=n;return}}else{if(n=BE(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Re=null;return}}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);De===0&&(De=5)}function Lo(e,t,n){var r=fe,o=Jt.transition;try{Jt.transition=null,fe=1,LE(e,t,n,r)}finally{Jt.transition=o,fe=r}return null}function LE(e,t,n,r){do ei();while(Wr!==null);if((le&6)!==0)throw Error(R(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(m3(e,s),e===Ke&&(Re=Ke=null,Xe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Jc||(Jc=!0,Pw(hl,function(){return ei(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Jt.transition,Jt.transition=null;var i=fe;fe=1;var a=le;le|=4,ep.current=null,SE(e,n),vw(n,e),tE(Yd),ml=!!Qd,Yd=Qd=null,e.current=n,PE(n,e,o),i3(),le=a,fe=i,Jt.transition=s}else e.current=n;if(Jc&&(Jc=!1,Wr=e,Nl=o),s=e.pendingLanes,s===0&&(Yr=null),l3(n.stateNode,r),Tt(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Al)throw Al=!1,e=yh,yh=null,e;return(Nl&1)!==0&&e.tag!==0&&ei(),s=e.pendingLanes,(s&1)!==0?e===wh?va++:(va=0,wh=e):va=0,oo(),null}function ei(){if(Wr!==null){var e=s1(Nl),t=Jt.transition,n=fe;try{if(Jt.transition=null,fe=16>e?16:e,Wr===null)var r=!1;else{if(e=Wr,Wr=null,Nl=0,(le&6)!==0)throw Error(R(331));var o=le;for(le|=4,q=e.current;q!==null;){var s=q,i=s.child;if((q.flags&16)!==0){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(q=l;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:ya(8,u,s)}var f=u.child;if(f!==null)f.return=u,q=f;else for(;q!==null;){u=q;var d=u.sibling,h=u.return;if(gw(u),u===l){q=null;break}if(d!==null){d.return=h,q=d;break}q=h}}}var y=s.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}q=s}}if((s.subtreeFlags&2064)!==0&&i!==null)i.return=s,q=i;else e:for(;q!==null;){if(s=q,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:ya(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,q=g;break e}q=s.return}}var m=e.current;for(q=m;q!==null;){i=q;var w=i.child;if((i.subtreeFlags&2064)!==0&&w!==null)w.return=i,q=w;else e:for(i=m;q!==null;){if(a=q,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:$l(9,a)}}catch(k){Ie(a,a.return,k)}if(a===i){q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,q=x;break e}q=a.return}}if(le=o,oo(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Ol,e)}catch(k){}r=!0}return r}finally{fe=n,Jt.transition=t}}return!1}function Iy(e,t,n){t=ii(n,t),t=sw(e,t,1),e=Qr(e,t,1),t=yt(),e!==null&&(Ua(e,1,t),Tt(e,t))}function Ie(e,t,n){if(e.tag===3)Iy(e,e,n);else for(;t!==null;){if(t.tag===3){Iy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){e=ii(n,e),e=iw(t,e,1),t=Qr(t,e,1),e=yt(),t!==null&&(Ua(t,1,e),Tt(t,e));break}}t=t.return}}function OE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Xe&n)===n&&(De===4||De===3&&(Xe&130023424)===Xe&&500>Oe()-np?Uo(e,0):tp|=n),Tt(e,t)}function Cw(e,t){t===0&&((e.mode&1)===0?t=1:(t=jc,jc<<=1,(jc&130023424)===0&&(jc=4194304)));var n=yt();e=ar(e,t),e!==null&&(Ua(e,t,n),Tt(e,n))}function RE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cw(e,n)}function ME(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Cw(e,n)}var Sw;Sw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Ct=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ct=!1,_E(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,_e&&(t.flags&1048576)!==0&&N1(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;il(e,t),e=t.pendingProps;var o=ni(t,ct.current);Js(t,n),o=Gh(null,t,r,e,o,n);var s=Qh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(r)?(s=!0,xl(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,qh(t),o.updater=Dl,t.stateNode=o,o._reactInternals=t,ih(t,r,e,n),t=lh(null,t,r,!0,s,n)):(t.tag=0,_e&&s&&Uh(t),gt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(il(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=zE(r),e=gn(r,e),o){case 0:t=ch(null,t,r,e,n);break e;case 1:t=ky(null,t,r,e,n);break e;case 11:t=xy(null,t,r,e,n);break e;case 14:t=by(null,t,r,gn(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gn(r,o),ch(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gn(r,o),ky(e,t,r,o,n);case 3:e:{if(uw(t),e===null)throw Error(R(387));r=t.pendingProps,s=t.memoizedState,o=s.element,U1(e,t),Bl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ii(Error(R(423)),t),t=_y(e,t,r,n,o);break e}else if(r!==o){o=ii(Error(R(424)),t),t=_y(e,t,r,n,o);break e}else for(Ut=Gr(t.stateNode.containerInfo.firstChild),zt=t,_e=!0,wn=null,n=R1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ri(),r===o){t=cr(e,t,n);break e}gt(e,t,r,n)}t=t.child}return t;case 5:return z1(t),e===null&&rh(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Xd(r,o)?i=null:s!==null&&Xd(r,s)&&(t.flags|=32),lw(e,t),gt(e,t,i,n),t.child;case 6:return e===null&&rh(t),null;case 13:return fw(e,t,n);case 4:return Wh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=oi(t,null,r,n):gt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gn(r,o),xy(e,t,r,o,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ve(_l,r._currentValue),r._currentValue=i,s!==null)if(bn(s.value,i)){if(s.children===o.children&&!St.current){t=cr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=or(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),oh(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(R(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),oh(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}gt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Js(t,n),o=en(o),r=r(o),t.flags|=1,gt(e,t,r,n),t.child;case 14:return r=t.type,o=gn(r,t.pendingProps),o=gn(r.type,o),by(e,t,r,o,n);case 15:return aw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gn(r,o),il(e,t),t.tag=1,Pt(r)?(e=!0,xl(t)):e=!1,Js(t,n),ow(t,r,o),ih(t,r,o,n),lh(null,t,r,!0,e,n);case 19:return dw(e,t,n);case 22:return cw(e,t,n)}throw Error(R(156,t.tag))};function Pw(e,t){return t1(e,t)}function UE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,n,r){return new UE(e,t,n,r)}function ip(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zE(e){if(typeof e=="function")return ip(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bh)return 11;if(e===Ch)return 14}return 2}function Jr(e,t){var n=e.alternate;return n===null?(n=Xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")ip(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zs:return zo(n.children,o,s,t);case Eh:i=8,o|=8;break;case Ad:return e=Xt(12,n,t,o|2),e.elementType=Ad,e.lanes=s,e;case Nd:return e=Xt(13,n,t,o),e.elementType=Nd,e.lanes=s,e;case Id:return e=Xt(19,n,t,o),e.elementType=Id,e.lanes=s,e;case zy:return ql(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case My:i=10;break e;case Uy:i=9;break e;case Bh:i=11;break e;case Ch:i=14;break e;case Hr:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Xt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function zo(e,t,n,r){return e=Xt(7,e,r,t),e.lanes=n,e}function ql(e,t,n,r){return e=Xt(22,e,r,t),e.elementType=zy,e.lanes=n,e.stateNode={isHidden:!1},e}function Sd(e,t,n){return e=Xt(6,e,null,t),e.lanes=n,e}function Pd(e,t,n){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jE(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ap(e,t,n,r,o,s,i,a,c){return e=new jE(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qh(s),e}function HE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tw(e){if(!e)return to;e=e._reactInternals;e:{if(Wo(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Pt(n))return T1(e,n,t)}return t}function Aw(e,t,n,r,o,s,i,a,c){return e=ap(n,r,!0,e,o,s,i,a,c),e.context=Tw(null),n=e.current,r=yt(),o=Xr(n),s=or(r,o),s.callback=t!=null?t:null,Qr(n,s,o),e.current.lanes=o,Ua(e,o,r),Tt(e,r),e}function Wl(e,t,n,r){var o=t.current,s=yt(),i=Xr(o);return n=Tw(n),t.context===null?t.context=n:t.pendingContext=n,t=or(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qr(o,t,i),e!==null&&(xn(e,o,i,s),rl(e,o,i)),i}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ly(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cp(e,t){Ly(e,t),(e=e.alternate)&&Ly(e,t)}function DE(){return null}var Nw=typeof reportError=="function"?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}Zl.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Wl(e,t,null,null)};Zl.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vo(function(){Wl(null,e,null,null)}),t[ir]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=c1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$r.length&&t!==0&&t<$r[n].priority;n++);$r.splice(n,0,e),n===0&&u1(e)}};function up(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oy(){}function $E(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var l=Ll(i);s.call(l)}}var i=Aw(t,r,e,0,null,!1,!1,"",Oy);return e._reactRootContainer=i,e[ir]=i.current,Pa(e.nodeType===8?e.parentNode:e),Vo(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var l=Ll(c);a.call(l)}}var c=ap(e,0,!1,null,null,!1,!1,"",Oy);return e._reactRootContainer=c,e[ir]=c.current,Pa(e.nodeType===8?e.parentNode:e),Vo(function(){Wl(t,c,n,r)}),c}function Kl(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var c=Ll(i);a.call(c)}}Wl(t,i,e,o)}else i=$E(n,t,e,o,r);return Ll(i)}i1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=la(t.pendingLanes);n!==0&&(Th(t,n|1),Tt(t,Oe()),(le&6)===0&&(ai=Oe()+500,oo()))}break;case 13:Vo(function(){var r=ar(e,1);if(r!==null){var o=yt();xn(r,e,1,o)}}),cp(e,1)}};Ah=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var n=yt();xn(t,e,134217728,n)}cp(e,134217728)}};a1=function(e){if(e.tag===13){var t=Xr(e),n=ar(e,t);if(n!==null){var r=yt();xn(n,e,t,r)}cp(e,t)}};c1=function(){return fe};l1=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}};$d=function(e,t,n){switch(t){case"input":if(Rd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=zl(r);if(!o)throw Error(R(90));Hy(r),Rd(r,o)}}}break;case"textarea":$y(e,n);break;case"select":t=n.value,t!=null&&Gs(e,!!n.multiple,t,!1)}};Gy=rp;Qy=Vo;var VE={usingClientEntryPoint:!1,Events:[ja,$s,zl,Fy,Ky,rp]},sa={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qE={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jy(e),e===null?null:e.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||DE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ia=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ia.isDisabled&&ia.supportsFiber))try{Ol=ia.inject(qE),Un=ia}catch(e){}var ia;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(t))throw Error(R(200));return HE(e,t,null,n)};Dt.createRoot=function(e,t){if(!up(e))throw Error(R(299));var n=!1,r="",o=Nw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ap(e,1,!1,null,null,n,!1,r,o),e[ir]=t.current,Pa(e.nodeType===8?e.parentNode:e),new lp(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Jy(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Vo(e)};Dt.hydrate=function(e,t,n){if(!Fl(t))throw Error(R(200));return Kl(null,e,t,!0,n)};Dt.hydrateRoot=function(e,t,n){if(!up(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=Nw;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Aw(t,null,e,1,n!=null?n:null,o,!1,s,i),e[ir]=t.current,Pa(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Zl(t)};Dt.render=function(e,t,n){if(!Fl(t))throw Error(R(200));return Kl(null,e,t,!1,n)};Dt.unmountComponentAtNode=function(e){if(!Fl(e))throw Error(R(40));return e._reactRootContainer?(Vo(function(){Kl(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};Dt.unstable_batchedUpdates=rp;Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Kl(e,t,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426"});var Rw=Jn((MA,Ow)=>{"use strict";function Lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lw)}catch(e){console.error(e)}}Lw(),Ow.exports=Iw()});var Uw=Jn(fp=>{"use strict";var Mw=Rw();fp.createRoot=Mw.createRoot,fp.hydrateRoot=Mw.hydrateRoot;var UA});var Ok=Jn($f=>{"use strict";var sA=rt(),iA=Symbol.for("react.element"),aA=Symbol.for("react.fragment"),cA=Object.prototype.hasOwnProperty,lA=sA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uA={key:!0,ref:!0,__self:!0,__source:!0};function Lk(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)cA.call(t,r)&&!uA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:iA,type:e,key:s,ref:i,props:o,_owner:lA.current}}$f.Fragment=aA;$f.jsx=Lk;$f.jsxs=Lk});var ce=Jn((fj,Rk)=>{"use strict";Rk.exports=Ok()});var t_={};Ur(t_,{createWorker:()=>wA});var wA,n_=C_(()=>{wA=()=>new Worker(URL.createObjectURL(new Blob(['class x{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}static createEmpty(a,b){return new x(new Uint8ClampedArray(a*b),a)}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}setRegion(a,b,c,d,e){for(let f=b;f<b+d;f++)for(let g=a;g<a+c;g++)this.set(g,f,!!e)}}\nclass A{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,b){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}\nclass ba{constructor(a){this.bitOffset=this.byteOffset=0;this.bytes=a}readBits(a){if(1>a||32<a||a>this.available())throw Error("Cannot read "+a.toString()+" bits");var b=0;if(0<this.bitOffset){b=8-this.bitOffset;var c=a<b?a:b;b-=c;b=(this.bytes[this.byteOffset]&255>>8-c<<b)>>b;a-=c;this.bitOffset+=c;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<a){for(;8<=a;)b=b<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,a-=8;0<a&&(c=8-a,b=b<<a|(this.bytes[this.byteOffset]&255>>c<<c)>>c,\nthis.bitOffset+=a)}return b}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var B,C=B||(B={});C.Numeric="numeric";C.Alphanumeric="alphanumeric";C.Byte="byte";C.Kanji="kanji";C.ECI="eci";C.StructuredAppend="structuredappend";var D,E=D||(D={});E[E.Terminator=0]="Terminator";E[E.Numeric=1]="Numeric";E[E.Alphanumeric=2]="Alphanumeric";E[E.Byte=4]="Byte";E[E.Kanji=8]="Kanji";E[E.ECI=7]="ECI";E[E.StructuredAppend=3]="StructuredAppend";let F="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");\nfunction ca(a,b){let c=[],d="";b=a.readBits([8,16,16][b]);for(let e=0;e<b;e++){let f=a.readBits(8);c.push(f)}try{d+=decodeURIComponent(c.map(e=>`%${("0"+e.toString(16)).substr(-2)}`).join(""))}catch(e){}return{bytes:c,text:d}}\nfunction da(a,b){a=new ba(a);let c=9>=b?0:26>=b?1:2;for(b={text:"",bytes:[],chunks:[],version:b};4<=a.available();){var d=a.readBits(4);if(d===D.Terminator)return b;if(d===D.ECI)0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(7)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(14)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(21)}):b.chunks.push({type:B.ECI,assignmentNumber:-1});else if(d===D.Numeric){var e=a,f=[];d="";for(var g=\ne.readBits([10,12,14][c]);3<=g;){var h=e.readBits(10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),m=Math.floor(h/10)%10;h%=10;f.push(48+k,48+m,48+h);d+=k.toString()+m.toString()+h.toString();g-=3}if(2===g){g=e.readBits(7);if(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;f.push(48+e,48+g);d+=e.toString()+g.toString()}else if(1===g){e=e.readBits(4);if(10<=e)throw Error("Invalid numeric value above 9");f.push(48+e);d+=e.toString()}b.text+=\nd;b.bytes.push(...f);b.chunks.push({type:B.Numeric,text:d})}else if(d===D.Alphanumeric){e=a;f=[];d="";for(g=e.readBits([9,11,13][c]);2<=g;)m=e.readBits(11),k=Math.floor(m/45),m%=45,f.push(F[k].charCodeAt(0),F[m].charCodeAt(0)),d+=F[k]+F[m],g-=2;1===g&&(e=e.readBits(6),f.push(F[e].charCodeAt(0)),d+=F[e]);b.text+=d;b.bytes.push(...f);b.chunks.push({type:B.Alphanumeric,text:d})}else if(d===D.Byte)d=ca(a,c),b.text+=d.text,b.bytes.push(...d.bytes),b.chunks.push({type:B.Byte,bytes:d.bytes,text:d.text});\nelse if(d===D.Kanji){f=a;d=[];e=f.readBits([8,10,12][c]);for(g=0;g<e;g++)k=f.readBits(13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));b.text+=f;b.bytes.push(...d);b.chunks.push({type:B.Kanji,bytes:d,text:f})}else d===D.StructuredAppend&&b.chunks.push({type:B.StructuredAppend,currentSequence:a.readBits(4),totalSequence:a.readBits(4),parity:a.readBits(8)})}if(0===a.available()||0===a.readBits(a.available()))return b}\nclass G{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.field=a;let c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(c-d),a=0;a<this.coefficients.length;a++)this.coefficients[a]=b[d+a]}else this.coefficients=b}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}addOrSubtract(a){if(this.isZero())return a;\nif(a.isZero())return this;let b=this.coefficients;a=a.coefficients;b.length>a.length&&([b,a]=[a,b]);let c=new Uint8ClampedArray(a.length),d=a.length-b.length;for(var e=0;e<d;e++)c[e]=a[e];for(e=d;e<a.length;e++)c[e]=b[e-d]^a[e];return new G(this.field,c)}multiply(a){if(0===a)return this.field.zero;if(1===a)return this;let b=this.coefficients.length,c=new Uint8ClampedArray(b);for(let d=0;d<b;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new G(this.field,c)}multiplyPoly(a){if(this.isZero()||\na.isZero())return this.field.zero;let b=this.coefficients,c=b.length;a=a.coefficients;let d=a.length,e=new Uint8ClampedArray(c+d-1);for(let f=0;f<c;f++){let g=b[f];for(let h=0;h<d;h++)e[f+h]=H(e[f+h],this.field.multiply(g,a[h]))}return new G(this.field,e)}multiplyByMonomial(a,b){if(0>a)throw Error("Invalid degree less than 0");if(0===b)return this.field.zero;let c=this.coefficients.length;a=new Uint8ClampedArray(c+a);for(let d=0;d<c;d++)a[d]=this.field.multiply(this.coefficients[d],b);return new G(this.field,\na)}evaluateAt(a){let b=0;if(0===a)return this.getCoefficient(0);let c=this.coefficients.length;if(1===a)return this.coefficients.forEach(d=>{b^=d}),b;b=this.coefficients[0];for(let d=1;d<c;d++)b=H(this.field.multiply(a,b),this.coefficients[d]);return b}}function H(a,b){return a^b}\nclass ea{constructor(a,b,c){this.primitive=a;this.size=b;this.generatorBase=c;this.expTable=Array(this.size);this.logTable=Array(this.size);a=1;for(b=0;b<this.size;b++)this.expTable[b]=a,a*=2,a>=this.size&&(a=(a^this.primitive)&this.size-1);for(a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new G(this,Uint8ClampedArray.from([0]));this.one=new G(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]}inverse(a){if(0===\na)throw Error("Can\'t invert 0");return this.expTable[this.size-this.logTable[a]-1]}buildMonomial(a,b){if(0>a)throw Error("Invalid monomial degree less than 0");if(0===b)return this.zero;a=new Uint8ClampedArray(a+1);a[0]=b;return new G(this,a)}log(a){if(0===a)throw Error("Can\'t take log(0)");return this.logTable[a]}exp(a){return this.expTable[a]}}\nfunction fa(a,b,c,d){b.degree()<c.degree()&&([b,c]=[c,b]);let e=a.zero;for(var f=a.one;c.degree()>=d/2;){var g=b;let h=e;b=c;e=f;if(b.isZero())return null;c=g;f=a.zero;g=b.getCoefficient(b.degree());for(g=a.inverse(g);c.degree()>=b.degree()&&!c.isZero();){let k=c.degree()-b.degree(),m=a.multiply(c.getCoefficient(c.degree()),g);f=f.addOrSubtract(a.buildMonomial(k,m));c=c.addOrSubtract(b.multiplyByMonomial(k,m))}f=f.multiplyPoly(e).addOrSubtract(h);if(c.degree()>=b.degree())return null}d=f.getCoefficient(0);\nif(0===d)return null;a=a.inverse(d);return[f.multiply(a),c.multiply(a)]}\nfunction ha(a,b){let c=new Uint8ClampedArray(a.length);c.set(a);a=new ea(285,256,0);var d=new G(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=d.evaluateAt(a.exp(g+a.generatorBase));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new G(a,e);d=fa(a,a.buildMonomial(b,1),d,b);if(null===d)return null;b=d[0];g=b.degree();if(1===g)b=[b.getCoefficient(1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===b.evaluateAt(h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;e=d[1];\nf=b.length;d=Array(f);for(g=0;g<f;g++){h=a.inverse(b[g]);let k=1;for(let m=0;m<f;m++)g!==m&&(k=a.multiply(k,H(1,a.multiply(b[m],h))));d[g]=a.multiply(e.evaluateAt(h),a.inverse(k));0!==a.generatorBase&&(d[g]=a.multiply(d[g],h))}for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}\nlet I=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},\n{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,\n34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},\n{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},\n{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},\n{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,\necBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,\n74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,\nversionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,\ndataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,\ndataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},\n{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},\n{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},\n{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},\n{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},\n{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,\ndataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},\n{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,\n26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},\n{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},\n{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,\ndataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,\ndataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],\nerrorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,\nversionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},\n{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function J(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function K(a,b){return b<<1|a}\nlet ia=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,\ndataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,\nformatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,\ndataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],ja=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%\n2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2];\nfunction ka(a,b,c){c=ja[c.dataMask];let d=a.height;var e=17+4*b.versionNumber;let f=x.createEmpty(e,e);f.setRegion(0,0,9,9,!0);f.setRegion(e-8,0,8,9,!0);f.setRegion(0,e-8,9,8,!0);for(var g of b.alignmentPatternCenters)for(var h of b.alignmentPatternCenters)6===g&&6===h||6===g&&h===e-7||g===e-7&&6===h||f.setRegion(g-2,h-2,5,5,!0);f.setRegion(6,9,1,e-17,!0);f.setRegion(9,6,e-17,1,!0);6<b.versionNumber&&(f.setRegion(e-11,0,3,6,!0),f.setRegion(0,e-11,6,3,!0));b=[];h=g=0;e=!0;for(let k=d-1;0<k;k-=2){6===\nk&&k--;for(let m=0;m<d;m++){let l=e?d-1-m:m;for(let n=0;2>n;n++){let q=k-n;if(!f.get(q,l)){h++;let r=a.get(q,l);c({y:l,x:q})&&(r=!r);g=g<<1|r;8===h&&(b.push(g),g=h=0)}}}e=!e}return b}\nfunction la(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return I[c-1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=K(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let g=b-9;g>=b-11;g--)d=K(a.get(e,g),d);a=Infinity;let f;for(let g of I){if(g.infoBits===c||g.infoBits===d)return g;b=J(c,g.infoBits);b<a&&(f=g,a=b);b=J(d,g.infoBits);b<a&&(f=g,a=b)}if(3>=a)return f}\nfunction ma(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=K(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=K(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=K(a.get(8,e),c);for(e=d-8;e<d;e++)c=K(a.get(e,8),c);a=Infinity;d=null;for(let {bits:f,formatInfo:g}of ia){if(f===b||f===c)return g;e=J(b,f);e<a&&(d=g,a=e);b!==c&&(e=J(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}\nfunction na(a,b,c){let d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(h=>{for(let k=0;k<h.numBlocks;k++)e.push({numDataCodewords:h.dataCodewordsPerBlock,codewords:[]}),f+=h.dataCodewordsPerBlock+d.ecCodewordsPerBlock});if(a.length<f)return null;a=a.slice(0,f);b=d.ecBlocks[0].dataCodewordsPerBlock;for(c=0;c<b;c++)for(var g of e)g.codewords.push(a.shift());if(1<d.ecBlocks.length)for(g=d.ecBlocks[0].numBlocks,b=d.ecBlocks[1].numBlocks,c=0;c<b;c++)e[g+c].codewords.push(a.shift());for(;0<a.length;)for(let h of e)h.codewords.push(a.shift());\nreturn e}function L(a){let b=la(a);if(!b)return null;var c=ma(a);if(!c)return null;a=ka(a,b,c);var d=na(a,b,c.errorCorrectionLevel);if(!d)return null;c=d.reduce((e,f)=>e+f.numDataCodewords,0);c=new Uint8ClampedArray(c);a=0;for(let e of d){d=ha(e.codewords,e.codewords.length-e.numDataCodewords);if(!d)return null;for(let f=0;f<e.numDataCodewords;f++)c[a++]=d[f]}try{return da(c,b.versionNumber)}catch(e){return null}}\nfunction M(a,b,c,d){var e=a.x-b.x+c.x-d.x;let f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};let g=b.x-c.x;var h=d.x-c.x;let k=b.y-c.y,m=d.y-c.y;c=g*m-h*k;h=(e*m-h*f)/c;e=(g*f-e*k)/c;return{a11:b.x-a.x+h*b.x,a12:b.y-a.y+h*b.y,a13:h,a21:d.x-a.x+e*d.x,a22:d.y-a.y+e*d.y,a23:e,a31:a.x,a32:a.y,a33:1}}\nfunction oa(a,b,c,d){a=M(a,b,c,d);return{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}\nfunction pa(a,b){var c=oa({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=M(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=d.a11*c.a11+d.a21*c.a12+d.a31*c.a13,f=d.a12*c.a11+d.a22*c.a12+d.a32*c.a13,g=d.a13*c.a11+d.a23*c.a12+d.a33*c.a13,h=d.a11*c.a21+d.a21*c.a22+d.a31*c.a23,k=d.a12*c.a21+d.a22*c.a22+d.a32*c.a23,m=d.a13*c.a21+d.a23*c.a22+d.a33*c.a23,l=d.a11*c.a31+d.a21*c.a32+d.a31*c.a33,n=d.a12*c.a31+d.a22*c.a32+d.a32*c.a33,q=d.a13*\nc.a31+d.a23*c.a32+d.a33*c.a33;c=x.createEmpty(b.dimension,b.dimension);d=(r,u)=>{const p=g*r+m*u+q;return{x:(e*r+h*u+l)/p,y:(f*r+k*u+n)/p}};for(let r=0;r<b.dimension;r++)for(let u=0;u<b.dimension;u++){let p=d(u+.5,r+.5);c.set(u,r,a.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}let N=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function O(a){return a.reduce((b,c)=>b+c)}\nfunction qa(a,b,c){let d=N(a,b),e=N(b,c),f=N(a,c),g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{bottomLeft:g,topLeft:h,topRight:k}}\nfunction ra(a,b,c,d){d=(O(P(a,c,d,5))/7+O(P(a,b,d,5))/7+O(P(c,a,d,5))/7+O(P(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");b=Math.round(N(a,b)/d);a=Math.round(N(a,c)/d);a=Math.floor((b+a)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:d}}\nfunction Q(a,b,c,d){let e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);let k=Math.abs(a-g),m=Math.abs(b-h),l=Math.floor(-k/2),n=g<a?1:-1,q=h<b?1:-1,r=!0;for(let u=g,p=h;u!==a+n;u+=n){g=f?p:u;h=f?u:p;if(c.get(g,h)!==r&&(r=!r,e.push({x:g,y:h}),e.length===d+1))break;l+=m;if(0<l){if(p===b)break;p+=q;l-=k}}c=\n[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(N(e[f],e[f+1])):c.push(0);return c}function P(a,b,c,d){let e=b.y-a.y,f=b.x-a.x;b=Q(a,b,c,Math.ceil(d/2));a=Q(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function R(a,b){let c=O(a)/O(b),d=0;b.forEach((e,f)=>{d+=Math.pow(a[f]-e*c,2)});return{averageSize:c,error:d}}\nfunction S(a,b,c){try{let d=P(a,{x:-1,y:a.y},c,b.length),e=P(a,{x:a.x,y:-1},c,b.length),f=P(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=P(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=R(d,b),k=R(e,b),m=R(f,b),l=R(g,b),n=(h.averageSize+k.averageSize+m.averageSize+l.averageSize)/4;return Math.sqrt(h.error*h.error+k.error*k.error+m.error*m.error+l.error*l.error)+(Math.pow(h.averageSize-n,2)+Math.pow(k.averageSize-n,2)+Math.pow(m.averageSize-n,2)+\nMath.pow(l.averageSize-n,2))/n}catch(d){return Infinity}}function T(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}\nfunction sa(a){var b=[],c=[];let d=[];var e=[];for(let p=0;p<=a.height;p++){var f=0,g=!1;let t=[0,0,0,0,0];for(let v=-1;v<=a.width;v++){var h=a.get(v,p);if(h===g)f++;else{t=[t[1],t[2],t[3],t[4],f];f=1;g=h;var k=O(t)/7;k=Math.abs(t[0]-k)<k&&Math.abs(t[1]-k)<k&&Math.abs(t[2]-3*k)<3*k&&Math.abs(t[3]-k)<k&&Math.abs(t[4]-k)<k&&!h;var m=O(t.slice(-3))/3;h=Math.abs(t[2]-m)<m&&Math.abs(t[3]-m)<m&&Math.abs(t[4]-m)<m&&h;if(k){let z=v-t[3]-t[4],y=z-t[2];k={startX:y,endX:z,y:p};m=c.filter(w=>y>=w.bottom.startX&&\ny<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<m.length?m[0].bottom=k:c.push({top:k,bottom:k})}if(h){let z=v-t[4],y=z-t[3];h={startX:y,y:p,endX:z};k=e.filter(w=>y>=w.bottom.startX&&y<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<k.length?\nk[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(v=>v.bottom.y!==p&&2<=v.bottom.y-v.top.y));c=c.filter(v=>v.bottom.y===p);d.push(...e.filter(v=>v.bottom.y!==p));e=e.filter(v=>v.bottom.y===p)}b.push(...c.filter(p=>2<=p.bottom.y-p.top.y));d.push(...e);c=[];for(var l of b)2>l.bottom.y-l.top.y||(b=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4,e=(l.top.y+l.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[l.top.endX-l.top.startX,l.bottom.endX-l.bottom.startX,l.bottom.y-l.top.y+\n1],f=O(f)/f.length,g=S({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({score:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((p,t)=>p.score-t.score);l=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var n of c)n!==e&&f.push(Object.assign(Object.assign({},n),{score:n.score+Math.pow(n.size-e.size,2)/e.size}));f.sort((p,t)=>p.score-t.score);l.push({points:[e,f[0],f[1]],score:e.score+f[0].score+f[1].score})}l.sort((p,t)=>p.score-t.score);let {topRight:q,topLeft:r,bottomLeft:u}=qa(...l[0].points);\nl=U(a,d,q,r,u);n=[];l&&n.push({alignmentPattern:{x:l.alignmentPattern.x,y:l.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:l.dimension,topLeft:{x:r.x,y:r.y},topRight:{x:q.x,y:q.y}});l=T(a,q);b=T(a,r);c=T(a,u);(a=U(a,d,l,b,c))&&n.push({alignmentPattern:{x:a.alignmentPattern.x,y:a.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:b.x,y:b.y},topRight:{x:l.x,y:l.y},dimension:a.dimension});return 0===n.length?null:n}\nfunction U(a,b,c,d,e){let f,g;try{({dimension:f,moduleSize:g}=ra(d,c,e,a))}catch(l){return null}var h=c.x-d.x+e.x,k=c.y-d.y+e.y;c=(N(d,e)+N(d,c))/2/g;e=1-3/c;let m={x:d.x+e*(h-d.x),y:d.y+e*(k-d.y)};b=b.map(l=>{const n=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4;l=(l.top.y+l.bottom.y+1)/2;if(a.get(Math.floor(n),Math.floor(l))){var q=S({x:Math.floor(n),y:Math.floor(l)},[1,1,1],a)+N({x:n,y:l},m);return{x:n,y:l,score:q}}}).filter(l=>!!l).sort((l,n)=>l.score-n.score);return{alignmentPattern:15<=\nc&&b.length?b[0]:m,dimension:f}}\nfunction V(a){var b=sa(a);if(!b)return null;for(let e of b){b=pa(a,e);var c=b.matrix;if(null==c)c=null;else{var d=L(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let f=d+1;f<c.height;f++)c.get(d,f)!==c.get(f,d)&&(c.set(d,f,!c.get(d,f)),c.set(f,d,!c.get(f,d)));c=L(c)}}if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:b.mappingFunction(e.dimension,0),topLeftCorner:b.mappingFunction(0,0),bottomRightCorner:b.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:b.mappingFunction(0,\ne.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern},matrix:b.matrix}}return null}let ta={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function W(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}\nfunction X(a,b,c,d={}){let e=Object.create(null);W(e,ta);W(e,d);d="onlyInvert"===e.inversionAttempts||"invertFirst"===e.inversionAttempts;var f="attemptBoth"===e.inversionAttempts||d;var g=e.greyScaleWeights,h=e.canOverwriteImage,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var m=0;if(h){var l=new Uint8ClampedArray(a.buffer,m,k);m+=k}l=new A(b,c,l);if(g.useIntegerApproximation)for(var n=0;n<c;n++)for(var q=0;q<b;q++){var r=4*(n*b+q);l.set(q,n,g.red*a[r]+g.green*a[r+1]+\ng.blue*a[r+2]+128>>8)}else for(n=0;n<c;n++)for(q=0;q<b;q++)r=4*(n*b+q),l.set(q,n,g.red*a[r]+g.green*a[r+1]+g.blue*a[r+2]);g=Math.ceil(b/8);n=Math.ceil(c/8);q=g*n;if(h){var u=new Uint8ClampedArray(a.buffer,m,q);m+=q}u=new A(g,n,u);for(q=0;q<n;q++)for(r=0;r<g;r++){var p=Infinity,t=0;for(var v=0;8>v;v++)for(let w=0;8>w;w++){let aa=l.get(8*r+w,8*q+v);p=Math.min(p,aa);t=Math.max(t,aa)}v=(p+t)/2;v=Math.min(255,1.11*v);24>=t-p&&(v=p/2,0<q&&0<r&&(t=(u.get(r,q-1)+2*u.get(r-1,q)+u.get(r-1,q-1))/4,p<t&&(v=t)));\nu.set(r,q,v)}h?(q=new Uint8ClampedArray(a.buffer,m,k),m+=k,q=new x(q,b)):q=x.createEmpty(b,c);r=null;f&&(h?(a=new Uint8ClampedArray(a.buffer,m,k),r=new x(a,b)):r=x.createEmpty(b,c));for(b=0;b<n;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=n-3;h=2>b?2:b>h?h:b;k=0;for(m=-2;2>=m;m++)for(p=-2;2>=p;p++)k+=u.get(c+m,h+p);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)m=8*a+h,p=8*b+k,t=l.get(m,p),q.set(m,p,t<=c),f&&r.set(m,p,!(t<=c))}f=f?{binarized:q,inverted:r}:{binarized:q};let {binarized:z,inverted:y}=f;(f=V(d?\ny:z))||"attemptBoth"!==e.inversionAttempts&&"invertFirst"!==e.inversionAttempts||(f=V(d?z:y));return f}X.default=X;let Y="dontInvert",Z={red:77,green:150,blue:29,useIntegerApproximation:!0};\nself.onmessage=a=>{let b=a.data.id,c=a.data.data;switch(a.data.type){case "decode":(a=X(c.data,c.width,c.height,{inversionAttempts:Y,greyScaleWeights:Z}))?self.postMessage({id:b,type:"qrResult",data:a.data,cornerPoints:[a.location.topLeftCorner,a.location.topRightCorner,a.location.bottomRightCorner,a.location.bottomLeftCorner]}):self.postMessage({id:b,type:"qrResult",data:null});break;case "grayscaleWeights":Z.red=c.red;Z.green=c.green;Z.blue=c.blue;Z.useIntegerApproximation=c.useIntegerApproximation;\nbreak;case "inversionMode":switch(c){case "original":Y="dontInvert";break;case "invert":Y="onlyInvert";break;case "both":Y="attemptBoth";break;default:throw Error("Invalid inversion mode");}break;case "close":self.close()}}\n']),{type:"application/javascript"}))});var y_=X(rt(),1),w_=X(Uw(),1);var Zo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function WE(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gl(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Fo(e,...t){if(!WE(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function zw(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Gl(e.outputLen),Gl(e.blockLen)}function fi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function jw(e,t){Fo(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ko(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ql(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function kn(e,t){return e<<32-t|e>>>t}function ZE(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Da(e){return typeof e=="string"&&(e=ZE(e)),Fo(e),e}function Hw(...e){let t=0;for(let r=0;r<e.length;r++){let o=e[r];Fo(o),t+=o.length}let n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){let s=e[r];n.set(s,o),o+=s.length}return n}var ui=class{};function Dw(e){let t=r=>e().update(Da(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function di(e=32){if(Zo&&typeof Zo.getRandomValues=="function")return Zo.getRandomValues(new Uint8Array(e));if(Zo&&typeof Zo.randomBytes=="function")return Uint8Array.from(Zo.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function FE(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}function $w(e,t,n){return e&t^~e&n}function Vw(e,t,n){return e&t^e&n^t&n}var Yl=class extends ui{constructor(t,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(t),this.view=Ql(this.buffer)}update(t){fi(this),t=Da(t),Fo(t);let{view:n,buffer:r,blockLen:o}=this,s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Ql(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fi(this),jw(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,Ko(this.buffer.subarray(i)),this.padOffset>o-i&&(this.process(r,0),i=0);for(let f=i;f<o;f++)n[f]=0;FE(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=Ql(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=s,t.length=o,t.pos=a,o%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}},ur=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var KE=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),so=new Uint32Array(64),Xl=class extends Yl{constructor(t=32){super(64,t,8,!1),this.A=ur[0]|0,this.B=ur[1]|0,this.C=ur[2]|0,this.D=ur[3]|0,this.E=ur[4]|0,this.F=ur[5]|0,this.G=ur[6]|0,this.H=ur[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)so[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){let d=so[f-15],h=so[f-2],y=kn(d,7)^kn(d,18)^d>>>3,p=kn(h,17)^kn(h,19)^h>>>10;so[f]=p+so[f-7]+y+so[f-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=kn(a,6)^kn(a,11)^kn(a,25),h=u+d+$w(a,c,l)+KE[f]+so[f]|0,p=(kn(r,2)^kn(r,13)^kn(r,22))+Vw(r,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=r,r=h+p|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){Ko(so)}destroy(){this.set(0,0,0,0,0,0,0,0),Ko(this.buffer)}};var hi=Dw(()=>new Xl);var fr=hi;var eu={};Ur(eu,{is_hex:()=>hp,is_json:()=>GE,is_prefix:()=>Jl,is_safe_num:()=>pp,within_size:()=>dp});function dp(e,t){if(e.length>t)throw new TypeError("Data is larger than array size: ".concat(e.length," > ").concat(t))}function hp(e){if(e.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+e);if(e.length%2!==0)throw new Error("Length of hex string is invalid: ".concat(e.length))}function GE(e){try{JSON.parse(e)}catch(t){throw new TypeError("JSON string is invalid!")}}function pp(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}function Jl(e,t){if(e!==t)throw new TypeError("Bech32 prefix does not match: ".concat(e," !== ").concat(t))}var QE=new TextEncoder,YE=new TextDecoder;function $a(e){return QE.encode(e)}function Va(e){return YE.decode(e)}function XE(e,t){hp(e);let n=e.length/2;if(t===void 0&&(t=n),n>t)throw new TypeError("Hex string is larger than array size: ".concat(n," > ").concat(t));return t}function mp(e,t,n="le"){t=XE(e,t);let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(let a=0;a<e.length;a+=2){let c=e.substring(a,a+2),l=parseInt(c,16);r?s.setUint8(i++,l):s.setUint8(i--,l)}return new Uint8Array(o)}function gp(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}function pi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function JE(e,...t){if(!pi(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Kw(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function Gw(e){if(typeof e!="function")throw new Error("function expected");return!0}function Go(e,t){if(typeof t!="string")throw new Error("".concat(e,": string expected"));return!0}function mi(e){if(!Number.isSafeInteger(e))throw new Error("invalid integer: ".concat(e))}function nu(e){if(!Array.isArray(e))throw new Error("array expected")}function ru(e,t){if(!Kw(!0,t))throw new Error("".concat(e,": array of strings expected"))}function vp(e,t){if(!Kw(!1,t))throw new Error("".concat(e,": array of numbers expected"))}function Wa(...e){let t=s=>s,n=(s,i)=>a=>s(i(a)),r=e.map(s=>s.encode).reduceRight(n,t),o=e.map(s=>s.decode).reduce(n,t);return{encode:r,decode:o}}function su(e){let t=typeof e=="string"?e.split(""):e,n=t.length;ru("alphabet",t);let r=new Map(t.map((o,s)=>[o,s]));return{encode:o=>(nu(o),o.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error('alphabet.encode: digit index outside alphabet "'.concat(s,'". Allowed: ').concat(e));return t[s]})),decode:o=>(nu(o),o.map(s=>{Go("alphabet.decode",s);let i=r.get(s);if(i===void 0)throw new Error('Unknown letter: "'.concat(s,'". Allowed: ').concat(e));return i}))}}function iu(e=""){return Go("join",e),{encode:t=>(ru("join.decode",t),t.join(e)),decode:t=>(Go("join.decode",t),t.split(e))}}function eB(e,t="="){return mi(e),Go("padding",t),{encode(n){for(ru("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){ru("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function qw(e,t,n){if(t<2)throw new Error("convertRadix: invalid from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: invalid to=".concat(n,", base cannot be less than 2"));if(nu(e),!e.length)return[];let r=0,o=[],s=Array.from(e,a=>{if(mi(a),a<0||a>=t)throw new Error("invalid integer: ".concat(a));return a}),i=s.length;for(;;){let a=0,c=!0;for(let l=r;l<i;l++){let u=s[l],f=t*a,d=f+u;if(!Number.isSafeInteger(d)||f/t!==a||d-u!==f)throw new Error("convertRadix: carry overflow");let h=d/n;a=d%n;let y=Math.floor(h);if(s[l]=y,!Number.isSafeInteger(y)||y*n+a!==d)throw new Error("convertRadix: carry overflow");if(c)y?c=!1:r=l;else continue}if(o.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)o.push(0);return o.reverse()}var Qw=(e,t)=>t===0?e:Qw(t,e%t),ou=(e,t)=>e+(t-Qw(e,t)),tu=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function yp(e,t,n,r){if(nu(e),t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(ou(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(ou(t,n)));let o=0,s=0,i=tu[t],a=tu[n]-1,c=[];for(let l of e){if(mi(l),l>=i)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(o=o<<t|l,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)c.push((o>>s-n&a)>>>0);let u=tu[s];if(u===void 0)throw new Error("invalid carry");o&=u-1}if(o=o<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&o>0)throw new Error("Non-zero padding: ".concat(o));return r&&s>0&&c.push(o>>>0),c}function tB(e){mi(e);let t=2**8;return{encode:n=>{if(!pi(n))throw new Error("radix.encode input should be Uint8Array");return qw(Array.from(n),t,e)},decode:n=>(vp("radix.decode",n),Uint8Array.from(qw(n,e,t)))}}function xp(e,t=!1){if(mi(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ou(8,e)>32||ou(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!pi(n))throw new Error("radix2.encode input should be Uint8Array");return yp(Array.from(n),8,e,!t)},decode:n=>(vp("radix2.decode",n),Uint8Array.from(yp(n,e,8,t)))}}function Ww(e){return Gw(e),function(...t){try{return e.apply(null,t)}catch(n){}}}function nB(e,t){return mi(e),Gw(t),{encode(n){if(!pi(n))throw new Error("checksum.encode: input should be Uint8Array");let r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!pi(n))throw new Error("checksum.decode: input should be Uint8Array");let r=n.slice(0,-e),o=n.slice(-e),s=t(r).slice(0,e);for(let i=0;i<e;i++)if(s[i]!==o[i])throw new Error("Invalid checksum");return r}}}var rB=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",bp=rB?{encode(e){return JE(e),e.toBase64()},decode(e){return Go("base64",e),Uint8Array.fromBase64(e,{lastChunkHandling:"strict"})}}:Wa(xp(6),su("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),eB(6),iu(""));var kp=Wa(xp(6),su("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),iu("")),oB=e=>Wa(tB(58),su(e),iu("")),sB=oB("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var iB=e=>Wa(nB(4,t=>e(e(t))),sB),_p=iB,wp=Wa(su("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),iu("")),Zw=[996825010,642813549,513874426,1027748829,705979059];function qa(e){let t=e>>25,n=(e&33554431)<<5;for(let r=0;r<Zw.length;r++)(t>>r&1)===1&&(n^=Zw[r]);return n}function Fw(e,t,n=1){let r=e.length,o=1;for(let s=0;s<r;s++){let i=e.charCodeAt(s);if(i<33||i>126)throw new Error("Invalid prefix (".concat(e,")"));o=qa(o)^i>>5}o=qa(o);for(let s=0;s<r;s++)o=qa(o)^e.charCodeAt(s)&31;for(let s of t)o=qa(o)^s;for(let s=0;s<6;s++)o=qa(o);return o^=n,wp.encode(yp([o%tu[30]],30,5,!1))}function Yw(e){let t=e==="bech32"?1:734539939,n=xp(5),r=n.decode,o=n.encode,s=Ww(r);function i(f,d,h=90){Go("bech32.encode prefix",f),pi(d)&&(d=Array.from(d)),vp("bech32.encode",d);let y=f.length;if(y===0)throw new TypeError("Invalid prefix length ".concat(y));let p=y+7+d.length;if(h!==!1&&p>h)throw new TypeError("Length ".concat(p," exceeds limit ").concat(h));let v=f.toLowerCase(),g=Fw(v,d,t);return"".concat(v,"1").concat(wp.encode(d)).concat(g)}function a(f,d=90){Go("bech32.decode input",f);let h=f.length;if(h<8||d!==!1&&h>d)throw new TypeError("invalid string length: ".concat(h," (").concat(f,"). Expected (8..").concat(d,")"));let y=f.toLowerCase();if(f!==y&&f!==f.toUpperCase())throw new Error("String must be lowercase or uppercase");let p=y.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');let v=y.slice(0,p),g=y.slice(p+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");let m=wp.decode(g).slice(0,-6),w=Fw(v,m,t);if(!g.endsWith(w))throw new Error("Invalid checksum in ".concat(f,': expected "').concat(w,'"'));return{prefix:v,words:m}}let c=Ww(a);function l(f){let{prefix:d,words:h}=a(f,!1);return{prefix:d,words:h,bytes:r(h)}}function u(f,d){return i(f,o(d))}return{encode:i,decode:a,encodeFromBytes:u,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:s,toWords:o}}var Za=Yw("bech32"),Fa=Yw("bech32m");var Ep={encode:e=>_p(fr).encode(e),decode:e=>_p(fr).decode(e)},Bp={encode:e=>bp.encode(e),decode:e=>bp.decode(e)},Cp={encode:e=>kp.encode(e),decode:e=>kp.decode(e)},Sp={to_words:Za.toWords,to_bytes:Za.fromWords,encode:(e,t,n=!1)=>Za.encode(e,t,n),decode:(e,t=!1)=>{let{prefix:n,words:r}=Za.decode(e,t);return{prefix:n,words:r}}},Pp={to_words:Fa.toWords,to_bytes:Fa.fromWords,encode:(e,t,n=!1)=>Fa.encode(e,t,n),decode:(e,t=!1)=>{let{prefix:n,words:r}=Fa.decode(e,t);return{prefix:n,words:r}}};var cB=BigInt(0),lB=BigInt(255),Xw=BigInt(256);function uB(e){if(e<=BigInt(255))return 1;if(e<=BigInt(65535))return 2;if(e<=BigInt(0xffffffff))return 4;if(e<=BigInt("0xffffffffffffffff"))return 8;if(e<=BigInt("0xffffffffffffffffffffffffffffffff"))return 16;if(e<=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"))return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function Jw(e,t,n="be"){t===void 0&&(t=uB(e));let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(;e>cB;){let a=e&lB,c=Number(a);r?s.setUint8(i++,c):s.setUint8(i--,c),e=(e-a)/Xw}return new Uint8Array(o)}function ev(e){let t=BigInt(0);for(let n=e.length-1;n>=0;n--)t=t*Xw+BigInt(e[n]);return BigInt(t)}function tv(e){let t=e.split("").map(Number);if(t.length%8!==0)throw new Error("Binary array is invalid length: ".concat(e.length));let n=new Uint8Array(t.length/8);for(let r=0,o=0;r<t.length;r+=8,o++){let s=0;for(let i=0;i<8;i++)s|=t[r+i]<<7-i;n[o]=s}return n}function nv(e){let t=new Array(e.length*8),n=0;for(let r of e){if(r>255)throw new Error("Invalid byte value: ".concat(r,". Byte values must be between 0 and 255."));for(let o=7;o>=0;o--,n++)t[n]=r>>o&1}return t.join("")}function fB(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function rv(e,t,n="be"){t===void 0&&(t=fB(e));let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(;e>0;){let a=e&255;r?s.setUint8(i++,e):s.setUint8(i--,e),e=(e-a)/256}return new Uint8Array(o)}function ov(e){let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n],pp(t);return t}var Ga={};Ur(Ga,{bigint_replacer:()=>Np,bigint_reviver:()=>Ip,is_bytes:()=>Tp,is_hex:()=>au,join_array:()=>Ka,parse_data:()=>Lp,set_buffer:()=>Ap});function au(e){return e.match(/[^a-fA-F0-9]/)===null&&e.length%2===0}function Tp(e){return typeof e=="string"&&au(e)||typeof e=="number"||typeof e=="bigint"||e instanceof Uint8Array?!0:!!(Array.isArray(e)&&e.every(t=>typeof t=="number"))}function Ap(e,t,n="be"){t===void 0&&(t=e.length),dp(e,t);let r=new Uint8Array(t).fill(0),o=n==="be"?0:t-e.length;return r.set(e,o),r}function Ka(e){let t,n=0,r=e.reduce((s,i)=>s+i.length,0),o=new Uint8Array(r);for(t=0;t<e.length;t++){let s=e[t];o.set(s,n),n+=s.length}return o}function Np(e,t){return typeof t=="bigint"?"".concat(t,"n"):t}function Ip(e,t){return typeof t=="string"&&/^[0-9]+n$/.test(t)?BigInt(t.slice(0,-1)):t}function Lp(e,t,n){let r=e.length,o=n/t;if(n%t!==0)throw new TypeError("Invalid parameters: ".concat(n," % ").concat(t," !== 0"));if(r!==n)throw new TypeError("Invalid data stream: ".concat(r," !== ").concat(n));if(r%t!==0)throw new TypeError("Invalid data stream: ".concat(r," % ").concat(t," !== 0"));let s=new Array(o);for(let i=0;i<o;i++){let a=i*t;s[i]=e.subarray(a,a+t)}return s}function cu(e,t,n){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Ap(e,t,n);if(Array.isArray(e)){let r=e.map(o=>cu(o,t,n));return Ka(r)}else{if(typeof e=="string")return mp(e,t,n);if(typeof e=="bigint")return Jw(e,t,n);if(typeof e=="number")return rv(e,t,n);if(typeof e=="boolean")return Uint8Array.of(e?1:0)}throw new TypeError("Unsupported format:"+typeof e)}var J=class J extends Uint8Array{static random(t=32){let n=di(t);return new J(n,t)}static now(t=4){let n=Math.floor(Date.now()/1e3);return new J(n,t)}constructor(t,n,r){if(t instanceof J&&n===void 0)return t;let o=cu(t,n,r);super(o)}get arr(){return[...this]}get num(){return this.to_num()}get big(){return this.to_big()}get str(){return this.to_str()}get hex(){return this.to_hex()}get raw(){return new Uint8Array(this)}get bin(){return this.to_bin()}get b58chk(){return this.to_b58chk()}get base64(){return this.to_base64()}get b64url(){return this.to_b64url()}get digest(){return this.to_hash()}get id(){return this.to_hash().hex}get stream(){return new Rp(this)}to_num(t="be"){let n=t==="be"?this.reverse():this;return ov(n)}to_big(t="be"){let n=t==="be"?this.reverse():this;return ev(n)}to_bin(){return nv(this)}to_hash(){let t=fr(this);return new J(t)}to_json(t){t===void 0&&(t=Ip);let n=Va(this);return JSON.parse(n,t)}to_bech32(t,n){let{encode:r,to_words:o}=Sp,s=o(this);return r(t,s,n)}to_bech32m(t,n){let{encode:r,to_words:o}=Pp,s=o(this);return r(t,s,n)}to_str(){return Va(this)}to_hex(){return gp(this)}to_bytes(){return new Uint8Array(this)}to_b58chk(){return Ep.encode(this)}to_base64(){return Bp.encode(this)}to_b64url(){return Cp.encode(this)}append(t){return J.join([this,J.bytes(t)])}equals(t){return Op(t).hex===this.hex}prepend(t){return J.join([J.bytes(t),this])}reverse(){let t=new Uint8Array(this).reverse();return new J(t)}slice(t,n){let r=new Uint8Array(this).slice(t,n);return new J(r)}set(t,n){this.set(t,n)}subarray(t,n){let r=new Uint8Array(this).subarray(t,n);return new J(r)}write(t,n){let r=J.bytes(t);this.set(r,n)}add_varint(t){let n=J.calc_varint(this.length,t);return J.join([n,this])}toJSON(){return this.hex}toString(){return this.hex}static from(t){return new J(Uint8Array.from(t))}static of(...t){return new J(Uint8Array.of(...t))}static join(t){let n=t.map(o=>J.bytes(o)),r=Ka(n);return new J(r)}static sort(t,n){let r=t.map(o=>Op(o,n).hex);return r.sort(),r.map(o=>J.hex(o,n))}static calc_varint(t,n){if(t<253)return J.num(t,1);if(t<65536)return J.of(253,...J.num(t,2,n));if(t<4294967296)return J.of(254,...J.num(t,4,n));if(BigInt(t)<BigInt(0x10000000000000000))return J.of(255,...J.num(t,8,n));throw new Error("Value is too large: ".concat(t))}};J.num=hB,J.big=mB,J.bin=pB,J.raw=gB,J.str=yB,J.hex=wB,J.bytes=Op,J.json=vB,J.base64=xB,J.b64url=bB,J.bech32=kB,J.bech32m=_B,J.b58chk=EB,J.encode=$a,J.decode=Va,J.parse=BB,J.is_bytes=Tp,J.is_hex=au,J.is_equal=CB;var P=J;function hB(e,t,n){return new P(e,t,n)}function pB(e,t,n){return new P(tv(e),t,n)}function mB(e,t,n){return new P(e,t,n)}function gB(e,t,n){return new P(e,t,n)}function yB(e,t,n){return new P($a(e),t,n)}function wB(e,t,n){return new P(e,t,n)}function vB(e,t){t===void 0&&(t=Np);let n=JSON.stringify(e,t);return new P($a(n))}function xB(e){return new P(Bp.decode(e))}function bB(e){return new P(Cp.decode(e))}function kB(e,t,n){let{decode:r,to_bytes:o}=Sp,{prefix:s,words:i}=r(e,t),a=o(i);return typeof n=="string"&&Jl(s,n),new P(a)}function _B(e,t,n){let{decode:r,to_bytes:o}=Pp,{prefix:s,words:i}=r(e,t),a=o(i);return typeof n=="string"&&Jl(s,n),new P(a)}function EB(e){return new P(Ep.decode(e))}function BB(e,t,n){let r=cu(e);return Lp(r,t,n).map(s=>P.bytes(s))}function CB(e,t){return new P(e).hex===new P(t).hex}function Op(e,t,n){return new P(e,t,n)}var Rp=class{constructor(t){this.data=P.bytes(t),this.size=this.data.length}peek(t){if(t>this.size)throw new Error("Size greater than stream: ".concat(t," > ").concat(this.size));return new P(this.data.slice(0,t))}read(t){let n=this.peek(t);return this.data=this.data.slice(t),this.size=this.data.length,n}read_varint(t){let n=this.read(1).num;switch(!0){case(n>=0&&n<253):return n;case n===253:return this.read(2).to_num(t);case n===254:return this.read(4).to_num(t);case n===255:return this.read(8).to_num(t);default:throw new Error("Varint is out of range: ".concat(n))}}};var lu=class extends ui{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,zw(t);let r=Da(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),Ko(s)}update(t){return fi(this),this.iHash.update(t),this}digestInto(t){fi(this),Fo(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Mp=(e,t,n)=>new lu(e,t).update(n).digest();Mp.create=(e,t)=>new lu(e,t);var Hp=BigInt(0),jp=BigInt(1);function gi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hr(e){if(!gi(e))throw new Error("Uint8Array expected")}function yi(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Qa(e){let t=e.toString(16);return t.length&1?"0"+t:t}function av(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Hp:BigInt("0x"+e)}var cv=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",SB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function wi(e){if(hr(e),cv)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=SB[e[n]];return t}var dr={_0:48,_9:57,A:65,F:70,a:97,f:102};function sv(e){if(e>=dr._0&&e<=dr._9)return e-dr._0;if(e>=dr.A&&e<=dr.F)return e-(dr.A-10);if(e>=dr.a&&e<=dr.f)return e-(dr.a-10)}function Ya(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(cv)return Uint8Array.fromHex(e);let t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){let i=sv(e.charCodeAt(s)),a=sv(e.charCodeAt(s+1));if(i===void 0||a===void 0){let c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[o]=i*16+a}return r}function At(e){return av(wi(e))}function Dp(e){return hr(e),av(wi(Uint8Array.from(e).reverse()))}function jn(e,t){return Ya(e.toString(16).padStart(t*2,"0"))}function $p(e,t){return jn(e,t).reverse()}function Me(e,t,n){let r;if(typeof t=="string")try{r=Ya(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(gi(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=r.length;if(typeof n=="number"&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return r}function vt(...e){let t=0;for(let r=0;r<e.length;r++){let o=e[r];hr(o),t+=o.length}let n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){let s=e[r];n.set(s,o),o+=s.length}return n}function uu(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}var Up=e=>typeof e=="bigint"&&Hp<=e;function Qo(e,t,n){return Up(e)&&Up(t)&&Up(n)&&t<=e&&e<n}function pr(e,t,n,r){if(!Qo(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function lv(e){let t;for(t=0;e>Hp;e>>=jp,t+=1);return t}var Yo=e=>(jp<<BigInt(e))-jp,zp=e=>new Uint8Array(e),iv=e=>Uint8Array.from(e);function uv(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=zp(e),o=zp(e),s=0,i=()=>{r.fill(1),o.fill(0),s=0},a=(...f)=>n(o,r,...f),c=(f=zp(0))=>{o=a(iv([0]),f),r=a(),f.length!==0&&(o=a(iv([1]),f),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<t;){r=a();let h=r.slice();d.push(h),f+=r.length}return vt(...d)};return(f,d)=>{i(),c(f);let h;for(;!(h=d(l()));)c();return i(),h}}var PB={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||gi(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function mr(e,t,n={}){let r=(o,s,i)=>{let a=PB[s];if(typeof a!="function")throw new Error("invalid validator function");let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+c)};for(let[o,s]of Object.entries(t))r(o,s,!1);for(let[o,s]of Object.entries(n))r(o,s,!0);return e}function Vp(e){let t=new WeakMap;return(n,...r)=>{let o=t.get(n);if(o!==void 0)return o;let s=e(n,...r);return t.set(n,s),s}}var xt=BigInt(0),lt=BigInt(1),Xo=BigInt(2),TB=BigInt(3),dv=BigInt(4),hv=BigInt(5),pv=BigInt(8);function Te(e,t){let n=e%t;return n>=xt?n:t+n}function $t(e,t,n){let r=e;for(;t-- >xt;)r*=r,r%=n;return r}function fu(e,t){if(e===xt)throw new Error("invert: expected non-zero number");if(t<=xt)throw new Error("invert: expected positive modulus, got "+t);let n=Te(e,t),r=t,o=xt,s=lt,i=lt,a=xt;for(;n!==xt;){let l=r/n,u=r%n,f=o-i*l,d=s-a*l;r=n,n=u,o=i,s=a,i=f,a=d}if(r!==lt)throw new Error("invert: does not exist");return Te(o,t)}function mv(e,t){let n=(e.ORDER+lt)/dv,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function AB(e,t){let n=(e.ORDER-hv)/pv,r=e.mul(t,Xo),o=e.pow(r,n),s=e.mul(t,o),i=e.mul(e.mul(s,Xo),o),a=e.mul(s,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function NB(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-lt,n=0;for(;t%Xo===xt;)t/=Xo,n++;let r=Xo,o=gr(e);for(;fv(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return mv;let s=o.pow(r,t),i=(t+lt)/Xo;return function(c,l){if(c.is0(l))return l;if(fv(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,s),d=c.pow(l,t),h=c.pow(l,i);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let y=1,p=c.sqr(d);for(;!c.eql(p,c.ONE);)if(y++,p=c.sqr(p),y===u)throw new Error("Cannot find square root");let v=lt<<BigInt(u-y-1),g=c.pow(f,v);u=y,f=c.sqr(g),d=c.mul(d,f),h=c.mul(h,g)}return h}}function IB(e){return e%dv===TB?mv:e%pv===hv?AB:NB(e)}var LB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qp(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=LB.reduce((r,o)=>(r[o]="function",r),t);return mr(e,n)}function OB(e,t,n){if(n<xt)throw new Error("invalid exponent, negatives unsupported");if(n===xt)return e.ONE;if(n===lt)return t;let r=e.ONE,o=t;for(;n>xt;)n&lt&&(r=e.mul(r,o)),o=e.sqr(o),n>>=lt;return r}function du(e,t,n=!1){let r=new Array(t.length).fill(n?e.ZERO:void 0),o=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),s=e.inv(o);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),s),r}function fv(e,t){let n=(e.ORDER-lt)/Xo,r=e.pow(t,n),o=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!o&&!s&&!i)throw new Error("invalid Legendre symbol result");return o?1:s?0:-1}function Wp(e,t){t!==void 0&&Gl(t);let n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function gr(e,t,n=!1,r={}){if(e<=xt)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Wp(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:s,MASK:Yo(o),ZERO:xt,ONE:lt,create:c=>Te(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return xt<=c&&c<e},is0:c=>c===xt,isOdd:c=>(c&lt)===lt,neg:c=>Te(-c,e),eql:(c,l)=>c===l,sqr:c=>Te(c*c,e),add:(c,l)=>Te(c+l,e),sub:(c,l)=>Te(c-l,e),mul:(c,l)=>Te(c*l,e),pow:(c,l)=>OB(a,c,l),div:(c,l)=>Te(c*fu(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>fu(c,e),sqrt:r.sqrt||(c=>(i||(i=IB(e)),i(a,c))),toBytes:c=>n?$p(c,s):jn(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Dp(c):At(c)},invertBatch:c=>du(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function gv(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Zp(e){let t=gv(e);return t+Math.ceil(t/2)}function yv(e,t,n=!1){let r=e.length,o=gv(t),s=Zp(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);let i=n?Dp(e):At(e),a=Te(i,t-lt)+lt;return n?$p(a,o):jn(a,o)}var wv=BigInt(0),Yp=BigInt(1);function Fp(e,t){let n=t.negate();return e?n:t}function xv(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Kp(e,t){xv(e,t);let n=Math.ceil(t/e)+1,r=2**(e-1),o=2**e,s=Yo(e),i=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:o,shiftBy:i}}function vv(e,t,n){let{windowSize:r,mask:o,maxNumber:s,shiftBy:i}=n,a=Number(e&o),c=e>>i;a>r&&(a-=s,c+=Yp);let l=t*r,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function RB(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function MB(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}var Gp=new WeakMap,bv=new WeakMap;function Qp(e){return bv.get(e)||1}function kv(e,t){return{constTimeNegate:Fp,hasPrecomputes(n){return Qp(n)!==1},unsafeLadder(n,r,o=e.ZERO){let s=n;for(;r>wv;)r&Yp&&(o=o.add(s)),s=s.double(),r>>=Yp;return o},precomputeWindow(n,r){let{windows:o,windowSize:s}=Kp(r,t),i=[],a=n,c=a;for(let l=0;l<o;l++){c=a,i.push(c);for(let u=1;u<s;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,o){let s=e.ZERO,i=e.BASE,a=Kp(n,t);for(let c=0;c<a.windows;c++){let{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:y}=vv(o,c,a);o=l,f?i=i.add(Fp(h,r[y])):s=s.add(Fp(d,r[u]))}return{p:s,f:i}},wNAFUnsafe(n,r,o,s=e.ZERO){let i=Kp(n,t);for(let a=0;a<i.windows&&o!==wv;a++){let{nextN:c,offset:l,isZero:u,isNeg:f}=vv(o,a,i);if(o=c,!u){let d=r[l];s=s.add(f?d.negate():d)}}return s},getPrecomputes(n,r,o){let s=Gp.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Gp.set(r,o(s))),s},wNAFCached(n,r,o){let s=Qp(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){let i=Qp(n);return i===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,n,o),r,s)},setWindowSize(n,r){xv(r,t),bv.set(n,r),Gp.delete(n)}}}function _v(e,t,n,r){RB(n,e),MB(r,t);let o=n.length,s=r.length;if(o!==s)throw new Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=lv(BigInt(o)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=Yo(c),u=new Array(Number(l)+1).fill(i),f=Math.floor((t.BITS-1)/c)*c,d=i;for(let h=f;h>=0;h-=c){u.fill(i);for(let p=0;p<s;p++){let v=r[p],g=Number(v>>BigInt(h)&l);u[g]=u[g].add(n[p])}let y=i;for(let p=u.length-1,v=i;p>0;p--)v=v.add(u[p]),y=y.add(v);if(d=d.add(y),h!==0)for(let p=0;p<c;p++)d=d.double()}return d}function Xp(e){return qp(e.Fp),mr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(L(b(b({},Wp(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function Ev(e){e.lowS!==void 0&&yi("lowS",e.lowS),e.prehash!==void 0&&yi("prehash",e.prehash)}function UB(e){let t=Xp(e);mr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze(b({},t))}var tm=class extends Error{constructor(t=""){super(t)}},yr={Err:tm,_tlv:{encode:(e,t)=>{let{Err:n}=yr;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");let r=t.length/2,o=Qa(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");let s=r>127?Qa(o.length/2|128):"";return Qa(e)+s+o+t},decode(e,t){let{Err:n}=yr,r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");let o=t[r++],s=!!(o&128),i=0;if(!s)i=o;else{let c=o&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");let l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}let a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){let{Err:t}=yr;if(e<wr)throw new t("integer: negative integers are not allowed");let n=Qa(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){let{Err:t}=yr;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return At(e)}},toSig(e){let{Err:t,_int:n,_tlv:r}=yr,o=Me("signature",e),{v:s,l:i}=r.decode(48,o);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){let{_tlv:t,_int:n}=yr,r=t.encode(2,n.encode(e.r)),o=t.encode(2,n.encode(e.s)),s=r+o;return t.encode(48,s)}};function Jp(e,t){return wi(jn(e,t))}var wr=BigInt(0),Ge=BigInt(1),HN=BigInt(2),em=BigInt(3),zB=BigInt(4);function jB(e){let t=UB(e),{Fp:n}=t,r=gr(t.n,t.nBitLength),o=t.toBytes||((w,x,k)=>{let _=x.toAffine();return vt(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=t.fromBytes||(w=>{let x=w.subarray(1),k=n.fromBytes(x.subarray(0,n.BYTES)),_=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:k,y:_}});function i(w){let{a:x,b:k}=t,_=n.sqr(w),C=n.mul(_,w);return n.add(n.add(C,n.mul(w,x)),k)}function a(w,x){let k=n.sqr(x),_=i(w);return n.eql(k,_)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let c=n.mul(n.pow(t.a,em),zB),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return Qo(w,Ge,t.n)}function f(w){let{allowedPrivateKeyLengths:x,nByteLength:k,wrapPrivateKey:_,n:C}=t;if(x&&typeof w!="bigint"){if(gi(w)&&(w=wi(w)),typeof w!="string"||!x.includes(w.length))throw new Error("invalid private key");w=w.padStart(k*2,"0")}let S;try{S=typeof w=="bigint"?w:At(Me("private key",w,k))}catch(M){throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof w)}return _&&(S=Te(S,C)),pr("private key",S,Ge,C),S}function d(w){if(!(w instanceof p))throw new Error("ProjectivePoint expected")}let h=Vp((w,x)=>{let{px:k,py:_,pz:C}=w;if(n.eql(C,n.ONE))return{x:k,y:_};let S=w.is0();x==null&&(x=S?n.ONE:n.inv(C));let M=n.mul(k,x),A=n.mul(_,x),I=n.mul(C,x);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:M,y:A}}),y=Vp(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}let{x,y:k}=w.toAffine();if(!n.isValid(x)||!n.isValid(k))throw new Error("bad point: x or y not FE");if(!a(x,k))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(x,k,_){if(x==null||!n.isValid(x))throw new Error("x required");if(k==null||!n.isValid(k)||n.is0(k))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");this.px=x,this.py=k,this.pz=_,Object.freeze(this)}static fromAffine(x){let{x:k,y:_}=x||{};if(!x||!n.isValid(k)||!n.isValid(_))throw new Error("invalid affine point");if(x instanceof p)throw new Error("projective point not allowed");let C=S=>n.eql(S,n.ZERO);return C(k)&&C(_)?p.ZERO:new p(k,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let k=du(n,x.map(_=>_.pz));return x.map((_,C)=>_.toAffine(k[C])).map(p.fromAffine)}static fromHex(x){let k=p.fromAffine(s(Me("pointHex",x)));return k.assertValidity(),k}static fromPrivateKey(x){return p.BASE.multiply(f(x))}static msm(x,k){return _v(p,r,x,k)}_setWindowSize(x){m.setWindowSize(this,x)}assertValidity(){y(this)}hasEvenY(){let{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);let{px:k,py:_,pz:C}=this,{px:S,py:M,pz:A}=x,I=n.eql(n.mul(k,A),n.mul(S,C)),H=n.eql(n.mul(_,A),n.mul(M,C));return I&&H}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){let{a:x,b:k}=t,_=n.mul(k,em),{px:C,py:S,pz:M}=this,A=n.ZERO,I=n.ZERO,H=n.ZERO,z=n.mul(C,C),G=n.mul(S,S),E=n.mul(M,M),B=n.mul(C,S);return B=n.add(B,B),H=n.mul(C,M),H=n.add(H,H),A=n.mul(x,H),I=n.mul(_,E),I=n.add(A,I),A=n.sub(G,I),I=n.add(G,I),I=n.mul(A,I),A=n.mul(B,A),H=n.mul(_,H),E=n.mul(x,E),B=n.sub(z,E),B=n.mul(x,B),B=n.add(B,H),H=n.add(z,z),z=n.add(H,z),z=n.add(z,E),z=n.mul(z,B),I=n.add(I,z),E=n.mul(S,M),E=n.add(E,E),z=n.mul(E,B),A=n.sub(A,z),H=n.mul(E,G),H=n.add(H,H),H=n.add(H,H),new p(A,I,H)}add(x){d(x);let{px:k,py:_,pz:C}=this,{px:S,py:M,pz:A}=x,I=n.ZERO,H=n.ZERO,z=n.ZERO,G=t.a,E=n.mul(t.b,em),B=n.mul(k,S),N=n.mul(_,M),U=n.mul(C,A),T=n.add(k,_),j=n.add(S,M);T=n.mul(T,j),j=n.add(B,N),T=n.sub(T,j),j=n.add(k,C);let Z=n.add(S,A);return j=n.mul(j,Z),Z=n.add(B,U),j=n.sub(j,Z),Z=n.add(_,C),I=n.add(M,A),Z=n.mul(Z,I),I=n.add(N,U),Z=n.sub(Z,I),z=n.mul(G,j),I=n.mul(E,U),z=n.add(I,z),I=n.sub(N,z),z=n.add(N,z),H=n.mul(I,z),N=n.add(B,B),N=n.add(N,B),U=n.mul(G,U),j=n.mul(E,j),N=n.add(N,U),U=n.sub(B,U),U=n.mul(G,U),j=n.add(j,U),B=n.mul(N,j),H=n.add(H,B),B=n.mul(Z,j),I=n.mul(T,I),I=n.sub(I,B),B=n.mul(T,N),z=n.mul(Z,z),z=n.add(z,B),new p(I,H,z)}subtract(x){return this.add(x.negate())}is0(){return this.equals(p.ZERO)}wNAF(x){return m.wNAFCached(this,x,p.normalizeZ)}multiplyUnsafe(x){let{endo:k,n:_}=t;pr("scalar",x,wr,_);let C=p.ZERO;if(x===wr)return C;if(this.is0()||x===Ge)return this;if(!k||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,x,p.normalizeZ);let{k1neg:S,k1:M,k2neg:A,k2:I}=k.splitScalar(x),H=C,z=C,G=this;for(;M>wr||I>wr;)M&Ge&&(H=H.add(G)),I&Ge&&(z=z.add(G)),G=G.double(),M>>=Ge,I>>=Ge;return S&&(H=H.negate()),A&&(z=z.negate()),z=new p(n.mul(z.px,k.beta),z.py,z.pz),H.add(z)}multiply(x){let{endo:k,n:_}=t;pr("scalar",x,Ge,_);let C,S;if(k){let{k1neg:M,k1:A,k2neg:I,k2:H}=k.splitScalar(x),{p:z,f:G}=this.wNAF(A),{p:E,f:B}=this.wNAF(H);z=m.constTimeNegate(M,z),E=m.constTimeNegate(I,E),E=new p(n.mul(E.px,k.beta),E.py,E.pz),C=z.add(E),S=G.add(B)}else{let{p:M,f:A}=this.wNAF(x);C=M,S=A}return p.normalizeZ([C,S])[0]}multiplyAndAddUnsafe(x,k,_){let C=p.BASE,S=(A,I)=>I===wr||I===Ge||!A.equals(C)?A.multiplyUnsafe(I):A.multiply(I),M=S(this,k).add(S(x,_));return M.is0()?void 0:M}toAffine(x){return h(this,x)}isTorsionFree(){let{h:x,isTorsionFree:k}=t;if(x===Ge)return!0;if(k)return k(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:k}=t;return x===Ge?this:k?k(p,this):this.multiplyUnsafe(t.h)}toRawBytes(x=!0){return yi("isCompressed",x),this.assertValidity(),o(p,this,x)}toHex(x=!0){return yi("isCompressed",x),wi(this.toRawBytes(x))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);let{endo:v,nBitLength:g}=t,m=kv(p,v?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:u}}function HB(e){let t=Xp(e);return mr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(b({lowS:!0},t))}function Bv(e){let t=HB(e),{Fp:n,n:r,nByteLength:o,nBitLength:s}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(E){return Te(E,r)}function l(E){return fu(E,r)}let{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:h}=jB(L(b({},t),{toBytes(E,B,N){let U=B.toAffine(),T=n.toBytes(U.x),j=vt;return yi("isCompressed",N),N?j(Uint8Array.from([B.hasEvenY()?2:3]),T):j(Uint8Array.from([4]),T,n.toBytes(U.y))},fromBytes(E){let B=E.length,N=E[0],U=E.subarray(1);if(B===i&&(N===2||N===3)){let T=At(U);if(!Qo(T,Ge,n.ORDER))throw new Error("Point is not on curve");let j=d(T),Z;try{Z=n.sqrt(j)}catch(ge){let me=ge instanceof Error?": "+ge.message:"";throw new Error("Point is not on curve"+me)}let K=(Z&Ge)===Ge;return(N&1)===1!==K&&(Z=n.neg(Z)),{x:T,y:Z}}else if(B===a&&N===4){let T=n.fromBytes(U.subarray(0,n.BYTES)),j=n.fromBytes(U.subarray(n.BYTES,2*n.BYTES));return{x:T,y:j}}else{let T=i,j=a;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+j+", got "+B)}}}));function y(E){let B=r>>Ge;return E>B}function p(E){return y(E)?c(-E):E}let v=(E,B,N)=>At(E.slice(B,N));class g{constructor(B,N,U){pr("r",B,Ge,r),pr("s",N,Ge,r),this.r=B,this.s=N,U!=null&&(this.recovery=U),Object.freeze(this)}static fromCompact(B){let N=o;return B=Me("compactSignature",B,N*2),new g(v(B,0,N),v(B,N,2*N))}static fromDER(B){let{r:N,s:U}=yr.toSig(Me("DER",B));return new g(N,U)}assertValidity(){}addRecoveryBit(B){return new g(this.r,this.s,B)}recoverPublicKey(B){let{r:N,s:U,recovery:T}=this,j=C(Me("msgHash",B));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");let Z=T===2||T===3?N+t.n:N;if(Z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(T&1)===0?"02":"03",pe=u.fromHex(K+Jp(Z,n.BYTES)),ge=l(Z),me=c(-j*ge),ze=c(U*ge),ke=u.BASE.multiplyAndAddUnsafe(pe,me,ze);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ya(this.toDERHex())}toDERHex(){return yr.hexFromSig(this)}toCompactRawBytes(){return Ya(this.toCompactHex())}toCompactHex(){let B=o;return Jp(this.r,B)+Jp(this.s,B)}}let m={isValidPrivateKey(E){try{return f(E),!0}catch(B){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let E=Zp(t.n);return yv(t.randomBytes(E),t.n)},precompute(E=8,B=u.BASE){return B._setWindowSize(E),B.multiply(BigInt(3)),B}};function w(E,B=!0){return u.fromPrivateKey(E).toRawBytes(B)}function x(E){if(typeof E=="bigint")return!1;if(E instanceof u)return!0;let N=Me("key",E).length,U=n.BYTES,T=U+1,j=2*U+1;if(!(t.allowedPrivateKeyLengths||o===T))return N===T||N===j}function k(E,B,N=!0){if(x(E)===!0)throw new Error("first arg must be private key");if(x(B)===!1)throw new Error("second arg must be public key");return u.fromHex(B).multiply(f(E)).toRawBytes(N)}let _=t.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");let B=At(E),N=E.length*8-s;return N>0?B>>BigInt(N):B},C=t.bits2int_modN||function(E){return c(_(E))},S=Yo(s);function M(E){return pr("num < 2^"+s,E,wr,S),jn(E,o)}function A(E,B,N=I){if(["recovered","canonical"].some(Ne=>Ne in N))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:T}=t,{lowS:j,prehash:Z,extraEntropy:K}=N;j==null&&(j=!0),E=Me("msgHash",E),Ev(N),Z&&(E=Me("prehashed msgHash",U(E)));let pe=C(E),ge=f(B),me=[M(ge),M(pe)];if(K!=null&&K!==!1){let Ne=K===!0?T(n.BYTES):K;me.push(Me("extraEntropy",Ne))}let ze=vt(...me),ke=pe;function Et(Ne){let Rt=_(Ne);if(!h(Rt))return;let Ls=l(Rt),Ft=u.BASE.multiply(Rt).toAffine(),je=c(Ft.x);if(je===wr)return;let Kt=c(Ls*c(ke+je*ge));if(Kt===wr)return;let Mr=(Ft.x===je?0:2)|Number(Ft.y&Ge),Xn=Kt;return j&&y(Kt)&&(Xn=p(Kt),Mr^=1),new g(je,Xn,Mr)}return{seed:ze,k2sig:Et}}let I={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};function z(E,B,N=I){let{seed:U,k2sig:T}=A(E,B,N),j=t;return uv(j.hash.outputLen,j.nByteLength,j.hmac)(U,T)}u.BASE._setWindowSize(8);function G(E,B,N,U=H){var Mr;let T=E;B=Me("msgHash",B),N=Me("publicKey",N);let{lowS:j,prehash:Z,format:K}=U;if(Ev(U),"strict"in U)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");let pe=typeof T=="string"||gi(T),ge=!pe&&!K&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!pe&&!ge)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let me,ze;try{if(ge&&(me=new g(T.r,T.s)),pe){try{K!=="compact"&&(me=g.fromDER(T))}catch(Xn){if(!(Xn instanceof yr.Err))throw Xn}!me&&K!=="der"&&(me=g.fromCompact(T))}ze=u.fromHex(N)}catch(Xn){return!1}if(!me||j&&me.hasHighS())return!1;Z&&(B=t.hash(B));let{r:ke,s:Et}=me,Ne=C(B),Rt=l(Et),Ls=c(Ne*Rt),Ft=c(ke*Rt),je=(Mr=u.BASE.multiplyAndAddUnsafe(ze,Ls,Ft))==null?void 0:Mr.toAffine();return je?c(je.x)===ke:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:k,sign:z,verify:G,ProjectivePoint:u,Signature:g,utils:m}}function DB(e){return{hash:e,hmac:(t,...n)=>Mp(e,t,Hw(...n)),randomBytes:di}}function Cv(e,t){let n=r=>Bv(b(b({},e),DB(r)));return L(b({},n(t)),{create:n})}var $B=At;function io(e,t){if(Xa(e),Xa(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);let n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function VB(e,t){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Xa(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function qB(e,t,n,r){hr(e),hr(t),Xa(n),t.length>255&&(t=r(vt(uu("H2C-OVERSIZE-DST-"),t)));let{outputLen:o,blockLen:s}=r,i=Math.ceil(n/o);if(n>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=vt(t,io(t.length,1)),c=io(0,s),l=io(n,2),u=new Array(i),f=r(vt(c,e,l,io(0,1),a));u[0]=r(vt(f,io(1,1),a));for(let h=1;h<=i;h++){let y=[VB(f,u[h-1]),io(h+1,1),a];u[h]=r(vt(...y))}return vt(...u).slice(0,n)}function WB(e,t,n,r,o){if(hr(e),hr(t),Xa(n),t.length>255){let s=Math.ceil(2*r/8);t=o.create({dkLen:s}).update(uu("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(io(n,2)).update(t).update(io(t.length,1)).digest()}function hu(e,t,n){mr(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:r,k:o,m:s,hash:i,expand:a,DST:c}=n;hr(e),Xa(t);let l=typeof c=="string"?uu(c):c,u=r.toString(2).length,f=Math.ceil((u+o)/8),d=t*s*f,h;if(a==="xmd")h=qB(e,l,d,i);else if(a==="xof")h=WB(e,l,d,o,i);else if(a==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');let y=new Array(t);for(let p=0;p<t;p++){let v=new Array(s);for(let g=0;g<s;g++){let m=f*(g+p*s),w=h.subarray(m,m+f);v[g]=Te($B(w),r)}y[p]=v}return y}var tc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),im=BigInt(0),Ja=BigInt(1),mu=BigInt(2),Sv=(e,t)=>(e+t/mu)/t;function Tv(e){let t=tc,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=$t(u,n,t)*u%t,d=$t(f,n,t)*u%t,h=$t(d,mu,t)*l%t,y=$t(h,o,t)*h%t,p=$t(y,s,t)*y%t,v=$t(p,a,t)*p%t,g=$t(v,c,t)*v%t,m=$t(g,a,t)*p%t,w=$t(m,n,t)*u%t,x=$t(w,i,t)*y%t,k=$t(x,r,t)*l%t,_=$t(k,mu,t);if(!rm.eql(rm.sqr(_),e))throw new Error("Cannot find square root");return _}var rm=gr(tc,void 0,void 0,{sqrt:Tv}),Nt=Cv({a:im,b:BigInt(7),Fp:rm,n:pu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=pu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ja*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),a=Sv(s*e,t),c=Sv(-r*e,t),l=Te(e-a*n-c*o,t),u=Te(-a*r-c*s,t),f=l>i,d=u>i;if(f&&(l=t-l),d&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},hi),Pv={};function gu(e,...t){let n=Pv[e];if(n===void 0){let r=hi(Uint8Array.from(e,o=>o.charCodeAt(0)));n=vt(r,r),Pv[e]=n}return hi(vt(n,...t))}var am=e=>e.toRawBytes(!0).slice(1),om=e=>jn(e,32),nm=e=>Te(e,tc),ec=e=>Te(e,pu),cm=Nt.ProjectivePoint,ZB=(e,t,n)=>cm.BASE.multiplyAndAddUnsafe(e,t,n);function sm(e){let t=Nt.utils.normPrivateKeyToScalar(e),n=cm.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:ec(-t),bytes:am(n)}}function Av(e){pr("x",e,Ja,tc);let t=nm(e*e),n=nm(t*e+BigInt(7)),r=Tv(n);r%mu!==im&&(r=nm(-r));let o=new cm(e,r,Ja);return o.assertValidity(),o}var vi=At;function Nv(...e){return ec(vi(gu("BIP0340/challenge",...e)))}function FB(e){return sm(e).bytes}function KB(e,t,n=di(32)){let r=Me("message",e),{bytes:o,scalar:s}=sm(t),i=Me("auxRand",n,32),a=om(s^vi(gu("BIP0340/aux",i))),c=gu("BIP0340/nonce",a,o,r),l=ec(vi(c));if(l===im)throw new Error("sign failed: k is zero");let{bytes:u,scalar:f}=sm(l),d=Nv(u,o,r),h=new Uint8Array(64);if(h.set(u,0),h.set(om(ec(f+d*s)),32),!Iv(h,r,o))throw new Error("sign: Invalid signature produced");return h}function Iv(e,t,n){let r=Me("signature",e,64),o=Me("message",t),s=Me("publicKey",n,32);try{let i=Av(vi(s)),a=vi(r.subarray(0,32));if(!Qo(a,Ja,tc))return!1;let c=vi(r.subarray(32,64));if(!Qo(c,Ja,pu))return!1;let l=Nv(om(a),am(i),o),u=ZB(i,c,ec(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(i){return!1}}var Jo={getPublicKey:FB,sign:KB,verify:Iv,utils:{randomPrivateKey:Nt.utils.randomPrivateKey,lift_x:Av,pointToBytes:am,numberToBytesBE:jn,bytesToNumberBE:At,taggedHash:gu,mod:Te}};function Lv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function GB(e){if(typeof e!="boolean")throw new Error("boolean expected, not ".concat(e))}function ut(e,...t){if(!Lv(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function nc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function lm(e,t){ut(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ov(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function _n(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function En(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function xi(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}var QB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function YB(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function bi(e){if(typeof e=="string")e=YB(e);else if(Lv(e))e=es(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function Rv(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}var Mv=(e,t)=>{function n(r,...o){if(ut(r),!QB)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){let u=o[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?ut(u):ut(u,e.nonceLength)}let s=e.tagLength;s&&o[1]!==void 0&&ut(o[1]);let i=t(r,...o),a=(u,f)=>{if(f!==void 0){if(u!==2)throw new Error("cipher output not supported");ut(f)}},c=!1;return{encrypt(u,f){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ut(u),a(i.encrypt.length,f),i.encrypt(u,f)},decrypt(u,f){if(ut(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(i.decrypt.length,f),i.decrypt(u,f)}}}return Object.assign(n,e),n};function Uv(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!rc(t))throw new Error("invalid output, must be aligned");return t}function yu(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}function zv(e,t,n){GB(n);let r=new Uint8Array(16),o=xi(r);return yu(o,0,BigInt(t),n),yu(o,8,BigInt(e),n),r}function rc(e){return e.byteOffset%4===0}function es(e){return Uint8Array.from(e)}var vr=16,fm=new Uint8Array(16),Hn=_n(fm),XB=225,JB=(e,t,n,r)=>{let o=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^XB<<24&-(o&1)}},nn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function e4(e){e.reverse();let t=e[15]&1,n=0;for(let r=0;r<e.length;r++){let o=e[r];e[r]=o>>>1|n,n=(o&1)<<7}return e[0]^=-t&225,e}var t4=e=>e>64*1024?8:e>1024?4:2,wu=class{constructor(t,n){this.blockLen=vr,this.outputLen=vr,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=bi(t),ut(t,16);let r=xi(t),o=r.getUint32(0,!1),s=r.getUint32(4,!1),i=r.getUint32(8,!1),a=r.getUint32(12,!1),c=[];for(let y=0;y<128;y++)c.push({s0:nn(o),s1:nn(s),s2:nn(i),s3:nn(a)}),{s0:o,s1:s,s2:i,s3:a}=JB(o,s,i,a);let l=t4(n||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=l;let f=128/l,d=this.windowSize=2**l,h=[];for(let y=0;y<f;y++)for(let p=0;p<d;p++){let v=0,g=0,m=0,w=0;for(let x=0;x<l;x++){if(!(p>>>l-x-1&1))continue;let{s0:_,s1:C,s2:S,s3:M}=c[l*y+x];v^=_,g^=C,m^=S,w^=M}h.push({s0:v,s1:g,s2:m,s3:w})}this.t=h}_updateBlock(t,n,r,o){t^=this.s0,n^=this.s1,r^=this.s2,o^=this.s3;let{W:s,t:i,windowSize:a}=this,c=0,l=0,u=0,f=0,d=(1<<s)-1,h=0;for(let y of[t,n,r,o])for(let p=0;p<4;p++){let v=y>>>8*p&255;for(let g=8/s-1;g>=0;g--){let m=v>>>s*g&d,{s0:w,s1:x,s2:k,s3:_}=i[h*a+m];c^=w,l^=x,u^=k,f^=_,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=f}update(t){nc(this),t=bi(t),ut(t);let n=_n(t),r=Math.floor(t.length/vr),o=t.length%vr;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return o&&(fm.set(t.subarray(r*vr)),this._updateBlock(Hn[0],Hn[1],Hn[2],Hn[3]),En(Hn)),this}destroy(){let{t}=this;for(let n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){nc(this),lm(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=_n(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t}digest(){let t=new Uint8Array(vr);return this.digestInto(t),this.destroy(),t}},um=class extends wu{constructor(t,n){t=bi(t),ut(t);let r=e4(es(t));super(r,n),En(r)}update(t){t=bi(t),nc(this);let n=_n(t),r=t.length%vr,o=Math.floor(t.length/vr);for(let s=0;s<o;s++)this._updateBlock(nn(n[s*4+3]),nn(n[s*4+2]),nn(n[s*4+1]),nn(n[s*4+0]));return r&&(fm.set(t.subarray(o*vr)),this._updateBlock(nn(Hn[3]),nn(Hn[2]),nn(Hn[1]),nn(Hn[0])),En(Hn)),this}digestInto(t){nc(this),lm(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=_n(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t.reverse()}};function jv(e){let t=(r,o)=>e(o,r.length).update(bi(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,o)=>e(r,o),t}var dm=jv((e,t)=>new wu(e,t)),n4=jv((e,t)=>new um(e,t));var pm=16,r4=4,vu=new Uint8Array(pm),o4=283;function mm(e){return e<<1^o4&-(e>>7)}function Hv(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=mm(e);return n}var s4=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=mm(r))e[n]=r;let t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return En(e),t})();var i4=e=>e<<24|e>>>8,hm=e=>e<<8|e>>>24;function a4(e,t){if(e.length!==256)throw new Error("Wrong sbox length");let n=new Uint32Array(256).map((l,u)=>t(e[u])),r=n.map(hm),o=r.map(hm),s=o.map(hm),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let f=l*256+u;i[f]=n[l]^r[u],a[f]=o[l]^s[u],c[f]=e[l]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:o,T3:s,T01:i,T23:a}}var $v=a4(s4,e=>Hv(e,3)<<24|e<<16|e<<8|Hv(e,2));var c4=(()=>{let e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=mm(n))e[t]=n;return e})();function l4(e){ut(e);let t=e.length;if(![16,24,32].includes(t))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+t);let{sbox2:n}=$v,r=[];rc(e)||r.push(e=es(e));let o=_n(e),s=o.length,i=c=>oc(n,c,c,c,c),a=new Uint32Array(t+28);a.set(o);for(let c=s;c<a.length;c++){let l=a[c-1];c%s===0?l=i(i4(l))^c4[c/s-1]:s>6&&c%s===4&&(l=i(l)),a[c]=a[c-s]^l}return En(...r),a}function xu(e,t,n,r,o,s){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|s>>>24&255]}function oc(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function Dv(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=$v,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let y=0;y<l;y++){let p=e[c++]^xu(i,a,t,n,r,o),v=e[c++]^xu(i,a,n,r,o,t),g=e[c++]^xu(i,a,r,o,t,n),m=e[c++]^xu(i,a,o,t,n,r);t=p,n=v,r=g,o=m}let u=e[c++]^oc(s,t,n,r,o),f=e[c++]^oc(s,n,r,o,t),d=e[c++]^oc(s,r,o,t,n),h=e[c++]^oc(s,o,t,n,r);return{s0:u,s1:f,s2:d,s3:h}}function bu(e,t,n,r,o){ut(n,pm),ut(r),o=Uv(r.length,o);let s=n,i=_n(s),a=xi(s),c=_n(r),l=_n(o),u=t?0:12,f=r.length,d=a.getUint32(u,t),{s0:h,s1:y,s2:p,s3:v}=Dv(e,i[0],i[1],i[2],i[3]);for(let m=0;m+4<=c.length;m+=4)l[m+0]=c[m+0]^h,l[m+1]=c[m+1]^y,l[m+2]=c[m+2]^p,l[m+3]=c[m+3]^v,d=d+1>>>0,a.setUint32(u,d,t),{s0:h,s1:y,s2:p,s3:v}=Dv(e,i[0],i[1],i[2],i[3]);let g=pm*Math.floor(c.length/r4);if(g<f){let m=new Uint32Array([h,y,p,v]),w=Ov(m);for(let x=g,k=0;x<f;x++,k++)o[x]=r[x]^w[k];En(m)}return o}function u4(e,t,n,r,o){let s=o?o.length:0,i=e.create(n,r.length+s);o&&i.update(o);let a=zv(8*r.length,8*s,t);i.update(r),i.update(a);let c=i.digest();return En(a),c}var gm=Mv({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(t,n,r){if(n.length<8)throw new Error("aes/gcm: invalid nonce length");let o=16;function s(a,c,l){let u=u4(dm,!1,a,l,r);for(let f=0;f<c.length;f++)u[f]^=c[f];return u}function i(){let a=l4(t),c=vu.slice(),l=vu.slice();if(bu(a,!1,l,l,c),n.length===12)l.set(n);else{let f=vu.slice(),d=xi(f);yu(d,8,BigInt(n.length*8),!1);let h=dm.create(c).update(n).update(f);h.digestInto(l),h.destroy()}let u=bu(a,!1,l,vu);return{xk:a,authKey:c,counter:l,tagMask:u}}return{encrypt(a){let{xk:c,authKey:l,counter:u,tagMask:f}=i(),d=new Uint8Array(a.length+o),h=[c,l,u,f];rc(a)||h.push(a=es(a)),bu(c,!1,u,a,d.subarray(0,a.length));let y=s(l,f,d.subarray(0,d.length-o));return h.push(y),d.set(y,a.length),En(...h),d},decrypt(a){let{xk:c,authKey:l,counter:u,tagMask:f}=i(),d=[c,l,f,u];rc(a)||d.push(a=es(a));let h=a.subarray(0,-o),y=a.subarray(-o),p=s(l,f,h);if(d.push(p),!Rv(p,y))throw new Error("aes/gcm: invalid ghash tag");let v=bu(c,!1,u,h);return En(...d),v}}});function ki(e){let t=Jo.getPublicKey(e);return new P(t).hex}function ts(e,t){let n=t.length===66?t:"02"+t,r=Nt.getSharedSecret(e,n,!0);return new P(r).slice(1).hex}function Vv(e,t){let n=Jo.sign(t,e);return new P(n).hex}function qv(e,t,n){return Jo.verify(n,e,t)}function ku(e,t,n){let r=P.str(t),o=P.hex(e),s=n!==void 0?P.hex(n,24):P.random(24),i=gm(o,s).encrypt(r);return new P(i).b64url+"?iv="+s.b64url}function _u(e,t){let[n,r]=t.split("?iv="),o=P.b64url(n),s=P.hex(e),i=P.b64url(r),a=gm(s,i).decrypt(o);return new P(a).str}function Eu(){return P.random(16).hex}function ym(e){let t=JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]);return P.str(t).digest.hex}function f4(e,t){return e.tags.filter(n=>n.at(0)===t)}function Wv(e,t){return f4(e,"p").some(r=>r[1]===t)}var V={};Ur(V,{BRAND:()=>U4,DIRTY:()=>ns,EMPTY_PATH:()=>m4,INVALID:()=>Q,NEVER:()=>bC,OK:()=>ft,ParseStatus:()=>et,Schema:()=>re,ZodAny:()=>lo,ZodArray:()=>_r,ZodBigInt:()=>os,ZodBoolean:()=>ss,ZodBranded:()=>cc,ZodCatch:()=>gs,ZodDate:()=>is,ZodDefault:()=>ms,ZodDiscriminatedUnion:()=>Pu,ZodEffects:()=>sn,ZodEnum:()=>hs,ZodError:()=>It,ZodFirstPartyTypeKind:()=>Y,ZodFunction:()=>Au,ZodIntersection:()=>us,ZodIssueCode:()=>O,ZodLazy:()=>fs,ZodLiteral:()=>ds,ZodMap:()=>Pi,ZodNaN:()=>Ai,ZodNativeEnum:()=>ps,ZodNever:()=>Bn,ZodNull:()=>cs,ZodNullable:()=>Vn,ZodNumber:()=>rs,ZodObject:()=>Lt,ZodOptional:()=>rn,ZodParsedType:()=>$,ZodPipeline:()=>lc,ZodPromise:()=>uo,ZodReadonly:()=>ys,ZodRecord:()=>Tu,ZodSchema:()=>re,ZodSet:()=>Ti,ZodString:()=>co,ZodSymbol:()=>Ci,ZodTransformer:()=>sn,ZodTuple:()=>$n,ZodType:()=>re,ZodUndefined:()=>as,ZodUnion:()=>ls,ZodUnknown:()=>kr,ZodVoid:()=>Si,addIssueToContext:()=>D,any:()=>Z4,array:()=>Q4,bigint:()=>D4,boolean:()=>rx,coerce:()=>xC,custom:()=>ex,date:()=>$4,datetimeRegex:()=>Xv,defaultErrorMap:()=>xr,discriminatedUnion:()=>eC,effect:()=>dC,enum:()=>lC,function:()=>iC,getErrorMap:()=>_i,getParsedType:()=>Dn,instanceof:()=>j4,intersection:()=>tC,isAborted:()=>Bu,isAsync:()=>Ei,isDirty:()=>Cu,isValid:()=>ao,late:()=>z4,lazy:()=>aC,literal:()=>cC,makeIssue:()=>sc,map:()=>oC,nan:()=>H4,nativeEnum:()=>uC,never:()=>K4,null:()=>W4,nullable:()=>pC,number:()=>nx,object:()=>Y4,objectUtil:()=>wm,oboolean:()=>vC,onumber:()=>wC,optional:()=>hC,ostring:()=>yC,pipeline:()=>gC,preprocess:()=>mC,promise:()=>fC,quotelessJson:()=>d4,record:()=>rC,set:()=>sC,setErrorMap:()=>p4,strictObject:()=>X4,string:()=>tx,symbol:()=>V4,transformer:()=>dC,tuple:()=>nC,undefined:()=>q4,union:()=>J4,unknown:()=>F4,util:()=>ae,void:()=>G4});var ae;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{let s={};for(let i of o)s[i]=i;return s},e.getValidEnumValues=o=>{let s=e.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),i={};for(let a of s)i[a]=o[a];return e.objectValues(i)},e.objectValues=o=>e.objectKeys(o).map(function(s){return o[s]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let s=[];for(let i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},e.find=(o,s)=>{for(let i of o)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function r(o,s=" | "){return o.map(i=>typeof i=="string"?"'".concat(i,"'"):i).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(ae||(ae={}));var wm;(function(e){e.mergeShapes=(t,n)=>b(b({},t),n)})(wm||(wm={}));var $=ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dn=e=>{switch(typeof e){case"undefined":return $.undefined;case"string":return $.string;case"number":return Number.isNaN(e)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(e)?$.array:e===null?$.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$.promise:typeof Map<"u"&&e instanceof Map?$.map:typeof Set<"u"&&e instanceof Set?$.set:typeof Date<"u"&&e instanceof Date?$.date:$.object;default:return $.unknown}};var O=ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),d4=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),It=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){let n=t||function(s){return s.message},r={_errors:[]},o=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,c=0;for(;c<i.path.length;){let l=i.path[c];c===i.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(i))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return o(this),r}static assert(t){if(!(t instanceof e))throw new Error("Not a ZodError: ".concat(t))}toString(){return this.message}get message(){return JSON.stringify(this.issues,ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){let n={},r=[];for(let o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};It.create=e=>new It(e);var h4=(e,t)=>{let n;switch(e.code){case O.invalid_type:e.received===$.undefined?n="Required":n="Expected ".concat(e.expected,", received ").concat(e.received);break;case O.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,ae.jsonStringifyReplacer));break;case O.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(ae.joinValues(e.keys,", "));break;case O.invalid_union:n="Invalid input";break;case O.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(ae.joinValues(e.options));break;case O.invalid_enum_value:n="Invalid enum value. Expected ".concat(ae.joinValues(e.options),", received '").concat(e.received,"'");break;case O.invalid_arguments:n="Invalid function arguments";break;case O.invalid_return_type:n="Invalid function return type";break;case O.invalid_date:n="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),typeof e.validation.position=="number"&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):ae.assertNever(e.validation):e.validation!=="regex"?n="Invalid ".concat(e.validation):n="Invalid";break;case O.too_small:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):n="Invalid input";break;case O.too_big:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="bigint"?n="BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):n="Invalid input";break;case O.custom:n="Invalid input";break;case O.invalid_intersection_types:n="Intersection results could not be merged";break;case O.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case O.not_finite:n="Number must be finite";break;default:n=t.defaultError,ae.assertNever(e)}return{message:n}},xr=h4;var Zv=xr;function p4(e){Zv=e}function _i(){return Zv}var sc=e=>{let{data:t,path:n,errorMaps:r,issueData:o}=e,s=[...n,...o.path||[]],i=L(b({},o),{path:s});if(o.message!==void 0)return L(b({},o),{path:s,message:o.message});let a="",c=r.filter(l=>!!l).slice().reverse();for(let l of c)a=l(i,{data:t,defaultError:a}).message;return L(b({},o),{path:s,message:a})},m4=[];function D(e,t){let n=_i(),r=sc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===xr?void 0:xr].filter(o=>!!o)});e.common.issues.push(r)}var et=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let o of n){if(o.status==="aborted")return Q;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){let r=[];for(let o of n){let s=await o.key,i=await o.value;r.push({key:s,value:i})}return e.mergeObjectSync(t,r)}static mergeObjectSync(t,n){let r={};for(let o of n){let{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return Q;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(r[s.value]=i.value)}return{status:t.value,value:r}}},Q=Object.freeze({status:"aborted"}),ns=e=>({status:"dirty",value:e}),ft=e=>({status:"valid",value:e}),Bu=e=>e.status==="aborted",Cu=e=>e.status==="dirty",ao=e=>e.status==="valid",Ei=e=>typeof Promise<"u"&&e instanceof Promise;var F;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(F||(F={}));var Su=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Gv=function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},ic,ac,on=class{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Fv=(e,t)=>{if(ao(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new It(e.common.issues);return this._error=n,this._error}}};function ne(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(i,a)=>{var l,u;let{message:c}=e;return i.code==="invalid_enum_value"?{message:c!=null?c:a.defaultError}:typeof a.data>"u"?{message:(l=c!=null?c:r)!=null?l:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c!=null?c:n)!=null?u:a.defaultError}},description:o}}var re=class{get description(){return this._def.description}_getType(t){return Dn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Dn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new et,ctx:{common:t.parent.common,data:t.data,parsedType:Dn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(Ei(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var s;let r={common:{issues:[],async:(s=n==null?void 0:n.async)!=null?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dn(t)},o=this._parseSync({data:t,path:r.path,parent:r});return Fv(r,o)}"~validate"(t){var r,o;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dn(t)};if(!this["~standard"].async)try{let s=this._parseSync({data:t,path:[],parent:n});return ao(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(o=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>ao(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){let r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){let r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dn(t)},o=this._parse({data:t,path:r.path,parent:r}),s=await(Ei(o)?o:Promise.resolve(o));return Fv(r,s)}refine(t,n){let r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{let i=t(o),a=()=>s.addIssue(b({code:O.custom},r(o)));return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new sn({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return rn.create(this,this._def)}nullable(){return Vn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _r.create(this)}promise(){return uo.create(this,this._def)}or(t){return ls.create([this,t],this._def)}and(t){return us.create(this,t,this._def)}transform(t){return new sn(L(b({},ne(this._def)),{schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){let n=typeof t=="function"?t:()=>t;return new ms(L(b({},ne(this._def)),{innerType:this,defaultValue:n,typeName:Y.ZodDefault}))}brand(){return new cc(b({typeName:Y.ZodBranded,type:this},ne(this._def)))}catch(t){let n=typeof t=="function"?t:()=>t;return new gs(L(b({},ne(this._def)),{innerType:this,catchValue:n,typeName:Y.ZodCatch}))}describe(t){let n=this.constructor;return new n(L(b({},this._def),{description:t}))}pipe(t){return lc.create(this,t)}readonly(){return ys.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},g4=/^c[^\s-]{8,}$/i,y4=/^[0-9a-z]+$/,w4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,v4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,x4=/^[a-z0-9_-]{21}$/i,b4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,k4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,E4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",vm,B4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,C4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,S4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,P4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,T4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,A4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Qv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",N4=new RegExp("^".concat(Qv,"$"));function Yv(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):e.precision==null&&(t="".concat(t,"(\\.\\d+)?"));let n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function I4(e){return new RegExp("^".concat(Yv(e),"$"))}function Xv(e){let t="".concat(Qv,"T").concat(Yv(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function L4(e,t){return!!((t==="v4"||!t)&&B4.test(e)||(t==="v6"||!t)&&S4.test(e))}function O4(e,t){if(!b4.test(e))return!1;try{let[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&o.alg!==t)}catch(n){return!1}}function R4(e,t){return!!((t==="v4"||!t)&&C4.test(e)||(t==="v6"||!t)&&P4.test(e))}var co=class e extends re{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$.string){let s=this._getOrReturnCtx(t);return D(s,{code:O.invalid_type,expected:$.string,received:s.parsedType}),Q}let r=new et,o;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(o=this._getOrReturnCtx(t,o),D(o,{code:O.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(o=this._getOrReturnCtx(t,o),D(o,{code:O.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(o=this._getOrReturnCtx(t,o),i?D(o,{code:O.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&D(o,{code:O.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")_4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"email",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")vm||(vm=new RegExp(E4,"u")),vm.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"emoji",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")v4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"uuid",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")x4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"nanoid",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")g4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"cuid",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")y4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"cuid2",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")w4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"ulid",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch(i){o=this._getOrReturnCtx(t,o),D(o,{validation:"url",code:O.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"regex",code:O.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(t,o),D(o,{code:O.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(o=this._getOrReturnCtx(t,o),D(o,{code:O.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(o=this._getOrReturnCtx(t,o),D(o,{code:O.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Xv(s).test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{code:O.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?N4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{code:O.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?I4(s).test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{code:O.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?k4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"duration",code:O.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?L4(t.data,s.version)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"ip",code:O.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?O4(t.data,s.alg)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"jwt",code:O.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?R4(t.data,s.version)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"cidr",code:O.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?T4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"base64",code:O.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?A4.test(t.data)||(o=this._getOrReturnCtx(t,o),D(o,{validation:"base64url",code:O.invalid_string,message:s.message}),r.dirty()):ae.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),b({validation:n,code:O.invalid_string},F.errToObj(r)))}_addCheck(t){return new e(L(b({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(b({kind:"email"},F.errToObj(t)))}url(t){return this._addCheck(b({kind:"url"},F.errToObj(t)))}emoji(t){return this._addCheck(b({kind:"emoji"},F.errToObj(t)))}uuid(t){return this._addCheck(b({kind:"uuid"},F.errToObj(t)))}nanoid(t){return this._addCheck(b({kind:"nanoid"},F.errToObj(t)))}cuid(t){return this._addCheck(b({kind:"cuid"},F.errToObj(t)))}cuid2(t){return this._addCheck(b({kind:"cuid2"},F.errToObj(t)))}ulid(t){return this._addCheck(b({kind:"ulid"},F.errToObj(t)))}base64(t){return this._addCheck(b({kind:"base64"},F.errToObj(t)))}base64url(t){return this._addCheck(b({kind:"base64url"},F.errToObj(t)))}jwt(t){return this._addCheck(b({kind:"jwt"},F.errToObj(t)))}ip(t){return this._addCheck(b({kind:"ip"},F.errToObj(t)))}cidr(t){return this._addCheck(b({kind:"cidr"},F.errToObj(t)))}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(b({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!=null?n:!1,local:(r=t==null?void 0:t.local)!=null?r:!1},F.errToObj(t==null?void 0:t.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(b({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision},F.errToObj(t==null?void 0:t.message)))}duration(t){return this._addCheck(b({kind:"duration"},F.errToObj(t)))}regex(t,n){return this._addCheck(b({kind:"regex",regex:t},F.errToObj(n)))}includes(t,n){return this._addCheck(b({kind:"includes",value:t,position:n==null?void 0:n.position},F.errToObj(n==null?void 0:n.message)))}startsWith(t,n){return this._addCheck(b({kind:"startsWith",value:t},F.errToObj(n)))}endsWith(t,n){return this._addCheck(b({kind:"endsWith",value:t},F.errToObj(n)))}min(t,n){return this._addCheck(b({kind:"min",value:t},F.errToObj(n)))}max(t,n){return this._addCheck(b({kind:"max",value:t},F.errToObj(n)))}length(t,n){return this._addCheck(b({kind:"length",value:t},F.errToObj(n)))}nonempty(t){return this.min(1,F.errToObj(t))}trim(){return new e(L(b({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new e(L(b({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new e(L(b({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};co.create=e=>{var t;return new co(b({checks:[],typeName:Y.ZodString,coerce:(t=e==null?void 0:e.coerce)!=null?t:!1},ne(e)))};function M4(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,s=Number.parseInt(e.toFixed(o).replace(".","")),i=Number.parseInt(t.toFixed(o).replace(".",""));return s%i/10**o}var rs=class e extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$.number){let s=this._getOrReturnCtx(t);return D(s,{code:O.invalid_type,expected:$.number,received:s.parsedType}),Q}let r,o=new et;for(let s of this._def.checks)s.kind==="int"?ae.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{code:O.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),D(r,{code:O.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),D(r,{code:O.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?M4(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),D(r,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),D(r,{code:O.not_finite,message:s.message}),o.dirty()):ae.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,F.toString(n))}gt(t,n){return this.setLimit("min",t,!1,F.toString(n))}lte(t,n){return this.setLimit("max",t,!0,F.toString(n))}lt(t,n){return this.setLimit("max",t,!1,F.toString(n))}setLimit(t,n,r,o){return new e(L(b({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:F.toString(o)}]}))}_addCheck(t){return new e(L(b({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:F.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:F.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:F.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(t)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ae.isInteger(t.value))}get isFinite(){let t=null,n=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};rs.create=e=>new rs(b({checks:[],typeName:Y.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},ne(e)));var os=class e extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch(s){return this._getInvalidInput(t)}if(this._getType(t)!==$.bigint)return this._getInvalidInput(t);let r,o=new et;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),D(r,{code:O.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),D(r,{code:O.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),D(r,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):ae.assertNever(s);return{status:o.value,value:t.data}}_getInvalidInput(t){let n=this._getOrReturnCtx(t);return D(n,{code:O.invalid_type,expected:$.bigint,received:n.parsedType}),Q}gte(t,n){return this.setLimit("min",t,!0,F.toString(n))}gt(t,n){return this.setLimit("min",t,!1,F.toString(n))}lte(t,n){return this.setLimit("max",t,!0,F.toString(n))}lt(t,n){return this.setLimit("max",t,!1,F.toString(n))}setLimit(t,n,r,o){return new e(L(b({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:F.toString(o)}]}))}_addCheck(t){return new e(L(b({},this._def),{checks:[...this._def.checks,t]}))}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:F.toString(n)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};os.create=e=>{var t;return new os(b({checks:[],typeName:Y.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!=null?t:!1},ne(e)))};var ss=class extends re{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$.boolean){let r=this._getOrReturnCtx(t);return D(r,{code:O.invalid_type,expected:$.boolean,received:r.parsedType}),Q}return ft(t.data)}};ss.create=e=>new ss(b({typeName:Y.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},ne(e)));var is=class e extends re{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$.date){let s=this._getOrReturnCtx(t);return D(s,{code:O.invalid_type,expected:$.date,received:s.parsedType}),Q}if(Number.isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return D(s,{code:O.invalid_date}),Q}let r=new et,o;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(o=this._getOrReturnCtx(t,o),D(o,{code:O.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(o=this._getOrReturnCtx(t,o),D(o,{code:O.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ae.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e(L(b({},this._def),{checks:[...this._def.checks,t]}))}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:F.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:F.toString(n)})}get minDate(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};is.create=e=>new is(b({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Y.ZodDate},ne(e)));var Ci=class extends re{_parse(t){if(this._getType(t)!==$.symbol){let r=this._getOrReturnCtx(t);return D(r,{code:O.invalid_type,expected:$.symbol,received:r.parsedType}),Q}return ft(t.data)}};Ci.create=e=>new Ci(b({typeName:Y.ZodSymbol},ne(e)));var as=class extends re{_parse(t){if(this._getType(t)!==$.undefined){let r=this._getOrReturnCtx(t);return D(r,{code:O.invalid_type,expected:$.undefined,received:r.parsedType}),Q}return ft(t.data)}};as.create=e=>new as(b({typeName:Y.ZodUndefined},ne(e)));var cs=class extends re{_parse(t){if(this._getType(t)!==$.null){let r=this._getOrReturnCtx(t);return D(r,{code:O.invalid_type,expected:$.null,received:r.parsedType}),Q}return ft(t.data)}};cs.create=e=>new cs(b({typeName:Y.ZodNull},ne(e)));var lo=class extends re{constructor(){super(...arguments),this._any=!0}_parse(t){return ft(t.data)}};lo.create=e=>new lo(b({typeName:Y.ZodAny},ne(e)));var kr=class extends re{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ft(t.data)}};kr.create=e=>new kr(b({typeName:Y.ZodUnknown},ne(e)));var Bn=class extends re{_parse(t){let n=this._getOrReturnCtx(t);return D(n,{code:O.invalid_type,expected:$.never,received:n.parsedType}),Q}};Bn.create=e=>new Bn(b({typeName:Y.ZodNever},ne(e)));var Si=class extends re{_parse(t){if(this._getType(t)!==$.undefined){let r=this._getOrReturnCtx(t);return D(r,{code:O.invalid_type,expected:$.void,received:r.parsedType}),Q}return ft(t.data)}};Si.create=e=>new Si(b({typeName:Y.ZodVoid},ne(e)));var _r=class e extends re{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==$.array)return D(n,{code:O.invalid_type,expected:$.array,received:n.parsedType}),Q;if(o.exactLength!==null){let i=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(i||a)&&(D(n,{code:i?O.too_big:O.too_small,minimum:a?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(D(n,{code:O.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(D(n,{code:O.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>o.type._parseAsync(new on(n,i,n.path,a)))).then(i=>et.mergeArray(r,i));let s=[...n.data].map((i,a)=>o.type._parseSync(new on(n,i,n.path,a)));return et.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new e(L(b({},this._def),{minLength:{value:t,message:F.toString(n)}}))}max(t,n){return new e(L(b({},this._def),{maxLength:{value:t,message:F.toString(n)}}))}length(t,n){return new e(L(b({},this._def),{exactLength:{value:t,message:F.toString(n)}}))}nonempty(t){return this.min(1,t)}};_r.create=(e,t)=>new _r(b({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray},ne(t)));function Bi(e){if(e instanceof Lt){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=rn.create(Bi(r))}return new Lt(L(b({},e._def),{shape:()=>t}))}else return e instanceof _r?new _r(L(b({},e._def),{type:Bi(e.element)})):e instanceof rn?rn.create(Bi(e.unwrap())):e instanceof Vn?Vn.create(Bi(e.unwrap())):e instanceof $n?$n.create(e.items.map(t=>Bi(t))):e}var Lt=class e extends re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),n=ae.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==$.object){let l=this._getOrReturnCtx(t);return D(l,{code:O.invalid_type,expected:$.object,received:l.parsedType}),Q}let{status:r,ctx:o}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Bn&&this._def.unknownKeys==="strip"))for(let l in o.data)i.includes(l)||a.push(l);let c=[];for(let l of i){let u=s[l],f=o.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new on(o,f,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof Bn){let l=this._def.unknownKeys;if(l==="passthrough")for(let u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:o.data[u]}});else if(l==="strict")a.length>0&&(D(o,{code:O.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let u of a){let f=o.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new on(o,f,o.path,u)),alwaysSet:u in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let u of c){let f=await u.key,d=await u.value;l.push({key:f,value:d,alwaysSet:u.alwaysSet})}return l}).then(l=>et.mergeObjectSync(r,l)):et.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return F.errToObj,new e(b(L(b({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,r)=>{var s,i,a,c;let o=(a=(i=(s=this._def).errorMap)==null?void 0:i.call(s,n,r).message)!=null?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=F.errToObj(t).message)!=null?c:o}:{message:o}}}:{}))}strip(){return new e(L(b({},this._def),{unknownKeys:"strip"}))}passthrough(){return new e(L(b({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new e(L(b({},this._def),{shape:()=>b(b({},this._def.shape()),t)}))}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>b(b({},this._def.shape()),t._def.shape()),typeName:Y.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new e(L(b({},this._def),{catchall:t}))}pick(t){let n={};for(let r of ae.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new e(L(b({},this._def),{shape:()=>n}))}omit(t){let n={};for(let r of ae.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new e(L(b({},this._def),{shape:()=>n}))}deepPartial(){return Bi(this)}partial(t){let n={};for(let r of ae.objectKeys(this.shape)){let o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}return new e(L(b({},this._def),{shape:()=>n}))}required(t){let n={};for(let r of ae.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof rn;)s=s._def.innerType;n[r]=s}return new e(L(b({},this._def),{shape:()=>n}))}keyof(){return Jv(ae.objectKeys(this.shape))}};Lt.create=(e,t)=>new Lt(b({shape:()=>e,unknownKeys:"strip",catchall:Bn.create(),typeName:Y.ZodObject},ne(t)));Lt.strictCreate=(e,t)=>new Lt(b({shape:()=>e,unknownKeys:"strict",catchall:Bn.create(),typeName:Y.ZodObject},ne(t)));Lt.lazycreate=(e,t)=>new Lt(b({shape:e,unknownKeys:"strip",catchall:Bn.create(),typeName:Y.ZodObject},ne(t)));var ls=class extends re{_parse(t){let{ctx:n}=this._processInputParams(t),r=this._def.options;function o(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;let i=s.map(a=>new It(a.ctx.common.issues));return D(n,{code:O.invalid_union,unionErrors:i}),Q}if(n.common.async)return Promise.all(r.map(async s=>{let i=L(b({},n),{common:L(b({},n.common),{issues:[]}),parent:null});return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(o);{let s,i=[];for(let c of r){let l=L(b({},n),{common:L(b({},n.common),{issues:[]}),parent:null}),u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(c=>new It(c));return D(n,{code:O.invalid_union,unionErrors:a}),Q}}get options(){return this._def.options}};ls.create=(e,t)=>new ls(b({options:e,typeName:Y.ZodUnion},ne(t)));var br=e=>e instanceof fs?br(e.schema):e instanceof sn?br(e.innerType()):e instanceof ds?[e.value]:e instanceof hs?e.options:e instanceof ps?ae.objectValues(e.enum):e instanceof ms?br(e._def.innerType):e instanceof as?[void 0]:e instanceof cs?[null]:e instanceof rn?[void 0,...br(e.unwrap())]:e instanceof Vn?[null,...br(e.unwrap())]:e instanceof cc||e instanceof ys?br(e.unwrap()):e instanceof gs?br(e._def.innerType):[],Pu=class e extends re{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.object)return D(n,{code:O.invalid_type,expected:$.object,received:n.parsedType}),Q;let r=this.discriminator,o=n.data[r],s=this.optionsMap.get(o);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(D(n,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let o=new Map;for(let s of n){let i=br(s.shape[t]);if(!i.length)throw new Error("A discriminator value for key `".concat(t,"` could not be extracted from all schema options"));for(let a of i){if(o.has(a))throw new Error("Discriminator property ".concat(String(t)," has duplicate value ").concat(String(a)));o.set(a,s)}}return new e(b({typeName:Y.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o},ne(r)))}};function xm(e,t){let n=Dn(e),r=Dn(t);if(e===t)return{valid:!0,data:e};if(n===$.object&&r===$.object){let o=ae.objectKeys(t),s=ae.objectKeys(e).filter(a=>o.indexOf(a)!==-1),i=b(b({},e),t);for(let a of s){let c=xm(e[a],t[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(n===$.array&&r===$.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let s=0;s<e.length;s++){let i=e[s],a=t[s],c=xm(i,a);if(!c.valid)return{valid:!1};o.push(c.data)}return{valid:!0,data:o}}else return n===$.date&&r===$.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var us=class extends re{_parse(t){let{status:n,ctx:r}=this._processInputParams(t),o=(s,i)=>{if(Bu(s)||Bu(i))return Q;let a=xm(s.value,i.value);return a.valid?((Cu(s)||Cu(i))&&n.dirty(),{status:n.value,value:a.data}):(D(r,{code:O.invalid_intersection_types}),Q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};us.create=(e,t,n)=>new us(b({left:e,right:t,typeName:Y.ZodIntersection},ne(n)));var $n=class e extends re{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.array)return D(r,{code:O.invalid_type,expected:$.array,received:r.parsedType}),Q;if(r.data.length<this._def.items.length)return D(r,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&r.data.length>this._def.items.length&&(D(r,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let s=[...r.data].map((i,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new on(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>et.mergeArray(n,i)):et.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new e(L(b({},this._def),{rest:t}))}};$n.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $n(b({items:e,typeName:Y.ZodTuple,rest:null},ne(t)))};var Tu=class e extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.object)return D(r,{code:O.invalid_type,expected:$.object,received:r.parsedType}),Q;let o=[],s=this._def.keyType,i=this._def.valueType;for(let a in r.data)o.push({key:s._parse(new on(r,a,r.path,a)),value:i._parse(new on(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?et.mergeObjectAsync(n,o):et.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof re?new e(b({keyType:t,valueType:n,typeName:Y.ZodRecord},ne(r))):new e(b({keyType:co.create(),valueType:t,typeName:Y.ZodRecord},ne(n)))}},Pi=class extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.map)return D(r,{code:O.invalid_type,expected:$.map,received:r.parsedType}),Q;let o=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([a,c],l)=>({key:o._parse(new on(r,a,r.path,[l,"key"])),value:s._parse(new on(r,c,r.path,[l,"value"]))}));if(r.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of i){let l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Q;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{let a=new Map;for(let c of i){let l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Q;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}};Pi.create=(e,t,n)=>new Pi(b({valueType:t,keyType:e,typeName:Y.ZodMap},ne(n)));var Ti=class e extends re{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.set)return D(r,{code:O.invalid_type,expected:$.set,received:r.parsedType}),Q;let o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(D(r,{code:O.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(D(r,{code:O.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());let s=this._def.valueType;function i(c){let l=new Set;for(let u of c){if(u.status==="aborted")return Q;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}let a=[...r.data.values()].map((c,l)=>s._parse(new on(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(t,n){return new e(L(b({},this._def),{minSize:{value:t,message:F.toString(n)}}))}max(t,n){return new e(L(b({},this._def),{maxSize:{value:t,message:F.toString(n)}}))}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};Ti.create=(e,t)=>new Ti(b({valueType:e,minSize:null,maxSize:null,typeName:Y.ZodSet},ne(t)));var Au=class e extends re{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.function)return D(n,{code:O.invalid_type,expected:$.function,received:n.parsedType}),Q;function r(a,c){return sc({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_i(),xr].filter(l=>!!l),issueData:{code:O.invalid_arguments,argumentsError:c}})}function o(a,c){return sc({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_i(),xr].filter(l=>!!l),issueData:{code:O.invalid_return_type,returnTypeError:c}})}let s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof uo){let a=this;return ft(async function(...c){let l=new It([]),u=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(r(c,h)),l}),f=await Reflect.apply(i,this,u);return await a._def.returns._def.type.parseAsync(f,s).catch(h=>{throw l.addIssue(o(f,h)),l})})}else{let a=this;return ft(function(...c){let l=a._def.args.safeParse(c,s);if(!l.success)throw new It([r(c,l.error)]);let u=Reflect.apply(i,this,l.data),f=a._def.returns.safeParse(u,s);if(!f.success)throw new It([o(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e(L(b({},this._def),{args:$n.create(t).rest(kr.create())}))}returns(t){return new e(L(b({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new e(b({args:t||$n.create([]).rest(kr.create()),returns:n||kr.create(),typeName:Y.ZodFunction},ne(r)))}},fs=class extends re{get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};fs.create=(e,t)=>new fs(b({getter:e,typeName:Y.ZodLazy},ne(t)));var ds=class extends re{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return D(n,{received:n.data,code:O.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:t.data}}get value(){return this._def.value}};ds.create=(e,t)=>new ds(b({value:e,typeName:Y.ZodLiteral},ne(t)));function Jv(e,t){return new hs(b({values:e,typeName:Y.ZodEnum},ne(t)))}var hs=class e extends re{constructor(){super(...arguments),ic.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),r=this._def.values;return D(n,{expected:ae.joinValues(r),received:n.parsedType,code:O.invalid_type}),Q}if(Su(this,ic,"f")||Gv(this,ic,new Set(this._def.values),"f"),!Su(this,ic,"f").has(t.data)){let n=this._getOrReturnCtx(t),r=this._def.values;return D(n,{received:n.data,code:O.invalid_enum_value,options:r}),Q}return ft(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return e.create(t,b(b({},this._def),n))}exclude(t,n=this._def){return e.create(this.options.filter(r=>!t.includes(r)),b(b({},this._def),n))}};ic=new WeakMap;hs.create=Jv;var ps=class extends re{constructor(){super(...arguments),ac.set(this,void 0)}_parse(t){let n=ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$.string&&r.parsedType!==$.number){let o=ae.objectValues(n);return D(r,{expected:ae.joinValues(o),received:r.parsedType,code:O.invalid_type}),Q}if(Su(this,ac,"f")||Gv(this,ac,new Set(ae.getValidEnumValues(this._def.values)),"f"),!Su(this,ac,"f").has(t.data)){let o=ae.objectValues(n);return D(r,{received:r.data,code:O.invalid_enum_value,options:o}),Q}return ft(t.data)}get enum(){return this._def.values}};ac=new WeakMap;ps.create=(e,t)=>new ps(b({values:e,typeName:Y.ZodNativeEnum},ne(t)));var uo=class extends re{unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.promise&&n.common.async===!1)return D(n,{code:O.invalid_type,expected:$.promise,received:n.parsedType}),Q;let r=n.parsedType===$.promise?n.data:Promise.resolve(n.data);return ft(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}};uo.create=(e,t)=>new uo(b({type:e,typeName:Y.ZodPromise},ne(t)));var sn=class extends re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,s={addIssue:i=>{D(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let i=o.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return Q;let c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Q:c.status==="dirty"?ns(c.value):n.value==="dirty"?ns(c.value):c});{if(n.value==="aborted")return Q;let a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?Q:a.status==="dirty"?ns(a.value):n.value==="dirty"?ns(a.value):a}}if(o.type==="refinement"){let i=a=>{let c=o.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ao(i))return i;let a=o.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>ao(i)?Promise.resolve(o.transform(i.value,s)).then(a=>({status:n.value,value:a})):i);ae.assertNever(o)}};sn.create=(e,t,n)=>new sn(b({schema:e,typeName:Y.ZodEffects,effect:t},ne(n)));sn.createWithPreprocess=(e,t,n)=>new sn(b({schema:t,effect:{type:"preprocess",transform:e},typeName:Y.ZodEffects},ne(n)));var rn=class extends re{_parse(t){return this._getType(t)===$.undefined?ft(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};rn.create=(e,t)=>new rn(b({innerType:e,typeName:Y.ZodOptional},ne(t)));var Vn=class extends re{_parse(t){return this._getType(t)===$.null?ft(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Vn.create=(e,t)=>new Vn(b({innerType:e,typeName:Y.ZodNullable},ne(t)));var ms=class extends re{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return n.parsedType===$.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};ms.create=(e,t)=>new ms(b({innerType:e,typeName:Y.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},ne(t)));var gs=class extends re{_parse(t){let{ctx:n}=this._processInputParams(t),r=L(b({},n),{common:L(b({},n.common),{issues:[]})}),o=this._def.innerType._parse({data:r.data,path:r.path,parent:b({},r)});return Ei(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new It(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new It(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};gs.create=(e,t)=>new gs(b({innerType:e,typeName:Y.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},ne(t)));var Ai=class extends re{_parse(t){if(this._getType(t)!==$.nan){let r=this._getOrReturnCtx(t);return D(r,{code:O.invalid_type,expected:$.nan,received:r.parsedType}),Q}return{status:"valid",value:t.data}}};Ai.create=e=>new Ai(b({typeName:Y.ZodNaN},ne(e)));var U4=Symbol("zod_brand"),cc=class extends re{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},lc=class e extends re{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Q:s.status==="dirty"?(n.dirty(),ns(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{let o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Q:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new e({in:t,out:n,typeName:Y.ZodPipeline})}},ys=class extends re{_parse(t){let n=this._def.innerType._parse(t),r=o=>(ao(o)&&(o.value=Object.freeze(o.value)),o);return Ei(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}};ys.create=(e,t)=>new ys(b({innerType:e,typeName:Y.ZodReadonly},ne(t)));function Kv(e,t){let n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function ex(e,t={},n){return e?lo.create().superRefine((r,o)=>{var i,a;let s=e(r);if(s instanceof Promise)return s.then(c=>{var l,u;if(!c){let f=Kv(t,r),d=(u=(l=f.fatal)!=null?l:n)!=null?u:!0;o.addIssue(L(b({code:"custom"},f),{fatal:d}))}});if(!s){let c=Kv(t,r),l=(a=(i=c.fatal)!=null?i:n)!=null?a:!0;o.addIssue(L(b({code:"custom"},c),{fatal:l}))}}):lo.create()}var z4={object:Lt.lazycreate},Y;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Y||(Y={}));var j4=(e,t={message:"Input not instance of ".concat(e.name)})=>ex(n=>n instanceof e,t),tx=co.create,nx=rs.create,H4=Ai.create,D4=os.create,rx=ss.create,$4=is.create,V4=Ci.create,q4=as.create,W4=cs.create,Z4=lo.create,F4=kr.create,K4=Bn.create,G4=Si.create,Q4=_r.create,Y4=Lt.create,X4=Lt.strictCreate,J4=ls.create,eC=Pu.create,tC=us.create,nC=$n.create,rC=Tu.create,oC=Pi.create,sC=Ti.create,iC=Au.create,aC=fs.create,cC=ds.create,lC=hs.create,uC=ps.create,fC=uo.create,dC=sn.create,hC=rn.create,pC=Vn.create,mC=sn.createWithPreprocess,gC=lc.create,yC=()=>tx().optional(),wC=()=>nx().optional(),vC=()=>rx().optional(),xC={string:e=>co.create(L(b({},e),{coerce:!0})),number:e=>rs.create(L(b({},e),{coerce:!0})),boolean:e=>ss.create(L(b({},e),{coerce:!0})),bigint:e=>os.create(L(b({},e),{coerce:!0})),date:e=>is.create(L(b({},e),{coerce:!0}))};var bC=Q;var ox=V;var uc=ox;var kC=V.bigint(),_C=V.boolean(),EC=V.date(),BC=V.number(),CC=V.number().max(Number.MAX_SAFE_INTEGER),SC=V.string(),PC=V.number().min(5e8).max(Number.MAX_SAFE_INTEGER),TC=V.string().url(),AC=V.any(),Ni=V.string().regex(/^[0-9a-fA-F]*$/).refine(e=>e.length%2===0),NC=V.union([V.string(),V.number(),V.boolean(),V.null()]),IC=Ni.refine(e=>e.length===32),LC=Ni.refine(e=>e.length===40),OC=Ni.refine(e=>e.length===64),RC=Ni.refine(e=>e.length===128),MC=Ni.refine(e=>e.length===66),UC=V.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/),zC=V.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/),jC=V.string().regex(/^[a-zA-Z0-9\-_]+={0,2}$/),HC=V.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/),Ot={any:AC,base58:UC,base64:zC,b64url:jC,bech32:HC,big:kC,bool:_C,date:EC,hex32:OC,hex16:IC,hex20:LC,hex64:RC,hex:Ni,literal:NC,num:BC,pubkey:MC,str:SC,stamp:PC,uint:CC,url:TC};var sx=Ot.str.array(),ix=V.object({content:Ot.str,created_at:Ot.stamp,kind:Ot.num,pubkey:Ot.hex32,tags:sx.array()}),ax=ix.extend({id:Ot.hex32}),DC=ax.extend({sig:Ot.hex64}),cx={signed:DC,tags:sx,template:ix,unsigned:ax};var $C=Ot.hex16,VC=Ot.str,qC=Ot.str.min(3).max(256),WC=V.tuple([qC,$C,VC]),lx={envelope:WC};var fo={base:Ot,event:cx,msg:lx};var ux;(function(e){function t(o,s){if(o===!1)throw new Error(s!=null?s:"Assertion failed!")}e.ok=t;function n(o,s){if(typeof o>"u")throw new TypeError(s!=null?s:"Input is undefined!");if(o===null)throw new TypeError(s!=null?s:"Input is null!")}e.exists=n;function r(o,s,i){let a=P.bytes(o);if(a.length!==s)throw new Error(i!=null?i:"Invalid byte size: ".concat(a.hex," !== ").concat(s));return!0}e.size=r})(ux||(ux={}));var fc=()=>Math.floor(Date.now()/1e3);function Nu(e){return e instanceof Error?e.message:typeof e=="string"?e:String(e)}function fx(e,t,n,r){var l;let o=(l=e.created_at)!=null?l:fc(),s=ki(r),i=ts(r,n),a=ku(i,t),c=L(b({},e),{pubkey:s,content:a,created_at:o});return c.tags.push(["p",n]),ZC(r,c)}function ZC(e,t){let n=ym(t),r=Vv(e,n);return L(b({},t),{id:n,sig:r})}function dx(e){let a=e,{id:t,sig:n}=a,r=Cc(a,["id","sig"]),s=fo.event.signed.safeParse(e),i=ym(r);return s.success?t!==i?"event id mismatch":qv(t,e.pubkey,n)?null:"invalid event signature":"event failed schema validation"}function px(e,t){let n=dx(e);if(n!==null)throw new Error(n);let r=ki(t);if(!Wv(e,r))throw new Error("pubkey not in peers list");let o=ts(t,e.pubkey),s=_u(o,e.content);return JSON.parse(s)}function an(e){var n;let t=(n=e.id)!=null?n:Eu();return L(b({},e),{id:t})}function mx(e,t,n){try{return JSON.stringify([e,n,t])}catch(r){throw new Error("failed to create message payload")}}function gx(e,t){let r=fo.msg.envelope.safeParse(e);if(!r.success)throw!1,new Error("envelope failed schema validation");let[o,s,i]=r.data;return{env:t,data:i,id:s,tag:o}}function yx(e){if(!fo.base.url.array().safeParse(e).success)throw new Error("invalid relay set: "+e)}function wx(e){if(!fo.base.hex32.safeParse(e).success)throw new Error("invalid secret key: "+e)}var po={};Ur(po,{H1:()=>e8,H2:()=>t8,H3:()=>n8,H4:()=>r8,H5:()=>o8});var Cn=BigInt(0),Sn=BigInt(1),GC=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ii=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Li=Nt.CURVE,ho=gr(Ii,32,!0),QC=Nt.ProjectivePoint,ws="FROST-secp256k1-SHA256-v1",Iu={_0n:Cn,_1n:Sn,_N:Ii,_P:GC,CURVE:Li,DOMAIN:ws,FIELD:ho,POINT:QC};var{POINT:YC,_N:XC,_P:HL}=Iu;function ye(e){return Te(e,XC)}function km(e){return new TextEncoder().encode(e)}function bt(e){let t=P.bytes(e);if(t.length<32||t.length>33)throw new Error("invalid pubkeky: "+t.hex+" "+t.length);return t.length===32&&(t=t.prepend(2)),YC.fromHex(t.hex)}var JC={m:1,p:Ii,k:128,expand:"xmd",hash:fr};function _m(e){return L(b({},JC),{DST:e})}function e8(e){let t=ws+"rho",n=hu(e,1,_m(t));return P.big(n[0][0],32)}function t8(e){let t=ws+"chal",n=hu(e,1,_m(t));return P.big(n[0][0],32)}function n8(e){let t=ws+"nonce",n=hu(e,1,_m(t));return P.big(n[0][0],32)}function r8(e){let t=km(ws+"msg"),n=fr(new Uint8Array([...t,...e]));return new P(n)}function o8(e){let t=km(ws+"com"),n=fr(new Uint8Array([...t,...e]));return new P(n)}var de={};Ur(de,{DeserializeElement:()=>b8,DeserializeScalar:()=>_8,ElementAdd:()=>Lu,ElementAddMany:()=>w8,Identity:()=>g8,Order:()=>m8,RandomScalar:()=>y8,ScalarBaseMulti:()=>Em,ScalarMulti:()=>v8,SerializeElement:()=>x8,SerializeScalar:()=>k8});var $e={};Ur($e,{equal_arr_size:()=>f8,exists:()=>i8,is_equal_set:()=>u8,is_included:()=>c8,is_unique_set:()=>l8,ok:()=>s8,size:()=>a8});function s8(e,t){if(e===!1)throw new Error(t!=null?t:"Assertion failed!")}function i8(e){if(typeof e>"u")throw new TypeError("Input is undefined!");if(e===null)throw new TypeError("Input is null!")}function a8(e,t){let n=P.bytes(e);if(n.length!==t)throw new Error("Invalid byte size: ".concat(n.hex," !== ").concat(t));return!0}function c8(e,t){if(!e.includes(t))throw new Error("item is not included in array")}function l8(e){for(let t of e)if(e.filter(r=>r===t).length!==1)throw new Error("item in set is not unique: "+String(t))}function u8(e){if(!e.every(t=>t===e[0]))throw new Error("set does not have equal items")}function f8(e,t){if(e.length!==t.length)throw new Error("array lengths are unequal: ".concat(e.length," !== ").concat(t.length))}function d8(e){let t=P.str(e).digest;return P.join([t,t])}function vx(e,...t){let n=d8(e),r=t.map(o=>P.bytes(o));return P.join([n,...r]).digest}var{POINT:bx,_0n:xx,_1n:h8,_N:p8}=Iu;function m8(){return p8}function g8(){return new bx(xx,h8,xx)}function y8(){let e=P.random(32).big;return ye(e)}function Lu(e,t){if(e===null&&t===null)throw new Error("both points are null!");if(e===null)return $e.exists(t),t;if(t===null)return e;{let n=e.add(t);return n.assertValidity(),n}}function w8(e){let t=e.slice(1).reduce((n,r)=>Lu(n,r),e[0]);if(t===null)throw new Error("Summed point is null.");return t.assertValidity(),t}function v8(e,t){let n=e.multiply(t);return n.assertValidity(),n}function Em(e){let n=Nt.ProjectivePoint.BASE.multiply(e);return n.assertValidity(),n}function x8(e){return P.bytes(e.toRawBytes(!0))}function b8(e){let t=P.bytes(e).hex;return bx.fromHex(t)}function k8(e){return new P(e,32)}function _8(e){return P.bytes(e).big}function Bm(e){let t=P.bytes(e).big,n=de.ScalarBaseMulti(t);return de.SerializeElement(n).hex}function _x(e,t,n){let r=kx(t,"bip340"),o=kx(e,"bip340");return $e.size(r,32),$e.size(o,32),vx("BIP0340/challenge",o,r,n).big}function kx(e,t){let n=P.bytes(e);if(t==="ecdsa")return n.length===32?n.prepend(2).hex:n.hex;if(t==="bip340")return n.length===33?n.slice(1).hex:n.hex;throw new Error("invalid pubkey type")}function Ex(e){return e.map(t=>BigInt(t.idx))}function Cm(e){let t=[],n=e.sort((r,o)=>r.idx-o.idx);for(let{idx:r,hidden_pn:o,binder_pn:s}of n){let i=[de.SerializeScalar(r),o,s];t=[...t,...i]}return P.join(t)}function Ou(e,t,n){let r=P.hex(n),o=po.H4(r),s=Cm(e),i=po.H5(s);return P.join([t,o,i])}function Ru(e,t){for(let n of e)if(t===n.idx)return P.bytes(n.factor).big;throw new Error("invalid participant")}function Mu(e,t){return e.map(({idx:n})=>{let r=de.SerializeScalar(n),o=P.join([t,r]);return{idx:n,factor:po.H1(o).hex}})}function Uu(e,t){let n=null;for(let{idx:r,binder_pn:o,hidden_pn:s}of e){let i=de.DeserializeElement(s),a=de.DeserializeElement(o),c=Ru(t,r),l=de.ScalarMulti(a,c);n=de.ElementAdd(n,i),n=de.ElementAdd(n,l)}return $e.exists(n),de.SerializeElement(n).hex}function Bx(e,t=[]){let n=t.map(l=>P.bytes(l).big),r=Sn,o=Ii-r,s=e,i=r,a=r,c=Cn;for(let l of n){let u=Em(l);i=s.hasEvenY()?r:o,s=i===o?s.negate():s,s=Lu(s,u),s.assertValidity(),a=ye(i*a),c=ye(l+i*c)}return i=s.hasEvenY()?r:o,{parity:i,point:s,state:a,tweak:c}}function C8(e,t){let n=P.bytes(e).hex,r=bt(n),o=Bx(r,t),s=o.point.toHex(!0);return{int_pk:n,int_pt:r,group_pk:s,group_pt:o}}function S8(e,t,n){let r=e.group_pk,o=Ou(t,r,n).hex,s=Mu(t,o),i=Uu(t,s),a=Ex(t),c=_x(i,r,n);return n=P.bytes(n).hex,{bind_prefix:o,bind_factors:s,challenge:c,pnonces:t,group_pn:i,indexes:a,message:n}}function Cx(e,t,n,r){let o=C8(e,r),s=S8(o,t,n);return b(b({},o),s)}function Sm(e,t){$e.is_included(e,t),$e.is_unique_set(e);let n=Sn,r=Sn;for(let o of e)o!==t&&(n=ye(ho.mul(n,o)),r=ye(ho.mul(r,o-t)));return ye(ho.div(n,r))}function Pm(e,t,n){$e.is_unique_set(e);let r=Sn,o=Sn;for(let s of e)s!==t&&(r=ye(ho.mul(r,n-s)),o=ye(ho.mul(o,t-s)));return ye(ho.div(r,o))}function Sx(e,t,n){let r=e.filter(f=>f!==t.idx).map(f=>BigInt(f)),o=BigInt(t.idx),s=P.hex(t.seckey).big,i=bt(n),a=Pm(r,o,Cn),c=ye(a*s),l=i.multiply(c),u=de.SerializeElement(l).hex;return{idx:t.idx,pubkey:u}}function Px(e){let t=null;for(let n of e)if(t===null)t=bt(n.pubkey);else{let r=bt(n.pubkey);t=t.add(r)}return $e.exists(t),de.SerializeElement(t).hex}function Nx(e,t,n){let{bind_factors:r,challenge:o,indexes:s,group_pt:i}=e,a=Ru(r,t.idx),c=Sm(s,BigInt(t.idx));if(n.idx!==t.idx)throw new Error("commit index does not match share index: ".concat(n.idx," !== ").concat(t.idx));let l=P.bytes(n.hidden_sn).big,u=P.bytes(n.binder_sn).big,f=P.bytes(t.seckey).big;bt(e.group_pn).hasEvenY()||(l=Li.n-l,u=Li.n-u);let h=ye(i.parity*i.state*f),y=ye(l+u*a),p=ye(o*c*h+y);return{idx:t.idx,psig:P.big(p,32).hex,pubkey:Bm(t.seckey)}}function Ix(e,t){let{challenge:n,pnonces:r,group_pt:o,group_pk:s,message:i}=e,a=Ou(r,s,i),c=Mu(r,a),l=Uu(r,c),u=t.map(h=>P.hex(h.psig).big).reduce((h,y)=>ye(h+y),Cn),f=ye(n*o.parity*o.tweak),d=ye(u+f);return P.join([l.slice(2),P.big(d,32)]).hex}function Lx(e,t,n,r){let{bind_factors:o,challenge:s,indexes:i,group_pn:a,group_pt:c}=e,l=Ru(o,t.idx),u=bt(t.hidden_pn),f=bt(t.binder_pn),d=bt(n);bt(a).hasEvenY()||(u=de.ScalarMulti(u,Li.n-Sn),f=de.ScalarMulti(f,Li.n-Sn));let y=de.ScalarMulti(f,l),p=de.ElementAdd(u,y),v=Sm(i,BigInt(t.idx)),g=ye(c.parity*c.state),m=ye(s*v*g),w=P.hex(r).big,x=de.ScalarBaseMulti(w),k=de.ScalarMulti(d,m),_=de.ElementAdd(p,k);return x.x===_.x}function Ox(e,t,n){let r=Sx(e,n,t);return{idx:r.idx,keyshare:r.pubkey,members:e,ecdh_pk:t}}function Rx(e){let t=e.map(n=>({idx:n.idx,pubkey:n.keyshare}));return Px(t)}var T8=V.bigint(),A8=V.boolean(),N8=V.date(),I8=V.number(),L8=V.number().max(Number.MAX_SAFE_INTEGER),O8=V.string(),R8=V.number().min(5e8).max(Number.MAX_SAFE_INTEGER),M8=V.any(),U8=V.bigint().max(BigInt(100000000)*BigInt(21000000)),Mx=V.union([V.string(),V.number(),V.boolean(),V.null()]),Tm=V.lazy(()=>V.union([Mx,V.array(Tm),V.record(Tm)])),dc=V.string().regex(/^[0-9a-fA-F]*$/).refine(e=>e.length%2===0),z8=dc.refine(e=>e.length===40),j8=dc.refine(e=>e.length===64),H8=dc.refine(e=>e.length===66),D8=dc.refine(e=>e.length===128),$8=V.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/),V8=V.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/),q8=V.string().regex(/^[a-zA-Z0-9\-_]+={0,2}$/),W8=V.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/),te={any:M8,base58:$8,base64:V8,base64url:q8,bech32:W8,big:T8,bool:A8,date:N8,hex20:z8,hex32:j8,hex33:H8,hex64:D8,hex:dc,json:Tm,literal:Mx,num:I8,sats:U8,str:O8,stamp:R8,uint:L8};var Ux=V.object({send:V.boolean(),recv:V.boolean()}),zx=V.object({pubkey:te.hex32,policy:Ux}),Z8=zx.extend({status:V.enum(["online","offline"]),updated:te.stamp}),zu={config:zx,data:Z8,policy:Ux};var F8=V.object({ecdh:V.map(te.hex33,te.hex33).optional()}),jx=V.object({ecdh:V.function().optional(),sign:V.function().optional()}),K8=V.object({debug:V.boolean(),middleware:jx,policies:zu.config.array(),sign_ival:te.num}),Hx={cache:F8,config:K8,middleware:jx};var Dx=V.object({idx:te.num,pubkey:te.hex33,hidden_pn:te.hex33,binder_pn:te.hex33}),G8=V.object({commits:V.array(Dx),group_pk:te.hex33,threshold:te.num}),Q8=V.object({idx:te.num,binder_sn:te.hex32,hidden_sn:te.hex32,seckey:te.hex32}),Y8=V.object({idx:te.num,keyshare:te.hex,members:te.num.array(),ecdh_pk:te.hex}),hc={commit:Dx,ecdh:Y8,group:G8,share:Q8};var X8=hc.commit.extend({bind_hash:te.hex32,sid:te.hex32,sighash:te.hex32}),J8=hc.share.extend({bind_hash:te.hex32,sid:te.hex32,sighash:te.hex32}),$x=uc.tuple([te.hex32,te.hex32]),Vx=uc.tuple([te.hex32]).rest(te.hex32),qx=uc.object({content:te.str.nullable(),hashes:Vx.array(),members:te.num.array(),stamp:te.num,type:te.str}),eS=qx.extend({gid:te.hex32,sid:te.hex32}),tS=uc.object({idx:te.num,psigs:$x.array(),pubkey:te.hex33,sid:te.hex32}),Wx={commit:X8,member:J8,psig_entry:$x,psig_pkg:tS,session:eS,sighash_vec:Vx,template:qx};var Vt={base:te,node:Hx,peer:zu,pkg:hc,sign:Wx};function ju(e){try{let t=Vt.pkg.ecdh,n=JSON.parse(e.data),r=t.parse(n);return L(b({},e),{data:r})}catch(t){throw new Error("ecdh message failed validation")}}function Zx(e){try{let t=Vt.sign.session,n=JSON.parse(e.data),r=t.parse(n);return L(b({},e),{data:r})}catch(t){throw new Error("session message failed validation")}}function Fx(e){try{let t=Vt.sign.psig_pkg,n=JSON.parse(e.data),r=t.parse(n);return L(b({},e),{data:r})}catch(t){throw new Error("signature message failed validation")}}function Kx(e){try{return Vt.pkg.group.parse(e)}catch(t){throw console.log("error:",t),new Error("group package failed validation")}}function Gx(e){try{return Vt.pkg.share.parse(e)}catch(t){throw console.log("error:",t),new Error("share package failed validation")}}var cn=()=>Math.floor(Date.now()/1e3),Qx=(e=1e3)=>new Promise(t=>setTimeout(t,e));function ln(e){return JSON.parse(JSON.stringify(e))}function Hu(e){return e instanceof Map||Array.isArray(e)||typeof e!="object"?e:Object.keys(e).sort().filter(([t,n])=>n!==void 0).reduce((t,n)=>(t[n]=e[n],t),{})}function kt(e){return e instanceof Error?e.message:typeof e=="string"?e:String(e)}function Yx(e,t,n){if(t.safeParse(e).success)return!0;if(n===void 0)return!1;throw new Error(n!=null?n:"object failed schema validation")}var ue;(function(e){function t(a,c){if(a===!1)throw new Error(c!=null?c:"Assertion failed!")}e.ok=t;function n(a,c,l){if(a!==c)throw new Error(l!=null?l:"".concat(a," !== ").concat(c))}e.equal=n;function r(a,c){if(typeof a>"u")throw new TypeError(c!=null?c:"Input is undefined!");if(a===null)throw new TypeError(c!=null?c:"Input is null!")}e.exists=r;function o(a,c,l){let u=P.bytes(a);if(u.length!==c)throw new Error(l!=null?l:"Invalid byte size: ".concat(u.hex," !== ").concat(c));return!0}e.size=o;function s(a,c,l){r(c),Yx(c,a,l!=null?l:null)}e.schema=s;function i(a){if(typeof a!="string"||a.match(/[^a-fA-F0-9]/)!==null||a.length%2!==0)throw new Error("invalid hex:"+a)}e.is_hex=i})(ue||(ue={}));var Am=Nt.CURVE.n,nS=gr(Am,32,!0),Nm=Nt.ProjectivePoint.BASE;function rS(e,t=!1){let n=vs(e).big%Am;return t?Nm.multiply(n).hasEvenY()?P.big(n).hex:P.big(Am-n).hex:P.big(n).hex}function xs(e,t){let n=vs(e).big,o=Nm.multiply(n).toHex(!0);return mo(o,t)}function Im(e,t,n=!1){let r=vs(e).big,o=vs(t).big,s=nS.add(r,o),i=P.big(s);return rS(i,n)}function Lm(e,t,n=!1){let r=iS(e),o=vs(t).big,s=oS(e),i=Nm.multiply(o),a=s.add(i);n&&!a.hasEvenY()&&(a=a.negate());let c=a.toHex(!0);return mo(c,r)}function oS(e){try{let t=mo(e,"ecdsa");return Nt.ProjectivePoint.fromHex(t)}catch(t){throw new Error("invalid pubkey: "+e)}}function sS(e,t){try{let n=vs(e);return n.length===33&&t==="bip340"?n.slice(1):n.length===32&&t==="ecdsa"?n.prepend(2):n}catch(n){throw new Error("invalid pubkey: "+String(e))}}function mo(e,t){return sS(e,t).hex}function iS(e){let t=vs(e);if(t.length===33)return"ecdsa";if(t.length===32)return"bip340";throw new Error("invalid pubkey: "+String(e))}function vs(e){try{return P.bytes(e)}catch(t){throw new Error("invalid bytes: "+String(e))}}var Xx;(function(e){function t(o){return o instanceof Error?o.message:typeof o=="string"?o:String(o)}e.error=t;function n(o,s){return s.safeParse(o)}e.data=n;function r(o,s){let i=o.map(c=>s.safeParse(c)),a=i.filter(c=>!c.success).map(c=>c.error.errors.map(l=>"".concat(l.message,": ").concat(l.path)));return a.length!==0?{ok:!1,errors:a}:{ok:!0,data:i.map(c=>c.data)}}e.array=r})(Xx||(Xx={}));function Du(e,t){let n=()=>Math.random()>.5?1:-1,r=Math.min(e.length,t-1);return e.sort(n).slice(0,r)}function $u(e,t){let n=e.commits.filter(r=>t.includes(mo(r.pubkey,"bip340"))).map(r=>r.idx);return ue.ok(n.length===t.length,"index count does not match pubkey count"),n}function Jx(e){return e.map(t=>t.pubkey)}function e2(e){return e.filter(t=>t.policy.recv).map(t=>t.pubkey)}function Vu(e){return e.filter(t=>t.policy.send).map(t=>t.pubkey)}async function t2(e,t){let n=e.config.middleware.ecdh;try{e.emit("/ecdh/handler/req",ln(t)),typeof n=="function"&&(t=n(e,t));let{members:r,ecdh_pk:o}=t.data,s=e.signer.gen_ecdh_share(r,o),i=an({data:JSON.stringify(s),id:t.id,tag:"/ecdh/res"}),a=await e.client.publish(i,t.env.pubkey);if(!a.ok)throw new Error("failed to publish response");e.emit("/ecdh/handler/res",ln(a.data))}catch(r){e.debug&&console.log(r),e.emit("/ecdh/handler/rej",[kt(r),ln(t)])}}function n2(e){return async(t,n)=>{let r=e.group.threshold,o=Vu(e.peers),s=Du(n!=null?n:n=o,r),i=e.cache.ecdh.get(t);if(i!==void 0)return{ok:!0,data:e.signer.unwrap(i,t)};let a=$u(e.group,[e.pubkey,...s]),c=e.signer.gen_ecdh_share(a,t),l=null;try{l=await aS(e,s,c),e.emit("/ecdh/sender/res",ln(l))}catch(u){e.debug&&console.log(u);let f=kt(u);return e.emit("/ecdh/sender/rej",[f,ln(c)]),{ok:!1,err:f}}try{ue.ok(l!==null,"no responses from peers");let u=[c,...l.map(h=>h.data)],f=cS(u),d=e.signer.wrap(f,t);return e.cache.ecdh.set(t,d),e.emit("/ecdh/sender/ret",[t,f]),{ok:!0,data:f}}catch(u){e.debug&&console.log(u);let f=kt(u);return e.emit("/ecdh/sender/err",[f,ln(l!=null?l:[])]),{ok:!1,err:f}}}}async function aS(e,t,n){let r={data:JSON.stringify(n),tag:"/ecdh/req"},o=await e.client.multicast(r,t);if(!o.sub.ok)throw new Error(o.sub.reason);return o.sub.inbox.map(s=>{let i=ju(s);return ue.ok(i!==null,"invalid ecdh response from pubkey: "+s.env.pubkey),i})}function cS(e){return Rx(e)}function r2(e){return async t=>{let n=null;try{n=await lS(e,t),e.emit("/echo/sender/res",n)}catch(r){e.debug&&console.log(r);let o=kt(r);return e.emit("/echo/sender/rej",[o,n]),{ok:!1,err:o}}try{return ue.ok(n!==null,"no response from self"),e.emit("/echo/sender/ret",[n.data]),{ok:!0,data:n.data}}catch(r){e.debug&&console.log(r);let o=kt(r);return e.emit("/echo/sender/err",[o,n]),{ok:!1,err:o}}}}async function lS(e,t){let n=await e.client.request({data:t,tag:"/echo/req"},e.pubkey,{});if(!n.ok)throw new Error(n.reason);return n.inbox[0]}async function o2(e,t){try{e.emit("/ping/handler/req",t);let n=e.peers.find(s=>s.pubkey===t.env.pubkey);if(n===void 0)throw new Error("peer data not found");let r=an({data:JSON.stringify(n.policy),id:t.id,tag:"/ping/res"}),o=await e.client.publish(r,t.env.pubkey);if(!o.ok)throw new Error("failed to publish response");e.update_peer(L(b({},n),{status:"online",updated:cn()})),e.emit("/ping/handler/res",o.data)}catch(n){e.debug&&console.log(n),e.emit("/ping/handler/rej",[kt(n),t])}}function s2(e){return async t=>{let n=e.peers.find(o=>o.pubkey===t);ue.exists(n,"peer data not found");let r=null;try{r=await uS(e,t),e.emit("/ping/sender/res",r)}catch(o){e.debug&&console.log(o);let s=kt(o);return e.emit("/ping/sender/rej",[s,r]),{ok:!1,err:s}}try{ue.ok(r!==null,"no response from peer");let o=fS(r);if(o===null)throw new Error("invalid ping response");let s=L(b({},n),{status:"online",updated:cn()});return e.update_peer(s),e.emit("/ping/sender/ret",s),{ok:!0,data:o}}catch(o){e.debug&&console.log(o);let s=kt(o);return e.emit("/ping/sender/err",[s,r]),e.update_peer(L(b({},n),{status:"offline",updated:cn()})),{ok:!1,err:s}}}}async function uS(e,t){let n=await e.client.request({data:"ping",tag:"/ping/req"},t,{});if(!n.ok)throw new Error(n.reason);return n.inbox[0]}function fS(e){try{let t=JSON.parse(e.data),n=Vt.peer.policy.safeParse(t);return n.success?n.data:null}catch(t){return null}}function i2(e){if(Array.isArray(e))return e;if(typeof e=="string")return[e];throw new Error("invalid message payload")}function a2(e,t,n){let r=l2(e,t.idx,n),o=Lm(t.hidden_pn,r),s=Lm(t.binder_pn,r),[i]=n;return L(b({},t),{binder_pn:s,hidden_pn:o,bind_hash:r,sighash:i,sid:e})}function c2(e,t,n){let r=l2(e,t.idx,n),o=Im(t.hidden_sn,r),s=Im(t.binder_sn,r),[i]=n;return L(b({},t),{binder_sn:s,hidden_sn:o,bind_hash:r,sighash:i,sid:e})}function l2(e,t,n){let r=P.bytes(e),o=P.num(t,4),s=P.join(n);return P.join([r,o,s]).digest.hex}function u2(e){let t=Cm(e.commits);return P.join([t,e.group_pk]).digest.hex}function f2(e,t){let n=e.find(r=>r.idx===t);return ue.exists(n,"commit package not found for idx: "+t),n}var dS=()=>({content:null,stamp:cn(),type:"message"});function d2(e,t,n={}){let r=typeof t=="string"?[[t]]:t,s=Vt.sign.template.safeParse(L(b(b({},dS()),n),{hashes:r,members:e.sort()}));return s.success?s.data:null}function h2(e,t){let n=u2(e),r=hS(n,t);return L(b({},t),{gid:n,sid:r})}function hS(e,t){var c;let n=t.members.map(l=>P.bytes(l)),r=t.hashes.map(l=>P.join(l)),o=P.bytes((c=t.content)!=null?c:"00"),s=P.str(t.type),i=P.num(t.stamp,4);return P.join([e,...n,...r,o,s,i]).digest.hex}function pS(e,t,n){let r=f2(e.commits,n);return t.hashes.map(o=>a2(t.sid,r,o))}function p2(e,t){return e.hashes.map(n=>c2(e.sid,t,n))}function mS(e,t){return t.members.map(n=>pS(e,t,n)).flat()}function qu(e,t){let n=e.commits.map(s=>s.pubkey),r=mS(e,t),o=new Map;for(let s of t.hashes){let[i,...a]=s,c=r.filter(u=>u.sighash===i),l=Cx(e.group_pk,c,i,a);o.set(i,l)}return{pubkeys:n,session:t,sigmap:o}}function m2(e,t){let n=e.session.sid,r=xs(t.seckey,"ecdsa"),o=e.session.hashes.map(a=>a[0]),s=p2(e.session,t),i=o.map(a=>{let c=s.find(f=>f.sighash===a),l=e.sigmap.get(a);ue.exists(c,"share not found for sighash: "+a),ue.exists(l,"context not found for sighash: "+a);let u=yS(l,c);return[a,u]});return{idx:t.idx,psigs:i,pubkey:r,sid:n}}function g2(e,t){let{idx:n,psigs:r,pubkey:o,sid:s}=t;if(s!==e.session.sid)return"session id mismatch";if(!e.pubkeys.includes(o))return"pubkey not found in group";for(let[i,a]of e.sigmap.entries()){let c=r.find(u=>u[0]===i);if(c===void 0)return"partial signature entry not found for sighash: "+i;let l=a.pnonces.find(u=>u.idx===n);if(l===void 0)return"commit package not found for psig idx: "+n;if(!Lx(a,l,o,c[1]))return"partial signature invalid"}return null}function gS(e){return e.map(({idx:t,psigs:n,pubkey:r,sid:o})=>n.map(([s,i])=>({sighash:s,idx:t,pubkey:r,psig:i,sid:o}))).flat()}function y2(e,t){let n=e.session.members.length,r=gS(t),o=[];for(let[s,i]of e.sigmap.entries()){let a=r.filter(u=>u.sighash===s);ue.ok(a.length===n,"missing partial signatures for sighash: "+s);let c=i.group_pk,l=Ix(i,a);o.push([s,c,l])}return o}function yS(e,t){let{idx:n,binder_sn:r,hidden_sn:o,seckey:s}=t;return Nx(e,{idx:n,seckey:s},{idx:n,binder_sn:r,hidden_sn:o}).psig}async function w2(e,t){let n=e.config.middleware.sign;try{e.emit("/sign/handler/req",ln(t)),typeof n=="function"&&(t=n(e,t));let r=e.signer.sign_session(t.data),o=an({data:JSON.stringify(r),id:t.id,tag:"/sign/res"}),s=await e.client.publish(o,t.env.pubkey);if(!s.ok)throw new Error("failed to publish response");e.emit("/sign/handler/res",ln(s.data))}catch(r){e.debug&&console.log(r),e.emit("/sign/handler/rej",[kt(r),ln(t)])}}function v2(e){return async t=>{let n=i2(t);return e.queue.push(n)}}function x2(e){return async(t,n={})=>{var d;let r=typeof t=="string"?[[t]]:t,o=Vu(e.peers),s=(d=n.peers)!=null?d:n.peers=o,i=e.group.threshold,a=Du(s,i),c=$u(e.group,[e.pubkey,...a]),l=d2(c,r,n);ue.ok(l!==null,"invalid session template");let u=h2(e.group,l),f=null;try{f=await wS(e,a,u),e.emit("/sign/sender/res",ln(f))}catch(h){e.debug&&console.log(h);let y=kt(h);return e.emit("/sign/sender/rej",[y,u]),{ok:!1,err:y}}try{ue.ok(f!==null,"no responses from peers");let h=vS(e,f,u);return e.emit("/sign/sender/ret",[u.sid,h]),{ok:!0,data:h}}catch(h){e.debug&&console.log(h);let y=kt(h);return e.emit("/sign/sender/err",[y,f!=null?f:[]]),{ok:!1,err:y}}}}async function wS(e,t,n){let r=await e.client.multicast({data:JSON.stringify(n),tag:"/sign/req"},t);if(!r.sub.ok)throw new Error(r.sub.reason);return r.sub.inbox}function vS(e,t,n){let r=qu(e.group,n),o=[e.signer.sign_session(n)];return t.forEach(s=>{let i=Fx(s),a=g2(r,i.data);ue.ok(a===null,a+" : "+s.env.pubkey),o.push(i.data)}),y2(r,o)}var Zu=class{constructor(){this.eventMap=new Map}_get_event_handlers(t){let n=this.eventMap.get(t);if(!n){let r=new Set;return this.eventMap.set(t,r),r}return n}has(t){let n=this.eventMap.get(t);return n!==void 0&&n.size>0}on(t,n){this._get_event_handlers(t).add(n)}once(t,n){let r=o=>{this.off(t,r),Wu(n,o)};this.on(t,r)}within(t,n,r){let o=s=>{Wu(n,s)};setTimeout(()=>{this.off(t,o)},r),this.on(t,o)}emit(t,n){let r=[];this._get_event_handlers(t).forEach(o=>{let s=Wu(o,n);s instanceof Promise&&r.push(s)}),this._get_event_handlers("*").forEach(o=>{let s=Wu(o,[t,n]);s instanceof Promise&&r.push(s)}),Promise.allSettled(r)}off(t,n){this._get_event_handlers(t).delete(n)}clear(t){this.eventMap.delete(t)}};function Wu(e,t){return Array.isArray(t)&&t.length>0?e.apply(null,t):e(t)}var bS=()=>({}),pc=class{constructor(t,n,r){this._config=b(b({},bS()),r),this._group=Kx(t),this._share=Gx(n),this._pubkey=xs(this._share.seckey,"bip340")}get config(){return this._config}get group(){return this._group}get pubkey(){return this._pubkey}gen_ecdh_share(t,n){return Ox(t,n,this._share)}sign_message(t,n){let r=Jo.sign(t,this._share.seckey,n);return new P(r).hex}sign_session(t){let n=qu(this._group,t);return m2(n,this._share)}unwrap(t,n){let r=this._share.seckey,o=ts(r,n);return _u(o,t)}wrap(t,n){let r=this._share.seckey,o=ts(r,n);return ku(o,t)}};var Fu=class{constructor(t){this._node=t,this._ival=t.config.sign_ival,this._queue=[],this._timer=null}get node(){return this._node}get timer(){return this._timer}async push(t){return new Promise((n,r)=>{this._queue.push({sigvec:t,resolve:n,reject:r}),this.schedule()})}async process(){let t=[...this._queue];if(this._queue=[],this._timer=null,t.length!==0){this.node.emit("info","batch signing event ids: "+String(t.map(n=>n.sigvec[0])));try{let n=t.map(o=>o.sigvec),r=await this.node.req.sign(n);if(!r.ok){t.forEach(o=>o.reject(r.err));return}t.forEach(o=>{let s=r.data.find(i=>i[0]===o.sigvec[0]);s!==void 0?o.resolve(s):o.reject("signature missing from response")})}catch(n){t.forEach(r=>r.reject(n.message))}}}schedule(){this.timer===null&&(this._timer=setTimeout(()=>this.process(),this._ival))}};var Er=class{constructor(){this.eventMap=new Map}getEventHandlers(t){let n=this.eventMap.get(t);if(!n){let r=new Set;return this.eventMap.set(t,r),r}return n}has(t){let n=this.eventMap.get(t);return n!==void 0&&n.size>0}on(t,n){this.getEventHandlers(t).add(n)}once(t,n){let r=o=>{this.off(t,r),n(o)};this.on(t,r)}within(t,n,r){let o=s=>{n(s)};setTimeout(()=>{this.off(t,o)},r),this.on(t,o)}emit(t,n){let r=[];this.getEventHandlers(t).forEach(o=>{let s=o(n);s instanceof Promise&&r.push(s)}),this.getEventHandlers("*").forEach(o=>{let s=o(t,n);s instanceof Promise&&r.push(s)}),Promise.allSettled(r)}off(t,n){this.getEventHandlers(t).delete(n)}clear(t){this.eventMap.delete(t)}};function k2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Rm(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(t,", not of length=").concat(e.length))}function _2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");k2(e.outputLen),k2(e.blockLen)}function Oi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function E2(e,t){Rm(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var Ku=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var B2=e=>e instanceof Uint8Array;var Gu=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Pn=(e,t)=>e<<32-t|e>>>t,kS=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kS)throw new Error("Non little-endian hardware is not supported");function _S(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function mc(e){if(typeof e=="string"&&(e=_S(e)),!B2(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function C2(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!B2(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}var Ri=class{clone(){return this._cloneInto()}},tM={}.toString;function S2(e){let t=r=>e().update(mc(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Qu(e=32){if(Ku&&typeof Ku.getRandomValues=="function")return Ku.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function ES(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var Yu=class extends Ri{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Gu(this.buffer)}update(t){Oi(this);let{view:n,buffer:r,blockLen:o}=this;t=mc(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Gu(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Oi(this),E2(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let f=i;f<o;f++)n[f]=0;ES(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=Gu(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};var BS=(e,t,n)=>e&t^~e&n,CS=(e,t,n)=>e&t^e&n^t&n,SS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),go=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yo=new Uint32Array(64),Mm=class extends Yu{constructor(){super(64,32,8,!1),this.A=go[0]|0,this.B=go[1]|0,this.C=go[2]|0,this.D=go[3]|0,this.E=go[4]|0,this.F=go[5]|0,this.G=go[6]|0,this.H=go[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)yo[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){let d=yo[f-15],h=yo[f-2],y=Pn(d,7)^Pn(d,18)^d>>>3,p=Pn(h,17)^Pn(h,19)^h>>>10;yo[f]=p+yo[f-7]+y+yo[f-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=Pn(a,6)^Pn(a,11)^Pn(a,25),h=u+d+BS(a,c,l)+SS[f]+yo[f]|0,p=(Pn(r,2)^Pn(r,13)^Pn(r,22))+CS(r,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=r,r=h+p|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){yo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Xu=S2(()=>new Mm);var Hm={};Ur(Hm,{bitGet:()=>OS,bitLen:()=>LS,bitMask:()=>gc,bitSet:()=>RS,bytesToHex:()=>bs,bytesToNumberBE:()=>tt,bytesToNumberLE:()=>tf,concatBytes:()=>Br,createHmacDrbg:()=>jm,ensureBytes:()=>Ve,equalBytes:()=>NS,hexToBytes:()=>ks,hexToNumber:()=>zm,numberToBytesBE:()=>Tn,numberToBytesLE:()=>nf,numberToHexUnpadded:()=>A2,numberToVarBytesBE:()=>AS,utf8ToBytes:()=>IS,validateObject:()=>wo});var T2=BigInt(0),Ju=BigInt(1),PS=BigInt(2),ef=e=>e instanceof Uint8Array,TS=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bs(e){if(!ef(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=TS[e[n]];return t}function A2(e){let t=e.toString(16);return t.length&1?"0".concat(t):t}function zm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":"0x".concat(e))}function ks(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){let o=r*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function tt(e){return zm(bs(e))}function tf(e){if(!ef(e))throw new Error("Uint8Array expected");return zm(bs(Uint8Array.from(e).reverse()))}function Tn(e,t){return ks(e.toString(16).padStart(t*2,"0"))}function nf(e,t){return Tn(e,t).reverse()}function AS(e){return ks(A2(e))}function Ve(e,t,n){let r;if(typeof t=="string")try{r=ks(t)}catch(s){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(s))}else if(ef(t))r=Uint8Array.from(t);else throw new Error("".concat(e," must be hex string or Uint8Array"));let o=r.length;if(typeof n=="number"&&o!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(o));return r}function Br(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!ef(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function NS(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function IS(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function LS(e){let t;for(t=0;e>T2;e>>=Ju,t+=1);return t}function OS(e,t){return e>>BigInt(t)&Ju}var RS=(e,t,n)=>e|(n?Ju:T2)<<BigInt(t),gc=e=>(PS<<BigInt(e-1))-Ju,Um=e=>new Uint8Array(e),P2=e=>Uint8Array.from(e);function jm(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Um(e),o=Um(e),s=0,i=()=>{r.fill(1),o.fill(0),s=0},a=(...f)=>n(o,r,...f),c=(f=Um())=>{o=a(P2([0]),f),r=a(),f.length!==0&&(o=a(P2([1]),f),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,d=[];for(;f<t;){r=a();let h=r.slice();d.push(h),f+=r.length}return Br(...d)};return(f,d)=>{i(),c(f);let h;for(;!(h=d(l()));)c();return i(),h}}var MS={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function wo(e,t,n={}){let r=(o,s,i)=>{let a=MS[s];if(typeof a!="function")throw new Error('Invalid validator "'.concat(s,'", expected function'));let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("Invalid param ".concat(String(o),"=").concat(c," (").concat(typeof c,"), expected ").concat(s))};for(let[o,s]of Object.entries(t))r(o,s,!1);for(let[o,s]of Object.entries(n))r(o,s,!0);return e}var We=BigInt(0),Le=BigInt(1),_s=BigInt(2),US=BigInt(3),Dm=BigInt(4),N2=BigInt(5),I2=BigInt(8),zS=BigInt(9),jS=BigInt(16);function qe(e,t){let n=e%t;return n>=We?n:t+n}function HS(e,t,n){if(n<=We||t<We)throw new Error("Expected power/modulo > 0");if(n===Le)return We;let r=Le;for(;t>We;)t&Le&&(r=r*e%n),e=e*e%n,t>>=Le;return r}function qt(e,t,n){let r=e;for(;t-- >We;)r*=r,r%=n;return r}function rf(e,t){if(e===We||t<=We)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=qe(e,t),r=t,o=We,s=Le,i=Le,a=We;for(;n!==We;){let l=r/n,u=r%n,f=o-i*l,d=s-a*l;r=n,n=u,o=i,s=a,i=f,a=d}if(r!==Le)throw new Error("invert: does not exist");return qe(o,t)}function DS(e){let t=(e-Le)/_s,n,r,o;for(n=e-Le,r=0;n%_s===We;n/=_s,r++);for(o=_s;o<e&&HS(o,t,e)!==e-Le;o++);if(r===1){let i=(e+Le)/Dm;return function(c,l){let u=c.pow(l,i);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let s=(n+Le)/_s;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,o),n),f=a.pow(c,s),d=a.pow(c,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(d);h<l&&!a.eql(p,a.ONE);h++)p=a.sqr(p);let y=a.pow(u,Le<<BigInt(l-h-1));u=a.sqr(y),f=a.mul(f,y),d=a.mul(d,u),l=h}return f}}function $S(e){if(e%Dm===US){let t=(e+Le)/Dm;return function(r,o){let s=r.pow(o,t);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%I2===N2){let t=(e-N2)/I2;return function(r,o){let s=r.mul(o,_s),i=r.pow(s,t),a=r.mul(o,i),c=r.mul(r.mul(a,_s),i),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),o))throw new Error("Cannot find square root");return l}}return e%jS,DS(e)}var VS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $m(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=VS.reduce((r,o)=>(r[o]="function",r),t);return wo(e,n)}function qS(e,t,n){if(n<We)throw new Error("Expected power > 0");if(n===We)return e.ONE;if(n===Le)return t;let r=e.ONE,o=t;for(;n>We;)n&Le&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Le;return r}function WS(e,t){let n=new Array(t.length),r=t.reduce((s,i,a)=>e.is0(i)?s:(n[a]=s,e.mul(s,i)),e.ONE),o=e.inv(r);return t.reduceRight((s,i,a)=>e.is0(i)?s:(n[a]=e.mul(s,n[a]),e.mul(s,i)),o),n}function Vm(e,t){let n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function L2(e,t,n=!1,r={}){if(e<=We)throw new Error("Expected Field ORDER > 0, got ".concat(e));let{nBitLength:o,nByteLength:s}=Vm(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let i=$S(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:s,MASK:gc(o),ZERO:We,ONE:Le,create:c=>qe(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("Invalid field element: expected bigint, got ".concat(typeof c));return We<=c&&c<e},is0:c=>c===We,isOdd:c=>(c&Le)===Le,neg:c=>qe(-c,e),eql:(c,l)=>c===l,sqr:c=>qe(c*c,e),add:(c,l)=>qe(c+l,e),sub:(c,l)=>qe(c-l,e),mul:(c,l)=>qe(c*l,e),pow:(c,l)=>qS(a,c,l),div:(c,l)=>qe(c*rf(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>rf(c,e),sqrt:r.sqrt||(c=>i(a,c)),invertBatch:c=>WS(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?nf(c,s):Tn(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(c.length));return n?tf(c):tt(c)}});return Object.freeze(a)}function O2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function qm(e){let t=O2(e);return t+Math.ceil(t/2)}function R2(e,t,n=!1){let r=e.length,o=O2(t),s=qm(t);if(r<16||r<s||r>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(r));let i=n?tt(e):tf(e),a=qe(i,t-Le)+Le;return n?nf(a,o):Tn(a,o)}var FS=BigInt(0),Wm=BigInt(1);function M2(e,t){let n=(o,s)=>{let i=s.negate();return o?i:s},r=o=>{let s=Math.ceil(t/o)+1,i=2**(o-1);return{windows:s,windowSize:i}};return{constTimeNegate:n,unsafeLadder(o,s){let i=e.ZERO,a=o;for(;s>FS;)s&Wm&&(i=i.add(a)),a=a.double(),s>>=Wm;return i},precomputeWindow(o,s){let{windows:i,windowSize:a}=r(s),c=[],l=o,u=l;for(let f=0;f<i;f++){u=l,c.push(u);for(let d=1;d<a;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(o,s,i){let{windows:a,windowSize:c}=r(o),l=e.ZERO,u=e.BASE,f=BigInt(2**o-1),d=2**o,h=BigInt(o);for(let y=0;y<a;y++){let p=y*c,v=Number(i&f);i>>=h,v>c&&(v-=d,i+=Wm);let g=p,m=p+Math.abs(v)-1,w=y%2!==0,x=v<0;v===0?u=u.add(n(w,s[g])):l=l.add(n(x,s[m]))}return{p:l,f:u}},wNAFCached(o,s,i,a){let c=o._WINDOW_SIZE||1,l=s.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&s.set(o,a(l))),this.wNAF(c,l,i)}}}function Zm(e){return $m(e.Fp),wo(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(L(b(b({},Vm(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function KS(e){let t=Zm(e);wo(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(b({},t))}var{bytesToNumberBE:GS,hexToBytes:QS}=Hm,Es={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=Es;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:GS(r),l:e.subarray(n+2)}},toSig(e){let{Err:t}=Es,n=typeof e=="string"?QS(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");let{d:o,l:s}=Es._parseInt(n.subarray(2)),{d:i,l:a}=Es._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:i}},hexFromSig(e){let t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{let u=l.toString(16);return u.length&1?"0".concat(u):u},r=t(n(e.s)),o=t(n(e.r)),s=r.length/2,i=o.length/2,a=n(s),c=n(i);return"30".concat(n(i+s+4),"02").concat(c).concat(o,"02").concat(a).concat(r)}},Cr=BigInt(0),un=BigInt(1),yM=BigInt(2),U2=BigInt(3),wM=BigInt(4);function YS(e){let t=KS(e),{Fp:n}=t,r=t.toBytes||((y,p,v)=>{let g=p.toAffine();return Br(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),o=t.fromBytes||(y=>{let p=y.subarray(1),v=n.fromBytes(p.subarray(0,n.BYTES)),g=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:v,y:g}});function s(y){let{a:p,b:v}=t,g=n.sqr(y),m=n.mul(g,y);return n.add(n.add(m,n.mul(y,p)),v)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function i(y){return typeof y=="bigint"&&Cr<y&&y<t.n}function a(y){if(!i(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(y){let{allowedPrivateKeyLengths:p,nByteLength:v,wrapPrivateKey:g,n:m}=t;if(p&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=bs(y)),typeof y!="string"||!p.includes(y.length))throw new Error("Invalid key");y=y.padStart(v*2,"0")}let w;try{w=typeof y=="bigint"?y:tt(Ve("private key",y,v))}catch(x){throw new Error("private key must be ".concat(v," bytes, hex or bigint, not ").concat(typeof y))}return g&&(w=qe(w,m)),a(w),w}let l=new Map;function u(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(p,v,g){if(this.px=p,this.py=v,this.pz=g,p==null||!n.isValid(p))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(p){let{x:v,y:g}=p||{};if(!p||!n.isValid(v)||!n.isValid(g))throw new Error("invalid affine point");if(p instanceof f)throw new Error("projective point not allowed");let m=w=>n.eql(w,n.ZERO);return m(v)&&m(g)?f.ZERO:new f(v,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){let v=n.invertBatch(p.map(g=>g.pz));return p.map((g,m)=>g.toAffine(v[m])).map(f.fromAffine)}static fromHex(p){let v=f.fromAffine(o(Ve("pointHex",p)));return v.assertValidity(),v}static fromPrivateKey(p){return f.BASE.multiply(c(p))}_setWindowSize(p){this._WINDOW_SIZE=p,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:p,y:v}=this.toAffine();if(!n.isValid(p)||!n.isValid(v))throw new Error("bad point: x or y not FE");let g=n.sqr(v),m=s(p);if(!n.eql(g,m))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);let{px:v,py:g,pz:m}=this,{px:w,py:x,pz:k}=p,_=n.eql(n.mul(v,k),n.mul(w,m)),C=n.eql(n.mul(g,k),n.mul(x,m));return _&&C}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){let{a:p,b:v}=t,g=n.mul(v,U2),{px:m,py:w,pz:x}=this,k=n.ZERO,_=n.ZERO,C=n.ZERO,S=n.mul(m,m),M=n.mul(w,w),A=n.mul(x,x),I=n.mul(m,w);return I=n.add(I,I),C=n.mul(m,x),C=n.add(C,C),k=n.mul(p,C),_=n.mul(g,A),_=n.add(k,_),k=n.sub(M,_),_=n.add(M,_),_=n.mul(k,_),k=n.mul(I,k),C=n.mul(g,C),A=n.mul(p,A),I=n.sub(S,A),I=n.mul(p,I),I=n.add(I,C),C=n.add(S,S),S=n.add(C,S),S=n.add(S,A),S=n.mul(S,I),_=n.add(_,S),A=n.mul(w,x),A=n.add(A,A),S=n.mul(A,I),k=n.sub(k,S),C=n.mul(A,M),C=n.add(C,C),C=n.add(C,C),new f(k,_,C)}add(p){u(p);let{px:v,py:g,pz:m}=this,{px:w,py:x,pz:k}=p,_=n.ZERO,C=n.ZERO,S=n.ZERO,M=t.a,A=n.mul(t.b,U2),I=n.mul(v,w),H=n.mul(g,x),z=n.mul(m,k),G=n.add(v,g),E=n.add(w,x);G=n.mul(G,E),E=n.add(I,H),G=n.sub(G,E),E=n.add(v,m);let B=n.add(w,k);return E=n.mul(E,B),B=n.add(I,z),E=n.sub(E,B),B=n.add(g,m),_=n.add(x,k),B=n.mul(B,_),_=n.add(H,z),B=n.sub(B,_),S=n.mul(M,E),_=n.mul(A,z),S=n.add(_,S),_=n.sub(H,S),S=n.add(H,S),C=n.mul(_,S),H=n.add(I,I),H=n.add(H,I),z=n.mul(M,z),E=n.mul(A,E),H=n.add(H,z),z=n.sub(I,z),z=n.mul(M,z),E=n.add(E,z),I=n.mul(H,E),C=n.add(C,I),I=n.mul(B,E),_=n.mul(G,_),_=n.sub(_,I),I=n.mul(G,H),S=n.mul(B,S),S=n.add(S,I),new f(_,C,S)}subtract(p){return this.add(p.negate())}is0(){return this.equals(f.ZERO)}wNAF(p){return h.wNAFCached(this,l,p,v=>{let g=n.invertBatch(v.map(m=>m.pz));return v.map((m,w)=>m.toAffine(g[w])).map(f.fromAffine)})}multiplyUnsafe(p){let v=f.ZERO;if(p===Cr)return v;if(a(p),p===un)return this;let{endo:g}=t;if(!g)return h.unsafeLadder(this,p);let{k1neg:m,k1:w,k2neg:x,k2:k}=g.splitScalar(p),_=v,C=v,S=this;for(;w>Cr||k>Cr;)w&un&&(_=_.add(S)),k&un&&(C=C.add(S)),S=S.double(),w>>=un,k>>=un;return m&&(_=_.negate()),x&&(C=C.negate()),C=new f(n.mul(C.px,g.beta),C.py,C.pz),_.add(C)}multiply(p){a(p);let v=p,g,m,{endo:w}=t;if(w){let{k1neg:x,k1:k,k2neg:_,k2:C}=w.splitScalar(v),{p:S,f:M}=this.wNAF(k),{p:A,f:I}=this.wNAF(C);S=h.constTimeNegate(x,S),A=h.constTimeNegate(_,A),A=new f(n.mul(A.px,w.beta),A.py,A.pz),g=S.add(A),m=M.add(I)}else{let{p:x,f:k}=this.wNAF(v);g=x,m=k}return f.normalizeZ([g,m])[0]}multiplyAndAddUnsafe(p,v,g){let m=f.BASE,w=(k,_)=>_===Cr||_===un||!k.equals(m)?k.multiplyUnsafe(_):k.multiply(_),x=w(this,v).add(w(p,g));return x.is0()?void 0:x}toAffine(p){let{px:v,py:g,pz:m}=this,w=this.is0();p==null&&(p=w?n.ONE:n.inv(m));let x=n.mul(v,p),k=n.mul(g,p),_=n.mul(m,p);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x,y:k}}isTorsionFree(){let{h:p,isTorsionFree:v}=t;if(p===un)return!0;if(v)return v(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:p,clearCofactor:v}=t;return p===un?this:v?v(f,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return this.assertValidity(),r(f,this,p)}toHex(p=!0){return bs(this.toRawBytes(p))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);let d=t.nBitLength,h=M2(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:i}}function XS(e){let t=Zm(e);return wo(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(b({lowS:!0},t))}function z2(e){let t=XS(e),{Fp:n,n:r}=t,o=n.BYTES+1,s=2*n.BYTES+1;function i(E){return Cr<E&&E<n.ORDER}function a(E){return qe(E,r)}function c(E){return rf(E,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=YS(L(b({},t),{toBytes(E,B,N){let U=B.toAffine(),T=n.toBytes(U.x),j=Br;return N?j(Uint8Array.from([B.hasEvenY()?2:3]),T):j(Uint8Array.from([4]),T,n.toBytes(U.y))},fromBytes(E){let B=E.length,N=E[0],U=E.subarray(1);if(B===o&&(N===2||N===3)){let T=tt(U);if(!i(T))throw new Error("Point is not on curve");let j=f(T),Z=n.sqrt(j),K=(Z&un)===un;return(N&1)===1!==K&&(Z=n.neg(Z)),{x:T,y:Z}}else if(B===s&&N===4){let T=n.fromBytes(U.subarray(0,n.BYTES)),j=n.fromBytes(U.subarray(n.BYTES,2*n.BYTES));return{x:T,y:j}}else throw new Error("Point of length ".concat(B," was invalid. Expected ").concat(o," compressed bytes or ").concat(s," uncompressed bytes"))}})),h=E=>bs(Tn(E,t.nByteLength));function y(E){let B=r>>un;return E>B}function p(E){return y(E)?a(-E):E}let v=(E,B,N)=>tt(E.slice(B,N));class g{constructor(B,N,U){this.r=B,this.s=N,this.recovery=U,this.assertValidity()}static fromCompact(B){let N=t.nByteLength;return B=Ve("compactSignature",B,N*2),new g(v(B,0,N),v(B,N,2*N))}static fromDER(B){let{r:N,s:U}=Es.toSig(Ve("DER",B));return new g(N,U)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(B){return new g(this.r,this.s,B)}recoverPublicKey(B){let{r:N,s:U,recovery:T}=this,j=C(Ve("msgHash",B));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");let Z=T===2||T===3?N+t.n:N;if(Z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(T&1)===0?"02":"03",pe=l.fromHex(K+h(Z)),ge=c(Z),me=a(-j*ge),ze=a(U*ge),ke=l.BASE.multiplyAndAddUnsafe(pe,me,ze);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ks(this.toDERHex())}toDERHex(){return Es.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ks(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let m={isValidPrivateKey(E){try{return u(E),!0}catch(B){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let E=qm(t.n);return R2(t.randomBytes(E),t.n)},precompute(E=8,B=l.BASE){return B._setWindowSize(E),B.multiply(BigInt(3)),B}};function w(E,B=!0){return l.fromPrivateKey(E).toRawBytes(B)}function x(E){let B=E instanceof Uint8Array,N=typeof E=="string",U=(B||N)&&E.length;return B?U===o||U===s:N?U===2*o||U===2*s:E instanceof l}function k(E,B,N=!0){if(x(E))throw new Error("first arg must be private key");if(!x(B))throw new Error("second arg must be public key");return l.fromHex(B).multiply(u(E)).toRawBytes(N)}let _=t.bits2int||function(E){let B=tt(E),N=E.length*8-t.nBitLength;return N>0?B>>BigInt(N):B},C=t.bits2int_modN||function(E){return a(_(E))},S=gc(t.nBitLength);function M(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(Cr<=E&&E<S))throw new Error("bigint expected < 2^".concat(t.nBitLength));return Tn(E,t.nByteLength)}function A(E,B,N=I){if(["recovered","canonical"].some(Ne=>Ne in N))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:T}=t,{lowS:j,prehash:Z,extraEntropy:K}=N;j==null&&(j=!0),E=Ve("msgHash",E),Z&&(E=Ve("prehashed msgHash",U(E)));let pe=C(E),ge=u(B),me=[M(ge),M(pe)];if(K!=null){let Ne=K===!0?T(n.BYTES):K;me.push(Ve("extraEntropy",Ne))}let ze=Br(...me),ke=pe;function Et(Ne){let Rt=_(Ne);if(!d(Rt))return;let Ls=c(Rt),Ft=l.BASE.multiply(Rt).toAffine(),je=a(Ft.x);if(je===Cr)return;let Kt=a(Ls*a(ke+je*ge));if(Kt===Cr)return;let Mr=(Ft.x===je?0:2)|Number(Ft.y&un),Xn=Kt;return j&&y(Kt)&&(Xn=p(Kt),Mr^=1),new g(je,Xn,Mr)}return{seed:ze,k2sig:Et}}let I={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};function z(E,B,N=I){let{seed:U,k2sig:T}=A(E,B,N),j=t;return jm(j.hash.outputLen,j.nByteLength,j.hmac)(U,T)}l.BASE._setWindowSize(8);function G(E,B,N,U=H){var Ft;let T=E;if(B=Ve("msgHash",B),N=Ve("publicKey",N),"strict"in U)throw new Error("options.strict was renamed to lowS");let{lowS:j,prehash:Z}=U,K,pe;try{if(typeof T=="string"||T instanceof Uint8Array)try{K=g.fromDER(T)}catch(je){if(!(je instanceof Es.Err))throw je;K=g.fromCompact(T)}else if(typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint"){let{r:je,s:Kt}=T;K=new g(je,Kt)}else throw new Error("PARSE");pe=l.fromHex(N)}catch(je){if(je.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&K.hasHighS())return!1;Z&&(B=t.hash(B));let{r:ge,s:me}=K,ze=C(B),ke=c(me),Et=a(ze*ke),Ne=a(ge*ke),Rt=(Ft=l.BASE.multiplyAndAddUnsafe(pe,Et,Ne))==null?void 0:Ft.toAffine();return Rt?a(Rt.x)===ge:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:k,sign:z,verify:G,ProjectivePoint:l,Signature:g,utils:m}}var of=class extends Ri{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,_2(t);let r=mc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return Oi(this),this.iHash.update(t),this}digestInto(t){Oi(this),Rm(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Fm=(e,t,n)=>new of(e,t).update(n).digest();Fm.create=(e,t)=>new of(e,t);function JS(e){return{hash:e,hmac:(t,...n)=>Fm(e,t,C2(...n)),randomBytes:Qu}}function j2(e,t){let n=r=>z2(b(b({},e),JS(r)));return Object.freeze(L(b({},n(t)),{create:n}))}var lf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),$2=BigInt(1),af=BigInt(2),H2=(e,t)=>(e+t/af)/t;function V2(e){let t=lf,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=qt(u,n,t)*u%t,d=qt(f,n,t)*u%t,h=qt(d,af,t)*l%t,y=qt(h,o,t)*h%t,p=qt(y,s,t)*y%t,v=qt(p,a,t)*p%t,g=qt(v,c,t)*v%t,m=qt(g,a,t)*p%t,w=qt(m,n,t)*u%t,x=qt(w,i,t)*y%t,k=qt(x,r,t)*l%t,_=qt(k,af,t);if(!Gm.eql(Gm.sqr(_),e))throw new Error("Cannot find square root");return _}var Gm=L2(lf,void 0,void 0,{sqrt:V2}),vo=j2({a:BigInt(0),b:BigInt(7),Fp:Gm,n:sf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=sf,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-$2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),a=H2(s*e,t),c=H2(-r*e,t),l=qe(e-a*n-c*o,t),u=qe(-a*r-c*s,t),f=l>i,d=u>i;if(f&&(l=t-l),d&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},Xu),uf=BigInt(0),q2=e=>typeof e=="bigint"&&uf<e&&e<lf,e6=e=>typeof e=="bigint"&&uf<e&&e<sf,D2={};function cf(e,...t){let n=D2[e];if(n===void 0){let r=Xu(Uint8Array.from(e,o=>o.charCodeAt(0)));n=Br(r,r),D2[e]=n}return Xu(Br(n,...t))}var Xm=e=>e.toRawBytes(!0).slice(1),Qm=e=>Tn(e,32),Km=e=>qe(e,lf),yc=e=>qe(e,sf),Jm=vo.ProjectivePoint,t6=(e,t,n)=>Jm.BASE.multiplyAndAddUnsafe(e,t,n);function Ym(e){let t=vo.utils.normPrivateKeyToScalar(e),n=Jm.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:yc(-t),bytes:Xm(n)}}function W2(e){if(!q2(e))throw new Error("bad x: need 0 < x < p");let t=Km(e*e),n=Km(t*e+BigInt(7)),r=V2(n);r%af!==uf&&(r=Km(-r));let o=new Jm(e,r,$2);return o.assertValidity(),o}function Z2(...e){return yc(tt(cf("BIP0340/challenge",...e)))}function n6(e){return Ym(e).bytes}function r6(e,t,n=Qu(32)){let r=Ve("message",e),{bytes:o,scalar:s}=Ym(t),i=Ve("auxRand",n,32),a=Qm(s^tt(cf("BIP0340/aux",i))),c=cf("BIP0340/nonce",a,o,r),l=yc(tt(c));if(l===uf)throw new Error("sign failed: k is zero");let{bytes:u,scalar:f}=Ym(l),d=Z2(u,o,r),h=new Uint8Array(64);if(h.set(u,0),h.set(Qm(yc(f+d*s)),32),!F2(h,r,o))throw new Error("sign: Invalid signature produced");return h}function F2(e,t,n){let r=Ve("signature",e,64),o=Ve("message",t),s=Ve("publicKey",n,32);try{let i=W2(tt(s)),a=tt(r.subarray(0,32));if(!q2(a))return!1;let c=tt(r.subarray(32,64));if(!e6(c))return!1;let l=Z2(Qm(a),Xm(i),o),u=t6(i,c,yc(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(i){return!1}}var Mi={getPublicKey:n6,sign:r6,verify:F2,utils:{randomPrivateKey:vo.utils.randomPrivateKey,lift_x:W2,pointToBytes:Xm,numberToBytesBE:Tn,bytesToNumberBE:tt,taggedHash:cf,mod:qe}};var ff=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var e0=e=>e instanceof Uint8Array;var df=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),An=(e,t)=>e<<32-t|e>>>t,o6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!o6)throw new Error("Non little-endian hardware is not supported");var s6=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ue(e){if(!e0(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=s6[e[n]];return t}function Bs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){let o=r*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function i6(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function xo(e){if(typeof e=="string"&&(e=i6(e)),!e0(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function zi(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!e0(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}var Ui=class{clone(){return this._cloneInto()}};function t0(e){let t=r=>e().update(xo(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function hf(e=32){if(ff&&typeof ff.getRandomValues=="function")return ff.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function n0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function a6(e){if(typeof e!="boolean")throw new Error("Expected boolean, not ".concat(e))}function K2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(t,", not of length=").concat(e.length))}function c6(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");n0(e.outputLen),n0(e.blockLen)}function l6(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u6(e,t){K2(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var f6={number:n0,bool:a6,bytes:K2,hash:c6,exists:l6,output:u6},Wt=f6;function d6(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var pf=class extends Ui{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=df(this.buffer)}update(t){Wt.exists(this);let{view:n,buffer:r,blockLen:o}=this;t=xo(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=df(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Wt.exists(this),Wt.output(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let f=i;f<o;f++)n[f]=0;d6(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=df(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};var h6=(e,t,n)=>e&t^~e&n,p6=(e,t,n)=>e&t^e&n^t&n,m6=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ko=new Uint32Array(64),mf=class extends pf{constructor(){super(64,32,8,!1),this.A=bo[0]|0,this.B=bo[1]|0,this.C=bo[2]|0,this.D=bo[3]|0,this.E=bo[4]|0,this.F=bo[5]|0,this.G=bo[6]|0,this.H=bo[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)ko[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){let d=ko[f-15],h=ko[f-2],y=An(d,7)^An(d,18)^d>>>3,p=An(h,17)^An(h,19)^h>>>10;ko[f]=p+ko[f-7]+y+ko[f-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let d=An(a,6)^An(a,11)^An(a,25),h=u+d+h6(a,c,l)+m6[f]+ko[f]|0,p=(An(r,2)^An(r,13)^An(r,22))+p6(r,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=r,r=h+p|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){ko.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},r0=class extends mf{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},qn=t0(()=>new mf),qM=t0(()=>new r0);function ji(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function Sr(...e){let t=(o,s)=>i=>o(s(i)),n=Array.from(e).reverse().reduce((o,s)=>o?t(o,s.encode):s.encode,void 0),r=e.reduce((o,s)=>o?t(o,s.decode):s.decode,void 0);return{encode:n,decode:r}}function Pr(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(ji(n),n<0||n>=e.length)throw new Error("Digit index outside alphabet: ".concat(n," (alphabet: ").concat(e.length,")"));return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error("alphabet.decode: not string element=".concat(n));let r=e.indexOf(n);if(r===-1)throw new Error('Unknown letter: "'.concat(n,'". Allowed: ').concat(e));return r})}}}function Tr(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error("join.encode: non-string input=".concat(n));return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function yf(e,t="="){if(ji(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error("padding.encode: non-string input=".concat(r));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error("padding.decode: non-string input=".concat(o));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function eb(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function G2(e,t,n){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: wrong to=".concat(n,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0,o=[],s=Array.from(e);for(s.forEach(i=>{if(ji(i),i<0||i>=t)throw new Error("Wrong integer: ".concat(i))});;){let i=0,a=!0;for(let c=r;c<s.length;c++){let l=s[c],u=t*i+l;if(!Number.isSafeInteger(u)||t*i/t!==i||u-l!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,s[c]=Math.floor(u/n),!Number.isSafeInteger(s[c])||s[c]*n+i!==u)throw new Error("convertRadix: carry overflow");if(a)s[c]?a=!1:r=c;else continue}if(o.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)o.push(0);return o.reverse()}var tb=(e,t)=>t?tb(t,e%t):e,gf=(e,t)=>e+(t-tb(e,t));function o0(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(gf(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(gf(t,n)));let o=0,s=0,i=2**n-1,a=[];for(let c of e){if(ji(c),c>=2**t)throw new Error("convertRadix2: invalid data word=".concat(c," from=").concat(t));if(o=o<<t|c,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)a.push((o>>s-n&i)>>>0);o&=2**s-1}if(o=o<<n-s&i,!r&&s>=t)throw new Error("Excess padding");if(!r&&o)throw new Error("Non-zero padding: ".concat(o));return r&&s>0&&a.push(o>>>0),a}function g6(e){return ji(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return G2(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(G2(t,e,2**8))}}}function _o(e,t=!1){if(ji(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(gf(8,e)>32||gf(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return o0(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(o0(n,e,8,t))}}}function Q2(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(n){}}}var y6=Sr(_o(4),Pr("0123456789ABCDEF"),Tr("")),w6=Sr(_o(5),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),yf(5),Tr("")),ZM=Sr(_o(5),Pr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),yf(5),Tr("")),FM=Sr(_o(5),Pr("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Tr(""),eb(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),fn=Sr(_o(6),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),yf(6),Tr("")),v6=Sr(_o(6),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),yf(6),Tr("")),a0=e=>Sr(g6(58),Pr(e),Tr("")),s0=a0("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),KM=a0("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),GM=a0("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Y2=[0,2,3,5,6,7,9,10,11],x6={encode(e){let t="";for(let n=0;n<e.length;n+=8){let r=e.subarray(n,n+8);t+=s0.encode(r).padStart(Y2[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){let r=e.slice(n,n+11),o=Y2.indexOf(r.length),s=s0.decode(r);for(let i=0;i<s.length-o;i++)if(s[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(t)}};var i0=Sr(Pr("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Tr("")),X2=[996825010,642813549,513874426,1027748829,705979059];function wc(e){let t=e>>25,n=(e&33554431)<<5;for(let r=0;r<X2.length;r++)(t>>r&1)===1&&(n^=X2[r]);return n}function J2(e,t,n=1){let r=e.length,o=1;for(let s=0;s<r;s++){let i=e.charCodeAt(s);if(i<33||i>126)throw new Error("Invalid prefix (".concat(e,")"));o=wc(o)^i>>5}o=wc(o);for(let s=0;s<r;s++)o=wc(o)^e.charCodeAt(s)&31;for(let s of t)o=wc(o)^s;for(let s=0;s<6;s++)o=wc(o);return o^=n,i0.encode(o0([o%2**30],30,5,!1))}function nb(e){let t=e==="bech32"?1:734539939,n=_o(5),r=n.decode,o=n.encode,s=Q2(r);function i(u,f,d=90){if(typeof u!="string")throw new Error("bech32.encode prefix should be string, not ".concat(typeof u));if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error("bech32.encode words should be array of numbers, not ".concat(typeof f));let h=u.length+7+f.length;if(d!==!1&&h>d)throw new TypeError("Length ".concat(h," exceeds limit ").concat(d));return u=u.toLowerCase(),"".concat(u,"1").concat(i0.encode(f)).concat(J2(u,f,t))}function a(u,f=90){if(typeof u!="string")throw new Error("bech32.decode input should be string, not ".concat(typeof u));if(u.length<8||f!==!1&&u.length>f)throw new TypeError("Wrong string length: ".concat(u.length," (").concat(u,"). Expected (8..").concat(f,")"));let d=u.toLowerCase();if(u!==d&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=d;let h=u.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');let y=u.slice(0,h),p=u.slice(h+1);if(p.length<6)throw new Error("Data must be at least 6 characters long");let v=i0.decode(p).slice(0,-6),g=J2(y,v,t);if(!p.endsWith(g))throw new Error("Invalid checksum in ".concat(u,': expected "').concat(g,'"'));return{prefix:y,words:v}}let c=Q2(a);function l(u){let{prefix:f,words:d}=a(u,!1);return{prefix:f,words:d,bytes:r(d)}}return{encode:i,decode:a,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:s,toWords:o}}var Eo=nb("bech32"),QM=nb("bech32m"),b6={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},k6=Sr(_o(4),Pr("0123456789abcdef"),Tr(""),eb(e=>{if(typeof e!="string"||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()})),_6={utf8:b6,hex:k6,base16:y6,base32:w6,base64:fn,base64url:v6,base58:s0,base58xmr:x6},YM="Invalid encoding type. Available types: ".concat(Object.keys(_6).join(", "));function wf(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, not ".concat(e))}function c0(e){if(typeof e!="boolean")throw new Error("boolean expected, not ".concat(e))}function l0(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function oe(e,...t){if(!l0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length ".concat(t,", not of length=").concat(e.length))}function Bo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function vc(e,t){oe(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var vf=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);var se=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Co=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),E6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!E6)throw new Error("Non little-endian hardware is not supported");function B6(e){if(typeof e!="string")throw new Error("string expected, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function Wn(e){if(typeof e=="string")e=B6(e);else if(l0(e))e=e.slice();else throw new Error("Uint8Array expected, got ".concat(typeof e));return e}function rb(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Cs(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}var Zn=(e,t)=>(Object.assign(t,e),t);function Ss(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var Ar=16,f0=new Uint8Array(16),Fn=se(f0),C6=225,S6=(e,t,n,r)=>{let o=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^C6<<24&-(o&1)}},dn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function P6(e){e.reverse();let t=e[15]&1,n=0;for(let r=0;r<e.length;r++){let o=e[r];e[r]=o>>>1|n,n=(o&1)<<7}return e[0]^=-t&225,e}var T6=e=>e>64*1024?8:e>1024?4:2,xf=class{constructor(t,n){this.blockLen=Ar,this.outputLen=Ar,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=Wn(t),oe(t,16);let r=Co(t),o=r.getUint32(0,!1),s=r.getUint32(4,!1),i=r.getUint32(8,!1),a=r.getUint32(12,!1),c=[];for(let y=0;y<128;y++)c.push({s0:dn(o),s1:dn(s),s2:dn(i),s3:dn(a)}),{s0:o,s1:s,s2:i,s3:a}=S6(o,s,i,a);let l=T6(n||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: wrong window size=".concat(l,", should be 2, 4 or 8"));this.W=l;let f=128/l,d=this.windowSize=2**l,h=[];for(let y=0;y<f;y++)for(let p=0;p<d;p++){let v=0,g=0,m=0,w=0;for(let x=0;x<l;x++){if(!(p>>>l-x-1&1))continue;let{s0:_,s1:C,s2:S,s3:M}=c[l*y+x];v^=_,g^=C,m^=S,w^=M}h.push({s0:v,s1:g,s2:m,s3:w})}this.t=h}_updateBlock(t,n,r,o){t^=this.s0,n^=this.s1,r^=this.s2,o^=this.s3;let{W:s,t:i,windowSize:a}=this,c=0,l=0,u=0,f=0,d=(1<<s)-1,h=0;for(let y of[t,n,r,o])for(let p=0;p<4;p++){let v=y>>>8*p&255;for(let g=8/s-1;g>=0;g--){let m=v>>>s*g&d,{s0:w,s1:x,s2:k,s3:_}=i[h*a+m];c^=w,l^=x,u^=k,f^=_,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=f}update(t){t=Wn(t),Bo(this);let n=se(t),r=Math.floor(t.length/Ar),o=t.length%Ar;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return o&&(f0.set(t.subarray(r*Ar)),this._updateBlock(Fn[0],Fn[1],Fn[2],Fn[3]),Fn.fill(0)),this}destroy(){let{t}=this;for(let n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){Bo(this),vc(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=se(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t}digest(){let t=new Uint8Array(Ar);return this.digestInto(t),this.destroy(),t}},u0=class extends xf{constructor(t,n){t=Wn(t);let r=P6(t.slice());super(r,n),r.fill(0)}update(t){t=Wn(t),Bo(this);let n=se(t),r=t.length%Ar,o=Math.floor(t.length/Ar);for(let s=0;s<o;s++)this._updateBlock(dn(n[s*4+3]),dn(n[s*4+2]),dn(n[s*4+1]),dn(n[s*4+0]));return r&&(f0.set(t.subarray(o*Ar)),this._updateBlock(dn(Fn[3]),dn(Fn[2]),dn(Fn[1]),dn(Fn[0])),Fn.fill(0)),this}digestInto(t){Bo(this),vc(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=se(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t.reverse()}};function ob(e){let t=(r,o)=>e(o,r.length).update(Wn(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,o)=>e(r,o),t}var d0=ob((e,t)=>new xf(e,t)),sb=ob((e,t)=>new u0(e,t));var _t=16,m0=4,bf=new Uint8Array(_t),A6=283;function g0(e){return e<<1^A6&-(e>>7)}function Hi(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=g0(e);return n}var p0=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=g0(r))e[n]=r;let t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),N6=p0.map((e,t)=>p0.indexOf(t)),I6=e=>e<<24|e>>>8,h0=e=>e<<8|e>>>24;function ib(e,t){if(e.length!==256)throw new Error("Wrong sbox length");let n=new Uint32Array(256).map((l,u)=>t(e[u])),r=n.map(h0),o=r.map(h0),s=o.map(h0),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let f=l*256+u;i[f]=n[l]^r[u],a[f]=o[l]^s[u],c[f]=e[l]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:o,T3:s,T01:i,T23:a}}var y0=ib(p0,e=>Hi(e,3)<<24|e<<16|e<<8|Hi(e,2)),ab=ib(N6,e=>Hi(e,11)<<24|Hi(e,13)<<16|Hi(e,9)<<8|Hi(e,14)),L6=(()=>{let e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=g0(n))e[t]=n;return e})();function Po(e){oe(e);let t=e.length;if(![16,24,32].includes(t))throw new Error("aes: wrong key size: should be 16, 24 or 32, got: ".concat(t));let{sbox2:n}=y0,r=se(e),o=r.length,s=a=>Kn(n,a,a,a,a),i=new Uint32Array(t+28);i.set(r);for(let a=o;a<i.length;a++){let c=i[a-1];a%o===0?c=s(I6(c))^L6[a/o-1]:o>6&&a%o===4&&(c=s(c)),i[a]=i[a-o]^c}return i}function cb(e){let t=Po(e),n=t.slice(),r=t.length,{sbox2:o}=y0,{T0:s,T1:i,T2:a,T3:c}=ab;for(let l=0;l<r;l+=4)for(let u=0;u<4;u++)n[l+u]=t[r-l-4+u];t.fill(0);for(let l=4;l<r-4;l++){let u=n[l],f=Kn(o,u,u,u,u);n[l]=s[f&255]^i[f>>>8&255]^a[f>>>16&255]^c[f>>>24]}return n}function So(e,t,n,r,o,s){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|s>>>24&255]}function Kn(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function hn(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=y0,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let y=0;y<l;y++){let p=e[c++]^So(i,a,t,n,r,o),v=e[c++]^So(i,a,n,r,o,t),g=e[c++]^So(i,a,r,o,t,n),m=e[c++]^So(i,a,o,t,n,r);t=p,n=v,r=g,o=m}let u=e[c++]^Kn(s,t,n,r,o),f=e[c++]^Kn(s,n,r,o,t),d=e[c++]^Kn(s,r,o,t,n),h=e[c++]^Kn(s,o,t,n,r);return{s0:u,s1:f,s2:d,s3:h}}function lb(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=ab,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let y=0;y<l;y++){let p=e[c++]^So(i,a,t,o,r,n),v=e[c++]^So(i,a,n,t,o,r),g=e[c++]^So(i,a,r,n,t,o),m=e[c++]^So(i,a,o,r,n,t);t=p,n=v,r=g,o=m}let u=e[c++]^Kn(s,t,o,r,n),f=e[c++]^Kn(s,n,t,o,r),d=e[c++]^Kn(s,r,n,t,o),h=e[c++]^Kn(s,o,r,n,t);return{s0:u,s1:f,s2:d,s3:h}}function Di(e,t){if(!t)return new Uint8Array(e);if(oe(t),t.length<e)throw new Error("aes: wrong destination length, expected at least ".concat(e,", got: ").concat(t.length));return t}function O6(e,t,n,r){oe(t,_t),oe(n);let o=n.length;r=Di(o,r);let s=t,i=se(s),{s0:a,s1:c,s2:l,s3:u}=hn(e,i[0],i[1],i[2],i[3]),f=se(n),d=se(r);for(let y=0;y+4<=f.length;y+=4){d[y+0]=f[y+0]^a,d[y+1]=f[y+1]^c,d[y+2]=f[y+2]^l,d[y+3]=f[y+3]^u;let p=1;for(let v=s.length-1;v>=0;v--)p=p+(s[v]&255)|0,s[v]=p&255,p>>>=8;({s0:a,s1:c,s2:l,s3:u}=hn(e,i[0],i[1],i[2],i[3]))}let h=_t*Math.floor(f.length/m0);if(h<o){let y=new Uint32Array([a,c,l,u]),p=vf(y);for(let v=h,g=0;v<o;v++,g++)r[v]=n[v]^p[g]}return r}function xc(e,t,n,r,o){oe(n,_t),oe(r),o=Di(r.length,o);let s=n,i=se(s),a=Co(s),c=se(r),l=se(o),u=t?0:12,f=r.length,d=a.getUint32(u,t),{s0:h,s1:y,s2:p,s3:v}=hn(e,i[0],i[1],i[2],i[3]);for(let m=0;m+4<=c.length;m+=4)l[m+0]=c[m+0]^h,l[m+1]=c[m+1]^y,l[m+2]=c[m+2]^p,l[m+3]=c[m+3]^v,d=d+1>>>0,a.setUint32(u,d,t),{s0:h,s1:y,s2:p,s3:v}=hn(e,i[0],i[1],i[2],i[3]);let g=_t*Math.floor(c.length/m0);if(g<f){let m=new Uint32Array([h,y,p,v]),w=vf(m);for(let x=g,k=0;x<f;x++,k++)o[x]=r[x]^w[k]}return o}var cU=Zn({blockSize:16,nonceLength:16},function(t,n){oe(t),oe(n,_t);function r(o,s){let i=Po(t),a=n.slice(),c=O6(i,a,o,s);return i.fill(0),a.fill(0),c}return{encrypt:(o,s)=>r(o,s),decrypt:(o,s)=>r(o,s)}});function ub(e){if(oe(e),e.length%_t!==0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ".concat(_t))}function fb(e,t,n){let r=e.length,o=r%_t;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");let s=se(e);if(t){let c=_t-o;c||(c=_t),r=r+c}let i=Di(r,n),a=se(i);return{b:s,o:a,out:i}}function db(e,t){if(!t)return e;let n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");let r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding byte: ".concat(r));let o=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function hb(e){let t=new Uint8Array(16),n=se(t);t.set(e);let r=_t-e.length;for(let o=_t-r;o<_t;o++)t[o]=r;return n}var lU=Zn({blockSize:16},function(t,n={}){oe(t);let r=!n.disablePadding;return{encrypt:(o,s)=>{oe(o);let{b:i,o:a,out:c}=fb(o,r,s),l=Po(t),u=0;for(;u+4<=i.length;){let{s0:f,s1:d,s2:h,s3:y}=hn(l,i[u+0],i[u+1],i[u+2],i[u+3]);a[u++]=f,a[u++]=d,a[u++]=h,a[u++]=y}if(r){let f=hb(o.subarray(u*4)),{s0:d,s1:h,s2:y,s3:p}=hn(l,f[0],f[1],f[2],f[3]);a[u++]=d,a[u++]=h,a[u++]=y,a[u++]=p}return l.fill(0),c},decrypt:(o,s)=>{ub(o);let i=cb(t),a=Di(o.length,s),c=se(o),l=se(a);for(let u=0;u+4<=c.length;){let{s0:f,s1:d,s2:h,s3:y}=lb(i,c[u+0],c[u+1],c[u+2],c[u+3]);l[u++]=f,l[u++]=d,l[u++]=h,l[u++]=y}return i.fill(0),db(a,r)}}}),w0=Zn({blockSize:16,nonceLength:16},function(t,n,r={}){oe(t),oe(n,16);let o=!r.disablePadding;return{encrypt:(s,i)=>{let a=Po(t),{b:c,o:l,out:u}=fb(s,o,i),f=se(n),d=f[0],h=f[1],y=f[2],p=f[3],v=0;for(;v+4<=c.length;)d^=c[v+0],h^=c[v+1],y^=c[v+2],p^=c[v+3],{s0:d,s1:h,s2:y,s3:p}=hn(a,d,h,y,p),l[v++]=d,l[v++]=h,l[v++]=y,l[v++]=p;if(o){let g=hb(s.subarray(v*4));d^=g[0],h^=g[1],y^=g[2],p^=g[3],{s0:d,s1:h,s2:y,s3:p}=hn(a,d,h,y,p),l[v++]=d,l[v++]=h,l[v++]=y,l[v++]=p}return a.fill(0),u},decrypt:(s,i)=>{ub(s);let a=cb(t),c=se(n),l=Di(s.length,i),u=se(s),f=se(l),d=c[0],h=c[1],y=c[2],p=c[3];for(let v=0;v+4<=u.length;){let g=d,m=h,w=y,x=p;d=u[v+0],h=u[v+1],y=u[v+2],p=u[v+3];let{s0:k,s1:_,s2:C,s3:S}=lb(a,d,h,y,p);f[v++]=k^g,f[v++]=_^m,f[v++]=C^w,f[v++]=S^x}return a.fill(0),db(l,o)}}}),uU=Zn({blockSize:16,nonceLength:16},function(t,n){oe(t),oe(n,16);function r(o,s,i){let a=Po(t),c=o.length;i=Di(c,i);let l=se(o),u=se(i),f=s?u:l,d=se(n),h=d[0],y=d[1],p=d[2],v=d[3];for(let m=0;m+4<=l.length;){let{s0:w,s1:x,s2:k,s3:_}=hn(a,h,y,p,v);u[m+0]=l[m+0]^w,u[m+1]=l[m+1]^x,u[m+2]=l[m+2]^k,u[m+3]=l[m+3]^_,h=f[m++],y=f[m++],p=f[m++],v=f[m++]}let g=_t*Math.floor(l.length/m0);if(g<c){({s0:h,s1:y,s2:p,s3:v}=hn(a,h,y,p,v));let m=vf(new Uint32Array([h,y,p,v]));for(let w=g,x=0;w<c;w++,x++)i[w]=o[w]^m[x];m.fill(0)}return a.fill(0),i}return{encrypt:(o,s)=>r(o,!0,s),decrypt:(o,s)=>r(o,!1,s)}});function pb(e,t,n,r,o){let s=e.create(n,r.length+((o==null?void 0:o.length)||0));o&&s.update(o),s.update(r);let i=new Uint8Array(16),a=Co(i);return o&&Ss(a,0,BigInt(o.length*8),t),Ss(a,8,BigInt(r.length*8),t),s.update(i),s.digest()}var fU=Zn({blockSize:16,nonceLength:12,tagLength:16},function(t,n,r){if(oe(n),n.length===0)throw new Error("aes/gcm: empty nonce");let o=16;function s(a,c,l){let u=pb(d0,!1,a,l,r);for(let f=0;f<c.length;f++)u[f]^=c[f];return u}function i(){let a=Po(t),c=bf.slice(),l=bf.slice();if(xc(a,!1,l,l,c),n.length===12)l.set(n);else{let f=bf.slice(),d=Co(f);Ss(d,8,BigInt(n.length*8),!1),d0.create(c).update(n).update(f).digestInto(l)}let u=xc(a,!1,l,bf);return{xk:a,authKey:c,counter:l,tagMask:u}}return{encrypt:a=>{oe(a);let{xk:c,authKey:l,counter:u,tagMask:f}=i(),d=new Uint8Array(a.length+o);xc(c,!1,u,a,d);let h=s(l,f,d.subarray(0,d.length-o));return d.set(h,a.length),c.fill(0),d},decrypt:a=>{if(oe(a),a.length<o)throw new Error("aes/gcm: ciphertext less than tagLen (".concat(o,")"));let{xk:c,authKey:l,counter:u,tagMask:f}=i(),d=a.subarray(0,-o),h=a.subarray(-o),y=s(l,f,d);if(!Cs(y,h))throw new Error("aes/gcm: invalid ghash tag");let p=xc(c,!1,u,d);return l.fill(0),f.fill(0),c.fill(0),p}}}),kf=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error("".concat(e,": invalid value=").concat(r,", must be [").concat(t,"..").concat(n,"]"))},dU=Zn({blockSize:16,nonceLength:12,tagLength:16},function(t,n,r){let s=kf("AAD",0,68719476736),i=kf("plaintext",0,2**36),a=kf("nonce",12,12),c=kf("ciphertext",16,2**36+16);oe(n),a(n.length),r&&(oe(r),s(r.length));function l(){let d=t.length;if(d!==16&&d!==24&&d!==32)throw new Error("key length must be 16, 24 or 32 bytes, got: ".concat(d," bytes"));let h=Po(t),y=new Uint8Array(d),p=new Uint8Array(16),v=se(n),g=0,m=v[0],w=v[1],x=v[2],k=0;for(let _ of[p,y].map(se)){let C=se(_);for(let S=0;S<C.length;S+=2){let{s0:M,s1:A}=hn(h,g,m,w,x);C[S+0]=M,C[S+1]=A,g=++k}}return h.fill(0),{authKey:p,encKey:Po(y)}}function u(d,h,y){let p=pb(sb,!0,h,y,r);for(let k=0;k<12;k++)p[k]^=n[k];p[15]&=127;let v=se(p),g=v[0],m=v[1],w=v[2],x=v[3];return{s0:g,s1:m,s2:w,s3:x}=hn(d,g,m,w,x),v[0]=g,v[1]=m,v[2]=w,v[3]=x,p}function f(d,h,y){let p=h.slice();return p[15]|=128,xc(d,!0,p,y)}return{encrypt:d=>{oe(d),i(d.length);let{encKey:h,authKey:y}=l(),p=u(h,y,d),v=new Uint8Array(d.length+16);return v.set(p,d.length),v.set(f(h,p,d)),h.fill(0),y.fill(0),v},decrypt:d=>{oe(d),c(d.length);let h=d.subarray(-16),{encKey:y,authKey:p}=l(),v=f(y,h,d.subarray(0,-16)),g=u(y,p,v);if(y.fill(0),p.fill(0),!Cs(h,g))throw new Error("invalid polyval tag");return v}}});var nt=(e,t)=>e[t++]&255|(e[t++]&255)<<8,v0=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=Wn(t),oe(t,32);let n=nt(t,0),r=nt(t,2),o=nt(t,4),s=nt(t,6),i=nt(t,8),a=nt(t,10),c=nt(t,12),l=nt(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=nt(t,16+2*u)}process(t,n,r=!1){let o=r?0:2048,{h:s,r:i}=this,a=i[0],c=i[1],l=i[2],u=i[3],f=i[4],d=i[5],h=i[6],y=i[7],p=i[8],v=i[9],g=nt(t,n+0),m=nt(t,n+2),w=nt(t,n+4),x=nt(t,n+6),k=nt(t,n+8),_=nt(t,n+10),C=nt(t,n+12),S=nt(t,n+14),M=s[0]+(g&8191),A=s[1]+((g>>>13|m<<3)&8191),I=s[2]+((m>>>10|w<<6)&8191),H=s[3]+((w>>>7|x<<9)&8191),z=s[4]+((x>>>4|k<<12)&8191),G=s[5]+(k>>>1&8191),E=s[6]+((k>>>14|_<<2)&8191),B=s[7]+((_>>>11|C<<5)&8191),N=s[8]+((C>>>8|S<<8)&8191),U=s[9]+(S>>>5|o),T=0,j=T+M*a+A*(5*v)+I*(5*p)+H*(5*y)+z*(5*h);T=j>>>13,j&=8191,j+=G*(5*d)+E*(5*f)+B*(5*u)+N*(5*l)+U*(5*c),T+=j>>>13,j&=8191;let Z=T+M*c+A*a+I*(5*v)+H*(5*p)+z*(5*y);T=Z>>>13,Z&=8191,Z+=G*(5*h)+E*(5*d)+B*(5*f)+N*(5*u)+U*(5*l),T+=Z>>>13,Z&=8191;let K=T+M*l+A*c+I*a+H*(5*v)+z*(5*p);T=K>>>13,K&=8191,K+=G*(5*y)+E*(5*h)+B*(5*d)+N*(5*f)+U*(5*u),T+=K>>>13,K&=8191;let pe=T+M*u+A*l+I*c+H*a+z*(5*v);T=pe>>>13,pe&=8191,pe+=G*(5*p)+E*(5*y)+B*(5*h)+N*(5*d)+U*(5*f),T+=pe>>>13,pe&=8191;let ge=T+M*f+A*u+I*l+H*c+z*a;T=ge>>>13,ge&=8191,ge+=G*(5*v)+E*(5*p)+B*(5*y)+N*(5*h)+U*(5*d),T+=ge>>>13,ge&=8191;let me=T+M*d+A*f+I*u+H*l+z*c;T=me>>>13,me&=8191,me+=G*a+E*(5*v)+B*(5*p)+N*(5*y)+U*(5*h),T+=me>>>13,me&=8191;let ze=T+M*h+A*d+I*f+H*u+z*l;T=ze>>>13,ze&=8191,ze+=G*c+E*a+B*(5*v)+N*(5*p)+U*(5*y),T+=ze>>>13,ze&=8191;let ke=T+M*y+A*h+I*d+H*f+z*u;T=ke>>>13,ke&=8191,ke+=G*l+E*c+B*a+N*(5*v)+U*(5*p),T+=ke>>>13,ke&=8191;let Et=T+M*p+A*y+I*h+H*d+z*f;T=Et>>>13,Et&=8191,Et+=G*u+E*l+B*c+N*a+U*(5*v),T+=Et>>>13,Et&=8191;let Ne=T+M*v+A*p+I*y+H*h+z*d;T=Ne>>>13,Ne&=8191,Ne+=G*f+E*u+B*l+N*c+U*a,T+=Ne>>>13,Ne&=8191,T=(T<<2)+T|0,T=T+j|0,j=T&8191,T=T>>>13,Z+=T,s[0]=j,s[1]=Z,s[2]=K,s[3]=pe,s[4]=ge,s[5]=me,s[6]=ze,s[7]=ke,s[8]=Et,s[9]=Ne}finalize(){let{h:t,pad:n}=this,r=new Uint16Array(10),o=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=o,o=t[a]>>>13,t[a]&=8191;t[0]+=o*5,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,r[0]=t[0]+5,o=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+o,o=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(o^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+n[0];t[0]=i&65535;for(let a=1;a<8;a++)i=(t[a]+n[a]|0)+(i>>>16)|0,t[a]=i&65535}update(t){Bo(this);let{buffer:n,blockLen:r}=this;t=Wn(t);let o=t.length;for(let s=0;s<o;){let i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(t,s);continue}n.set(t.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){Bo(this),vc(t,this),this.finished=!0;let{buffer:n,h:r}=this,{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)t[s++]=r[i]>>>0,t[s++]=r[i]>>>8;return t}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}};function R6(e){let t=(r,o)=>e(o).update(Wn(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}var mb=R6(e=>new v0(e));var yb=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),M6=yb("expand 16-byte k"),U6=yb("expand 32-byte k"),z6=se(M6),wb=se(U6),vU=wb.slice();function W(e,t){return e<<t|e>>>32-t}function x0(e){return e.byteOffset%4===0}var _f=64,j6=16,vb=2**32-1,gb=new Uint32Array;function H6(e,t,n,r,o,s,i,a){let c=o.length,l=new Uint8Array(_f),u=se(l),f=x0(o)&&x0(s),d=f?se(o):gb,h=f?se(s):gb;for(let y=0;y<c;i++){if(e(t,n,r,u,i,a),i>=vb)throw new Error("arx: counter overflow");let p=Math.min(_f,c-y);if(f&&p===_f){let v=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let g=0,m;g<j6;g++)m=v+g,h[m]=d[m]^u[g];y+=_f;continue}for(let v=0,g;v<p;v++)g=y+v,s[g]=o[g]^l[v];y+=p}}function b0(e,t){let{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=rb({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return wf(o),wf(i),c0(s),c0(n),(a,c,l,u,f=0)=>{oe(a),oe(c),oe(l);let d=l.length;if(u||(u=new Uint8Array(d)),oe(u),wf(f),f<0||f>=vb)throw new Error("arx: counter overflow");if(u.length<d)throw new Error("arx: output (".concat(u.length,") is shorter than data (").concat(d,")"));let h=[],y=a.length,p,v;if(y===32)p=a.slice(),h.push(p),v=wb;else if(y===16&&n)p=new Uint8Array(32),p.set(a),p.set(a,16),v=z6,h.push(p);else throw new Error("arx: invalid 32-byte key, got length=".concat(y));x0(c)||(c=c.slice(),h.push(c));let g=se(p);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(v,g,se(c.subarray(0,16)),g),c=c.subarray(16)}let m=16-o;if(m!==c.length)throw new Error("arx: nonce must be ".concat(m," or 16 bytes"));if(m!==12){let x=new Uint8Array(12);x.set(c,s?0:12-c.length),c=x,h.push(c)}let w=se(c);for(H6(e,v,g,w,l,u,f,i);h.length>0;)h.pop().fill(0);return u}}function kb(e,t,n,r,o,s=20){let i=e[0],a=e[1],c=e[2],l=e[3],u=t[0],f=t[1],d=t[2],h=t[3],y=t[4],p=t[5],v=t[6],g=t[7],m=o,w=n[0],x=n[1],k=n[2],_=i,C=a,S=c,M=l,A=u,I=f,H=d,z=h,G=y,E=p,B=v,N=g,U=m,T=w,j=x,Z=k;for(let pe=0;pe<s;pe+=2)_=_+A|0,U=W(U^_,16),G=G+U|0,A=W(A^G,12),_=_+A|0,U=W(U^_,8),G=G+U|0,A=W(A^G,7),C=C+I|0,T=W(T^C,16),E=E+T|0,I=W(I^E,12),C=C+I|0,T=W(T^C,8),E=E+T|0,I=W(I^E,7),S=S+H|0,j=W(j^S,16),B=B+j|0,H=W(H^B,12),S=S+H|0,j=W(j^S,8),B=B+j|0,H=W(H^B,7),M=M+z|0,Z=W(Z^M,16),N=N+Z|0,z=W(z^N,12),M=M+z|0,Z=W(Z^M,8),N=N+Z|0,z=W(z^N,7),_=_+I|0,Z=W(Z^_,16),B=B+Z|0,I=W(I^B,12),_=_+I|0,Z=W(Z^_,8),B=B+Z|0,I=W(I^B,7),C=C+H|0,U=W(U^C,16),N=N+U|0,H=W(H^N,12),C=C+H|0,U=W(U^C,8),N=N+U|0,H=W(H^N,7),S=S+z|0,T=W(T^S,16),G=G+T|0,z=W(z^G,12),S=S+z|0,T=W(T^S,8),G=G+T|0,z=W(z^G,7),M=M+A|0,j=W(j^M,16),E=E+j|0,A=W(A^E,12),M=M+A|0,j=W(j^M,8),E=E+j|0,A=W(A^E,7);let K=0;r[K++]=i+_|0,r[K++]=a+C|0,r[K++]=c+S|0,r[K++]=l+M|0,r[K++]=u+A|0,r[K++]=f+I|0,r[K++]=d+H|0,r[K++]=h+z|0,r[K++]=y+G|0,r[K++]=p+E|0,r[K++]=v+B|0,r[K++]=g+N|0,r[K++]=m+U|0,r[K++]=w+T|0,r[K++]=x+j|0,r[K++]=k+Z|0}function D6(e,t,n,r){let o=e[0],s=e[1],i=e[2],a=e[3],c=t[0],l=t[1],u=t[2],f=t[3],d=t[4],h=t[5],y=t[6],p=t[7],v=n[0],g=n[1],m=n[2],w=n[3];for(let k=0;k<20;k+=2)o=o+c|0,v=W(v^o,16),d=d+v|0,c=W(c^d,12),o=o+c|0,v=W(v^o,8),d=d+v|0,c=W(c^d,7),s=s+l|0,g=W(g^s,16),h=h+g|0,l=W(l^h,12),s=s+l|0,g=W(g^s,8),h=h+g|0,l=W(l^h,7),i=i+u|0,m=W(m^i,16),y=y+m|0,u=W(u^y,12),i=i+u|0,m=W(m^i,8),y=y+m|0,u=W(u^y,7),a=a+f|0,w=W(w^a,16),p=p+w|0,f=W(f^p,12),a=a+f|0,w=W(w^a,8),p=p+w|0,f=W(f^p,7),o=o+l|0,w=W(w^o,16),y=y+w|0,l=W(l^y,12),o=o+l|0,w=W(w^o,8),y=y+w|0,l=W(l^y,7),s=s+u|0,v=W(v^s,16),p=p+v|0,u=W(u^p,12),s=s+u|0,v=W(v^s,8),p=p+v|0,u=W(u^p,7),i=i+f|0,g=W(g^i,16),d=d+g|0,f=W(f^d,12),i=i+f|0,g=W(g^i,8),d=d+g|0,f=W(f^d,7),a=a+c|0,m=W(m^a,16),h=h+m|0,c=W(c^h,12),a=a+c|0,m=W(m^a,8),h=h+m|0,c=W(c^h,7);let x=0;r[x++]=o,r[x++]=s,r[x++]=i,r[x++]=a,r[x++]=v,r[x++]=g,r[x++]=m,r[x++]=w}var Ef=b0(kb,{counterRight:!1,counterLength:4,allowShortKeys:!1}),$6=b0(kb,{counterRight:!1,counterLength:8,extendNonceFn:D6,allowShortKeys:!1});var V6=new Uint8Array(16),xb=(e,t)=>{e.update(t);let n=t.length%16;n&&e.update(V6.subarray(n))},q6=new Uint8Array(32);function bb(e,t,n,r,o){let s=e(t,n,q6),i=mb.create(s);o&&xb(i,o),xb(i,r);let a=new Uint8Array(16),c=Co(a);Ss(c,0,BigInt(o?o.length:0),!0),Ss(c,8,BigInt(r.length),!0),i.update(a);let l=i.digest();return s.fill(0),l}var _b=e=>(t,n,r)=>(oe(t,32),oe(n),{encrypt:(s,i)=>{let a=s.length,c=a+16;i?oe(i,c):i=new Uint8Array(c),e(t,n,s,i,1);let l=bb(e,t,n,i.subarray(0,-16),r);return i.set(l,a),i},decrypt:(s,i)=>{let a=s.length,c=a-16;if(a<16)throw new Error("encrypted data must be at least 16 bytes");i?oe(i,c):i=new Uint8Array(c);let l=s.subarray(0,-16),u=s.subarray(-16),f=bb(e,t,n,l,r);if(!Cs(u,f))throw new Error("invalid tag");return e(t,n,l,i,1),i}}),BU=Zn({blockSize:64,nonceLength:12,tagLength:16},_b(Ef)),CU=Zn({blockSize:64,nonceLength:24,tagLength:16},_b($6));var Bf=class extends Ui{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Wt.hash(t);let r=xo(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return Wt.exists(this),this.iHash.update(t),this}digestInto(t){Wt.exists(this),Wt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},$i=(e,t,n)=>new Bf(e,t).update(n).digest();$i.create=(e,t)=>new Bf(e,t);function Bb(e,t,n){return Wt.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),$i(e,xo(n),xo(t))}var k0=new Uint8Array([0]),Eb=new Uint8Array;function Cb(e,t,n,r=32){if(Wt.hash(e),Wt.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");let o=Math.ceil(r/e.outputLen);n===void 0&&(n=Eb);let s=new Uint8Array(o*e.outputLen),i=$i.create(e,t),a=i._cloneInto(),c=new Uint8Array(i.outputLen);for(let l=0;l<o;l++)k0[0]=l+1,a.update(l===0?Eb:c).update(n).update(k0).digestInto(c),s.set(c,e.outputLen*l),i._cloneInto(a);return i.destroy(),a.destroy(),c.fill(0),k0.fill(0),s.slice(0,r)}var W6=Object.defineProperty,Ee=(e,t)=>{for(var n in t)W6(e,n,{get:t[n],enumerable:!0})},Ps=Symbol("verified"),Z6=e=>e instanceof Object;function E0(e){if(!Z6(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var F6={};Ee(F6,{Queue:()=>Ab,QueueNode:()=>Tb,binarySearch:()=>B0,insertEventIntoAscendingList:()=>G6,insertEventIntoDescendingList:()=>K6,normalizeURL:()=>Ts,utf8Decoder:()=>Nr,utf8Encoder:()=>Nn});var Nr=new TextDecoder("utf-8"),Nn=new TextEncoder;function Ts(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch(t){throw new Error("Invalid URL: ".concat(e))}}function K6(e,t){let[n,r]=B0(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return r||e.splice(n,0,t),e}function G6(e,t){let[n,r]=B0(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return r||e.splice(n,0,t),e}function B0(e,t){let n=0,r=e.length-1;for(;n<=r;){let o=Math.floor((n+r)/2),s=t(e[o]);if(s===0)return[o,!0];s<0?r=o-1:n=o+1}return[n,!1]}var Tb=class{constructor(e){ee(this,"value");ee(this,"next",null);ee(this,"prev",null);this.value=e}},Ab=class{constructor(){ee(this,"first");ee(this,"last");this.first=null,this.last=null}enqueue(e){let t=new Tb(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let t=this.first;return this.first=null,this.last=null,t.value}let e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},Q6=class{generateSecretKey(){return Mi.utils.randomPrivateKey()}getPublicKey(e){return Ue(Mi.getPublicKey(e))}finalizeEvent(e,t){let n=e;return n.pubkey=Ue(Mi.getPublicKey(t)),n.id=Cf(n),n.sig=Ue(Mi.sign(Cf(n),t)),n[Ps]=!0,n}verifyEvent(e){if(typeof e[Ps]=="boolean")return e[Ps];let t=Cf(e);if(t!==e.id)return e[Ps]=!1,!1;try{let n=Mi.verify(e.sig,t,e.pubkey);return e[Ps]=n,n}catch(n){return e[Ps]=!1,!1}}};function Y6(e){if(!E0(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Cf(e){let t=qn(Nn.encode(Y6(e)));return Ue(t)}var Pf=new Q6,X6=Pf.generateSecretKey,C0=Pf.getPublicKey,Gn=Pf.finalizeEvent,Tf=Pf.verifyEvent,J6={};Ee(J6,{Application:()=>J5,BadgeAward:()=>c5,BadgeDefinition:()=>Z5,BlockedRelaysList:()=>A5,BookmarkList:()=>S5,Bookmarksets:()=>V5,Calendar:()=>iP,CalendarEventRSVP:()=>aP,ChannelCreation:()=>Mb,ChannelHideMessage:()=>jb,ChannelMessage:()=>zb,ChannelMetadata:()=>Ub,ChannelMuteUser:()=>Hb,ClassifiedListing:()=>nP,ClientAuth:()=>$b,CommunitiesList:()=>P5,CommunityDefinition:()=>uP,CommunityPostApproval:()=>g5,Contacts:()=>s5,CreateOrUpdateProduct:()=>G5,CreateOrUpdateStall:()=>K5,Curationsets:()=>q5,Date:()=>oP,DirectMessageRelaysList:()=>O5,DraftClassifiedListing:()=>rP,DraftLong:()=>Y5,Emojisets:()=>X5,EncryptedDirectMessage:()=>i5,EventDeletion:()=>a5,FileMetadata:()=>u5,FileServerPreference:()=>R5,Followsets:()=>H5,GenericRepost:()=>A0,Genericlists:()=>D5,GiftWrap:()=>Db,HTTPAuth:()=>N0,Handlerinformation:()=>lP,Handlerrecommendation:()=>cP,Highlights:()=>_5,InterestsList:()=>I5,Interestsets:()=>F5,JobFeedback:()=>v5,JobRequest:()=>y5,JobResult:()=>w5,Label:()=>m5,LightningPubRPC:()=>U5,LiveChatMessage:()=>f5,LiveEvent:()=>eP,LongFormArticle:()=>Q5,Metadata:()=>r5,Mutelist:()=>E5,NWCWalletInfo:()=>M5,NWCWalletRequest:()=>Vb,NWCWalletResponse:()=>z5,NostrConnect:()=>j5,OpenTimestamps:()=>l5,Pinlist:()=>B5,PrivateDirectMessage:()=>Rb,ProblemTracker:()=>d5,ProfileBadges:()=>W5,PublicChatsList:()=>T5,Reaction:()=>T0,RecommendRelay:()=>o5,RelayList:()=>C5,Relaysets:()=>$5,Report:()=>h5,Reporting:()=>p5,Repost:()=>P0,Seal:()=>Ob,SearchRelaysList:()=>N5,ShortTextNote:()=>Lb,Time:()=>sP,UserEmojiList:()=>L5,UserStatuses:()=>tP,Zap:()=>k5,ZapGoal:()=>x5,ZapRequest:()=>b5,classifyKind:()=>t5,isAddressableKind:()=>Af,isEphemeralKind:()=>Ib,isKind:()=>n5,isParameterizedReplaceableKind:()=>e5,isRegularKind:()=>Nb,isReplaceableKind:()=>S0});function Nb(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function S0(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Ib(e){return 2e4<=e&&e<3e4}function Af(e){return 3e4<=e&&e<4e4}var e5=Af;function t5(e){return Nb(e)?"regular":S0(e)?"replaceable":Ib(e)?"ephemeral":Af(e)?"parameterized":"unknown"}function n5(e,t){let n=t instanceof Array?t:[t];return E0(e)&&n.includes(e.kind)||!1}var r5=0,Lb=1,o5=2,s5=3,i5=4,a5=5,P0=6,T0=7,c5=8,Ob=13,Rb=14,A0=16,Mb=40,Ub=41,zb=42,jb=43,Hb=44,l5=1040,Db=1059,u5=1063,f5=1311,d5=1971,h5=1984,p5=1984,m5=1985,g5=4550,y5=5999,w5=6999,v5=7e3,x5=9041,b5=9734,k5=9735,_5=9802,E5=1e4,B5=10001,C5=10002,S5=10003,P5=10004,T5=10005,A5=10006,N5=10007,I5=10015,L5=10030,O5=10050,R5=10096,M5=13194,U5=21e3,$b=22242,Vb=23194,z5=23195,j5=24133,N0=27235,H5=3e4,D5=30001,$5=30002,V5=30003,q5=30004,W5=30008,Z5=30009,F5=30015,K5=30017,G5=30018,Q5=30023,Y5=30024,X5=30030,J5=30078,eP=30311,tP=30315,nP=30402,rP=30403,oP=31922,sP=31923,iP=31924,aP=31925,cP=31989,lP=31990,uP=34550;function fP(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),o=e["#".concat(r)];if(o&&!t.tags.find(([s,i])=>s===n.slice(1)&&o.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function dP(e,t){for(let n=0;n<e.length;n++)if(fP(e[n],t))return!0;return!1}var hP={};Ee(hP,{getHex64:()=>Nf,getInt:()=>qb,getSubscriptionId:()=>Wb,matchEventId:()=>pP,matchEventKind:()=>gP,matchEventPubkey:()=>mP});function Nf(e,t){let n=t.length+3,r=e.indexOf('"'.concat(t,'":'))+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function qb(e,t){let n=t.length,r=e.indexOf('"'.concat(t,'":'))+n+3,o=e.slice(r),s=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,s),10)}function Wb(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(o===-1)return null;let s=r+1+o;return e.slice(r+1,s)}function pP(e,t){return t===Nf(e,"id")}function mP(e,t){return t===Nf(e,"pubkey")}function gP(e,t){return t===qb(e,"kind")}var yP={};Ee(yP,{makeAuthEvent:()=>Zb});function Zb(e,t){return{kind:$b,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function wP(){return new Promise(e=>{let t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var vP=e=>(e[Ps]=!0,!0),Fb=class{constructor(e,t){ee(this,"url");ee(this,"_connected",!1);ee(this,"onclose",null);ee(this,"onnotice",e=>console.debug("NOTICE from ".concat(this.url,": ").concat(e)));ee(this,"_onauth",null);ee(this,"baseEoseTimeout",4400);ee(this,"connectionTimeout",4400);ee(this,"publishTimeout",4400);ee(this,"openSubs",new Map);ee(this,"connectionTimeoutHandle");ee(this,"connectionPromise");ee(this,"openCountRequests",new Map);ee(this,"openEventPublishes",new Map);ee(this,"ws");ee(this,"incomingMessageQueue",new Ab);ee(this,"queueRunning",!1);ee(this,"challenge");ee(this,"authPromise");ee(this,"serial",0);ee(this,"verifyEvent");ee(this,"_WebSocket");this.url=Ts(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){let n=new Fb(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var n;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await wP();this.queueRunning=!1}handleNext(){var n,r,o;let e=this.incomingMessageQueue.dequeue();if(!e)return!1;let t=Wb(e);if(t){let s=this.openSubs.get(t);if(!s)return;let i=Nf(e,"id"),a=(n=s.alreadyHaveEvent)==null?void 0:n.call(s,i);if((r=s.receivedEvent)==null||r.call(s,this,i),a)return}try{let s=JSON.parse(e);switch(s[0]){case"EVENT":{let i=this.openSubs.get(s[1]),a=s[2];this.verifyEvent(a)&&dP(i.filters,a)&&i.onevent(a);return}case"COUNT":{let i=s[1],a=s[2],c=this.openCountRequests.get(i);c&&(c.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{let i=this.openSubs.get(s[1]);if(!i)return;i.receivedEose();return}case"OK":{let i=s[1],a=s[2],c=s[3],l=this.openEventPublishes.get(i);l&&(clearTimeout(l.timeout),a?l.resolve(c):l.reject(new Error(c)),this.openEventPublishes.delete(i));return}case"CLOSED":{let i=s[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(s[2]);return}case"NOTICE":this.onnotice(s[1]);return;case"AUTH":{this.challenge=s[1],(o=this._onauth)==null||o.call(this,s[1]);return}}}catch(s){return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){let t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{let o=await e(Zb(this.url,t)),s=setTimeout(()=>{let i=this.openEventPublishes.get(o.id);i&&(i.reject(new Error("auth timed out")),this.openEventPublishes.delete(o.id))},this.publishTimeout);this.openEventPublishes.set(o.id,{resolve:n,reject:r,timeout:s}),this.send('["AUTH",'+JSON.stringify(o)+"]")}),this.authPromise)}async publish(e){let t=new Promise((n,r)=>{let o=setTimeout(()=>{let s=this.openEventPublishes.get(e.id);s&&(s.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:o})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;let n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((o,s)=>{this.openCountRequests.set(n,{resolve:o,reject:s})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){let n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;let n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new xP(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},xP=class{constructor(e,t,n,r){ee(this,"relay");ee(this,"id");ee(this,"closed",!1);ee(this,"eosed",!1);ee(this,"filters");ee(this,"alreadyHaveEvent");ee(this,"receivedEvent");ee(this,"onevent");ee(this,"oneose");ee(this,"onclose");ee(this,"eoseTimeout");ee(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(o=>{console.warn("onevent() callback not defined for subscription '".concat(this.id,"' in relay ").concat(this.relay.url,". event received:"),o)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},bP;try{bP=WebSocket}catch(e){}var kP=class{constructor(e){ee(this,"relays",new Map);ee(this,"seenOn",new Map);ee(this,"trackRelays",!1);ee(this,"verifyEvent");ee(this,"trustedRelayURLs",new Set);ee(this,"_WebSocket");this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation}async ensureRelay(e,t){e=Ts(e);let n=this.relays.get(e);return n||(n=new Fb(e,{verifyEvent:this.trustedRelayURLs.has(e)?vP:this.verifyEvent,websocketImplementation:this._WebSocket}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Ts).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribe(e,t,n){return this.subscribeMap(e.map(r=>({url:r,filter:t})),n)}subscribeMany(e,t,n){return this.subscribeMap(e.flatMap(r=>t.map(o=>({url:r,filter:o}))),n)}subscribeMap(e,t){this.trackRelays&&(t.receivedEvent=(u,f)=>{let d=this.seenOn.get(f);d||(d=new Set,this.seenOn.set(f,d)),d.add(u)});let n=new Set,r=[],o=[],s=u=>{var f;o[u]||(o[u]=!0,o.filter(d=>d).length===e.length&&((f=t.oneose)==null||f.call(t),s=()=>{}))},i=[],a=(u,f)=>{var d;i[u]||(s(u),i[u]=f,i.filter(h=>h).length===e.length&&((d=t.onclose)==null||d.call(t,i),a=()=>{}))},c=u=>{var d;if((d=t.alreadyHaveEvent)!=null&&d.call(t,u))return!0;let f=n.has(u);return n.add(u),f},l=Promise.all(e.map(async({url:u,filter:f},d)=>{u=Ts(u);let h;try{h=await this.ensureRelay(u,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(p){a(d,(p==null?void 0:p.message)||String(p));return}let y=h.subscribe([f],L(b({},t),{oneose:()=>s(d),onclose:p=>{p.startsWith("auth-required:")&&t.doauth?h.auth(t.doauth).then(()=>{h.subscribe([f],L(b({},t),{oneose:()=>s(d),onclose:v=>{a(d,v)},alreadyHaveEvent:c,eoseTimeout:t.maxWait}))}).catch(v=>{a(d,"auth was required and attempted, but failed with: ".concat(v))}):a(d,p)},alreadyHaveEvent:c,eoseTimeout:t.maxWait}));r.push(y)}));return{async close(){await l,r.forEach(u=>{u.close()})}}}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(f,d)=>{let h=this.seenOn.get(d);h||(h=new Set,this.seenOn.set(d,h)),h.add(f)});let n=new Set,r=[],o=Object.keys(e).length,s=[],i=f=>{var d;s[f]||(s[f]=!0,s.filter(h=>h).length===o&&((d=t.oneose)==null||d.call(t),i=()=>{}))},a=[],c=(f,d)=>{var h;a[f]||(i(f),a[f]=d,a.filter(y=>y).length===o&&((h=t.onclose)==null||h.call(t,a),c=()=>{}))},l=f=>{var h;if((h=t.alreadyHaveEvent)!=null&&h.call(t,f))return!0;let d=n.has(f);return n.add(f),d},u=Promise.all(Object.entries(e).map(async(f,d,h)=>{if(h.indexOf(f)!==d){c(d,"duplicate url");return}let[y,p]=f;y=Ts(y);let v;try{v=await this.ensureRelay(y,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(m){c(d,(m==null?void 0:m.message)||String(m));return}let g=v.subscribe(p,L(b({},t),{oneose:()=>i(d),onclose:m=>{m.startsWith("auth-required:")&&t.doauth?v.auth(t.doauth).then(()=>{v.subscribe(p,L(b({},t),{oneose:()=>i(d),onclose:w=>{c(d,w)},alreadyHaveEvent:l,eoseTimeout:t.maxWait}))}).catch(w=>{c(d,"auth was required and attempted, but failed with: ".concat(w))}):c(d,m)},alreadyHaveEvent:l,eoseTimeout:t.maxWait}));r.push(g)}));return{async close(){await u,r.forEach(f=>{f.close()})}}}subscribeEose(e,t,n){let r=this.subscribe(e,t,L(b({},n),{oneose(){r.close()}}));return r}subscribeManyEose(e,t,n){let r=this.subscribeMany(e,t,L(b({},n),{oneose(){r.close()}}));return r}async querySync(e,t,n){return new Promise(async r=>{let o=[];this.subscribeEose(e,t,L(b({},n),{onevent(s){o.push(s)},onclose(s){r(o)}}))})}async get(e,t,n){t.limit=1;let r=await this.querySync(e,t,n);return r.sort((o,s)=>s.created_at-o.created_at),r[0]||null}publish(e,t){return e.map(Ts).map(async(n,r,o)=>{if(o.indexOf(n)!==r)return Promise.reject("duplicate url");let s=await this.ensureRelay(n);return s.publish(t).then(i=>{if(this.trackRelays){let a=this.seenOn.get(t.id);a||(a=new Set,this.seenOn.set(t.id,a)),a.add(s)}return i})})}listConnectionStatus(){let e=new Map;return this.relays.forEach((t,n)=>e.set(n,t.connected)),e}destroy(){this.relays.forEach(e=>e.close()),this.relays=new Map}},Kb;try{Kb=WebSocket}catch(e){}var Gb=class extends kP{constructor(){super({verifyEvent:Tf,websocketImplementation:Kb})}},_P={};Ee(_P,{BECH32_REGEX:()=>Qb,Bech32MaxSize:()=>I0,NostrTypeGuard:()=>EP,decode:()=>If,decodeNostrURI:()=>CP,encodeBytes:()=>Of,naddrEncode:()=>IP,neventEncode:()=>NP,noteEncode:()=>TP,nprofileEncode:()=>AP,npubEncode:()=>PP,nsecEncode:()=>SP});var EP={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},I0=5e3,Qb=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function BP(e){let t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function CP(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),If(e)}catch(t){return{type:"invalid",data:null}}}function If(e){var o,s,i,a,c,l,u;let{prefix:t,words:n}=Eo.decode(e,I0),r=new Uint8Array(Eo.fromWords(n));switch(t){case"nprofile":{let f=_0(r);if(!((o=f[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(f[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Ue(f[0][0]),relays:f[1]?f[1].map(d=>Nr.decode(d)):[]}}}case"nevent":{let f=_0(r);if(!((s=f[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(f[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(f[2]&&f[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(f[3]&&f[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Ue(f[0][0]),relays:f[1]?f[1].map(d=>Nr.decode(d)):[],author:(i=f[2])!=null&&i[0]?Ue(f[2][0]):void 0,kind:(a=f[3])!=null&&a[0]?parseInt(Ue(f[3][0]),16):void 0}}}case"naddr":{let f=_0(r);if(!((c=f[0])!=null&&c[0]))throw new Error("missing TLV 0 for naddr");if(!((l=f[2])!=null&&l[0]))throw new Error("missing TLV 2 for naddr");if(f[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=f[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(f[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Nr.decode(f[0][0]),pubkey:Ue(f[2][0]),kind:parseInt(Ue(f[3][0]),16),relays:f[1]?f[1].map(d=>Nr.decode(d)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Ue(r)};default:throw new Error("unknown prefix ".concat(t))}}function _0(e){let t={},n=e;for(;n.length>0;){let r=n[0],o=n[1],s=n.slice(2,2+o);if(n=n.slice(2+o),s.length<o)throw new Error("not enough data to read on TLV ".concat(r));t[r]=t[r]||[],t[r].push(s)}return t}function SP(e){return Of("nsec",e)}function PP(e){return Of("npub",Bs(e))}function TP(e){return Of("note",Bs(e))}function Lf(e,t){let n=Eo.toWords(t);return Eo.encode(e,n,I0)}function Of(e,t){return Lf(e,t)}function AP(e){let t=L0({0:[Bs(e.pubkey)],1:(e.relays||[]).map(n=>Nn.encode(n))});return Lf("nprofile",t)}function NP(e){let t;e.kind!==void 0&&(t=BP(e.kind));let n=L0({0:[Bs(e.id)],1:(e.relays||[]).map(r=>Nn.encode(r)),2:e.author?[Bs(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Lf("nevent",n)}function IP(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=L0({0:[Nn.encode(e.identifier)],1:(e.relays||[]).map(r=>Nn.encode(r)),2:[Bs(e.pubkey)],3:[new Uint8Array(t)]});return Lf("naddr",n)}function L0(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(o=>{let s=new Uint8Array(o.length+2);s.set([parseInt(n)],0),s.set([o.length],1),s.set(o,2),t.push(s)})}),zi(...t)}var LP={};Ee(LP,{decrypt:()=>OP,encrypt:()=>Yb});function Yb(e,t,n){let r=e instanceof Uint8Array?Ue(e):e,o=vo.getSharedSecret(r,"02"+t),s=Xb(o),i=Uint8Array.from(hf(16)),a=Nn.encode(n),c=w0(s,i).encrypt(a),l=fn.encode(new Uint8Array(c)),u=fn.encode(new Uint8Array(i.buffer));return"".concat(l,"?iv=").concat(u)}function OP(e,t,n){let r=e instanceof Uint8Array?Ue(e):e,[o,s]=n.split("?iv="),i=vo.getSharedSecret(r,"02"+t),a=Xb(i),c=fn.decode(s),l=fn.decode(o),u=w0(a,c).decrypt(l);return Nr.decode(u)}function Xb(e){return e.slice(1,33)}var RP={};Ee(RP,{NIP05_REGEX:()=>O0,isNip05:()=>MP,isValid:()=>jP,queryProfile:()=>Jb,searchDomain:()=>zP,useFetchImplementation:()=>UP});var O0=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,MP=e=>O0.test(e||""),Rf;try{Rf=fetch}catch(e){}function UP(e){Rf=e}async function zP(e,t=""){try{let n="https://".concat(e,"/.well-known/nostr.json?name=").concat(t),r=await Rf(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch(n){return{}}}async function Jb(e){var o;let t=e.match(O0);if(!t)return null;let[,n="_",r]=t;try{let s="https://".concat(r,"/.well-known/nostr.json?name=").concat(n),i=await Rf(s,{redirect:"manual"});if(i.status!==200)throw Error("Wrong response code");let a=await i.json(),c=a.names[n];return c?{pubkey:c,relays:(o=a.relays)==null?void 0:o[c]}:null}catch(s){return null}}async function jP(e,t){let n=await Jb(t);return n?n.pubkey===e:!1}var HP={};Ee(HP,{parse:()=>DP});function DP(e){let t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]},n,r;for(let o=e.tags.length-1;o>=0;o--){let s=e.tags[o];if(s[0]==="e"&&s[1]){let[i,a,c,l,u]=s,f={id:a,relays:c?[c]:[],author:u};if(l==="root"){t.root=f;continue}if(l==="reply"){t.reply=f;continue}if(l==="mention"){t.mentions.push(f);continue}n?r=f:n=f,t.mentions.push(f);continue}if(s[0]==="q"&&s[1]){let[i,a,c]=s;t.quotes.push({id:a,relays:c?[c]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(o=>{if(!o)return;let s=t.mentions.indexOf(o);if(s!==-1&&t.mentions.splice(s,1),o.author){let i=t.profiles.find(a=>a.pubkey===o.author);i&&i.relays&&(o.relays||(o.relays=[]),i.relays.forEach(a=>{var c;((c=o.relays)==null?void 0:c.indexOf(a))===-1&&o.relays.push(a)}),i.relays=o.relays)}}),t.mentions.forEach(o=>{if(o.author){let s=t.profiles.find(i=>i.pubkey===o.author);s&&s.relays&&(o.relays||(o.relays=[]),s.relays.forEach(i=>{o.relays.indexOf(i)===-1&&o.relays.push(i)}),s.relays=o.relays)}}),t}var $P={};Ee($P,{fetchRelayInformation:()=>qP,useFetchImplementation:()=>VP});var ek;try{ek=fetch}catch(e){}function VP(e){ek=e}async function qP(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var WP={};Ee(WP,{fastEventHash:()=>nk,getPow:()=>tk,minePow:()=>ZP});function tk(e){let t=0;for(let n=0;n<64;n+=8){let r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function ZP(e,t){let n=0,r=e,o=["nonce",n.toString(),t.toString()];for(r.tags.push(o);;){let s=Math.floor(new Date().getTime()/1e3);if(s!==r.created_at&&(n=0,r.created_at=s),o[1]=(++n).toString(),r.id=nk(r),tk(r.id)>=t)break}return r}function nk(e){return Ue(qn(Nn.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var FP={};Ee(FP,{unwrapEvent:()=>sT,unwrapManyEvents:()=>iT,wrapEvent:()=>mk,wrapManyEvents:()=>oT});var KP={};Ee(KP,{createRumor:()=>fk,createSeal:()=>dk,createWrap:()=>hk,unwrapEvent:()=>j0,unwrapManyEvents:()=>pk,wrapEvent:()=>Sf,wrapManyEvents:()=>nT});var GP={};Ee(GP,{decrypt:()=>z0,encrypt:()=>U0,getConversationKey:()=>R0,v2:()=>eT});var rk=1,ok=65535;function R0(e,t){let n=vo.getSharedSecret(e,"02"+t).subarray(1,33);return Bb(qn,n,"nip44-v2")}function sk(e,t){let n=Cb(qn,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function M0(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;let t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function QP(e){if(!Number.isSafeInteger(e)||e<rk||e>ok)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");let t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function YP(e){let t=Nn.encode(e),n=t.length,r=QP(n),o=new Uint8Array(M0(n)-n);return zi(r,t,o)}function XP(e){let t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<rk||t>ok||n.length!==t||e.length!==2+M0(t))throw new Error("invalid padding");return Nr.decode(n)}function ik(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");let r=zi(n,t);return $i(qn,e,r)}function JP(e){if(typeof e!="string")throw new Error("payload must be a valid string");let t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=fn.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}let r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);let o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function U0(e,t,n=hf(32)){let{chacha_key:r,chacha_nonce:o,hmac_key:s}=sk(t,n),i=YP(e),a=Ef(r,o,i),c=ik(s,a,n);return fn.encode(zi(new Uint8Array([2]),n,a,c))}function z0(e,t){let{nonce:n,ciphertext:r,mac:o}=JP(e),{chacha_key:s,chacha_nonce:i,hmac_key:a}=sk(t,n),c=ik(a,r,n);if(!Cs(c,o))throw new Error("invalid MAC");let l=Ef(s,i,r);return XP(l)}var eT={utils:{getConversationKey:R0,calcPaddedLen:M0},encrypt:U0,decrypt:z0},tT=2*24*60*60,ak=()=>Math.round(Date.now()/1e3),ck=()=>Math.round(ak()-Math.random()*tT),lk=(e,t)=>R0(e,t),uk=(e,t,n)=>U0(JSON.stringify(e),lk(t,n)),Sb=(e,t)=>JSON.parse(z0(e.content,lk(t,e.pubkey)));function fk(e,t){let n=L(b({created_at:ak(),content:"",tags:[]},e),{pubkey:C0(t)});return n.id=Cf(n),n}function dk(e,t,n){return Gn({kind:Ob,content:uk(e,t,n),created_at:ck(),tags:[]},t)}function hk(e,t){let n=X6();return Gn({kind:Db,content:uk(e,n,t),created_at:ck(),tags:[["p",t]]},n)}function Sf(e,t,n){let r=fk(e,t),o=dk(r,t,n);return hk(o,n)}function nT(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");let r=C0(t),o=[Sf(e,t,r)];return n.forEach(s=>{o.push(Sf(e,t,s))}),o}function j0(e,t){let n=Sb(e,t);return Sb(n,t)}function pk(e,t){let n=[];return e.forEach(r=>{n.push(j0(r,t))}),n.sort((r,o)=>r.created_at-o.created_at),n}function rT(e,t,n,r){let o={created_at:Math.ceil(Date.now()/1e3),kind:Rb,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:i,relayUrl:a})=>{o.tags.push(a?["p",i,a]:["p",i])}),r&&o.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&o.tags.push(["subject",n]),o}function mk(e,t,n,r,o){let s=rT(t,n,r,o);return Sf(s,e,t.publicKey)}function oT(e,t,n,r,o){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:C0(e)},...t].map(i=>mk(e,i,n,r,o))}var sT=j0,iT=pk,aT={};Ee(aT,{finishRepostEvent:()=>cT,getRepostedEvent:()=>lT,getRepostedEventPointer:()=>gk});function cT(e,t,n,r){var i,a;let o,s=[...(i=e.tags)!=null?i:[],["e",t.id,n],["p",t.pubkey]];return t.kind===Lb?o=P0:(o=A0,s.push(["k",String(t.kind)])),Gn({kind:o,tags:s,content:e.content===""||(a=t.tags)!=null&&a.find(c=>c[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function gk(e){if(![P0,A0].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function lT(e,{skipVerification:t}={}){let n=gk(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch(o){return}if(r.id===n.id&&!(!t&&!Tf(r)))return r}var uT={};Ee(uT,{NOSTR_URI_REGEX:()=>H0,parse:()=>dT,test:()=>fT});var H0=new RegExp("nostr:(".concat(Qb.source,")"));function fT(e){return typeof e=="string"&&new RegExp("^".concat(H0.source,"$")).test(e)}function dT(e){let t=e.match(new RegExp("^".concat(H0.source,"$")));if(!t)throw new Error("Invalid Nostr URI: ".concat(e));return{uri:t[0],value:t[1],decoded:If(t[1])}}var hT={};Ee(hT,{finishReactionEvent:()=>pT,getReactedEventPointer:()=>mT});function pT(e,t,n){var o,s;let r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Gn(L(b({},e),{kind:T0,tags:[...(o=e.tags)!=null?o:[],...r,["e",t.id],["p",t.pubkey]],content:(s=e.content)!=null?s:"+"}),n)}function mT(e){if(e.kind!==T0)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var gT={};Ee(gT,{parse:()=>wT});var yT=/\W/m,Pb=/\W |\W$|$|,| /m;function*wT(e){let t=e.length,n=0,r=0;for(;r<t;){let o=e.indexOf(":",r);if(o===-1)break;if(e.substring(o-5,o)==="nostr"){let s=e.substring(o+60).match(yT),i=s?o+60+s.index:t;try{let a,{data:c,type:l}=If(e.substring(o+1,i));switch(l){case"npub":a={pubkey:c};break;case"nsec":case"note":r=i+1;continue;default:a=c}n!==o-5&&(yield{type:"text",text:e.substring(n,o-5)}),yield{type:"reference",pointer:a},r=i,n=r;continue}catch(a){r=o+1;continue}}else if(e.substring(o-5,o)==="https"||e.substring(o-4,o)==="http"){let s=e.substring(o+4).match(Pb),i=s?o+4+s.index:t,a=e[o-1]==="s"?5:4;try{let c=new URL(e.substring(o-a,i));if(c.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==o-a&&(yield{type:"text",text:e.substring(n,o-a)}),c.pathname.endsWith(".png")||c.pathname.endsWith(".jpg")||c.pathname.endsWith(".jpeg")||c.pathname.endsWith(".gif")||c.pathname.endsWith(".webp")){yield{type:"image",url:c.toString()},r=i,n=r;continue}if(c.pathname.endsWith(".mp4")||c.pathname.endsWith(".avi")||c.pathname.endsWith(".webm")||c.pathname.endsWith(".mkv")){yield{type:"video",url:c.toString()},r=i,n=r;continue}if(c.pathname.endsWith(".mp3")||c.pathname.endsWith(".aac")||c.pathname.endsWith(".ogg")||c.pathname.endsWith(".opus")){yield{type:"audio",url:c.toString()},r=i,n=r;continue}yield{type:"url",url:c.toString()},r=i,n=r;continue}catch(c){r=i+1;continue}}else if(e.substring(o-3,o)==="wss"||e.substring(o-2,o)==="ws"){let s=e.substring(o+4).match(Pb),i=s?o+4+s.index:t,a=e[o-1]==="s"?3:2;try{let c=new URL(e.substring(o-a,i));if(c.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==o-a&&(yield{type:"text",text:e.substring(n,o-a)}),yield{type:"relay",url:c.toString()},r=i,n=r;continue}catch(c){r=i+1;continue}}else{r=o+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var vT={};Ee(vT,{channelCreateEvent:()=>xT,channelHideMessageEvent:()=>_T,channelMessageEvent:()=>kT,channelMetadataEvent:()=>bT,channelMuteUserEvent:()=>ET});var xT=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Gn({kind:Mb,tags:[...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},bT=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Gn({kind:Ub,tags:[["e",e.channel_create_event_id],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},kT=(e,t)=>{var r;let n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Gn({kind:zb,tags:[...n,...(r=e.tags)!=null?r:[]],content:e.content,created_at:e.created_at},t)},_T=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Gn({kind:jb,tags:[["e",e.channel_message_event_id],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},ET=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Gn({kind:Hb,tags:[["p",e.pubkey_to_mute],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},BT={};Ee(BT,{EMOJI_SHORTCODE_REGEX:()=>yk,matchAll:()=>CT,regex:()=>D0,replaceAll:()=>ST});var yk=/:(\w+):/,D0=()=>new RegExp("\\B".concat(yk.source,"\\B"),"g");function*CT(e){let t=e.matchAll(D0());for(let n of t)try{let[r,o]=n;yield{shortcode:r,name:o,start:n.index,end:n.index+r.length}}catch(r){}}function ST(e,t){return e.replaceAll(D0(),(n,r)=>t({shortcode:n,name:r}))}var PT={};Ee(PT,{useFetchImplementation:()=>TT,validateGithub:()=>AT});var $0;try{$0=fetch}catch(e){}function TT(e){$0=e}async function AT(e,t,n){try{return await(await $0("https://gist.github.com/".concat(t,"/").concat(n,"/raw"))).text()==="Verifying that I control the following Nostr public key: ".concat(e)}catch(r){return!1}}var NT={};Ee(NT,{makeNwcRequestEvent:()=>LT,parseConnectionString:()=>IT});function IT(e){let{pathname:t,searchParams:n}=new URL(e),r=t,o=n.get("relay"),s=n.get("secret");if(!r||!o||!s)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:s}}async function LT(e,t,n){let o=await Yb(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),s={kind:Vb,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return Gn(s,t)}var OT={};Ee(OT,{normalizeIdentifier:()=>RT});function RT(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var MT={};Ee(MT,{getZapEndpoint:()=>zT,makeZapReceipt:()=>DT,makeZapRequest:()=>jT,useFetchImplementation:()=>UT,validateZapRequest:()=>HT});var V0;try{V0=fetch}catch(e){}function UT(e){V0=e}async function zT(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:i}=Eo.decode(n,1e3),a=Eo.fromWords(i);t=Nr.decode(a)}else if(r){let[i,a]=r.split("@");t=new URL("/.well-known/lnurlp/".concat(i),"https://".concat(a)).toString()}else return null;let s=await(await V0(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch(t){}return null}function jT({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&s.tags.push(["e",t]),t&&typeof t=="object"){if(S0(t.kind)){let i=["a","".concat(t.kind,":").concat(t.pubkey,":")];s.tags.push(i)}else if(Af(t.kind)){let i=t.tags.find(([c,l])=>c==="d"&&l);if(!i)throw new Error("d tag not found or is empty");let a=["a","".concat(t.kind,":").concat(t.pubkey,":").concat(i[1])];s.tags.push(a)}}return s}function HT(e){let t;try{t=JSON.parse(e)}catch(s){return"Invalid zap request JSON."}if(!E0(t))return"Zap request is not a valid Nostr event.";if(!Tf(t))return"Invalid signature on zap request.";let n=t.tags.find(([s,i])=>s==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([s,i])=>s==="e"&&i);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,i])=>s==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function DT({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e),s=o.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...s,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var $T={};Ee($T,{getToken:()=>VT,hashPayload:()=>q0,unpackEventFromToken:()=>vk,validateEvent:()=>Bk,validateEventKind:()=>bk,validateEventMethodTag:()=>_k,validateEventPayloadTag:()=>Ek,validateEventTimestamp:()=>xk,validateEventUrlTag:()=>kk,validateToken:()=>qT});var wk="Nostr ";async function VT(e,t,n,r=!1,o){let s={kind:N0,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&s.tags.push(["payload",q0(o)]);let i=await n(s);return(r?wk:"")+fn.encode(Nn.encode(JSON.stringify(i)))}async function qT(e,t,n){let r=await vk(e).catch(s=>{throw s});return await Bk(r,t,n).catch(s=>{throw s})}async function vk(e){if(!e)throw new Error("Missing token");e=e.replace(wk,"");let t=Nr.decode(fn.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function xk(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function bk(e){return e.kind===N0}function kk(e,t){let n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function _k(e,t){let n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function q0(e){let t=qn(Nn.encode(JSON.stringify(e)));return Ue(t)}function Ek(e,t){let n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;let r=q0(t);return n.length>0&&n[1]===r}async function Bk(e,t,n,r){if(!Tf(e))throw new Error("Invalid nostr event, signature invalid");if(!bk(e))throw new Error("Invalid nostr event, kind invalid");if(!xk(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!kk(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!_k(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!Ek(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var WT=()=>({envelope:{kind:20004,tags:[]},filter:{kinds:[20004],since:fc()},req_timeout:5e3,since_offset:5,start_delay:2e3}),Vi=class extends Er{constructor(t,n,r={}){super(),this._inbox={event:new Er,id:new Er,peer:new Er,tag:new Er},this._sub=null,this._handler=o=>{try{let s=px(o,this._seckey.hex),i=gx(s,o);this.emit("message",i),this.inbox.id.emit(i.id,i),this.inbox.peer.emit(i.env.pubkey,i),this.inbox.tag.emit(i.tag,i)}catch(s){this.emit("bounced",[o.id,Nu(s)])}},this._publish=async(o,s,i)=>{var h;let a=(h=i==null?void 0:i.cache)!=null?h:new Map,c=FT(this,i),l=mx(o.tag,o.data,o.id),u=fx(c,l,s,this._seckey.hex),f=L(b({},o),{env:u}),d=this._pool.publish(this.relays,u);return this._inbox.event.emit("published",f),Promise.all(d).then(y=>{let p=this.relays.filter(w=>!y.includes(w)),v=o.id,g=y.length>0,m={acks:y,fails:p,ok:g,peer_pk:s,data:f};return a.set(s,m),this._inbox.event.emit("settled",L(b({},m),{msg_id:v})),L(b({},m),{ok:g,msg_id:v})})},yx(t),wx(n),this._seckey=new P(n),this._pubkey=ki(this._seckey.hex),this._config=ZT(r),this._filter=Ck(this,r.filter),this._pool=new Gb,this._relays=t,this.emit("info",["filter:",JSON.stringify(this.filter,null,2)])}_subscribe(t,n=this.config.req_timeout,r=Eu()){var o;return this._filter=Ck(this,t),this.filter["#p"]=[...(o=this.filter["#p"])!=null?o:[],this.pubkey],this._sub=this._pool.subscribeMany(this.relays,[this._filter],{id:r,oneose:()=>this.emit("subscribed",[r,this.filter]),onevent:this._handler}),new Promise(s=>{let i=setTimeout(()=>s("timeout"),n),a=c=>{clearTimeout(i),s(c)};this.within("subscribed",([c])=>{c===r&&a(null)},n)})}get config(){return this._config}get filter(){return this._filter}get inbox(){return this._inbox}get pubkey(){return this._pubkey}get relays(){return this._relays}async broadcast(t,n,r){let o=new Map,s=an(t),i=n.map(a=>this._publish(s,a,r));return Promise.all(i).then(a=>{let l={ok:a.every(u=>u.ok),cache:o,msg_id:s.id,peers:n};return a.forEach(u=>o.set(u.peer_pk,u)),this.emit("broadcast",l),b({},l)})}async connect(t=this.config.req_timeout){let n=await this._subscribe(this._filter,t);if(n!==null)throw new Error(n);return this.emit("ready",this),this}async close(){this._sub!==null&&this._sub.close(),this._pool.close!==void 0&&this._pool.close(this.relays),this.emit("close",this)}async request(t,n,r){let o=an(t),s=this.subscribe({id:o.id,peers:[n]},r);return this.publish(o,n,r),s}async multicast(t,n,r={}){let o=an(t),s=this.subscribe({id:o.id,peers:n},r),i=this.broadcast(o,n,r);return Promise.all([s,i]).then(([a,c])=>({sub:a,pub:c}))}async publish(t,n,r){let o=an(t);return this._publish(o,n,r)}async subscribe(t,n){let r=KT(this,n);return new Promise(o=>{let{timeout:s,threshold:i}=r,{id:a,peers:c=[],tag:l}=t,u=new Set,f=new Set,d=setTimeout(()=>h(!1,"timeout"),s),h=(p,v)=>{clearTimeout(d);let g={ok:p,authors:Array.from(u),inbox:Array.from(f),peers:c,reason:v};this.emit("resolved",g),o(b({},g))},y=p=>typeof a=="string"&&a!==p.id||typeof l=="string"&&l!==p.tag||c.length>0&&!c.includes(p.env.pubkey);this.within("message",p=>{y(p)||(u.add(p.env.pubkey),f.add(p)),typeof i=="number"&&u.size>=i&&h(!0,"threshold"),Array.isArray(c)&&c.every(v=>u.has(v))&&h(!0,"complete")},s)})}async update(t){return this._sub!==null&&this._sub.close(),this._subscribe(t)}};function ZT(e={}){let t=WT(),n=b(b({},t.envelope),e.envelope),r=b(b({},t.filter),e.filter);return L(b({},t),{envelope:n,filter:r})}function FT(e,t={}){var a,c;let i=t,{created_at:n=fc(),tags:r=[]}=i,o=Cc(i,["created_at","tags"]),s=e.config.envelope;return r=[...(a=s.tags)!=null?a:[],...(c=t.tags)!=null?c:[]],L(b(b({},s),o),{created_at:n,tags:r})}function Ck(e,t={}){return b(b({},e.config.filter),t)}function KT(e,t={}){var r;let n=(r=t.timeout)!=null?r:e.config.req_timeout;return L(b({},t),{timeout:n})}var GT=()=>({ecdh:new Map}),QT=()=>({debug:!1,middleware:{},policies:[],sign_ival:100}),bc=class extends Zu{constructor(t,n,r,o){super(),this._is_ready=!1,this._cache=YT(o==null?void 0:o.cache),this._config=XT(o),this._queue=new Fu(this),this._signer=new pc(t,n,o),this._peers=JT(this);let s=[...Jx(this.peers),this.pubkey];this._client=new Vi(r,n.seckey,{filter:{authors:s}}),this._client.on("closed",()=>{this._is_ready=!1,this.emit("closed",this)}),this._client.on("ready",()=>{this._is_ready=!0,this.emit("ready",this)}),this._client.on("message",i=>{if(this.emit("message",i),!!this._filter(i))try{switch(i.tag){case"/ping/req":{o2(this,i);break}case"/ecdh/req":{let a=ju(i);t2(this,a);break}case"/sign/req":{let a=Zx(i);w2(this,a);break}}}catch(a){this.emit("bounced",[Nu(a),i])}})}_filter(t){let{pubkey:n}=t.env;return t.tag==="/echo/req"?!0:n===this.pubkey?!1:t.tag==="/ping/req"||e2(this.peers).includes(t.env.pubkey)?!0:(this.emit("bounced",["unauthorized",t]),!1)}get cache(){return this._cache}get client(){return this._client}get config(){return this._config}get debug(){return this._config.debug}get group(){return this._signer.group}get is_ready(){return this._is_ready}get queue(){return this._queue}get peers(){return this._peers}get pubkey(){return mo(this.signer.pubkey,"bip340")}get req(){return{ecdh:n2(this),echo:r2(this),ping:s2(this),queue:v2(this),sign:x2(this)}}get signer(){return this._signer}async connect(){this.client.connect()}async close(){this.client.close()}update_peer(t){let n=this.peers.findIndex(r=>r.pubkey===t.pubkey);n!==-1&&(this._peers[n]=b(b({},this._peers[n]),t))}};function YT(e={}){return b(b({},GT()),e)}function XT(e={}){let t=b(b({},QT()),e),n=Vt.node.config.safeParse(t);if(!n.success)throw new Error("invalid node config");return n.data}function JT(e){var s;let t=cn(),n=e.pubkey,r=e.group.commits.map(i=>mo(i.pubkey,"bip340")).filter(i=>i!==n),o=[];for(let i of r){let a=e.config.policies.find(l=>l.pubkey===i),c=(s=a==null?void 0:a.policy)!=null?s:{send:!0,recv:!0};o.push({policy:c,pubkey:i,status:"offline",updated:t})}return o}function zf(e){return Z0(e).to_bech32m("bfgroup")}function To(e){let t=P.bech32m(e);return F0(t)}function Z0(e){let t=P.num(e.threshold,4),n=P.hex(e.group_pk,33),r=e.commits.map(o=>tA(o));return P.join([n,t,...r])}function F0(e){let t=new P(e).stream,n=t.read(33).hex,r=t.read(4).num;ue.ok(t.size%103===0,"commit data is malformed");let o=t.size/103,s=[];for(let i=0;i<o;i++){let a=t.read(103);s.push(nA(a))}return ue.size(t.data,0),Hu({commits:s,group_pk:n,threshold:r})}function tA(e){let t=P.num(e.idx,4),n=P.hex(e.pubkey,33),r=P.hex(e.binder_pn,33),o=P.hex(e.hidden_pn,33);return P.join([t,n,r,o])}function nA(e){let t=new P(e).stream;ue.size(t.data,103);let n=t.read(4).num,r=t.read(33).hex,o=t.read(33).hex,s=t.read(33).hex;return ue.size(t.data,0),{idx:n,binder_pn:o,hidden_pn:s,pubkey:r}}function Hf(e){let t=K0(e);return ue.size(t,100),t.to_bech32m("bfshare")}function qi(e){let t=P.bech32m(e);return G0(t)}function K0(e){let t=P.num(e.idx,4),n=P.hex(e.seckey,32),r=P.hex(e.binder_sn,32),o=P.hex(e.hidden_sn,32);return P.join([t,n,r,o])}function G0(e){let t=new P(e).stream;ue.size(t.data,100);let n=t.read(4).num,r=t.read(32).hex,o=t.read(32).hex,s=t.read(32).hex;return ue.size(t.data,0),Hu({idx:n,binder_sn:o,hidden_sn:s,seckey:r})}var Q0;(function(e){e.group={encode:zf,decode:To,serialize:Z0,deserialize:F0},e.share={encode:Hf,decode:qi,serialize:K0,deserialize:G0}})(Q0||(Q0={}));var Y0="frostr-demo",Ik={group:null,share:null,relays:[],peers:[],logs:[]};var Df=class{constructor(t,n){this._subs=new Set;this._defaults=n,this._store_key=t}get_defaults(){return this._defaults}get(){try{let t=localStorage.getItem(this._store_key);return t?JSON.parse(t):this._defaults}catch(t){return this._defaults}}reset(){this.set(this._defaults)}set(t){try{localStorage.setItem(this._store_key,JSON.stringify(t)),this._notify_subs()}catch(n){console.error("Error saving to localStorage:",n)}}subscribe(t){return this._subs.add(t),()=>this._subs.delete(t)}update(t){this.set(b(b({},this.get()),t))}_notify_subs(){this._subs.forEach(t=>t())}};var Wi=X(rt(),1);var Uk=X(ce(),1);function Mk(e){let t=(0,Wi.createContext)(null);return{StoreProvider:({children:o})=>{let[s,i]=(0,Wi.useState)(e.get()),a=()=>{e.reset(),i(e.get_defaults())},c=l=>{let u=b(b({},s),l);e.set(u),i(u)};return(0,Uk.jsx)(t.Provider,{value:{data:s,reset:a,update:c},children:o})},useStore:()=>{let o=(0,Wi.useContext)(t);if(o===null)throw new Error("useStore must be used within a StoreProvider");return o}}}var fA=new URLSearchParams(window.location.search),zk=fA.get("name"),dA=zk?"".concat(Y0,"-").concat(zk):Y0,hA=new Df(dA,Ik),{StoreProvider:jk,useStore:dt}=Mk(hA);var Qn=X(rt(),1);function Dk(){let[e,t]=(0,Qn.useState)("stopped"),n=dt(),r=(0,Qn.useRef)(null),o=(0,Qn.useRef)(n.data);(0,Qn.useEffect)(()=>{o.current=n.data},[n.data]);let s=()=>{if(!pA(n.data))return;n.update({logs:[]});let{group:a,share:c,peers:l,relays:u}=n.data,f=u.map(d=>d.url);r.current=new bc(a,c,f,{policies:l}),r.current.on("ready",()=>{var d;(d=r.current)==null||d.req.echo("echo"),console.log("bifrost node initialized"),t("online")}),r.current.on("closed",()=>{t("offline")}),r.current.on("error",d=>{t("offline")}),r.current.on("*",(d,h)=>{if(d==="message"||d.startsWith("/ping"))return;let y="info",p=String(d),v=h;p.toLowerCase()==="ready"?(y="ready",v=void 0):p.startsWith("/sign")?(y="sign",p.endsWith("/req")?y="req":p.endsWith("/res")&&(y="res")):p.startsWith("/error")&&(y="error"),typeof v=="object"&&v!==null&&Object.keys(v).length===0&&(v=void 0);let g={timestamp:Date.now(),message:p,type:y,payload:v},m=mA(o.current,g);n.update({logs:m})}),r.current.connect()},i=()=>{r.current=null};return(0,Qn.useEffect)(()=>{s()},[n.data.group,n.data.share,n.data.relays]),(0,Qn.useMemo)(()=>({ref:r,reset:s,stop:i,status:e}),[s,i,e])}function pA(e){return e.group!==null&&e.share!==null&&e.relays.length>0}function mA(e,t){let n=[...e.logs,t];if(n.length>100){let r=n.length-100;n=n.slice(r)}return n}var Vf=X(rt(),1),qk=X(ce(),1),$k=(0,Vf.createContext)(null);function Vk({children:e}){let t=Dk();return(0,qk.jsx)($k.Provider,{value:t,children:e})}function Zi(){let e=(0,Vf.useContext)($k);if(e===null)throw new Error("useNode must be used within a NodeProvider");return e}var m_=X(rt(),1);var Ir=X(ce(),1);function Wk(){return(0,Ir.jsxs)("div",{className:"page-header",children:[(0,Ir.jsx)("img",{src:"assets/frostr-icon.png",alt:"Frost Logo",className:"frost-logo"}),(0,Ir.jsx)("div",{className:"title-container",children:(0,Ir.jsx)("h1",{children:"FROSTR Web Demo"})}),(0,Ir.jsx)("p",{children:"FROSTR Web Demo"}),(0,Ir.jsx)("a",{href:"https://frostr.org",target:"_blank",rel:"noopener noreferrer",children:"https://frostr.org"}),(0,Ir.jsx)("div",{className:"alpha-pill alpha-pill-standalone",children:"alpha edition"})]})}var h_=X(rt(),1);var Zk=X(rt(),1);var X0=document.createElement("link");X0.rel="stylesheet";X0.href="styles/console.css";document.head.appendChild(X0);var Be=X(ce(),1);function Fk(){let e=dt(),[t,n]=(0,Zk.useState)({}),r=s=>{n(i=>L(b({},i),{[s]:!i[s]}))},o=async()=>{e.update({logs:[]}),n({})};return(0,Be.jsxs)("div",{className:"console-container",children:[(0,Be.jsxs)("div",{className:"console-header-controls",children:[(0,Be.jsxs)("h2",{className:"section-header",children:["Event Log ",(0,Be.jsxs)("span",{className:"event-count",children:["(",e.data.logs.length," events)"]})]}),(0,Be.jsx)("button",{className:"button clear-button",onClick:o,title:"Clear logs",children:(0,Be.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,Be.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,Be.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),(0,Be.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,Be.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]}),(0,Be.jsx)("p",{className:"description",children:"Monitor events from your bifrost node."}),(0,Be.jsx)("div",{className:"console-output",children:e.data.logs.length===0?(0,Be.jsx)("div",{className:"console-empty",children:"No events logged yet"}):e.data.logs.map((s,i)=>(0,Be.jsxs)("div",{className:"console-entry ".concat(s.payload?"expandable":""),children:[(0,Be.jsxs)("div",{className:"entry-header",onClick:()=>s.payload&&r(i),children:[(0,Be.jsxs)("div",{className:"entry-prefix",children:[s.payload&&(0,Be.jsx)("span",{className:"chevron ".concat(t[i]?"expanded":""),children:t[i]?"\u25BC":"\u25B6"}),(0,Be.jsx)("span",{className:"console-timestamp",children:new Date(s.timestamp).toLocaleTimeString()}),s.type&&(0,Be.jsx)("span",{className:"console-badge console-type-".concat(s.type.toLowerCase()),children:s.type})]}),(0,Be.jsx)("span",{className:"console-message",children:s.message})]}),s.payload&&t[i]&&(0,Be.jsx)("div",{className:"console-payload",children:(0,Be.jsx)("pre",{children:JSON.stringify(s.payload,null,2)})})]},i))})]})}var In=X(ce(),1);function Kk(){var t;let e=Zi();return(0,In.jsxs)("div",{className:"dashboard-container",children:[(0,In.jsx)("h2",{className:"section-header",children:"Node Status"}),(0,In.jsxs)("pre",{children:["pubkey: ",((t=e.ref.current)==null?void 0:t.pubkey)||"unknown"]}),(0,In.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[(0,In.jsx)("span",{children:"status:"}),(0,In.jsx)("span",{className:"status-indicator ".concat(e.status),children:e.status})]}),(0,In.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[(0,In.jsx)("button",{className:"button",onClick:()=>gA(e),children:"Send Echo"}),(0,In.jsx)("button",{className:"button",onClick:()=>e.reset(),children:"Reset Node"})]})]})}function gA(e){var t;(t=e.ref.current)==null||t.req.echo("echo")}var As=X(rt(),1);function Qk(){let e=Zi(),[t,n]=(0,As.useState)(!1),[r,o]=(0,As.useState)([]),s=(c,l)=>{o(u=>{let f={pubkey:c,status:l,updated:cn()};return[...u.filter(d=>d.pubkey!==c),f]})},i=async c=>{var u;if(!((u=e.ref.current)!=null&&u.is_ready))return;let l=await e.ref.current.req.ping(c);s(c,l.ok?"online":"offline")},a=async()=>{var d;if(!((d=e.ref.current)!=null&&d.is_ready))return;let c=cn(),u=e.ref.current.peers.filter(h=>h.status==="offline"||h.updated<c-10);if(u.length===0)return;let f=[];for(let h of u){let y=e.ref.current.req.ping(h.pubkey).then(p=>{s(h.pubkey,p.ok?"online":"offline")});f.push(y)}return Promise.all(f)};return(0,As.useEffect)(()=>{if(e.ref.current&&r.length===0){let c=e.ref.current.peers.map(l=>({pubkey:l.pubkey,status:"checking",updated:l.updated}));o(c)}},[e.ref]),(0,As.useEffect)(()=>{e.ref.current&&!t&&(async()=>(await Qx(500),await a(),n(!0)))()},[r]),(0,As.useEffect)(()=>{let c=setInterval(a,10*1e3);return()=>clearInterval(c)},[e.status,e.ref]),{status:r,ping_peer:i}}var Zt=X(ce(),1);var Yk=()=>(0,Zt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Zt.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,Zt.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});var Xk=()=>(0,Zt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Zt.jsx)("polyline",{points:"4 17 10 11 4 5"}),(0,Zt.jsx)("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]});var Jk=()=>(0,Zt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Zt.jsx)("path",{d:"M23 4v6h-6"}),(0,Zt.jsx)("path",{d:"M1 20v-6h6"}),(0,Zt.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"}),(0,Zt.jsx)("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"})]});var Ze=X(ce(),1);function e_(){let e=Zi(),{status:t,ping_peer:n}=Qk();return(0,Ze.jsxs)("div",{className:"dashboard-container",children:[(0,Ze.jsx)("h2",{className:"section-header",children:"Peer Status"}),t.length===0?(0,Ze.jsx)("p",{children:"waiting for peers..."}):(0,Ze.jsxs)("table",{className:"peers-table",children:[(0,Ze.jsx)("thead",{children:(0,Ze.jsxs)("tr",{children:[(0,Ze.jsx)("th",{children:"Pubkey"}),(0,Ze.jsx)("th",{children:"Status"}),(0,Ze.jsx)("th",{children:"Refresh"})]})}),(0,Ze.jsx)("tbody",{children:t.map(r=>(0,Ze.jsxs)("tr",{children:[(0,Ze.jsx)("td",{className:"pubkey-cell",children:r.pubkey}),(0,Ze.jsx)("td",{className:"status-cell",children:(0,Ze.jsx)("span",{className:"status-indicator ".concat(r.status),children:r.status})}),(0,Ze.jsx)("td",{className:"refresh-cell",children:(0,Ze.jsx)("button",{className:"button",onClick:()=>n(r.pubkey),disabled:e.status!=="online",title:"Refresh peer status",children:(0,Ze.jsx)(Jk,{})})})]},r.pubkey))})]})]})}var Lr=X(rt(),1);var Ao=X(rt(),1);var Ns=class e{constructor(t,n,r,o,s){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),r&&typeof r=="object"?this._onDecode=n:(console.warn(r||o||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=n),n=typeof r=="object"?r:{},this._onDecodeError=n.onDecodeError||(typeof r=="function"?r:this._onDecodeError),this._calculateScanRegion=n.calculateScanRegion||(typeof o=="function"?o:this._calculateScanRegion),this._preferredCamera=n.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof r=="number"?r:typeof o=="number"?o:this._legacyCanvasSize,this._maxScansPerSecond=n.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let i=!1;if(t.hidden&&(t.hidden=!1,i=!0),document.body.contains(t)||(document.body.appendChild(t),i=!0),r=t.parentElement,n.highlightScanRegion||n.highlightCodeOutline){if(o=!!n.overlay,this.$overlay=n.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!o&&n.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(a){}r.insertBefore(this.$overlay,this.$video.nextSibling)}n.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let a=window.getComputedStyle(t);a.display==="none"&&(t.style.setProperty("display","block","important"),i=!0),a.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),i=!0),i&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(t){return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="videoinput"),r;try{t&&(await n()).every(o=>!o.label)&&(r=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(o){}try{return(await n()).map((o,s)=>({id:o.deviceId,label:o.label||(s===0?"Default Camera":"Camera ".concat(s+1))}))}finally{r&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),e._stopVideoStream(r))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch(n){return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),e._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:n}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(t):(this._setVideoMirror(n),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let n=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(n(),!0):(await new Promise(r=>setTimeout(r,300)),this._paused?(n(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,n,r,o,s=!1,i=!1){let a,c=!1;n&&("scanRegion"in n||"qrEngine"in n||"canvas"in n||"disallowCanvasResizing"in n||"alsoTryWithoutScanRegion"in n||"returnDetailedScanResult"in n)?(a=n.scanRegion,r=n.qrEngine,o=n.canvas,s=n.disallowCanvasResizing||!1,i=n.alsoTryWithoutScanRegion||!1,c=!0):console.warn(n||r||o||s||i?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),n=!!r;try{let l,u;[r,l]=await Promise.all([r||e.createQrEngine(),e._loadImage(t)]),[o,u]=e._drawToCanvas(l,a,o,s);let f;if(r instanceof Worker){let d=r;n||e._postWorkerMessageSync(d,"inversionMode","both"),f=await new Promise((h,y)=>{let p,v,g,m=-1;v=x=>{x.data.id===m&&(d.removeEventListener("message",v),d.removeEventListener("error",g),clearTimeout(p),x.data.data!==null?h({data:x.data.data,cornerPoints:e._convertPoints(x.data.cornerPoints,a)}):y(e.NO_QR_CODE_FOUND))},g=x=>{d.removeEventListener("message",v),d.removeEventListener("error",g),clearTimeout(p),y("Scanner error: "+(x?x.message||x:"Unknown Error"))},d.addEventListener("message",v),d.addEventListener("error",g),p=setTimeout(()=>g("timeout"),1e4);let w=u.getImageData(0,0,o.width,o.height);m=e._postWorkerMessageSync(d,"decode",w,[w.data.buffer])})}else f=await Promise.race([new Promise((d,h)=>window.setTimeout(()=>h("Scanner error: timeout"),1e4)),(async()=>{try{var[d]=await r.detect(o);if(!d)throw e.NO_QR_CODE_FOUND;return{data:d.rawValue,cornerPoints:e._convertPoints(d.cornerPoints,a)}}catch(h){if(d=h.message||h,/not implemented|service unavailable/.test(d))return e._disableBarcodeDetector=!0,e.scanImage(t,{scanRegion:a,canvas:o,disallowCanvasResizing:s,alsoTryWithoutScanRegion:i});throw"Scanner error: ".concat(d)}})()]);return c?f:f.data}catch(l){if(!a||!i)throw l;let u=await e.scanImage(t,{qrEngine:r,canvas:o,disallowCanvasResizing:s});return c?u:u.data}finally{n||e._postWorkerMessage(r,"close")}}setGrayscaleWeights(t,n,r,o=!0){e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:n,blue:r,useIntegerApproximation:o})}setInversionMode(t){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>Promise.resolve().then(()=>(n_(),t_)).then(r=>r.createWorker()),!(!e._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let n=navigator.userAgentData;return n&&n.brands.some(({brand:r})=>/Chromium/i.test(r))&&/mac ?OS/i.test(n.platform)&&await n.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:r,platformVersion:o})=>/arm/i.test(r||"arm")&&13<=parseInt(o||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let n=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-n)/2),y:Math.round((t.videoHeight-n)/2),width:n,height:n,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,n=t.videoWidth,r=t.videoHeight,o=t.offsetWidth,s=t.offsetHeight,i=t.offsetLeft,a=t.offsetTop,c=window.getComputedStyle(t),l=c.objectFit,u=n/r,f=o/s;switch(l){case"none":var d=n,h=r;break;case"fill":d=o,h=s;break;default:(l==="cover"?u>f:u<f)?(h=s,d=h*u):(d=o,h=d/u),l==="scale-down"&&(d=Math.min(d,n),h=Math.min(h,r))}var[y,p]=c.objectPosition.split(" ").map((g,m)=>{let w=parseFloat(g);return g.endsWith("%")?(m?s-h:o-d)*w/100:w});c=this._scanRegion.width||n,f=this._scanRegion.height||r,l=this._scanRegion.x||0;var v=this._scanRegion.y||0;u=this.$overlay.style,u.width="".concat(c/n*d,"px"),u.height="".concat(f/r*h,"px"),u.top="".concat(a+p+v/r*h,"px"),r=/scaleX\(-1\)/.test(t.style.transform),u.left="".concat(i+(r?o-y-d:y)+(r?n-l-c:l)/n*d,"px"),u.transform=t.style.transform}})}static _convertPoints(t,n){if(!n)return t;let r=n.x||0,o=n.y||0,s=n.width&&n.downScaledWidth?n.width/n.downScaledWidth:1;n=n.height&&n.downScaledHeight?n.height/n.downScaledHeight:1;for(let i of t)i.x=i.x*s+r,i.y=i.y*n+o;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,n=1e3/this._maxScansPerSecond;t<n&&await new Promise(o=>setTimeout(o,n-t)),this._lastScanTimestamp=Date.now();try{var r=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(o){if(!this._active)return;this._onDecodeError(o)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=e.createQrEngine()),r?(this._onDecode?this._onDecode(r):this._legacyOnDecode&&this._legacyOnDecode(r.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox","".concat(this._scanRegion.x||0," ")+"".concat(this._scanRegion.y||0," ")+"".concat(this._scanRegion.width||this.$video.videoWidth," ")+"".concat(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(({x:o,y:s})=>"".concat(o,",").concat(s)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==e.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",n=[{width:{min:1024}},{width:{min:768}},{}],r=n.map(o=>Object.assign({},o,{[t]:{exact:this._preferredCamera}}));for(let o of[...r,...n])try{let s=await navigator.mediaDevices.getUserMedia({video:o,audio:!1}),i=this._getFacingMode(s)||(o.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:i}}catch(s){}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let n of t.getTracks())n.stop(),t.removeTrack(n)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,n,r,o=!1){r=r||document.createElement("canvas");let s=n&&n.x?n.x:0,i=n&&n.y?n.y:0,a=n&&n.width?n.width:t.videoWidth||t.width,c=n&&n.height?n.height:t.videoHeight||t.height;return o||(o=n&&n.downScaledWidth?n.downScaledWidth:a,n=n&&n.downScaledHeight?n.downScaledHeight:c,r.width!==o&&(r.width=o),r.height!==n&&(r.height=n)),n=r.getContext("2d",{alpha:!1}),n.imageSmoothingEnabled=!1,n.drawImage(t,s,i,a,c,0,0,r.width,r.height),[r,n]}static async _loadImage(t){if(t instanceof Image)return await e._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let n=new Image;n.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await e._awaitImageLoad(n),n}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(n.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((n,r)=>{let o=s=>{t.removeEventListener("load",o),t.removeEventListener("error",o),s instanceof ErrorEvent?r("Image load error"):n()};t.addEventListener("load",o),t.addEventListener("error",o)})}static async _postWorkerMessage(t,n,r,o){return e._postWorkerMessageSync(await t,n,r,o)}static _postWorkerMessageSync(t,n,r,o){if(!(t instanceof Worker))return-1;let s=e._workerMessageId++;return t.postMessage({id:s,type:n,data:r},o),s}};Ns.DEFAULT_CANVAS_SIZE=400;Ns.NO_QR_CODE_FOUND="No QR code found";Ns._disableBarcodeDetector=!1;Ns._workerMessageId=0;var r_=Ns;var Fi=X(ce(),1),o_={container:{width:"100%",maxWidth:"400px",margin:"1rem auto",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden",position:"relative",backgroundColor:"#000"},video:{width:"100%",height:"auto",display:"block"}};function qf({onResult:e,onError:t}){let n=(0,Ao.useRef)(null),r=(0,Ao.useRef)(null),[o,s]=(0,Ao.useState)(null),[i,a]=(0,Ao.useState)(null);return(0,Ao.useEffect)(()=>{let c=null;return(async()=>{if(!n.current){s("Video element not found");return}try{c=new r_(n.current,u=>{e(u.data),c==null||c.stop()},{returnDetailedScanResult:!0}),await c.start(),s(null),a(!0),r.current=c}catch(u){let f=u instanceof Error?u:new Error("Failed to initialize scanner");s(f.message),t?t(f):console.error("Failed to start QR scanner:",f)}})(),()=>{c&&(c.stop(),c.destroy())}},[e,t]),(0,Fi.jsxs)("div",{style:o_.container,children:[(0,Fi.jsx)("video",{ref:n,style:o_.video,playsInline:!0,autoPlay:!0,muted:!0}),o&&(0,Fi.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"1rem",borderRadius:"4px",textAlign:"center",zIndex:1e3},children:[o,i===!1&&(0,Fi.jsx)("div",{style:{marginTop:"1rem"},children:"Please grant camera permissions to use the QR scanner"})]})]})}var ht=X(ce(),1);function s_(){var d;let e=dt(),[t,n]=(0,Lr.useState)(""),[r,o]=(0,Lr.useState)(null),[s,i]=(0,Lr.useState)(!1),[a,c]=(0,Lr.useState)(!1),[l,u]=(0,Lr.useState)(!1),f=h=>{if(r===null){if(h==="")e.update({group:null});else try{let y=To(h);if(y===null)return;e.update({group:y})}catch(y){console.log(y),o("failed to decode package data")}c(!0),setTimeout(()=>c(!1),1500)}};return(0,Lr.useEffect)(()=>{try{e.data.group!==null?n(i_(e.data.group)):n("")}catch(h){n("")}},[e.data.group]),(0,Lr.useEffect)(()=>{if(t==="")o(null);else if(!t.startsWith("bfgroup"))o('input must start with "bfgroup"');else if(!vA(t))o("input contains invalid characters");else{let h=bA(t);o(h!==null?null:"failed to decode package data")}},[t]),(0,ht.jsxs)("div",{className:"container",children:[(0,ht.jsx)("h2",{className:"section-header",children:"Group Package"}),(0,ht.jsx)("p",{className:"description",children:"Paste your encoded group string (starts with bfgroup). It contains information about your signing group."}),(0,ht.jsxs)("div",{className:"content-container",children:[(0,ht.jsxs)("div",{className:"input-with-button",children:[(0,ht.jsx)("input",{type:s?"text":"password",value:t,onChange:h=>n(h.target.value.trim()),placeholder:"bfgroup1..."}),(0,ht.jsxs)("div",{className:"input-actions",children:[(0,ht.jsx)("button",{className:"button",onClick:()=>i(!s),children:s?"hide":"show"}),(0,ht.jsx)("button",{className:"button",onClick:()=>u(!l),children:l?"stop scan":"scan"}),(0,ht.jsx)("button",{className:"button action-button ".concat(a?"saved-button":""),onClick:()=>f(t),disabled:!xA(t,e.data.group)||r!==null,children:a?"Saved":"Save"})]})]}),l&&(0,ht.jsx)(qf,{onResult:h=>{n(h.trim()),u(!1)},onError:h=>{console.error("QR scan error:",h)}}),t!==""&&r===null&&s&&(0,ht.jsx)("pre",{className:"code-display",children:(d=kA(t))!=null?d:"invalid group package"}),(0,ht.jsx)("div",{className:"notification-container",children:r&&(0,ht.jsx)("p",{className:"error-text",children:r})})]})]})}function vA(e){return/^bfgroup1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(e)}function xA(e,t){if(t===null)return e!=="";{let n=i_(t);return e!==n}}function i_(e){try{return e!==null?zf(e):""}catch(t){return""}}function bA(e){try{return e!==""?To(e):null}catch(t){return null}}function kA(e){try{let t=To(e);return JSON.stringify(t,null,2)}catch(t){return null}}var Is=X(rt(),1);var Ae=X(ce(),1);function a_(){let e=dt(),[t,n]=(0,Is.useState)(e.data.peers),[r,o]=(0,Is.useState)(!1),[s,i]=(0,Is.useState)(!1),a=()=>{e.update({peers:t}),o(!1),i(!0),setTimeout(()=>i(!1),1500)},c=()=>{n(e.data.peers),o(!1)},l=(u,f,d)=>{n(h=>{let y=[...h!=null?h:[]];return y[u].policy[f]=d,y}),o(!0)};return(0,Is.useEffect)(()=>{n(e.data.peers)},[e.data.peers]),(0,Is.useEffect)(()=>{let{share:u,group:f,peers:d}=e.data;if(u&&f&&d.length===0){let h=_A(f,u.idx);n(h),e.update({peers:h})}else(!u||!f)&&(n([]),e.update({peers:[]}))},[e.data.share,e.data.group]),(0,Ae.jsxs)("div",{className:"container",children:[(0,Ae.jsx)("h2",{className:"section-header",children:"Peer Connections"}),(0,Ae.jsx)("p",{className:"description",children:'Configure how you communicate with other peers in your signing group. "Request" will send signature requests to that peer, and "Respond" will co-sign requests from that peer.'}),t===null&&(0,Ae.jsx)("p",{className:"description",children:"You must configure your node's credentials first."}),t!==null&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("table",{children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Peer Public Key"}),(0,Ae.jsx)("th",{className:"checkbox-cell",children:"Send"}),(0,Ae.jsx)("th",{className:"checkbox-cell",children:"Receive"})]})}),(0,Ae.jsx)("tbody",{children:t.map((u,f)=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{className:"pubkey-cell",children:u.pubkey}),(0,Ae.jsx)("td",{className:"checkbox-cell",children:(0,Ae.jsx)("input",{type:"checkbox",className:"peer-checkbox",checked:u.policy.send,onChange:()=>l(f,"send",!u.policy.send)})}),(0,Ae.jsx)("td",{className:"checkbox-cell",children:(0,Ae.jsx)("input",{type:"checkbox",className:"peer-checkbox",checked:u.policy.recv,onChange:()=>l(f,"recv",!u.policy.recv)})})]},f))})]}),(0,Ae.jsxs)("div",{className:"action-buttons",children:[(0,Ae.jsx)("button",{onClick:a,disabled:!r,className:"button button-primary action-button ".concat(s?"saved-button":""),children:s?"Saved":"Save"}),r&&(0,Ae.jsx)("button",{onClick:c,className:"button",children:"Cancel"})]})]})]})}function _A(e,t){return e.commits.filter(n=>n.idx!==t).map(n=>({pubkey:n.pubkey.slice(2),policy:{send:!1,recv:!0}}))}var Or=X(rt(),1);var he=X(ce(),1);function c_(){let e=dt(),[t,n]=(0,Or.useState)(e.data.relays),[r,o]=(0,Or.useState)(""),[s,i]=(0,Or.useState)(!1),[a,c]=(0,Or.useState)(null),[l,u]=(0,Or.useState)(!1),f=()=>{e.update({relays:t}),i(!1),u(!0),setTimeout(()=>u(!1),1500)},d=()=>{n(e.data.relays),i(!1)},h=(v,g)=>{let m=[...t];m[v][g]=!m[v][g],n(m),i(!0)},y=()=>{r.trim()&&(r.startsWith("wss://")||r.startsWith("ws://")?EA(r)?t.some(v=>v.url===r)?c("Relay already exists"):(n(v=>[...v,{url:r,read:!0,write:!0}]),o(""),i(!0)):c("Invalid URL format"):c("Relay URL must start with wss:// or ws://"))},p=v=>{let g=t.filter((m,w)=>w!==v);n(g),i(!0)};return(0,Or.useEffect)(()=>{a!==null&&c(null)},[r]),(0,Or.useEffect)(()=>{n(e.data.relays)},[e.data.relays]),(0,he.jsxs)("div",{className:"container",children:[(0,he.jsx)("h2",{className:"section-header",children:"Relay Connections"}),(0,he.jsx)("p",{className:"description",children:'Configure which relays your node will use to communicate. "Read" will enable listening for inbound requests, and "Write" will enable publishing outbound requests.'}),(0,he.jsxs)("table",{children:[(0,he.jsx)("thead",{children:(0,he.jsxs)("tr",{children:[(0,he.jsx)("th",{className:"url-column",children:"Relay URL"}),(0,he.jsx)("th",{className:"checkbox-cell",children:"Read"}),(0,he.jsx)("th",{className:"checkbox-cell",children:"Write"}),(0,he.jsx)("th",{className:"action-cell",children:"Actions"})]})}),(0,he.jsx)("tbody",{children:t.map((v,g)=>(0,he.jsxs)("tr",{children:[(0,he.jsx)("td",{children:v.url}),(0,he.jsx)("td",{className:"checkbox-cell",children:(0,he.jsx)("input",{type:"checkbox",className:"relay-checkbox",checked:v.read,onChange:()=>h(g,"read")})}),(0,he.jsx)("td",{className:"checkbox-cell",children:(0,he.jsx)("input",{type:"checkbox",className:"relay-checkbox",checked:v.write,onChange:()=>h(g,"write")})}),(0,he.jsx)("td",{className:"action-cell",children:(0,he.jsx)("button",{onClick:()=>p(g),className:"button button-remove",children:"Remove"})})]},g))})]}),(0,he.jsxs)("div",{className:"input-group relay-controls",children:[(0,he.jsx)("input",{type:"text",value:r,onChange:v=>o(v.target.value),placeholder:"wss://relay.example.com",className:"relay-input"}),(0,he.jsx)("button",{onClick:y,className:"button add-relay-button",children:"Add Relay"})]}),(0,he.jsxs)("div",{className:"action-buttons",children:[(0,he.jsx)("button",{onClick:f,disabled:!s,className:"button button-primary action-button ".concat(l?"saved-button":""),children:l?"Saved":"Save"}),s&&(0,he.jsx)("button",{onClick:d,className:"button",children:"Cancel"}),(0,he.jsx)("div",{className:"notification-container",children:a&&(0,he.jsx)("p",{className:"error-text",children:a})})]})]})}function EA(e){try{return new URL(e),!0}catch(t){return!1}}var Ki=X(ce(),1);function l_(){let e=dt();return(0,Ki.jsxs)("div",{className:"container",children:[(0,Ki.jsx)("h2",{className:"section-header",children:"Reset Store"}),(0,Ki.jsx)("p",{className:"description",children:"Reset the store to the initial state."}),(0,Ki.jsx)("button",{onClick:()=>{e.reset()},className:"button",children:"Reset Store"})]})}var Rr=X(rt(),1);var pt=X(ce(),1);function u_(){var d;let e=dt(),[t,n]=(0,Rr.useState)(""),[r,o]=(0,Rr.useState)(null),[s,i]=(0,Rr.useState)(!1),[a,c]=(0,Rr.useState)(!1),[l,u]=(0,Rr.useState)(!1),f=()=>{if(r===null){if(t==="")e.update({share:null});else try{let h=qi(t);if(h===null)return;e.update({share:h})}catch(h){console.log(h),o("failed to decode package data")}c(!0),setTimeout(()=>c(!1),1500)}};return(0,Rr.useEffect)(()=>{try{e.data.share!==null?n(f_(e.data.share)):n("")}catch(h){n("")}},[e.data.share]),(0,Rr.useEffect)(()=>{if(t==="")o(null);else if(!t.startsWith("bfshare"))o('input must start with "bfshare"');else if(!BA(t))o("input contains invalid characters");else{let h=SA(t);o(h!==null?null:"failed to decode package data")}},[t]),(0,pt.jsxs)("div",{className:"container",children:[(0,pt.jsx)("h2",{className:"section-header",children:"Share Package"}),(0,pt.jsx)("p",{className:"description",children:"Paste your encoded share string (starts with bfshare). It contains secret information about your signing share."}),(0,pt.jsxs)("div",{className:"content-container",children:[(0,pt.jsxs)("div",{className:"input-with-button",children:[(0,pt.jsx)("input",{type:s?"text":"password",value:t,onChange:h=>n(h.target.value.trim()),placeholder:"bfshare..."}),(0,pt.jsxs)("div",{className:"input-actions",children:[(0,pt.jsx)("button",{className:"button",onClick:()=>i(!s),children:s?"hide":"show"}),(0,pt.jsx)("button",{className:"button",onClick:()=>u(!l),children:l?"stop scan":"scan"}),(0,pt.jsx)("button",{className:"button action-button ".concat(a?"saved-button":""),onClick:f,disabled:!CA(t,e.data.share)||r!==null,children:a?"Saved":"Save"})]})]}),l&&(0,pt.jsx)(qf,{onResult:h=>{n(h.trim()),u(!1)},onError:h=>{console.error("QR scan error:",h)}}),t!==""&&r===null&&s&&(0,pt.jsx)("pre",{className:"code-display",children:(d=PA(t))!=null?d:"invalid share package"}),(0,pt.jsx)("div",{className:"notification-container",children:r&&(0,pt.jsx)("p",{className:"error-text",children:r})})]})]})}function BA(e){return/^bfshare1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(e)}function CA(e,t){if(t===null)return e!=="";{let n=f_(t);return e!==n}}function f_(e){try{return e!==null?Hf(e):""}catch(t){return""}}function SA(e){try{return e!==""?qi(e):null}catch(t){return null}}function PA(e){try{let t=qi(e);return JSON.stringify(t,null,2)}catch(t){return null}}var Yn=X(ce(),1);function d_(){return(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)(s_,{}),(0,Yn.jsx)(u_,{}),(0,Yn.jsx)(a_,{}),(0,Yn.jsx)(c_,{}),(0,Yn.jsx)(l_,{})]})}var Qe=X(ce(),1);function p_(){let[e,t]=(0,h_.useState)("dashboard");return(0,Qe.jsxs)("div",{className:"tabs-container",children:[(0,Qe.jsx)("div",{className:"tabs-nav-wrapper",children:(0,Qe.jsxs)("div",{className:"tabs-navigation",children:[(0,Qe.jsxs)("button",{className:"tab-button ".concat(e==="dashboard"?"active":""),onClick:()=>t("dashboard"),children:[(0,Qe.jsx)(Xk,{}),(0,Qe.jsx)("span",{children:"Dashboard"})]}),(0,Qe.jsxs)("button",{className:"tab-button ".concat(e==="settings"?"active":""),onClick:()=>t("settings"),children:[(0,Qe.jsx)(Yk,{}),(0,Qe.jsx)("span",{children:"Settings"})]})]})}),(0,Qe.jsxs)("div",{className:"tab-content",children:[e==="dashboard"&&(0,Qe.jsxs)("div",{className:"tab-panel",children:[(0,Qe.jsx)(Kk,{}),(0,Qe.jsx)(e_,{}),(0,Qe.jsx)(Fk,{})]}),e==="settings"&&(0,Qe.jsx)("div",{className:"tab-panel",children:(0,Qe.jsx)(d_,{})})]})]})}var kc=X(ce(),1);function g_(){let e=dt();return(0,m_.useEffect)(()=>{try{let{relays:t,group:n}=e.data,r=new URLSearchParams(window.location.search),o=r.get("g"),s=r.getAll("r");for(let i of s)t.some(a=>a.url===i)||t.push({url:i,read:!0,write:!0});n===null&&o!==null&&(n=To(o)),e.update({group:n,relays:t})}catch(t){console.error(t)}},[]),(0,kc.jsxs)("div",{className:"app",children:[(0,kc.jsx)(Wk,{}),(0,kc.jsx)(p_,{})]})}var J0=document.createElement("link");J0.rel="stylesheet";J0.href="styles/global.css";document.head.appendChild(J0);var eg=document.createElement("link");eg.rel="stylesheet";eg.href="styles/layout.css";document.head.appendChild(eg);var tg=document.createElement("link");tg.rel="stylesheet";tg.href="styles/node.css";document.head.appendChild(tg);var ng=document.createElement("link");ng.rel="stylesheet";ng.href="styles/settings.css";document.head.appendChild(ng);var _c=X(ce(),1),v_=document.getElementById("root");if(!v_)throw new Error("[ app ] root container not found");var TA=(0,w_.createRoot)(v_);TA.render((0,_c.jsx)(y_.StrictMode,{children:(0,_c.jsx)(jk,{children:(0,_c.jsx)(Vk,{children:(0,_c.jsx)(g_,{})})})}));
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=app.js.map
