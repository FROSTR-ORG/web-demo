var Xb=Object.create;var bc=Object.defineProperty,Jb=Object.defineProperties,e_=Object.getOwnPropertyDescriptor,t_=Object.getOwnPropertyDescriptors,n_=Object.getOwnPropertyNames,kc=Object.getOwnPropertySymbols,r_=Object.getPrototypeOf,Wd=Object.prototype.hasOwnProperty,Yg=Object.prototype.propertyIsEnumerable;var Zd=(e,t,n)=>t in e?bc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))Wd.call(t,n)&&Zd(e,n,t[n]);if(kc)for(var n of kc(t))Yg.call(t,n)&&Zd(e,n,t[n]);return e},L=(e,t)=>Jb(e,t_(t));var _c=(e,t)=>{var n={};for(var r in e)Wd.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kc)for(var r of kc(e))t.indexOf(r)<0&&Yg.call(e,r)&&(n[r]=e[r]);return n};var o_=(e,t)=>()=>(e&&(t=e(e=0)),t);var Jn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ar=(e,t)=>{for(var n in t)bc(e,n,{get:t[n],enumerable:!0})},s_=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of n_(t))!Wd.call(e,o)&&o!==n&&bc(e,o,{get:()=>t[o],enumerable:!(r=e_(t,o))||r.enumerable});return e};var J=(e,t,n)=>(n=e!=null?Xb(r_(e)):{},s_(t||!e||!e.__esModule?bc(n,"default",{value:e,enumerable:!0}):n,e));var ee=(e,t,n)=>Zd(e,typeof t!="symbol"?t+"":t,n);var l0=Jn(se=>{"use strict";var Hi=Symbol.for("react.element"),i_=Symbol.for("react.portal"),a_=Symbol.for("react.fragment"),c_=Symbol.for("react.strict_mode"),l_=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),f_=Symbol.for("react.forward_ref"),h_=Symbol.for("react.suspense"),p_=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),Xg=Symbol.iterator;function g_(e){return e===null||typeof e!="object"?null:(e=Xg&&e[Xg]||e["@@iterator"],typeof e=="function"?e:null)}var t0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n0=Object.assign,r0={};function Ts(e,t,n){this.props=e,this.context=t,this.refs=r0,this.updater=n||t0}Ts.prototype.isReactComponent={};Ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o0(){}o0.prototype=Ts.prototype;function Kd(e,t,n){this.props=e,this.context=t,this.refs=r0,this.updater=n||t0}var Gd=Kd.prototype=new o0;Gd.constructor=Kd;n0(Gd,Ts.prototype);Gd.isPureReactComponent=!0;var Jg=Array.isArray,s0=Object.prototype.hasOwnProperty,Qd={current:null},i0={key:!0,ref:!0,__self:!0,__source:!0};function a0(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)s0.call(t,r)&&!i0.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Hi,type:e,key:s,ref:i,props:o,_owner:Qd.current}}function y_(e,t){return{$$typeof:Hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hi}function w_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var e0=/\/+/g;function Fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?w_(""+e.key):t.toString(36)}function Bc(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Hi:case i_:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Fd(i,0):r,Jg(o)?(n="",e!=null&&(n=e.replace(e0,"$&/")+"/"),Bc(o,t,n,"",function(l){return l})):o!=null&&(Yd(o)&&(o=y_(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(e0,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Jg(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+Fd(s,a);i+=Bc(s,t,n,c,o)}else if(c=g_(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+Fd(s,a++),i+=Bc(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ec(e,t,n){if(e==null)return e;var r=[],o=0;return Bc(e,r,"","",function(s){return t.call(n,s,o++)}),r}function v_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Cc={transition:null},x_={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:Qd};function c0(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Ec,forEach:function(e,t,n){Ec(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ec(e,function(){t++}),t},toArray:function(e){return Ec(e,function(t){return t})||[]},only:function(e){if(!Yd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Ts;se.Fragment=a_;se.Profiler=l_;se.PureComponent=Kd;se.StrictMode=c_;se.Suspense=h_;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x_;se.act=c0;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=n0({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Qd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)s0.call(t,c)&&!i0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Hi,type:e.type,key:o,ref:s,props:r,_owner:i}};se.createContext=function(e){return e={$$typeof:d_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:u_,_context:e},e.Consumer=e};se.createElement=a0;se.createFactory=function(e){var t=a0.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:f_,render:e}};se.isValidElement=Yd;se.lazy=function(e){return{$$typeof:m_,_payload:{_status:-1,_result:e},_init:v_}};se.memo=function(e,t){return{$$typeof:p_,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Cc.transition;Cc.transition={};try{e()}finally{Cc.transition=t}};se.unstable_act=c0;se.useCallback=function(e,t){return mt.current.useCallback(e,t)};se.useContext=function(e){return mt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};se.useEffect=function(e,t){return mt.current.useEffect(e,t)};se.useId=function(){return mt.current.useId()};se.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return mt.current.useMemo(e,t)};se.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};se.useRef=function(e){return mt.current.useRef(e)};se.useState=function(e){return mt.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return mt.current.useTransition()};se.version="18.3.1"});var Et=Jn((oN,u0)=>{"use strict";u0.exports=l0()});var x0=Jn(ye=>{"use strict";function tf(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(0<Sc(o,t))e[r]=t,e[n]=o,n=r;else break e}}function dn(e){return e.length===0?null:e[0]}function Tc(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var i=2*(r+1)-1,a=e[i],c=i+1,l=e[c];if(0>Sc(a,n))c<o&&0>Sc(l,a)?(e[r]=l,e[c]=n,r=c):(e[r]=a,e[i]=n,r=i);else if(c<o&&0>Sc(l,n))e[r]=l,e[c]=n,r=c;else break e}}return t}function Sc(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}typeof performance=="object"&&typeof performance.now=="function"?(d0=performance,ye.unstable_now=function(){return d0.now()}):(Xd=Date,f0=Xd.now(),ye.unstable_now=function(){return Xd.now()-f0});var d0,Xd,f0,In=[],Ir=[],k_=1,Ft=null,rt=3,Nc=!1,No=!1,qi=!1,m0=typeof setTimeout=="function"?setTimeout:null,g0=typeof clearTimeout=="function"?clearTimeout:null,h0=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function nf(e){for(var t=dn(Ir);t!==null;){if(t.callback===null)Tc(Ir);else if(t.startTime<=e)Tc(Ir),t.sortIndex=t.expirationTime,tf(In,t);else break;t=dn(Ir)}}function rf(e){if(qi=!1,nf(e),!No)if(dn(In)!==null)No=!0,sf(of);else{var t=dn(Ir);t!==null&&af(rf,t.startTime-e)}}function of(e,t){No=!1,qi&&(qi=!1,g0(Zi),Zi=-1),Nc=!0;var n=rt;try{for(nf(t),Ft=dn(In);Ft!==null&&(!(Ft.expirationTime>t)||e&&!v0());){var r=Ft.callback;if(typeof r=="function"){Ft.callback=null,rt=Ft.priorityLevel;var o=r(Ft.expirationTime<=t);t=ye.unstable_now(),typeof o=="function"?Ft.callback=o:Ft===dn(In)&&Tc(In),nf(t)}else Tc(In);Ft=dn(In)}if(Ft!==null)var s=!0;else{var i=dn(Ir);i!==null&&af(rf,i.startTime-t),s=!1}return s}finally{Ft=null,rt=n,Nc=!1}}var Ac=!1,Pc=null,Zi=-1,y0=5,w0=-1;function v0(){return!(ye.unstable_now()-w0<y0)}function Jd(){if(Pc!==null){var e=ye.unstable_now();w0=e;var t=!0;try{t=Pc(!0,e)}finally{t?Vi():(Ac=!1,Pc=null)}}else Ac=!1}var Vi;typeof h0=="function"?Vi=function(){h0(Jd)}:typeof MessageChannel<"u"?(ef=new MessageChannel,p0=ef.port2,ef.port1.onmessage=Jd,Vi=function(){p0.postMessage(null)}):Vi=function(){m0(Jd,0)};var ef,p0;function sf(e){Pc=e,Ac||(Ac=!0,Vi())}function af(e,t){Zi=m0(function(){e(ye.unstable_now())},t)}ye.unstable_IdlePriority=5;ye.unstable_ImmediatePriority=1;ye.unstable_LowPriority=4;ye.unstable_NormalPriority=3;ye.unstable_Profiling=null;ye.unstable_UserBlockingPriority=2;ye.unstable_cancelCallback=function(e){e.callback=null};ye.unstable_continueExecution=function(){No||Nc||(No=!0,sf(of))};ye.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y0=0<e?Math.floor(1e3/e):5};ye.unstable_getCurrentPriorityLevel=function(){return rt};ye.unstable_getFirstCallbackNode=function(){return dn(In)};ye.unstable_next=function(e){switch(rt){case 1:case 2:case 3:var t=3;break;default:t=rt}var n=rt;rt=t;try{return e()}finally{rt=n}};ye.unstable_pauseExecution=function(){};ye.unstable_requestPaint=function(){};ye.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=rt;rt=e;try{return t()}finally{rt=n}};ye.unstable_scheduleCallback=function(e,t,n){var r=ye.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:k_++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,tf(Ir,e),dn(In)===null&&e===dn(Ir)&&(qi?(g0(Zi),Zi=-1):qi=!0,af(rf,n-r))):(e.sortIndex=o,tf(In,e),No||Nc||(No=!0,sf(of))),e};ye.unstable_shouldYield=v0;ye.unstable_wrapCallback=function(e){var t=rt;return function(){var n=rt;rt=t;try{return e.apply(this,arguments)}finally{rt=n}}}});var b0=Jn((iN,k0)=>{"use strict";k0.exports=x0()});var C1=Jn(jt=>{"use strict";var b_=Et(),Ut=b0();function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ty=new Set,ha={};function Vo(e,t){Qs(e,t),Qs(e+"Capture",t)}function Qs(e,t){for(ha[e]=t,e=0;e<t.length;e++)Ty.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,__=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_0={},E0={};function E_(e){return Nf.call(E0,e)?!0:Nf.call(_0,e)?!1:__.test(e)?E0[e]=!0:(_0[e]=!0,!1)}function B_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C_(e,t,n,r){if(t===null||typeof t>"u"||B_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bh=/[\-:]([a-z])/g;function _h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bh,_h);et[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bh,_h);et[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bh,_h);et[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Eh(e,t,n,r){var o=et.hasOwnProperty(t)?et[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C_(t,n,o,r)&&(n=null),r||o===null?E_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var lr=b_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ic=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),Ny=Symbol.for("react.provider"),Ay=Symbol.for("react.context"),Ch=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),Sh=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Iy=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var B0=Symbol.iterator;function Wi(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,cf;function ea(e){if(cf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cf=t&&t[1]||""}return"\n"+cf+e}var lf=!1;function uf(e,t){if(!e||lf)return"";lf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var o=l.stack.split("\n"),s=r.stack.split("\n"),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var c="\n"+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{lf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ea(e):""}function S_(e){switch(e.tag){case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return e=uf(e.type,!1),e;case 11:return e=uf(e.type.render,!1),e;case 1:return e=uf(e.type,!0),e;default:return""}}function Lf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Is:return"Portal";case Af:return"Profiler";case Bh:return"StrictMode";case If:return"Suspense";case Of:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ay:return(e.displayName||"Context")+".Consumer";case Ny:return(e._context.displayName||"Context")+".Provider";case Ch:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sh:return t=e.displayName||null,t!==null?t:Lf(e.type)||"Memo";case Lr:t=e._payload,e=e._init;try{return Lf(e(t))}catch(n){}}return null}function P_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lf(t);case 8:return t===Bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function T_(e){var t=Oy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oc(e){e._valueTracker||(e._valueTracker=T_(e))}function Ly(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Rf(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function C0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ry(e,t){t=t.checked,t!=null&&Eh(e,"checked",t,!1)}function Mf(e,t){Ry(e,t);var n=Kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uf(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uf(e,t,n){(t!=="number"||al(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ta=Array.isArray;function qs(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function P0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(ta(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kr(n)}}function My(e,t){var n=Kr(t.value),r=Kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function T0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lc,zy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lc=Lc||document.createElement("div"),Lc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N_=["Webkit","ms","Moz","O"];Object.keys(oa).forEach(function(e){N_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oa[t]=oa[e]})});function jy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||oa.hasOwnProperty(e)&&oa[e]?(""+t).trim():t+"px"}function Dy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=jy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var A_=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Df(e,t){if(t){if(A_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function $f(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function Ph(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vf=null,Zs=null,Ws=null;function N0(e){if(e=Ia(e)){if(typeof Vf!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Rl(t),Vf(e.stateNode,e.type,t))}}function $y(e){Zs?Ws?Ws.push(e):Ws=[e]:Zs=e}function Hy(){if(Zs){var e=Zs,t=Ws;if(Ws=Zs=null,N0(e),t)for(e=0;e<t.length;e++)N0(t[e])}}function Vy(e,t){return e(t)}function qy(){}var df=!1;function Zy(e,t,n){if(df)return e(t,n);df=!0;try{return Vy(e,t,n)}finally{df=!1,(Zs!==null||Ws!==null)&&(qy(),Hy())}}function ma(e,t){var n=e.stateNode;if(n===null)return null;var r=Rl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var qf=!1;if(sr)try{Ns={},Object.defineProperty(Ns,"passive",{get:function(){qf=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch(e){qf=!1}var Ns;function I_(e,t,n,r,o,s,i,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var sa=!1,cl=null,ll=!1,Zf=null,O_={onError:function(e){sa=!0,cl=e}};function L_(e,t,n,r,o,s,i,a,c){sa=!1,cl=null,I_.apply(O_,arguments)}function R_(e,t,n,r,o,s,i,a,c){if(L_.apply(this,arguments),sa){if(sa){var l=cl;sa=!1,cl=null}else throw Error(M(198));ll||(ll=!0,Zf=l)}}function qo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A0(e){if(qo(e)!==e)throw Error(M(188))}function M_(e){var t=e.alternate;if(!t){if(t=qo(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return A0(o),e;if(s===r)return A0(o),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Fy(e){return e=M_(e),e!==null?Ky(e):null}function Ky(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ky(e);if(t!==null)return t;e=e.sibling}return null}var Gy=Ut.unstable_scheduleCallback,I0=Ut.unstable_cancelCallback,U_=Ut.unstable_shouldYield,z_=Ut.unstable_requestPaint,Oe=Ut.unstable_now,j_=Ut.unstable_getCurrentPriorityLevel,Th=Ut.unstable_ImmediatePriority,Qy=Ut.unstable_UserBlockingPriority,ul=Ut.unstable_NormalPriority,D_=Ut.unstable_LowPriority,Yy=Ut.unstable_IdlePriority,Al=null,Mn=null;function $_(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch(t){}}var gn=Math.clz32?Math.clz32:q_,H_=Math.log,V_=Math.LN2;function q_(e){return e>>>=0,e===0?32:31-(H_(e)/V_|0)|0}var Rc=64,Mc=4194304;function na(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=na(a):(s&=i,s!==0&&(r=na(s)))}else i=n&~o,i!==0?r=na(i):s!==0&&(r=na(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gn(t),o=1<<n,r|=e[n],t&=~o;return r}function Z_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-gn(s),a=1<<i,c=o[i];c===-1?((a&n)===0||(a&r)!==0)&&(o[i]=Z_(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function Wf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xy(){var e=Rc;return Rc<<=1,(Rc&4194240)===0&&(Rc=64),e}function ff(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Na(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gn(t),e[t]=n}function F_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-gn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Nh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var he=0;function Jy(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ew,Ah,tw,nw,rw,Ff=!1,Uc=[],Dr=null,$r=null,Hr=null,ga=new Map,ya=new Map,Mr=[],K_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O0(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(t.pointerId)}}function Fi(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Ia(t),t!==null&&Ah(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function G_(e,t,n,r,o){switch(t){case"focusin":return Dr=Fi(Dr,e,t,n,r,o),!0;case"dragenter":return $r=Fi($r,e,t,n,r,o),!0;case"mouseover":return Hr=Fi(Hr,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ga.set(s,Fi(ga.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ya.set(s,Fi(ya.get(s)||null,e,t,n,r,o)),!0}return!1}function ow(e){var t=Oo(e.target);if(t!==null){var n=qo(t);if(n!==null){if(t=n.tag,t===13){if(t=Wy(n),t!==null){e.blockedOn=t,rw(e.priority,function(){tw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hf=r,n.target.dispatchEvent(r),Hf=null}else return t=Ia(n),t!==null&&Ah(t),e.blockedOn=n,!1;t.shift()}return!0}function L0(e,t,n){Yc(e)&&n.delete(t)}function Q_(){Ff=!1,Dr!==null&&Yc(Dr)&&(Dr=null),$r!==null&&Yc($r)&&($r=null),Hr!==null&&Yc(Hr)&&(Hr=null),ga.forEach(L0),ya.forEach(L0)}function Ki(e,t){e.blockedOn===t&&(e.blockedOn=null,Ff||(Ff=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,Q_)))}function wa(e){function t(o){return Ki(o,e)}if(0<Uc.length){Ki(Uc[0],e);for(var n=1;n<Uc.length;n++){var r=Uc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dr!==null&&Ki(Dr,e),$r!==null&&Ki($r,e),Hr!==null&&Ki(Hr,e),ga.forEach(t),ya.forEach(t),n=0;n<Mr.length;n++)r=Mr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)ow(n),n.blockedOn===null&&Mr.shift()}var Fs=lr.ReactCurrentBatchConfig,fl=!0;function Y_(e,t,n,r){var o=he,s=Fs.transition;Fs.transition=null;try{he=1,Ih(e,t,n,r)}finally{he=o,Fs.transition=s}}function X_(e,t,n,r){var o=he,s=Fs.transition;Fs.transition=null;try{he=4,Ih(e,t,n,r)}finally{he=o,Fs.transition=s}}function Ih(e,t,n,r){if(fl){var o=Kf(e,t,n,r);if(o===null)vf(e,t,r,hl,n),O0(e,r);else if(G_(o,e,t,n,r))r.stopPropagation();else if(O0(e,r),t&4&&-1<K_.indexOf(e)){for(;o!==null;){var s=Ia(o);if(s!==null&&ew(s),s=Kf(e,t,n,r),s===null&&vf(e,t,r,hl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else vf(e,t,r,null,n)}}var hl=null;function Kf(e,t,n,r){if(hl=null,e=Ph(r),e=Oo(e),e!==null)if(t=qo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hl=e,null}function sw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j_()){case Th:return 1;case Qy:return 4;case ul:case D_:return 16;case Yy:return 536870912;default:return 16}default:return 16}}var zr=null,Oh=null,Xc=null;function iw(){if(Xc)return Xc;var e,t=Oh,n=t.length,r,o="value"in zr?zr.value:zr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Xc=o.slice(e,1<r?1-r:void 0)}function Jc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zc(){return!0}function R0(){return!1}function zt(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zc:R0,this.isPropagationStopped=R0,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lh=zt(ri),Aa=Ee({},ri,{view:0,detail:0}),J_=zt(Aa),hf,pf,Gi,Il=Ee({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(hf=e.screenX-Gi.screenX,pf=e.screenY-Gi.screenY):pf=hf=0,Gi=e),hf)},movementY:function(e){return"movementY"in e?e.movementY:pf}}),M0=zt(Il),e3=Ee({},Il,{dataTransfer:0}),t3=zt(e3),n3=Ee({},Aa,{relatedTarget:0}),mf=zt(n3),r3=Ee({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),o3=zt(r3),s3=Ee({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i3=zt(s3),a3=Ee({},ri,{data:0}),U0=zt(a3),c3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=u3[e])?!!t[e]:!1}function Rh(){return d3}var f3=Ee({},Aa,{key:function(e){if(e.key){var t=c3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rh,charCode:function(e){return e.type==="keypress"?Jc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h3=zt(f3),p3=Ee({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z0=zt(p3),m3=Ee({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rh}),g3=zt(m3),y3=Ee({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),w3=zt(y3),v3=Ee({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x3=zt(v3),k3=[9,13,27,32],Mh=sr&&"CompositionEvent"in window,ia=null;sr&&"documentMode"in document&&(ia=document.documentMode);var b3=sr&&"TextEvent"in window&&!ia,aw=sr&&(!Mh||ia&&8<ia&&11>=ia),j0=" ",D0=!1;function cw(e,t){switch(e){case"keyup":return k3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ls=!1;function _3(e,t){switch(e){case"compositionend":return lw(t);case"keypress":return t.which!==32?null:(D0=!0,j0);case"textInput":return e=t.data,e===j0&&D0?null:e;default:return null}}function E3(e,t){if(Ls)return e==="compositionend"||!Mh&&cw(e,t)?(e=iw(),Xc=Oh=zr=null,Ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aw&&t.locale!=="ko"?null:t.data;default:return null}}var B3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B3[e.type]:t==="textarea"}function uw(e,t,n,r){$y(r),t=pl(t,"onChange"),0<t.length&&(n=new Lh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var aa=null,va=null;function C3(e){kw(e,0)}function Ol(e){var t=Us(e);if(Ly(t))return e}function S3(e,t){if(e==="change")return t}var dw=!1;sr&&(sr?(Dc="oninput"in document,Dc||(gf=document.createElement("div"),gf.setAttribute("oninput","return;"),Dc=typeof gf.oninput=="function"),jc=Dc):jc=!1,dw=jc&&(!document.documentMode||9<document.documentMode));var jc,Dc,gf;function H0(){aa&&(aa.detachEvent("onpropertychange",fw),va=aa=null)}function fw(e){if(e.propertyName==="value"&&Ol(va)){var t=[];uw(t,va,e,Ph(e)),Zy(C3,t)}}function P3(e,t,n){e==="focusin"?(H0(),aa=t,va=n,aa.attachEvent("onpropertychange",fw)):e==="focusout"&&H0()}function T3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(va)}function N3(e,t){if(e==="click")return Ol(t)}function A3(e,t){if(e==="input"||e==="change")return Ol(t)}function I3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:I3;function xa(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Nf.call(t,o)||!wn(e[o],t[o]))return!1}return!0}function V0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function q0(e,t){var n=V0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function hw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pw(){for(var e=window,t=al();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=al(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O3(e){var t=pw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hw(n.ownerDocument.documentElement,n)){if(r!==null&&Uh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=q0(n,s);var i=q0(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L3=sr&&"documentMode"in document&&11>=document.documentMode,Rs=null,Gf=null,ca=null,Qf=!1;function Z0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qf||Rs==null||Rs!==al(r)||(r=Rs,"selectionStart"in r&&Uh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&xa(ca,r)||(ca=r,r=pl(Gf,"onSelect"),0<r.length&&(t=new Lh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rs)))}function $c(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ms={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionend:$c("Transition","TransitionEnd")},yf={},mw={};sr&&(mw=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Ll(e){if(yf[e])return yf[e];if(!Ms[e])return e;var t=Ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mw)return yf[e]=t[n];return e}var gw=Ll("animationend"),yw=Ll("animationiteration"),ww=Ll("animationstart"),vw=Ll("transitionend"),xw=new Map,W0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){xw.set(e,t),Vo(t,[e])}for(Hc=0;Hc<W0.length;Hc++)Vc=W0[Hc],F0=Vc.toLowerCase(),K0=Vc[0].toUpperCase()+Vc.slice(1),Qr(F0,"on"+K0);var Vc,F0,K0,Hc;Qr(gw,"onAnimationEnd");Qr(yw,"onAnimationIteration");Qr(ww,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(vw,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function G0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,R_(r,t,void 0,e),e.currentTarget=null}function kw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&o.isPropagationStopped())break e;G0(o,a,l),s=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&o.isPropagationStopped())break e;G0(o,a,l),s=c}}}if(ll)throw e=Zf,ll=!1,Zf=null,e}function ve(e,t){var n=t[th];n===void 0&&(n=t[th]=new Set);var r=e+"__bubble";n.has(r)||(bw(t,e,2,!1),n.add(r))}function wf(e,t,n){var r=0;t&&(r|=4),bw(n,e,r,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function ka(e){if(!e[qc]){e[qc]=!0,Ty.forEach(function(n){n!=="selectionchange"&&(R3.has(n)||wf(n,!1,e),wf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,wf("selectionchange",!1,t))}}function bw(e,t,n,r){switch(sw(t)){case 1:var o=Y_;break;case 4:o=X_;break;default:o=Ih}n=o.bind(null,t,n,e),o=void 0,!qf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function vf(e,t,n,r,o){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Oo(a),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}a=a.parentNode}}r=r.return}Zy(function(){var l=s,u=Ph(n),d=[];e:{var f=xw.get(e);if(f!==void 0){var h=Lh,w=e;switch(e){case"keypress":if(Jc(n)===0)break e;case"keydown":case"keyup":h=h3;break;case"focusin":w="focus",h=mf;break;case"focusout":w="blur",h=mf;break;case"beforeblur":case"afterblur":h=mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=t3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=g3;break;case gw:case yw:case ww:h=o3;break;case vw:h=w3;break;case"scroll":h=J_;break;case"wheel":h=x3;break;case"copy":case"cut":case"paste":h=i3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=z0}var g=(t&4)!==0,y=!g&&e==="scroll",p=g?f!==null?f+"Capture":null:f;g=[];for(var m=l,v;m!==null;){v=m;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,p!==null&&(x=ma(m,p),x!=null&&g.push(ba(m,x,v)))),y)break;m=m.return}0<g.length&&(f=new h(f,w,null,n,u),d.push({event:f,listeners:g}))}}if((t&7)===0){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Hf&&(w=n.relatedTarget||n.fromElement)&&(Oo(w)||w[ir]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=l,w=w?Oo(w):null,w!==null&&(y=qo(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=l),h!==w)){if(g=M0,x="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=z0,x="onPointerLeave",p="onPointerEnter",m="pointer"),y=h==null?f:Us(h),v=w==null?f:Us(w),f=new g(x,m+"leave",h,n,u),f.target=y,f.relatedTarget=v,x=null,Oo(u)===l&&(g=new g(p,m+"enter",w,n,u),g.target=v,g.relatedTarget=y,x=g),y=x,h&&w)t:{for(g=h,p=w,m=0,v=g;v;v=As(v))m++;for(v=0,x=p;x;x=As(x))v++;for(;0<m-v;)g=As(g),m--;for(;0<v-m;)p=As(p),v--;for(;m--;){if(g===p||p!==null&&g===p.alternate)break t;g=As(g),p=As(p)}g=null}else g=null;h!==null&&Q0(d,f,h,g,!1),w!==null&&y!==null&&Q0(d,y,w,g,!0)}}e:{if(f=l?Us(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=S3;else if($0(f))if(dw)E=A3;else{E=T3;var b=P3}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=N3);if(E&&(E=E(e,l))){uw(d,E,n,u);break e}b&&b(e,f,l),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Uf(f,"number",f.value)}switch(b=l?Us(l):window,e){case"focusin":($0(b)||b.contentEditable==="true")&&(Rs=b,Gf=l,ca=null);break;case"focusout":ca=Gf=Rs=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Z0(d,n,u);break;case"selectionchange":if(L3)break;case"keydown":case"keyup":Z0(d,n,u)}var _;if(Mh)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ls?cw(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(aw&&n.locale!=="ko"&&(Ls||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ls&&(_=iw()):(zr=u,Oh="value"in zr?zr.value:zr.textContent,Ls=!0)),b=pl(l,C),0<b.length&&(C=new U0(C,e,null,n,u),d.push({event:C,listeners:b}),_?C.data=_:(_=lw(n),_!==null&&(C.data=_)))),(_=b3?_3(e,n):E3(e,n))&&(l=pl(l,"onBeforeInput"),0<l.length&&(u=new U0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=_))}kw(d,t)})}function ba(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ma(e,n),s!=null&&r.unshift(ba(e,s,o)),s=ma(e,t),s!=null&&r.push(ba(e,s,o))),e=e.return}return r}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Q0(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,o?(c=ma(n,s),c!=null&&i.unshift(ba(n,c,a))):o||(c=ma(n,s),c!=null&&i.push(ba(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var M3=/\r\n?/g,U3=/\u0000|\uFFFD/g;function Y0(e){return(typeof e=="string"?e:""+e).replace(M3,"\n").replace(U3,"")}function Zc(e,t,n){if(t=Y0(t),Y0(e)!==t&&n)throw Error(M(425))}function ml(){}var Yf=null,Xf=null;function Jf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,z3=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,j3=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(e){return X0.resolve(null).then(e).catch(D3)}:eh;function D3(e){setTimeout(function(){throw e})}function xf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),wa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);wa(t)}function Vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),Rn="__reactFiber$"+oi,_a="__reactProps$"+oi,ir="__reactContainer$"+oi,th="__reactEvents$"+oi,$3="__reactListeners$"+oi,H3="__reactHandles$"+oi;function Oo(e){var t=e[Rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ir]||n[Rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=J0(e);e!==null;){if(n=e[Rn])return n;e=J0(e)}return t}e=n,n=e.parentNode}return null}function Ia(e){return e=e[Rn]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Rl(e){return e[_a]||null}var nh=[],zs=-1;function Yr(e){return{current:e}}function xe(e){0>zs||(e.current=nh[zs],nh[zs]=null,zs--)}function we(e,t){zs++,nh[zs]=e.current,e.current=t}var Gr={},at=Yr(Gr),St=Yr(!1),zo=Gr;function Ys(e,t){var n=e.type.contextTypes;if(!n)return Gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pt(e){return e=e.childContextTypes,e!=null}function gl(){xe(St),xe(at)}function ey(e,t,n){if(at.current!==Gr)throw Error(M(168));we(at,t),we(St,n)}function _w(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(M(108,P_(e)||"Unknown",o));return Ee({},n,r)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,zo=at.current,we(at,e),we(St,St.current),!0}function ty(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=_w(e,t,zo),r.__reactInternalMemoizedMergedChildContext=e,xe(St),xe(at),we(at,e)):xe(St),we(St,n)}var tr=null,Ml=!1,kf=!1;function Ew(e){tr===null?tr=[e]:tr.push(e)}function V3(e){Ml=!0,Ew(e)}function Xr(){if(!kf&&tr!==null){kf=!0;var e=0,t=he;try{var n=tr;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tr=null,Ml=!1}catch(o){throw tr!==null&&(tr=tr.slice(e+1)),Gy(Th,Xr),o}finally{he=t,kf=!1}}return null}var js=[],Ds=0,wl=null,vl=0,Kt=[],Gt=0,jo=null,nr=1,rr="";function Ao(e,t){js[Ds++]=vl,js[Ds++]=wl,wl=e,vl=t}function Bw(e,t,n){Kt[Gt++]=nr,Kt[Gt++]=rr,Kt[Gt++]=jo,jo=e;var r=nr;e=rr;var o=32-gn(r)-1;r&=~(1<<o),n+=1;var s=32-gn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,nr=1<<32-gn(t)+o|n<<o|r,rr=s+e}else nr=1<<s|n<<o|r,rr=e}function zh(e){e.return!==null&&(Ao(e,1),Bw(e,1,0))}function jh(e){for(;e===wl;)wl=js[--Ds],js[Ds]=null,vl=js[--Ds],js[Ds]=null;for(;e===jo;)jo=Kt[--Gt],Kt[Gt]=null,rr=Kt[--Gt],Kt[Gt]=null,nr=Kt[--Gt],Kt[Gt]=null}var Mt=null,Rt=null,ke=!1,mn=null;function Cw(e,t){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ny(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Rt=Vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jo!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Rt=null,!0):!1;default:return!1}}function rh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oh(e){if(ke){var t=Rt;if(t){var n=t;if(!ny(e,t)){if(rh(e))throw Error(M(418));t=Vr(n.nextSibling);var r=Mt;t&&ny(e,t)?Cw(r,n):(e.flags=e.flags&-4097|2,ke=!1,Mt=e)}}else{if(rh(e))throw Error(M(418));e.flags=e.flags&-4097|2,ke=!1,Mt=e}}}function ry(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Wc(e){if(e!==Mt)return!1;if(!ke)return ry(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jf(e.type,e.memoizedProps)),t&&(t=Rt)){if(rh(e))throw Sw(),Error(M(418));for(;t;)Cw(e,t),t=Vr(t.nextSibling)}if(ry(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rt=Vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Mt?Vr(e.stateNode.nextSibling):null;return!0}function Sw(){for(var e=Rt;e;)e=Vr(e.nextSibling)}function Xs(){Rt=Mt=null,ke=!1}function Dh(e){mn===null?mn=[e]:mn.push(e)}var q3=lr.ReactCurrentBatchConfig;function Qi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Fc(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oy(e){var t=e._init;return t(e._payload)}function Pw(e){function t(p,m){if(e){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function o(p,m){return p=Fr(p,m),p.index=0,p.sibling=null,p}function s(p,m,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,x){return m===null||m.tag!==6?(m=Pf(v,p.mode,x),m.return=p,m):(m=o(m,v),m.return=p,m)}function c(p,m,v,x){var E=v.type;return E===Os?u(p,m,v.props.children,x,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Lr&&oy(E)===m.type)?(x=o(m,v.props),x.ref=Qi(p,m,v),x.return=p,x):(x=il(v.type,v.key,v.props,null,p.mode,x),x.ref=Qi(p,m,v),x.return=p,x)}function l(p,m,v,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Tf(v,p.mode,x),m.return=p,m):(m=o(m,v.children||[]),m.return=p,m)}function u(p,m,v,x,E){return m===null||m.tag!==7?(m=Uo(v,p.mode,x,E),m.return=p,m):(m=o(m,v),m.return=p,m)}function d(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Pf(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ic:return v=il(m.type,m.key,m.props,null,p.mode,v),v.ref=Qi(p,null,m),v.return=p,v;case Is:return m=Tf(m,p.mode,v),m.return=p,m;case Lr:var x=m._init;return d(p,x(m._payload),v)}if(ta(m)||Wi(m))return m=Uo(m,p.mode,v,null),m.return=p,m;Fc(p,m)}return null}function f(p,m,v,x){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(p,m,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ic:return v.key===E?c(p,m,v,x):null;case Is:return v.key===E?l(p,m,v,x):null;case Lr:return E=v._init,f(p,m,E(v._payload),x)}if(ta(v)||Wi(v))return E!==null?null:u(p,m,v,x,null);Fc(p,v)}return null}function h(p,m,v,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(v)||null,a(m,p,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ic:return p=p.get(x.key===null?v:x.key)||null,c(m,p,x,E);case Is:return p=p.get(x.key===null?v:x.key)||null,l(m,p,x,E);case Lr:var b=x._init;return h(p,m,v,b(x._payload),E)}if(ta(x)||Wi(x))return p=p.get(v)||null,u(m,p,x,E,null);Fc(m,x)}return null}function w(p,m,v,x){for(var E=null,b=null,_=m,C=m=0,T=null;_!==null&&C<v.length;C++){_.index>C?(T=_,_=null):T=_.sibling;var N=f(p,_,v[C],x);if(N===null){_===null&&(_=T);break}e&&_&&N.alternate===null&&t(p,_),m=s(N,m,C),b===null?E=N:b.sibling=N,b=N,_=T}if(C===v.length)return n(p,_),ke&&Ao(p,C),E;if(_===null){for(;C<v.length;C++)_=d(p,v[C],x),_!==null&&(m=s(_,m,C),b===null?E=_:b.sibling=_,b=_);return ke&&Ao(p,C),E}for(_=r(p,_);C<v.length;C++)T=h(_,p,C,v[C],x),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?C:T.key),m=s(T,m,C),b===null?E=T:b.sibling=T,b=T);return e&&_.forEach(function(U){return t(p,U)}),ke&&Ao(p,C),E}function g(p,m,v,x){var E=Wi(v);if(typeof E!="function")throw Error(M(150));if(v=E.call(v),v==null)throw Error(M(151));for(var b=E=null,_=m,C=m=0,T=null,N=v.next();_!==null&&!N.done;C++,N=v.next()){_.index>C?(T=_,_=null):T=_.sibling;var U=f(p,_,N.value,x);if(U===null){_===null&&(_=T);break}e&&_&&U.alternate===null&&t(p,_),m=s(U,m,C),b===null?E=U:b.sibling=U,b=U,_=T}if(N.done)return n(p,_),ke&&Ao(p,C),E;if(_===null){for(;!N.done;C++,N=v.next())N=d(p,N.value,x),N!==null&&(m=s(N,m,C),b===null?E=N:b.sibling=N,b=N);return ke&&Ao(p,C),E}for(_=r(p,_);!N.done;C++,N=v.next())N=h(_,p,C,N.value,x),N!==null&&(e&&N.alternate!==null&&_.delete(N.key===null?C:N.key),m=s(N,m,C),b===null?E=N:b.sibling=N,b=N);return e&&_.forEach(function(D){return t(p,D)}),ke&&Ao(p,C),E}function y(p,m,v,x){if(typeof v=="object"&&v!==null&&v.type===Os&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ic:e:{for(var E=v.key,b=m;b!==null;){if(b.key===E){if(E=v.type,E===Os){if(b.tag===7){n(p,b.sibling),m=o(b,v.props.children),m.return=p,p=m;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Lr&&oy(E)===b.type){n(p,b.sibling),m=o(b,v.props),m.ref=Qi(p,b,v),m.return=p,p=m;break e}n(p,b);break}else t(p,b);b=b.sibling}v.type===Os?(m=Uo(v.props.children,p.mode,x,v.key),m.return=p,p=m):(x=il(v.type,v.key,v.props,null,p.mode,x),x.ref=Qi(p,m,v),x.return=p,p=x)}return i(p);case Is:e:{for(b=v.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=o(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Tf(v,p.mode,x),m.return=p,p=m}return i(p);case Lr:return b=v._init,y(p,m,b(v._payload),x)}if(ta(v))return w(p,m,v,x);if(Wi(v))return g(p,m,v,x);Fc(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=o(m,v),m.return=p,p=m):(n(p,m),m=Pf(v,p.mode,x),m.return=p,p=m),i(p)):n(p,m)}return y}var Js=Pw(!0),Tw=Pw(!1),xl=Yr(null),kl=null,$s=null,$h=null;function Hh(){$h=$s=kl=null}function Vh(e){var t=xl.current;xe(xl),e._currentValue=t}function sh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ks(e,t){kl=e,$h=$s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function Xt(e){var t=e._currentValue;if($h!==e)if(e={context:e,memoizedValue:t,next:null},$s===null){if(kl===null)throw Error(M(308));$s=e,kl.dependencies={lanes:0,firstContext:e}}else $s=$s.next=e;return t}var Lo=null;function qh(e){Lo===null?Lo=[e]:Lo.push(e)}function Nw(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,qh(t)):(n.next=o.next,o.next=n),t.interleaved=n,ar(e,r)}function ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rr=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ue&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ar(e,n)}return o=r.interleaved,o===null?(t.next=t,qh(r)):(t.next=o.next,o.next=t),r.interleaved=t,ar(e,n)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nh(e,n)}}function sy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bl(e,t,n,r){var o=e.updateQueue;Rr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,l=c.next;c.next=null,i===null?s=l:i.next=l,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var d=o.baseState;i=0,u=l=c=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,g=a;switch(f=t,h=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){d=w.call(h,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(h,d,f):w,f==null)break e;d=Ee({},d,f);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=d):u=u.next=h,i|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(u===null&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);$o|=i,e.lanes=i,e.memoizedState=d}}function iy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(M(191,o));o.call(r)}}}var Oa={},Un=Yr(Oa),Ea=Yr(Oa),Ba=Yr(Oa);function Ro(e){if(e===Oa)throw Error(M(174));return e}function Wh(e,t){switch(we(Ba,t),we(Ea,e),we(Un,Oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jf(t,e)}xe(Un),we(Un,t)}function ei(){xe(Un),xe(Ea),xe(Ba)}function Iw(e){Ro(Ba.current);var t=Ro(Un.current),n=jf(t,e.type);t!==n&&(we(Ea,e),we(Un,n))}function Fh(e){Ea.current===e&&(xe(Un),xe(Ea))}var be=Yr(0);function _l(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bf=[];function Kh(){for(var e=0;e<bf.length;e++)bf[e]._workInProgressVersionPrimary=null;bf.length=0}var tl=lr.ReactCurrentDispatcher,_f=lr.ReactCurrentBatchConfig,Do=0,_e=null,ze=null,Fe=null,El=!1,la=!1,Ca=0,Z3=0;function ot(){throw Error(M(321))}function Gh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function Qh(e,t,n,r,o,s){if(Do=s,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?G3:Q3,e=n(r,o),la){s=0;do{if(la=!1,Ca=0,25<=s)throw Error(M(301));s+=1,Fe=ze=null,t.updateQueue=null,tl.current=Y3,e=n(r,o)}while(la)}if(tl.current=Bl,t=ze!==null&&ze.next!==null,Do=0,Fe=ze=_e=null,El=!1,t)throw Error(M(300));return e}function Yh(){var e=Ca!==0;return Ca=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?_e.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Jt(){if(ze===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Fe===null?_e.memoizedState:Fe.next;if(t!==null)Fe=t,ze=e;else{if(e===null)throw Error(M(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Fe===null?_e.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Sa(e,t){return typeof t=="function"?t(e):t}function Ef(e){var t=Jt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=ze,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,c=null,l=s;do{var u=l.lane;if((Do&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,i=r):c=c.next=d,_e.lanes|=u,$o|=u}l=l.next}while(l!==null&&l!==s);c===null?i=r:c.next=a,wn(r,t.memoizedState)||(Ct=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,_e.lanes|=s,$o|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bf(e){var t=Jt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);wn(s,t.memoizedState)||(Ct=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ow(){}function Lw(e,t){var n=_e,r=Jt(),o=t(),s=!wn(r.memoizedState,o);if(s&&(r.memoizedState=o,Ct=!0),r=r.queue,Xh(Uw.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Pa(9,Mw.bind(null,n,r,o,t),void 0,null),Ke===null)throw Error(M(349));(Do&30)!==0||Rw(n,t,o)}return o}function Rw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mw(e,t,n,r){t.value=n,t.getSnapshot=r,zw(t)&&jw(e)}function Uw(e,t,n){return n(function(){zw(t)&&jw(e)})}function zw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wn(e,n)}catch(r){return!0}}function jw(e){var t=ar(e,1);t!==null&&yn(t,e,1,-1)}function ay(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=K3.bind(null,_e,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dw(){return Jt().memoizedState}function nl(e,t,n,r){var o=Ln();_e.flags|=e,o.memoizedState=Pa(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var o=Jt();r=r===void 0?null:r;var s=void 0;if(ze!==null){var i=ze.memoizedState;if(s=i.destroy,r!==null&&Gh(r,i.deps)){o.memoizedState=Pa(t,n,s,r);return}}_e.flags|=e,o.memoizedState=Pa(1|t,n,s,r)}function cy(e,t){return nl(8390656,8,e,t)}function Xh(e,t){return Ul(2048,8,e,t)}function $w(e,t){return Ul(4,2,e,t)}function Hw(e,t){return Ul(4,4,e,t)}function Vw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qw(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,Vw.bind(null,t,e),n)}function Jh(){}function Zw(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ww(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fw(e,t,n){return(Do&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=n):(wn(n,t)||(n=Xy(),_e.lanes|=n,$o|=n,e.baseState=!0),t)}function W3(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=_f.transition;_f.transition={};try{e(!1),t()}finally{he=n,_f.transition=r}}function Kw(){return Jt().memoizedState}function F3(e,t,n){var r=Wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gw(e))Qw(t,n);else if(n=Nw(e,t,n,r),n!==null){var o=yt();yn(n,e,r,o),Yw(n,t,r)}}function K3(e,t,n){var r=Wr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gw(e))Qw(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,wn(a,i)){var c=t.interleaved;c===null?(o.next=o,qh(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch(l){}finally{}n=Nw(e,t,o,r),n!==null&&(o=yt(),yn(n,e,r,o),Yw(n,t,r))}}function Gw(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Qw(e,t){la=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yw(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nh(e,n)}}var Bl={readContext:Xt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},G3={readContext:Xt,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:cy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,Vw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=F3.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:ay,useDebugValue:Jh,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=ay(!1),t=e[0];return e=W3.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,o=Ln();if(ke){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ke===null)throw Error(M(349));(Do&30)!==0||Rw(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,cy(Uw.bind(null,r,s,e),[e]),r.flags|=2048,Pa(9,Mw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ln(),t=Ke.identifierPrefix;if(ke){var n=rr,r=nr;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ca++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Z3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q3={readContext:Xt,useCallback:Zw,useContext:Xt,useEffect:Xh,useImperativeHandle:qw,useInsertionEffect:$w,useLayoutEffect:Hw,useMemo:Ww,useReducer:Ef,useRef:Dw,useState:function(){return Ef(Sa)},useDebugValue:Jh,useDeferredValue:function(e){var t=Jt();return Fw(t,ze.memoizedState,e)},useTransition:function(){var e=Ef(Sa)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Ow,useSyncExternalStore:Lw,useId:Kw,unstable_isNewReconciler:!1},Y3={readContext:Xt,useCallback:Zw,useContext:Xt,useEffect:Xh,useImperativeHandle:qw,useInsertionEffect:$w,useLayoutEffect:Hw,useMemo:Ww,useReducer:Bf,useRef:Dw,useState:function(){return Bf(Sa)},useDebugValue:Jh,useDeferredValue:function(e){var t=Jt();return ze===null?t.memoizedState=e:Fw(t,ze.memoizedState,e)},useTransition:function(){var e=Bf(Sa)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Ow,useSyncExternalStore:Lw,useId:Kw,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ih(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zl={isMounted:function(e){return(e=e._reactInternals)?qo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),o=Wr(e),s=or(r,o);s.payload=t,n!=null&&(s.callback=n),t=qr(e,s,o),t!==null&&(yn(t,e,o,r),el(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),o=Wr(e),s=or(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=qr(e,s,o),t!==null&&(yn(t,e,o,r),el(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Wr(e),o=or(n,r);o.tag=2,t!=null&&(o.callback=t),t=qr(e,o,r),t!==null&&(yn(t,e,r,n),el(t,e,r))}};function ly(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!xa(n,r)||!xa(o,s):!0}function Xw(e,t,n){var r=!1,o=Gr,s=t.contextType;return typeof s=="object"&&s!==null?s=Xt(s):(o=Pt(t)?zo:at.current,r=t.contextTypes,s=(r=r!=null)?Ys(e,o):Gr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function uy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zl.enqueueReplaceState(t,t.state,null)}function ah(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Zh(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Xt(s):(s=Pt(t)?zo:at.current,o.context=Ys(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ih(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&zl.enqueueReplaceState(o,o.state,null),bl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var n="",r=t;do n+=S_(r),r=r.return;while(r);var o=n}catch(s){o="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:o,digest:null}}function Cf(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ch(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var X3=typeof WeakMap=="function"?WeakMap:Map;function Jw(e,t,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sl||(Sl=!0,wh=r),ch(e,t)},n}function e1(e,t,n){n=or(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ch(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ch(e,t),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function dy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new X3;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=fE.bind(null,e,t,n),t.then(e,e))}function fy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hy(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=or(-1,1),t.tag=2,qr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var J3=lr.ReactCurrentOwner,Ct=!1;function gt(e,t,n,r){t.child=e===null?Tw(t,null,n,r):Js(t,e.child,n,r)}function py(e,t,n,r,o){n=n.render;var s=t.ref;return Ks(t,o),r=Qh(e,t,n,r,s,o),n=Yh(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cr(e,t,o)):(ke&&n&&zh(t),t.flags|=1,gt(e,t,r,o),t.child)}function my(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!ap(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,t1(e,t,s,r,o)):(e=il(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:xa,n(i,r)&&e.ref===t.ref)return cr(e,t,o)}return t.flags|=1,e=Fr(s,r),e.ref=t.ref,e.return=t,t.child=e}function t1(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(xa(s,r)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=r=s,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,cr(e,t,o)}return lh(e,t,n,r,o)}function n1(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Vs,Lt),Lt|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Vs,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Vs,Lt),Lt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,we(Vs,Lt),Lt|=r;return gt(e,t,o,n),t.child}function r1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lh(e,t,n,r,o){var s=Pt(n)?zo:at.current;return s=Ys(t,s),Ks(t,o),n=Qh(e,t,n,r,s,o),r=Yh(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cr(e,t,o)):(ke&&r&&zh(t),t.flags|=1,gt(e,t,n,o),t.child)}function gy(e,t,n,r,o){if(Pt(n)){var s=!0;yl(t)}else s=!1;if(Ks(t,o),t.stateNode===null)rl(e,t),Xw(t,n,r),ah(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,l=n.contextType;typeof l=="object"&&l!==null?l=Xt(l):(l=Pt(n)?zo:at.current,l=Ys(t,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==l)&&uy(t,i,r,l),Rr=!1;var f=t.memoizedState;i.state=f,bl(t,r,i,o),c=t.memoizedState,a!==r||f!==c||St.current||Rr?(typeof u=="function"&&(ih(t,n,u,r),c=t.memoizedState),(a=Rr||ly(t,n,a,r,f,c,l))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=l,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Aw(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:hn(t.type,a),i.props=l,d=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xt(c):(c=Pt(n)?zo:at.current,c=Ys(t,c));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==c)&&uy(t,i,r,c),Rr=!1,f=t.memoizedState,i.state=f,bl(t,r,i,o);var w=t.memoizedState;a!==d||f!==w||St.current||Rr?(typeof h=="function"&&(ih(t,n,h,r),w=t.memoizedState),(l=Rr||ly(t,n,l,r,f,w,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=l):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return uh(e,t,n,r,s,o)}function uh(e,t,n,r,o,s){r1(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&ty(t,n,!1),cr(e,t,s);r=t.stateNode,J3.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):gt(e,t,a,s),t.memoizedState=r.state,o&&ty(t,n,!0),t.child}function o1(e){var t=e.stateNode;t.pendingContext?ey(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ey(e,t.context,!1),Wh(e,t.containerInfo)}function yy(e,t,n,r,o){return Xs(),Dh(o),t.flags|=256,gt(e,t,n,r),t.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function s1(e,t,n){var r=t.pendingProps,o=be.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),we(be,o&1),e===null)return oh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=$l(i,r,0,null),e=Uo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fh(n),t.memoizedState=dh,e):ep(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return eE(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Fr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Fr(a,s):(s=Uo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?fh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=dh,r}return s=e.child,e=s.sibling,r=Fr(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ep(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kc(e,t,n,r){return r!==null&&Dh(r),Js(t,e.child,null,n),e=ep(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eE(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Cf(Error(M(422))),Kc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=$l({mode:"visible",children:r.children},o,0,null),s=Uo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&Js(t,e.child,null,i),t.child.memoizedState=fh(i),t.memoizedState=dh,s);if((t.mode&1)===0)return Kc(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(M(419)),r=Cf(s,r,void 0),Kc(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ct||a){if(r=Ke,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|i))!==0?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,ar(e,o),yn(r,e,o,-1))}return ip(),r=Cf(Error(M(421))),Kc(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=hE.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Rt=Vr(o.nextSibling),Mt=t,ke=!0,mn=null,e!==null&&(Kt[Gt++]=nr,Kt[Gt++]=rr,Kt[Gt++]=jo,nr=e.id,rr=e.overflow,jo=t),t=ep(t,r.children),t.flags|=4096,t)}function wy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sh(e.return,t,n)}function Sf(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function i1(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(gt(e,t,r.children,n),r=be.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wy(e,n,t);else if(e.tag===19)wy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(be,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&_l(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Sf(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&_l(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Sf(t,!0,n,null,s);break;case"together":Sf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$o|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Fr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tE(e,t,n){switch(t.tag){case 3:o1(t),Xs();break;case 5:Iw(t);break;case 1:Pt(t.type)&&yl(t);break;case 4:Wh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;we(xl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(be,be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?s1(e,t,n):(we(be,be.current&1),e=cr(e,t,n),e!==null?e.sibling:null);we(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return i1(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),we(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,n1(e,t,n)}return cr(e,t,n)}var a1,hh,c1,l1;a1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hh=function(){};c1=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(Un.current);var s=null;switch(n){case"input":o=Rf(e,o),r=Rf(e,r),s=[];break;case"select":o=Ee({},o,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":o=zf(e,o),r=zf(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ml)}Df(n,r);var i;n=null;for(l in o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var a=o[l];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ha.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=o!=null?o[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ha.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&ve("scroll",e),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};l1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nE(e,t,n){var r=t.pendingProps;switch(jh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return Pt(t.type)&&gl(),st(t),null;case 3:return r=t.stateNode,ei(),xe(St),xe(at),Kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mn!==null&&(kh(mn),mn=null))),hh(e,t),st(t),null;case 5:Fh(t);var o=Ro(Ba.current);if(n=t.type,e!==null&&t.stateNode!=null)c1(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return st(t),null}if(e=Ro(Un.current),Wc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Rn]=t,r[_a]=s,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(o=0;o<ra.length;o++)ve(ra[o],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":C0(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":P0(r,s),ve("invalid",r)}Df(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,e),o=["children",""+a]):ha.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ve("scroll",r)}switch(n){case"input":Oc(r),S0(r,s,!0);break;case"textarea":Oc(r),T0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ml)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Rn]=t,e[_a]=r,a1(e,t,!1,!1),t.stateNode=e;e:{switch(i=$f(n,r),n){case"dialog":ve("cancel",e),ve("close",e),o=r;break;case"iframe":case"object":case"embed":ve("load",e),o=r;break;case"video":case"audio":for(o=0;o<ra.length;o++)ve(ra[o],e);o=r;break;case"source":ve("error",e),o=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),o=r;break;case"details":ve("toggle",e),o=r;break;case"input":C0(e,r),o=Rf(e,r),ve("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ee({},r,{value:void 0}),ve("invalid",e);break;case"textarea":P0(e,r),o=zf(e,r),ve("invalid",e);break;default:o=r}Df(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Dy(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zy(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pa(e,c):typeof c=="number"&&pa(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ha.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ve("scroll",e):c!=null&&Eh(e,s,c,i))}switch(n){case"input":Oc(e),S0(e,r,!1);break;case"textarea":Oc(e),T0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?qs(e,!!r.multiple,s,!1):r.defaultValue!=null&&qs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)l1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Ro(Ba.current),Ro(Un.current),Wc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rn]=t,(s=r.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:Zc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=t,t.stateNode=r}return st(t),null;case 13:if(xe(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&Rt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Sw(),Xs(),t.flags|=98560,s=!1;else if(s=Wc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Rn]=t}else Xs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;st(t),s=!1}else mn!==null&&(kh(mn),mn=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?je===0&&(je=3):ip())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return ei(),hh(e,t),e===null&&ka(t.stateNode.containerInfo),st(t),null;case 10:return Vh(t.type._context),st(t),null;case 17:return Pt(t.type)&&gl(),st(t),null;case 19:if(xe(be),s=t.memoizedState,s===null)return st(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Yi(s,!1);else{if(je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=_l(e),i!==null){for(t.flags|=128,Yi(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(be,be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Oe()>ni&&(t.flags|=128,r=!0,Yi(s,!1),t.lanes=4194304)}else{if(!r)if(e=_l(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ke)return st(t),null}else 2*Oe()-s.renderingStartTime>ni&&n!==1073741824&&(t.flags|=128,r=!0,Yi(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Oe(),t.sibling=null,n=be.current,we(be,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return sp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Lt&1073741824)!==0&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function rE(e,t){switch(jh(t),t.tag){case 1:return Pt(t.type)&&gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),xe(St),xe(at),Kh(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Fh(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return ei(),null;case 10:return Vh(t.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var Gc=!1,it=!1,oE=typeof WeakSet=="function"?WeakSet:Set,H=null;function Hs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function ph(e,t,n){try{n()}catch(r){Se(e,t,r)}}var vy=!1;function sE(e,t){if(Yf=fl,e=pw(),Uh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var i=0,a=-1,c=-1,l=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(c=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++l===o&&(a=i),f===s&&++u===r&&(c=i),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xf={focusedElem:e,selectionRange:n},fl=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var w=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,y=w.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:hn(t.type,g),y);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(x){Se(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return w=vy,vy=!1,w}function ua(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&ph(t,n,s)}o=o.next}while(o!==r)}}function jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function u1(e){var t=e.alternate;t!==null&&(e.alternate=null,u1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[_a],delete t[th],delete t[$3],delete t[H3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d1(e){return e.tag===5||e.tag===3||e.tag===4}function xy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ml));else if(r!==4&&(e=e.child,e!==null))for(gh(e,t,n),e=e.sibling;e!==null;)gh(e,t,n),e=e.sibling}function yh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yh(e,t,n),e=e.sibling;e!==null;)yh(e,t,n),e=e.sibling}var Xe=null,pn=!1;function Or(e,t,n){for(n=n.child;n!==null;)f1(e,t,n),n=n.sibling}function f1(e,t,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Al,n)}catch(a){}switch(n.tag){case 5:it||Hs(n,t);case 6:var r=Xe,o=pn;Xe=null,Or(e,t,n),Xe=r,pn=o,Xe!==null&&(pn?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(pn?(e=Xe,n=n.stateNode,e.nodeType===8?xf(e.parentNode,n):e.nodeType===1&&xf(e,n),wa(e)):xf(Xe,n.stateNode));break;case 4:r=Xe,o=pn,Xe=n.stateNode.containerInfo,pn=!0,Or(e,t,n),Xe=r,pn=o;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&((s&2)!==0||(s&4)!==0)&&ph(n,t,i),o=o.next}while(o!==r)}Or(e,t,n);break;case 1:if(!it&&(Hs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,t,a)}Or(e,t,n);break;case 21:Or(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Or(e,t,n),it=r):Or(e,t,n);break;default:Or(e,t,n)}}function ky(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oE),t.forEach(function(r){var o=pE.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function fn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,pn=!1;break e;case 3:Xe=a.stateNode.containerInfo,pn=!0;break e;case 4:Xe=a.stateNode.containerInfo,pn=!0;break e}a=a.return}if(Xe===null)throw Error(M(160));f1(s,i,o),Xe=null,pn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(l){Se(o,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h1(t,e),t=t.sibling}function h1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),On(e),r&4){try{ua(3,e,e.return),jl(3,e)}catch(g){Se(e,e.return,g)}try{ua(5,e,e.return)}catch(g){Se(e,e.return,g)}}break;case 1:fn(t,e),On(e),r&512&&n!==null&&Hs(n,n.return);break;case 5:if(fn(t,e),On(e),r&512&&n!==null&&Hs(n,n.return),e.flags&32){var o=e.stateNode;try{pa(o,"")}catch(g){Se(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ry(o,s),$f(a,i);var l=$f(a,s);for(i=0;i<c.length;i+=2){var u=c[i],d=c[i+1];u==="style"?Dy(o,d):u==="dangerouslySetInnerHTML"?zy(o,d):u==="children"?pa(o,d):Eh(o,u,d,l)}switch(a){case"input":Mf(o,s);break;case"textarea":My(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?qs(o,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?qs(o,!!s.multiple,s.defaultValue,!0):qs(o,!!s.multiple,s.multiple?[]:"",!1))}o[_a]=s}catch(g){Se(e,e.return,g)}}break;case 6:if(fn(t,e),On(e),r&4){if(e.stateNode===null)throw Error(M(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Se(e,e.return,g)}}break;case 3:if(fn(t,e),On(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wa(t.containerInfo)}catch(g){Se(e,e.return,g)}break;case 4:fn(t,e),On(e);break;case 13:fn(t,e),On(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(rp=Oe())),r&4&&ky(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(it=(l=it)||u,fn(t,e),it=l):fn(t,e),On(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&(e.mode&1)!==0)for(H=e,u=e.child;u!==null;){for(d=H=u;H!==null;){switch(f=H,h=f.child,f.tag){case 0:case 11:case 14:case 15:ua(4,f,f.return);break;case 1:Hs(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Se(r,n,g)}}break;case 5:Hs(f,f.return);break;case 22:if(f.memoizedState!==null){_y(d);continue}}h!==null?(h.return=f,H=h):_y(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,l?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=jy("display",i))}catch(g){Se(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Se(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fn(t,e),On(e),r&4&&ky(e);break;case 21:break;default:fn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(d1(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(pa(o,""),r.flags&=-33);var s=xy(e);yh(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=xy(e);gh(e,a,i);break;default:throw Error(M(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iE(e,t,n){H=e,p1(e,t,n)}function p1(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var o=H,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Gc;if(!i){var a=o.alternate,c=a!==null&&a.memoizedState!==null||it;a=Gc;var l=it;if(Gc=i,(it=c)&&!l)for(H=o;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?Ey(o):c!==null?(c.return=i,H=c):Ey(o);for(;s!==null;)H=s,p1(s,t,n),s=s.sibling;H=o,Gc=a,it=l}by(e,t,n)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,H=s):by(e,t,n)}}function by(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:it||jl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:hn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&iy(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}it||t.flags&512&&mh(t)}catch(f){Se(t,t.return,f)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function _y(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Ey(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jl(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Se(t,o,c)}}var s=t.return;try{mh(t)}catch(c){Se(t,s,c)}break;case 5:var i=t.return;try{mh(t)}catch(c){Se(t,i,c)}}}catch(c){Se(t,t.return,c)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var aE=Math.ceil,Cl=lr.ReactCurrentDispatcher,tp=lr.ReactCurrentOwner,Yt=lr.ReactCurrentBatchConfig,ue=0,Ke=null,Re=null,Je=0,Lt=0,Vs=Yr(0),je=0,Ta=null,$o=0,Dl=0,np=0,da=null,Bt=null,rp=0,ni=1/0,er=null,Sl=!1,wh=null,Zr=null,Qc=!1,jr=null,Pl=0,fa=0,vh=null,ol=-1,sl=0;function yt(){return(ue&6)!==0?Oe():ol!==-1?ol:ol=Oe()}function Wr(e){return(e.mode&1)===0?1:(ue&2)!==0&&Je!==0?Je&-Je:q3.transition!==null?(sl===0&&(sl=Xy()),sl):(e=he,e!==0||(e=window.event,e=e===void 0?16:sw(e.type)),e)}function yn(e,t,n,r){if(50<fa)throw fa=0,vh=null,Error(M(185));Na(e,n,r),((ue&2)===0||e!==Ke)&&(e===Ke&&((ue&2)===0&&(Dl|=n),je===4&&Ur(e,Je)),Tt(e,r),n===1&&ue===0&&(t.mode&1)===0&&(ni=Oe()+500,Ml&&Xr()))}function Tt(e,t){var n=e.callbackNode;W_(e,t);var r=dl(e,e===Ke?Je:0);if(r===0)n!==null&&I0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&I0(n),t===1)e.tag===0?V3(By.bind(null,e)):Ew(By.bind(null,e)),j3(function(){(ue&6)===0&&Xr()}),n=null;else{switch(Jy(r)){case 1:n=Th;break;case 4:n=Qy;break;case 16:n=ul;break;case 536870912:n=Yy;break;default:n=ul}n=b1(n,m1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function m1(e,t){if(ol=-1,sl=0,(ue&6)!==0)throw Error(M(327));var n=e.callbackNode;if(Gs()&&e.callbackNode!==n)return null;var r=dl(e,e===Ke?Je:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Tl(e,r);else{t=r;var o=ue;ue|=2;var s=y1();(Ke!==e||Je!==t)&&(er=null,ni=Oe()+500,Mo(e,t));do try{uE();break}catch(a){g1(e,a)}while(!0);Hh(),Cl.current=s,ue=o,Re!==null?t=0:(Ke=null,Je=0,t=je)}if(t!==0){if(t===2&&(o=Wf(e),o!==0&&(r=o,t=xh(e,o))),t===1)throw n=Ta,Mo(e,0),Ur(e,r),Tt(e,Oe()),n;if(t===6)Ur(e,r);else{if(o=e.current.alternate,(r&30)===0&&!cE(o)&&(t=Tl(e,r),t===2&&(s=Wf(e),s!==0&&(r=s,t=xh(e,s))),t===1))throw n=Ta,Mo(e,0),Ur(e,r),Tt(e,Oe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Io(e,Bt,er);break;case 3:if(Ur(e,r),(r&130023424)===r&&(t=rp+500-Oe(),10<t)){if(dl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=eh(Io.bind(null,e,Bt,er),t);break}Io(e,Bt,er);break;case 4:if(Ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-gn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aE(r/1960))-r,10<r){e.timeoutHandle=eh(Io.bind(null,e,Bt,er),r);break}Io(e,Bt,er);break;case 5:Io(e,Bt,er);break;default:throw Error(M(329))}}}return Tt(e,Oe()),e.callbackNode===n?m1.bind(null,e):null}function xh(e,t){var n=da;return e.current.memoizedState.isDehydrated&&(Mo(e,t).flags|=256),e=Tl(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&kh(t)),e}function kh(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function cE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!wn(s(),o))return!1}catch(i){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~np,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gn(t),r=1<<n;e[n]=-1,t&=~r}}function By(e){if((ue&6)!==0)throw Error(M(327));Gs();var t=dl(e,0);if((t&1)===0)return Tt(e,Oe()),null;var n=Tl(e,t);if(e.tag!==0&&n===2){var r=Wf(e);r!==0&&(t=r,n=xh(e,r))}if(n===1)throw n=Ta,Mo(e,0),Ur(e,t),Tt(e,Oe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Io(e,Bt,er),Tt(e,Oe()),null}function op(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(ni=Oe()+500,Ml&&Xr())}}function Ho(e){jr!==null&&jr.tag===0&&(ue&6)===0&&Gs();var t=ue;ue|=1;var n=Yt.transition,r=he;try{if(Yt.transition=null,he=1,e)return e()}finally{he=r,Yt.transition=n,ue=t,(ue&6)===0&&Xr()}}function sp(){Lt=Vs.current,xe(Vs)}function Mo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,z3(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(jh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gl();break;case 3:ei(),xe(St),xe(at),Kh();break;case 5:Fh(r);break;case 4:ei();break;case 13:xe(be);break;case 19:xe(be);break;case 10:Vh(r.type._context);break;case 22:case 23:sp()}n=n.return}if(Ke=e,Re=e=Fr(e.current,null),Je=Lt=t,je=0,Ta=null,np=Dl=$o=0,Bt=da=null,Lo!==null){for(t=0;t<Lo.length;t++)if(n=Lo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Lo=null}return e}function g1(e,t){do{var n=Re;try{if(Hh(),tl.current=Bl,El){for(var r=_e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}El=!1}if(Do=0,Fe=ze=_e=null,la=!1,Ca=0,tp.current=null,n===null||n.return===null){je=1,Ta=t,Re=null;break}e:{var s=e,i=n.return,a=n,c=t;if(t=Je,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if((u.mode&1)===0&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=fy(i);if(h!==null){h.flags&=-257,hy(h,i,a,s,t),h.mode&1&&dy(s,l,t),t=h,c=l;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if((t&1)===0){dy(s,l,t),ip();break e}c=Error(M(426))}}else if(ke&&a.mode&1){var y=fy(i);if(y!==null){(y.flags&65536)===0&&(y.flags|=256),hy(y,i,a,s,t),Dh(ti(c,a));break e}}s=c=ti(c,a),je!==4&&(je=2),da===null?da=[s]:da.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Jw(s,c,t);sy(s,p);break e;case 1:a=c;var m=s.type,v=s.stateNode;if((s.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zr===null||!Zr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=e1(s,a,t);sy(s,x);break e}}s=s.return}while(s!==null)}v1(n)}catch(E){t=E,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function y1(){var e=Cl.current;return Cl.current=Bl,e===null?Bl:e}function ip(){(je===0||je===3||je===2)&&(je=4),Ke===null||($o&268435455)===0&&(Dl&268435455)===0||Ur(Ke,Je)}function Tl(e,t){var n=ue;ue|=2;var r=y1();(Ke!==e||Je!==t)&&(er=null,Mo(e,t));do try{lE();break}catch(o){g1(e,o)}while(!0);if(Hh(),ue=n,Cl.current=r,Re!==null)throw Error(M(261));return Ke=null,Je=0,je}function lE(){for(;Re!==null;)w1(Re)}function uE(){for(;Re!==null&&!U_();)w1(Re)}function w1(e){var t=k1(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?v1(e):Re=t,tp.current=null}function v1(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=nE(n,t,Lt),n!==null){Re=n;return}}else{if(n=rE(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Re=null;return}}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);je===0&&(je=5)}function Io(e,t,n){var r=he,o=Yt.transition;try{Yt.transition=null,he=1,dE(e,t,n,r)}finally{Yt.transition=o,he=r}return null}function dE(e,t,n,r){do Gs();while(jr!==null);if((ue&6)!==0)throw Error(M(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(F_(e,s),e===Ke&&(Re=Ke=null,Je=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Qc||(Qc=!0,b1(ul,function(){return Gs(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Yt.transition,Yt.transition=null;var i=he;he=1;var a=ue;ue|=4,tp.current=null,sE(e,n),h1(n,e),O3(Xf),fl=!!Yf,Xf=Yf=null,e.current=n,iE(n,e,o),z_(),ue=a,he=i,Yt.transition=s}else e.current=n;if(Qc&&(Qc=!1,jr=e,Pl=o),s=e.pendingLanes,s===0&&(Zr=null),$_(n.stateNode,r),Tt(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Sl)throw Sl=!1,e=wh,wh=null,e;return(Pl&1)!==0&&e.tag!==0&&Gs(),s=e.pendingLanes,(s&1)!==0?e===vh?fa++:(fa=0,vh=e):fa=0,Xr(),null}function Gs(){if(jr!==null){var e=Jy(Pl),t=Yt.transition,n=he;try{if(Yt.transition=null,he=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,Pl=0,(ue&6)!==0)throw Error(M(331));var o=ue;for(ue|=4,H=e.current;H!==null;){var s=H,i=s.child;if((H.flags&16)!==0){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(H=l;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:ua(8,u,s)}var d=u.child;if(d!==null)d.return=u,H=d;else for(;H!==null;){u=H;var f=u.sibling,h=u.return;if(u1(u),u===l){H=null;break}if(f!==null){f.return=h,H=f;break}H=h}}}var w=s.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}H=s}}if((s.subtreeFlags&2064)!==0&&i!==null)i.return=s,H=i;else e:for(;H!==null;){if(s=H,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:ua(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,H=p;break e}H=s.return}}var m=e.current;for(H=m;H!==null;){i=H;var v=i.child;if((i.subtreeFlags&2064)!==0&&v!==null)v.return=i,H=v;else e:for(i=m;H!==null;){if(a=H,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:jl(9,a)}}catch(E){Se(a,a.return,E)}if(a===i){H=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,H=x;break e}H=a.return}}if(ue=o,Xr(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Al,e)}catch(E){}r=!0}return r}finally{he=n,Yt.transition=t}}return!1}function Cy(e,t,n){t=ti(n,t),t=Jw(e,t,1),e=qr(e,t,1),t=yt(),e!==null&&(Na(e,1,t),Tt(e,t))}function Se(e,t,n){if(e.tag===3)Cy(e,e,n);else for(;t!==null;){if(t.tag===3){Cy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){e=ti(n,e),e=e1(t,e,1),t=qr(t,e,1),e=yt(),t!==null&&(Na(t,1,e),Tt(t,e));break}}t=t.return}}function fE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Je&n)===n&&(je===4||je===3&&(Je&130023424)===Je&&500>Oe()-rp?Mo(e,0):np|=n),Tt(e,t)}function x1(e,t){t===0&&((e.mode&1)===0?t=1:(t=Mc,Mc<<=1,(Mc&130023424)===0&&(Mc=4194304)));var n=yt();e=ar(e,t),e!==null&&(Na(e,t,n),Tt(e,n))}function hE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x1(e,n)}function pE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),x1(e,n)}var k1;k1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Ct=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ct=!1,tE(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,ke&&(t.flags&1048576)!==0&&Bw(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rl(e,t),e=t.pendingProps;var o=Ys(t,at.current);Ks(t,n),o=Qh(null,t,r,e,o,n);var s=Yh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(r)?(s=!0,yl(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Zh(t),o.updater=zl,t.stateNode=o,o._reactInternals=t,ah(t,r,e,n),t=uh(null,t,r,!0,s,n)):(t.tag=0,ke&&s&&zh(t),gt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=gE(r),e=hn(r,e),o){case 0:t=lh(null,t,r,e,n);break e;case 1:t=gy(null,t,r,e,n);break e;case 11:t=py(null,t,r,e,n);break e;case 14:t=my(null,t,r,hn(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:hn(r,o),lh(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:hn(r,o),gy(e,t,r,o,n);case 3:e:{if(o1(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Aw(e,t),bl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ti(Error(M(423)),t),t=yy(e,t,r,n,o);break e}else if(r!==o){o=ti(Error(M(424)),t),t=yy(e,t,r,n,o);break e}else for(Rt=Vr(t.stateNode.containerInfo.firstChild),Mt=t,ke=!0,mn=null,n=Tw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),r===o){t=cr(e,t,n);break e}gt(e,t,r,n)}t=t.child}return t;case 5:return Iw(t),e===null&&oh(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Jf(r,o)?i=null:s!==null&&Jf(r,s)&&(t.flags|=32),r1(e,t),gt(e,t,i,n),t.child;case 6:return e===null&&oh(t),null;case 13:return s1(e,t,n);case 4:return Wh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Js(t,null,r,n):gt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:hn(r,o),py(e,t,r,o,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,we(xl,r._currentValue),r._currentValue=i,s!==null)if(wn(s.value,i)){if(s.children===o.children&&!St.current){t=cr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=or(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),sh(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(M(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),sh(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}gt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ks(t,n),o=Xt(o),r=r(o),t.flags|=1,gt(e,t,r,n),t.child;case 14:return r=t.type,o=hn(r,t.pendingProps),o=hn(r.type,o),my(e,t,r,o,n);case 15:return t1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:hn(r,o),rl(e,t),t.tag=1,Pt(r)?(e=!0,yl(t)):e=!1,Ks(t,n),Xw(t,r,o),ah(t,r,o,n),uh(null,t,r,!0,e,n);case 19:return i1(e,t,n);case 22:return n1(e,t,n)}throw Error(M(156,t.tag))};function b1(e,t){return Gy(e,t)}function mE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,n,r){return new mE(e,t,n,r)}function ap(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gE(e){if(typeof e=="function")return ap(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ch)return 11;if(e===Sh)return 14}return 2}function Fr(e,t){var n=e.alternate;return n===null?(n=Qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function il(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")ap(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Os:return Uo(n.children,o,s,t);case Bh:i=8,o|=8;break;case Af:return e=Qt(12,n,t,o|2),e.elementType=Af,e.lanes=s,e;case If:return e=Qt(13,n,t,o),e.elementType=If,e.lanes=s,e;case Of:return e=Qt(19,n,t,o),e.elementType=Of,e.lanes=s,e;case Iy:return $l(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ny:i=10;break e;case Ay:i=9;break e;case Ch:i=11;break e;case Sh:i=14;break e;case Lr:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Qt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Uo(e,t,n,r){return e=Qt(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=Qt(22,e,r,t),e.elementType=Iy,e.lanes=n,e.stateNode={isHidden:!1},e}function Pf(e,t,n){return e=Qt(6,e,null,t),e.lanes=n,e}function Tf(e,t,n){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yE(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ff(0),this.expirationTimes=ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function cp(e,t,n,r,o,s,i,a,c){return e=new yE(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Qt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(s),e}function wE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _1(e){if(!e)return Gr;e=e._reactInternals;e:{if(qo(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Pt(n))return _w(e,n,t)}return t}function E1(e,t,n,r,o,s,i,a,c){return e=cp(n,r,!0,e,o,s,i,a,c),e.context=_1(null),n=e.current,r=yt(),o=Wr(n),s=or(r,o),s.callback=t!=null?t:null,qr(n,s,o),e.current.lanes=o,Na(e,o,r),Tt(e,r),e}function Hl(e,t,n,r){var o=t.current,s=yt(),i=Wr(o);return n=_1(n),t.context===null?t.context=n:t.pendingContext=n,t=or(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qr(o,t,i),e!==null&&(yn(e,o,i,s),el(e,o,i)),i}function Nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lp(e,t){Sy(e,t),(e=e.alternate)&&Sy(e,t)}function vE(){return null}var B1=typeof reportError=="function"?reportError:function(e){console.error(e)};function up(e){this._internalRoot=e}Vl.prototype.render=up.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Hl(e,t,null,null)};Vl.prototype.unmount=up.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ho(function(){Hl(null,e,null,null)}),t[ir]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=nw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mr.length&&t!==0&&t<Mr[n].priority;n++);Mr.splice(n,0,e),n===0&&ow(e)}};function dp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Py(){}function xE(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var l=Nl(i);s.call(l)}}var i=E1(t,r,e,0,null,!1,!1,"",Py);return e._reactRootContainer=i,e[ir]=i.current,ka(e.nodeType===8?e.parentNode:e),Ho(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var l=Nl(c);a.call(l)}}var c=cp(e,0,!1,null,null,!1,!1,"",Py);return e._reactRootContainer=c,e[ir]=c.current,ka(e.nodeType===8?e.parentNode:e),Ho(function(){Hl(t,c,n,r)}),c}function Zl(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var c=Nl(i);a.call(c)}}Hl(t,i,e,o)}else i=xE(n,t,e,o,r);return Nl(i)}ew=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=na(t.pendingLanes);n!==0&&(Nh(t,n|1),Tt(t,Oe()),(ue&6)===0&&(ni=Oe()+500,Xr()))}break;case 13:Ho(function(){var r=ar(e,1);if(r!==null){var o=yt();yn(r,e,1,o)}}),lp(e,1)}};Ah=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var n=yt();yn(t,e,134217728,n)}lp(e,134217728)}};tw=function(e){if(e.tag===13){var t=Wr(e),n=ar(e,t);if(n!==null){var r=yt();yn(n,e,t,r)}lp(e,t)}};nw=function(){return he};rw=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};Vf=function(e,t,n){switch(t){case"input":if(Mf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Rl(r);if(!o)throw Error(M(90));Ly(r),Mf(r,o)}}}break;case"textarea":My(e,n);break;case"select":t=n.value,t!=null&&qs(e,!!n.multiple,t,!1)}};Vy=op;qy=Ho;var kE={usingClientEntryPoint:!1,Events:[Ia,Us,Rl,$y,Hy,op]},Xi={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bE={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fy(e),e===null?null:e.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||vE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Ji.isDisabled&&Ji.supportsFiber))try{Al=Ji.inject(bE),Mn=Ji}catch(e){}var Ji;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kE;jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dp(t))throw Error(M(200));return wE(e,t,null,n)};jt.createRoot=function(e,t){if(!dp(e))throw Error(M(299));var n=!1,r="",o=B1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=cp(e,1,!1,null,null,n,!1,r,o),e[ir]=t.current,ka(e.nodeType===8?e.parentNode:e),new up(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Fy(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return Ho(e)};jt.hydrate=function(e,t,n){if(!ql(t))throw Error(M(200));return Zl(null,e,t,!0,n)};jt.hydrateRoot=function(e,t,n){if(!dp(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=B1;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=E1(t,null,e,1,n!=null?n:null,o,!1,s,i),e[ir]=t.current,ka(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Vl(t)};jt.render=function(e,t,n){if(!ql(t))throw Error(M(200));return Zl(null,e,t,!1,n)};jt.unmountComponentAtNode=function(e){if(!ql(e))throw Error(M(40));return e._reactRootContainer?(Ho(function(){Zl(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};jt.unstable_batchedUpdates=op;jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ql(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Zl(e,t,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426"});var T1=Jn((cN,P1)=>{"use strict";function S1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S1)}catch(e){console.error(e)}}S1(),P1.exports=C1()});var A1=Jn(fp=>{"use strict";var N1=T1();fp.createRoot=N1.createRoot,fp.hydrateRoot=N1.hydrateRoot;var lN});var gb=Jn(Dd=>{"use strict";var IT=Et(),OT=Symbol.for("react.element"),LT=Symbol.for("react.fragment"),RT=Object.prototype.hasOwnProperty,MT=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UT={key:!0,ref:!0,__self:!0,__source:!0};function mb(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)RT.call(t,r)&&!UT.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:OT,type:e,key:s,ref:i,props:o,_owner:MT.current}}Dd.Fragment=LT;Dd.jsx=mb;Dd.jsxs=mb});var ae=Jn((XU,yb)=>{"use strict";yb.exports=gb()});var Ab={};Ar(Ab,{createWorker:()=>qT});var qT,Ib=o_(()=>{qT=()=>new Worker(URL.createObjectURL(new Blob(['class x{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}static createEmpty(a,b){return new x(new Uint8ClampedArray(a*b),a)}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}setRegion(a,b,c,d,e){for(let f=b;f<b+d;f++)for(let g=a;g<a+c;g++)this.set(g,f,!!e)}}\nclass A{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,b){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}\nclass ba{constructor(a){this.bitOffset=this.byteOffset=0;this.bytes=a}readBits(a){if(1>a||32<a||a>this.available())throw Error("Cannot read "+a.toString()+" bits");var b=0;if(0<this.bitOffset){b=8-this.bitOffset;var c=a<b?a:b;b-=c;b=(this.bytes[this.byteOffset]&255>>8-c<<b)>>b;a-=c;this.bitOffset+=c;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<a){for(;8<=a;)b=b<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,a-=8;0<a&&(c=8-a,b=b<<a|(this.bytes[this.byteOffset]&255>>c<<c)>>c,\nthis.bitOffset+=a)}return b}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var B,C=B||(B={});C.Numeric="numeric";C.Alphanumeric="alphanumeric";C.Byte="byte";C.Kanji="kanji";C.ECI="eci";C.StructuredAppend="structuredappend";var D,E=D||(D={});E[E.Terminator=0]="Terminator";E[E.Numeric=1]="Numeric";E[E.Alphanumeric=2]="Alphanumeric";E[E.Byte=4]="Byte";E[E.Kanji=8]="Kanji";E[E.ECI=7]="ECI";E[E.StructuredAppend=3]="StructuredAppend";let F="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");\nfunction ca(a,b){let c=[],d="";b=a.readBits([8,16,16][b]);for(let e=0;e<b;e++){let f=a.readBits(8);c.push(f)}try{d+=decodeURIComponent(c.map(e=>`%${("0"+e.toString(16)).substr(-2)}`).join(""))}catch(e){}return{bytes:c,text:d}}\nfunction da(a,b){a=new ba(a);let c=9>=b?0:26>=b?1:2;for(b={text:"",bytes:[],chunks:[],version:b};4<=a.available();){var d=a.readBits(4);if(d===D.Terminator)return b;if(d===D.ECI)0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(7)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(14)}):0===a.readBits(1)?b.chunks.push({type:B.ECI,assignmentNumber:a.readBits(21)}):b.chunks.push({type:B.ECI,assignmentNumber:-1});else if(d===D.Numeric){var e=a,f=[];d="";for(var g=\ne.readBits([10,12,14][c]);3<=g;){var h=e.readBits(10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),m=Math.floor(h/10)%10;h%=10;f.push(48+k,48+m,48+h);d+=k.toString()+m.toString()+h.toString();g-=3}if(2===g){g=e.readBits(7);if(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;f.push(48+e,48+g);d+=e.toString()+g.toString()}else if(1===g){e=e.readBits(4);if(10<=e)throw Error("Invalid numeric value above 9");f.push(48+e);d+=e.toString()}b.text+=\nd;b.bytes.push(...f);b.chunks.push({type:B.Numeric,text:d})}else if(d===D.Alphanumeric){e=a;f=[];d="";for(g=e.readBits([9,11,13][c]);2<=g;)m=e.readBits(11),k=Math.floor(m/45),m%=45,f.push(F[k].charCodeAt(0),F[m].charCodeAt(0)),d+=F[k]+F[m],g-=2;1===g&&(e=e.readBits(6),f.push(F[e].charCodeAt(0)),d+=F[e]);b.text+=d;b.bytes.push(...f);b.chunks.push({type:B.Alphanumeric,text:d})}else if(d===D.Byte)d=ca(a,c),b.text+=d.text,b.bytes.push(...d.bytes),b.chunks.push({type:B.Byte,bytes:d.bytes,text:d.text});\nelse if(d===D.Kanji){f=a;d=[];e=f.readBits([8,10,12][c]);for(g=0;g<e;g++)k=f.readBits(13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));b.text+=f;b.bytes.push(...d);b.chunks.push({type:B.Kanji,bytes:d,text:f})}else d===D.StructuredAppend&&b.chunks.push({type:B.StructuredAppend,currentSequence:a.readBits(4),totalSequence:a.readBits(4),parity:a.readBits(8)})}if(0===a.available()||0===a.readBits(a.available()))return b}\nclass G{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.field=a;let c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(c-d),a=0;a<this.coefficients.length;a++)this.coefficients[a]=b[d+a]}else this.coefficients=b}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}addOrSubtract(a){if(this.isZero())return a;\nif(a.isZero())return this;let b=this.coefficients;a=a.coefficients;b.length>a.length&&([b,a]=[a,b]);let c=new Uint8ClampedArray(a.length),d=a.length-b.length;for(var e=0;e<d;e++)c[e]=a[e];for(e=d;e<a.length;e++)c[e]=b[e-d]^a[e];return new G(this.field,c)}multiply(a){if(0===a)return this.field.zero;if(1===a)return this;let b=this.coefficients.length,c=new Uint8ClampedArray(b);for(let d=0;d<b;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new G(this.field,c)}multiplyPoly(a){if(this.isZero()||\na.isZero())return this.field.zero;let b=this.coefficients,c=b.length;a=a.coefficients;let d=a.length,e=new Uint8ClampedArray(c+d-1);for(let f=0;f<c;f++){let g=b[f];for(let h=0;h<d;h++)e[f+h]=H(e[f+h],this.field.multiply(g,a[h]))}return new G(this.field,e)}multiplyByMonomial(a,b){if(0>a)throw Error("Invalid degree less than 0");if(0===b)return this.field.zero;let c=this.coefficients.length;a=new Uint8ClampedArray(c+a);for(let d=0;d<c;d++)a[d]=this.field.multiply(this.coefficients[d],b);return new G(this.field,\na)}evaluateAt(a){let b=0;if(0===a)return this.getCoefficient(0);let c=this.coefficients.length;if(1===a)return this.coefficients.forEach(d=>{b^=d}),b;b=this.coefficients[0];for(let d=1;d<c;d++)b=H(this.field.multiply(a,b),this.coefficients[d]);return b}}function H(a,b){return a^b}\nclass ea{constructor(a,b,c){this.primitive=a;this.size=b;this.generatorBase=c;this.expTable=Array(this.size);this.logTable=Array(this.size);a=1;for(b=0;b<this.size;b++)this.expTable[b]=a,a*=2,a>=this.size&&(a=(a^this.primitive)&this.size-1);for(a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new G(this,Uint8ClampedArray.from([0]));this.one=new G(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]}inverse(a){if(0===\na)throw Error("Can\'t invert 0");return this.expTable[this.size-this.logTable[a]-1]}buildMonomial(a,b){if(0>a)throw Error("Invalid monomial degree less than 0");if(0===b)return this.zero;a=new Uint8ClampedArray(a+1);a[0]=b;return new G(this,a)}log(a){if(0===a)throw Error("Can\'t take log(0)");return this.logTable[a]}exp(a){return this.expTable[a]}}\nfunction fa(a,b,c,d){b.degree()<c.degree()&&([b,c]=[c,b]);let e=a.zero;for(var f=a.one;c.degree()>=d/2;){var g=b;let h=e;b=c;e=f;if(b.isZero())return null;c=g;f=a.zero;g=b.getCoefficient(b.degree());for(g=a.inverse(g);c.degree()>=b.degree()&&!c.isZero();){let k=c.degree()-b.degree(),m=a.multiply(c.getCoefficient(c.degree()),g);f=f.addOrSubtract(a.buildMonomial(k,m));c=c.addOrSubtract(b.multiplyByMonomial(k,m))}f=f.multiplyPoly(e).addOrSubtract(h);if(c.degree()>=b.degree())return null}d=f.getCoefficient(0);\nif(0===d)return null;a=a.inverse(d);return[f.multiply(a),c.multiply(a)]}\nfunction ha(a,b){let c=new Uint8ClampedArray(a.length);c.set(a);a=new ea(285,256,0);var d=new G(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=d.evaluateAt(a.exp(g+a.generatorBase));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new G(a,e);d=fa(a,a.buildMonomial(b,1),d,b);if(null===d)return null;b=d[0];g=b.degree();if(1===g)b=[b.getCoefficient(1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===b.evaluateAt(h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;e=d[1];\nf=b.length;d=Array(f);for(g=0;g<f;g++){h=a.inverse(b[g]);let k=1;for(let m=0;m<f;m++)g!==m&&(k=a.multiply(k,H(1,a.multiply(b[m],h))));d[g]=a.multiply(e.evaluateAt(h),a.inverse(k));0!==a.generatorBase&&(d[g]=a.multiply(d[g],h))}for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}\nlet I=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},\n{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,\n34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},\n{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},\n{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},\n{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,\necBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,\n74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,\nversionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,\ndataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,\ndataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},\n{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},\n{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},\n{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},\n{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},\n{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,\ndataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},\n{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,\n26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},\n{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},\n{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,\ndataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,\ndataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,\ndataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],\nerrorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,\nversionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},\n{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function J(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function K(a,b){return b<<1|a}\nlet ia=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,\ndataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,\nformatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,\ndataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],ja=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%\n2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2];\nfunction ka(a,b,c){c=ja[c.dataMask];let d=a.height;var e=17+4*b.versionNumber;let f=x.createEmpty(e,e);f.setRegion(0,0,9,9,!0);f.setRegion(e-8,0,8,9,!0);f.setRegion(0,e-8,9,8,!0);for(var g of b.alignmentPatternCenters)for(var h of b.alignmentPatternCenters)6===g&&6===h||6===g&&h===e-7||g===e-7&&6===h||f.setRegion(g-2,h-2,5,5,!0);f.setRegion(6,9,1,e-17,!0);f.setRegion(9,6,e-17,1,!0);6<b.versionNumber&&(f.setRegion(e-11,0,3,6,!0),f.setRegion(0,e-11,6,3,!0));b=[];h=g=0;e=!0;for(let k=d-1;0<k;k-=2){6===\nk&&k--;for(let m=0;m<d;m++){let l=e?d-1-m:m;for(let n=0;2>n;n++){let q=k-n;if(!f.get(q,l)){h++;let r=a.get(q,l);c({y:l,x:q})&&(r=!r);g=g<<1|r;8===h&&(b.push(g),g=h=0)}}}e=!e}return b}\nfunction la(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return I[c-1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=K(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let g=b-9;g>=b-11;g--)d=K(a.get(e,g),d);a=Infinity;let f;for(let g of I){if(g.infoBits===c||g.infoBits===d)return g;b=J(c,g.infoBits);b<a&&(f=g,a=b);b=J(d,g.infoBits);b<a&&(f=g,a=b)}if(3>=a)return f}\nfunction ma(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=K(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=K(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=K(a.get(8,e),c);for(e=d-8;e<d;e++)c=K(a.get(e,8),c);a=Infinity;d=null;for(let {bits:f,formatInfo:g}of ia){if(f===b||f===c)return g;e=J(b,f);e<a&&(d=g,a=e);b!==c&&(e=J(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}\nfunction na(a,b,c){let d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(h=>{for(let k=0;k<h.numBlocks;k++)e.push({numDataCodewords:h.dataCodewordsPerBlock,codewords:[]}),f+=h.dataCodewordsPerBlock+d.ecCodewordsPerBlock});if(a.length<f)return null;a=a.slice(0,f);b=d.ecBlocks[0].dataCodewordsPerBlock;for(c=0;c<b;c++)for(var g of e)g.codewords.push(a.shift());if(1<d.ecBlocks.length)for(g=d.ecBlocks[0].numBlocks,b=d.ecBlocks[1].numBlocks,c=0;c<b;c++)e[g+c].codewords.push(a.shift());for(;0<a.length;)for(let h of e)h.codewords.push(a.shift());\nreturn e}function L(a){let b=la(a);if(!b)return null;var c=ma(a);if(!c)return null;a=ka(a,b,c);var d=na(a,b,c.errorCorrectionLevel);if(!d)return null;c=d.reduce((e,f)=>e+f.numDataCodewords,0);c=new Uint8ClampedArray(c);a=0;for(let e of d){d=ha(e.codewords,e.codewords.length-e.numDataCodewords);if(!d)return null;for(let f=0;f<e.numDataCodewords;f++)c[a++]=d[f]}try{return da(c,b.versionNumber)}catch(e){return null}}\nfunction M(a,b,c,d){var e=a.x-b.x+c.x-d.x;let f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};let g=b.x-c.x;var h=d.x-c.x;let k=b.y-c.y,m=d.y-c.y;c=g*m-h*k;h=(e*m-h*f)/c;e=(g*f-e*k)/c;return{a11:b.x-a.x+h*b.x,a12:b.y-a.y+h*b.y,a13:h,a21:d.x-a.x+e*d.x,a22:d.y-a.y+e*d.y,a23:e,a31:a.x,a32:a.y,a33:1}}\nfunction oa(a,b,c,d){a=M(a,b,c,d);return{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}\nfunction pa(a,b){var c=oa({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=M(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=d.a11*c.a11+d.a21*c.a12+d.a31*c.a13,f=d.a12*c.a11+d.a22*c.a12+d.a32*c.a13,g=d.a13*c.a11+d.a23*c.a12+d.a33*c.a13,h=d.a11*c.a21+d.a21*c.a22+d.a31*c.a23,k=d.a12*c.a21+d.a22*c.a22+d.a32*c.a23,m=d.a13*c.a21+d.a23*c.a22+d.a33*c.a23,l=d.a11*c.a31+d.a21*c.a32+d.a31*c.a33,n=d.a12*c.a31+d.a22*c.a32+d.a32*c.a33,q=d.a13*\nc.a31+d.a23*c.a32+d.a33*c.a33;c=x.createEmpty(b.dimension,b.dimension);d=(r,u)=>{const p=g*r+m*u+q;return{x:(e*r+h*u+l)/p,y:(f*r+k*u+n)/p}};for(let r=0;r<b.dimension;r++)for(let u=0;u<b.dimension;u++){let p=d(u+.5,r+.5);c.set(u,r,a.get(Math.floor(p.x),Math.floor(p.y)))}return{matrix:c,mappingFunction:d}}let N=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2));function O(a){return a.reduce((b,c)=>b+c)}\nfunction qa(a,b,c){let d=N(a,b),e=N(b,c),f=N(a,c),g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{bottomLeft:g,topLeft:h,topRight:k}}\nfunction ra(a,b,c,d){d=(O(P(a,c,d,5))/7+O(P(a,b,d,5))/7+O(P(c,a,d,5))/7+O(P(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");b=Math.round(N(a,b)/d);a=Math.round(N(a,c)/d);a=Math.floor((b+a)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:d}}\nfunction Q(a,b,c,d){let e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);let k=Math.abs(a-g),m=Math.abs(b-h),l=Math.floor(-k/2),n=g<a?1:-1,q=h<b?1:-1,r=!0;for(let u=g,p=h;u!==a+n;u+=n){g=f?p:u;h=f?u:p;if(c.get(g,h)!==r&&(r=!r,e.push({x:g,y:h}),e.length===d+1))break;l+=m;if(0<l){if(p===b)break;p+=q;l-=k}}c=\n[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(N(e[f],e[f+1])):c.push(0);return c}function P(a,b,c,d){let e=b.y-a.y,f=b.x-a.x;b=Q(a,b,c,Math.ceil(d/2));a=Q(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function R(a,b){let c=O(a)/O(b),d=0;b.forEach((e,f)=>{d+=Math.pow(a[f]-e*c,2)});return{averageSize:c,error:d}}\nfunction S(a,b,c){try{let d=P(a,{x:-1,y:a.y},c,b.length),e=P(a,{x:a.x,y:-1},c,b.length),f=P(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=P(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=R(d,b),k=R(e,b),m=R(f,b),l=R(g,b),n=(h.averageSize+k.averageSize+m.averageSize+l.averageSize)/4;return Math.sqrt(h.error*h.error+k.error*k.error+m.error*m.error+l.error*l.error)+(Math.pow(h.averageSize-n,2)+Math.pow(k.averageSize-n,2)+Math.pow(m.averageSize-n,2)+\nMath.pow(l.averageSize-n,2))/n}catch(d){return Infinity}}function T(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}\nfunction sa(a){var b=[],c=[];let d=[];var e=[];for(let p=0;p<=a.height;p++){var f=0,g=!1;let t=[0,0,0,0,0];for(let v=-1;v<=a.width;v++){var h=a.get(v,p);if(h===g)f++;else{t=[t[1],t[2],t[3],t[4],f];f=1;g=h;var k=O(t)/7;k=Math.abs(t[0]-k)<k&&Math.abs(t[1]-k)<k&&Math.abs(t[2]-3*k)<3*k&&Math.abs(t[3]-k)<k&&Math.abs(t[4]-k)<k&&!h;var m=O(t.slice(-3))/3;h=Math.abs(t[2]-m)<m&&Math.abs(t[3]-m)<m&&Math.abs(t[4]-m)<m&&h;if(k){let z=v-t[3]-t[4],y=z-t[2];k={startX:y,endX:z,y:p};m=c.filter(w=>y>=w.bottom.startX&&\ny<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<m.length?m[0].bottom=k:c.push({top:k,bottom:k})}if(h){let z=v-t[4],y=z-t[3];h={startX:y,y:p,endX:z};k=e.filter(w=>y>=w.bottom.startX&&y<=w.bottom.endX||z>=w.bottom.startX&&y<=w.bottom.endX||y<=w.bottom.startX&&z>=w.bottom.endX&&1.5>t[2]/(w.bottom.endX-w.bottom.startX)&&.5<t[2]/(w.bottom.endX-w.bottom.startX));0<k.length?\nk[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(v=>v.bottom.y!==p&&2<=v.bottom.y-v.top.y));c=c.filter(v=>v.bottom.y===p);d.push(...e.filter(v=>v.bottom.y!==p));e=e.filter(v=>v.bottom.y===p)}b.push(...c.filter(p=>2<=p.bottom.y-p.top.y));d.push(...e);c=[];for(var l of b)2>l.bottom.y-l.top.y||(b=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4,e=(l.top.y+l.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[l.top.endX-l.top.startX,l.bottom.endX-l.bottom.startX,l.bottom.y-l.top.y+\n1],f=O(f)/f.length,g=S({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({score:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((p,t)=>p.score-t.score);l=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var n of c)n!==e&&f.push(Object.assign(Object.assign({},n),{score:n.score+Math.pow(n.size-e.size,2)/e.size}));f.sort((p,t)=>p.score-t.score);l.push({points:[e,f[0],f[1]],score:e.score+f[0].score+f[1].score})}l.sort((p,t)=>p.score-t.score);let {topRight:q,topLeft:r,bottomLeft:u}=qa(...l[0].points);\nl=U(a,d,q,r,u);n=[];l&&n.push({alignmentPattern:{x:l.alignmentPattern.x,y:l.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:l.dimension,topLeft:{x:r.x,y:r.y},topRight:{x:q.x,y:q.y}});l=T(a,q);b=T(a,r);c=T(a,u);(a=U(a,d,l,b,c))&&n.push({alignmentPattern:{x:a.alignmentPattern.x,y:a.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:b.x,y:b.y},topRight:{x:l.x,y:l.y},dimension:a.dimension});return 0===n.length?null:n}\nfunction U(a,b,c,d,e){let f,g;try{({dimension:f,moduleSize:g}=ra(d,c,e,a))}catch(l){return null}var h=c.x-d.x+e.x,k=c.y-d.y+e.y;c=(N(d,e)+N(d,c))/2/g;e=1-3/c;let m={x:d.x+e*(h-d.x),y:d.y+e*(k-d.y)};b=b.map(l=>{const n=(l.top.startX+l.top.endX+l.bottom.startX+l.bottom.endX)/4;l=(l.top.y+l.bottom.y+1)/2;if(a.get(Math.floor(n),Math.floor(l))){var q=S({x:Math.floor(n),y:Math.floor(l)},[1,1,1],a)+N({x:n,y:l},m);return{x:n,y:l,score:q}}}).filter(l=>!!l).sort((l,n)=>l.score-n.score);return{alignmentPattern:15<=\nc&&b.length?b[0]:m,dimension:f}}\nfunction V(a){var b=sa(a);if(!b)return null;for(let e of b){b=pa(a,e);var c=b.matrix;if(null==c)c=null;else{var d=L(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let f=d+1;f<c.height;f++)c.get(d,f)!==c.get(f,d)&&(c.set(d,f,!c.get(d,f)),c.set(f,d,!c.get(f,d)));c=L(c)}}if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:b.mappingFunction(e.dimension,0),topLeftCorner:b.mappingFunction(0,0),bottomRightCorner:b.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:b.mappingFunction(0,\ne.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern},matrix:b.matrix}}return null}let ta={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function W(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}\nfunction X(a,b,c,d={}){let e=Object.create(null);W(e,ta);W(e,d);d="onlyInvert"===e.inversionAttempts||"invertFirst"===e.inversionAttempts;var f="attemptBoth"===e.inversionAttempts||d;var g=e.greyScaleWeights,h=e.canOverwriteImage,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var m=0;if(h){var l=new Uint8ClampedArray(a.buffer,m,k);m+=k}l=new A(b,c,l);if(g.useIntegerApproximation)for(var n=0;n<c;n++)for(var q=0;q<b;q++){var r=4*(n*b+q);l.set(q,n,g.red*a[r]+g.green*a[r+1]+\ng.blue*a[r+2]+128>>8)}else for(n=0;n<c;n++)for(q=0;q<b;q++)r=4*(n*b+q),l.set(q,n,g.red*a[r]+g.green*a[r+1]+g.blue*a[r+2]);g=Math.ceil(b/8);n=Math.ceil(c/8);q=g*n;if(h){var u=new Uint8ClampedArray(a.buffer,m,q);m+=q}u=new A(g,n,u);for(q=0;q<n;q++)for(r=0;r<g;r++){var p=Infinity,t=0;for(var v=0;8>v;v++)for(let w=0;8>w;w++){let aa=l.get(8*r+w,8*q+v);p=Math.min(p,aa);t=Math.max(t,aa)}v=(p+t)/2;v=Math.min(255,1.11*v);24>=t-p&&(v=p/2,0<q&&0<r&&(t=(u.get(r,q-1)+2*u.get(r-1,q)+u.get(r-1,q-1))/4,p<t&&(v=t)));\nu.set(r,q,v)}h?(q=new Uint8ClampedArray(a.buffer,m,k),m+=k,q=new x(q,b)):q=x.createEmpty(b,c);r=null;f&&(h?(a=new Uint8ClampedArray(a.buffer,m,k),r=new x(a,b)):r=x.createEmpty(b,c));for(b=0;b<n;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=n-3;h=2>b?2:b>h?h:b;k=0;for(m=-2;2>=m;m++)for(p=-2;2>=p;p++)k+=u.get(c+m,h+p);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)m=8*a+h,p=8*b+k,t=l.get(m,p),q.set(m,p,t<=c),f&&r.set(m,p,!(t<=c))}f=f?{binarized:q,inverted:r}:{binarized:q};let {binarized:z,inverted:y}=f;(f=V(d?\ny:z))||"attemptBoth"!==e.inversionAttempts&&"invertFirst"!==e.inversionAttempts||(f=V(d?z:y));return f}X.default=X;let Y="dontInvert",Z={red:77,green:150,blue:29,useIntegerApproximation:!0};\nself.onmessage=a=>{let b=a.data.id,c=a.data.data;switch(a.data.type){case "decode":(a=X(c.data,c.width,c.height,{inversionAttempts:Y,greyScaleWeights:Z}))?self.postMessage({id:b,type:"qrResult",data:a.data,cornerPoints:[a.location.topLeftCorner,a.location.topRightCorner,a.location.bottomRightCorner,a.location.bottomLeftCorner]}):self.postMessage({id:b,type:"qrResult",data:null});break;case "grayscaleWeights":Z.red=c.red;Z.green=c.green;Z.blue=c.blue;Z.useIntegerApproximation=c.useIntegerApproximation;\nbreak;case "inversionMode":switch(c){case "original":Y="dontInvert";break;case "invert":Y="onlyInvert";break;case "both":Y="attemptBoth";break;default:throw Error("Invalid inversion mode");}break;case "close":self.close()}}\n']),{type:"application/javascript"}))});var Gb=J(Et(),1),Qb=J(A1(),1);function I1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function _E(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function si(e,...t){if(!_E(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function O1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");I1(e.outputLen),I1(e.blockLen)}function ii(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function L1(e,t){si(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}var Zo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Wl(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function vn(e,t){return e<<32-t|e>>>t}function EE(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function La(e){return typeof e=="string"&&(e=EE(e)),si(e),e}function R1(...e){let t=0;for(let r=0;r<e.length;r++){let o=e[r];si(o),t+=o.length}let n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){let s=e[r];n.set(s,o),o+=s.length}return n}var ai=class{clone(){return this._cloneInto()}};function M1(e){let t=r=>e().update(La(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ci(e=32){if(Zo&&typeof Zo.getRandomValues=="function")return Zo.getRandomValues(new Uint8Array(e));if(Zo&&typeof Zo.randomBytes=="function")return Zo.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function BE(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}function U1(e,t,n){return e&t^~e&n}function z1(e,t,n){return e&t^e&n^t&n}var Fl=class extends ai{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Wl(this.buffer)}update(t){ii(this);let{view:n,buffer:r,blockLen:o}=this;t=La(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Wl(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ii(this),L1(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;BE(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=Wl(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};var CE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eo=new Uint32Array(64),hp=class extends Fl{constructor(){super(64,32,8,!1),this.A=Jr[0]|0,this.B=Jr[1]|0,this.C=Jr[2]|0,this.D=Jr[3]|0,this.E=Jr[4]|0,this.F=Jr[5]|0,this.G=Jr[6]|0,this.H=Jr[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)eo[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){let f=eo[d-15],h=eo[d-2],w=vn(f,7)^vn(f,18)^f>>>3,g=vn(h,17)^vn(h,19)^h>>>10;eo[d]=g+eo[d-7]+w+eo[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=vn(a,6)^vn(a,11)^vn(a,25),h=u+f+U1(a,c,l)+CE[d]+eo[d]|0,g=(vn(r,2)^vn(r,13)^vn(r,22))+z1(r,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=r,r=h+g|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){eo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Dt=M1(()=>new hp);var Gl={};Ar(Gl,{is_hex:()=>mp,is_json:()=>SE,is_prefix:()=>Kl,is_safe_num:()=>gp,within_size:()=>pp});function pp(e,t){if(e.length>t)throw new TypeError("Data is larger than array size: ".concat(e.length," > ").concat(t))}function mp(e){if(e.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+e);if(e.length%2!==0)throw new Error("Length of hex string is invalid: ".concat(e.length))}function SE(e){try{JSON.parse(e)}catch(t){throw new TypeError("JSON string is invalid!")}}function gp(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}function Kl(e,t){if(e!==t)throw new TypeError("Bech32 prefix does not match: ".concat(e," !== ").concat(t))}var PE=new TextEncoder,TE=new TextDecoder;function Ra(e){return PE.encode(e)}function Ma(e){return TE.decode(e)}function NE(e,t){mp(e);let n=e.length/2;if(t===void 0&&(t=n),n>t)throw new TypeError("Hex string is larger than array size: ".concat(n," > ").concat(t));return t}function yp(e,t,n="le"){t=NE(e,t);let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(let a=0;a<e.length;a+=2){let c=e.substring(a,a+2),l=parseInt(c,16);r?s.setUint8(i++,l):s.setUint8(i--,l)}return new Uint8Array(o)}function wp(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}function za(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function V1(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function q1(e){if(typeof e!="function")throw new Error("function expected");return!0}function li(e,t){if(typeof t!="string")throw new Error("".concat(e,": string expected"));return!0}function ui(e){if(!Number.isSafeInteger(e))throw new Error("invalid integer: ".concat(e))}function Yl(e){if(!Array.isArray(e))throw new Error("array expected")}function Xl(e,t){if(!V1(!0,t))throw new Error("".concat(e,": array of strings expected"))}function kp(e,t){if(!V1(!1,t))throw new Error("".concat(e,": array of numbers expected"))}function ja(...e){let t=s=>s,n=(s,i)=>a=>s(i(a)),r=e.map(s=>s.encode).reduceRight(n,t),o=e.map(s=>s.decode).reduce(n,t);return{encode:r,decode:o}}function eu(e){let t=typeof e=="string"?e.split(""):e,n=t.length;Xl("alphabet",t);let r=new Map(t.map((o,s)=>[o,s]));return{encode:o=>(Yl(o),o.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error('alphabet.encode: digit index outside alphabet "'.concat(s,'". Allowed: ').concat(e));return t[s]})),decode:o=>(Yl(o),o.map(s=>{li("alphabet.decode",s);let i=r.get(s);if(i===void 0)throw new Error('Unknown letter: "'.concat(s,'". Allowed: ').concat(e));return i}))}}function tu(e=""){return li("join",e),{encode:t=>(Xl("join.decode",t),t.join(e)),decode:t=>(li("join.decode",t),t.split(e))}}function AE(e,t="="){return ui(e),li("padding",t),{encode(n){for(Xl("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){Xl("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function j1(e,t,n){if(t<2)throw new Error("convertRadix: invalid from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: invalid to=".concat(n,", base cannot be less than 2"));if(Yl(e),!e.length)return[];let r=0,o=[],s=Array.from(e,a=>{if(ui(a),a<0||a>=t)throw new Error("invalid integer: ".concat(a));return a}),i=s.length;for(;;){let a=0,c=!0;for(let l=r;l<i;l++){let u=s[l],d=t*a,f=d+u;if(!Number.isSafeInteger(f)||d/t!==a||f-u!==d)throw new Error("convertRadix: carry overflow");let h=f/n;a=f%n;let w=Math.floor(h);if(s[l]=w,!Number.isSafeInteger(w)||w*n+a!==f)throw new Error("convertRadix: carry overflow");if(c)w?c=!1:r=l;else continue}if(o.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)o.push(0);return o.reverse()}var Z1=(e,t)=>t===0?e:Z1(t,e%t),Jl=(e,t)=>e+(t-Z1(e,t)),Ql=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function vp(e,t,n,r){if(Yl(e),t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(Jl(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(Jl(t,n)));let o=0,s=0,i=Ql[t],a=Ql[n]-1,c=[];for(let l of e){if(ui(l),l>=i)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(o=o<<t|l,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)c.push((o>>s-n&a)>>>0);let u=Ql[s];if(u===void 0)throw new Error("invalid carry");o&=u-1}if(o=o<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&o>0)throw new Error("Non-zero padding: ".concat(o));return r&&s>0&&c.push(o>>>0),c}function IE(e){ui(e);let t=2**8;return{encode:n=>{if(!za(n))throw new Error("radix.encode input should be Uint8Array");return j1(Array.from(n),t,e)},decode:n=>(kp("radix.decode",n),Uint8Array.from(j1(n,e,t)))}}function bp(e,t=!1){if(ui(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Jl(8,e)>32||Jl(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!za(n))throw new Error("radix2.encode input should be Uint8Array");return vp(Array.from(n),8,e,!t)},decode:n=>(kp("radix2.decode",n),Uint8Array.from(vp(n,e,8,t)))}}function D1(e){return q1(e),function(...t){try{return e.apply(null,t)}catch(n){}}}function OE(e,t){return ui(e),q1(t),{encode(n){if(!za(n))throw new Error("checksum.encode: input should be Uint8Array");let r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!za(n))throw new Error("checksum.decode: input should be Uint8Array");let r=n.slice(0,-e),o=n.slice(-e),s=t(r).slice(0,e);for(let i=0;i<e;i++)if(s[i]!==o[i])throw new Error("Invalid checksum");return r}}}var _p=ja(bp(6),eu("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),AE(6),tu(""));var Ep=ja(bp(6),eu("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),tu("")),LE=e=>ja(IE(58),eu(e),tu("")),RE=LE("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var ME=e=>ja(OE(4,t=>e(e(t))),RE),Bp=ME,xp=ja(eu("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),tu("")),$1=[996825010,642813549,513874426,1027748829,705979059];function Ua(e){let t=e>>25,n=(e&33554431)<<5;for(let r=0;r<$1.length;r++)(t>>r&1)===1&&(n^=$1[r]);return n}function H1(e,t,n=1){let r=e.length,o=1;for(let s=0;s<r;s++){let i=e.charCodeAt(s);if(i<33||i>126)throw new Error("Invalid prefix (".concat(e,")"));o=Ua(o)^i>>5}o=Ua(o);for(let s=0;s<r;s++)o=Ua(o)^e.charCodeAt(s)&31;for(let s of t)o=Ua(o)^s;for(let s=0;s<6;s++)o=Ua(o);return o^=n,xp.encode(vp([o%Ql[30]],30,5,!1))}function W1(e){let t=e==="bech32"?1:734539939,n=bp(5),r=n.decode,o=n.encode,s=D1(r);function i(d,f,h=90){li("bech32.encode prefix",d),za(f)&&(f=Array.from(f)),kp("bech32.encode",f);let w=d.length;if(w===0)throw new TypeError("Invalid prefix length ".concat(w));let g=w+7+f.length;if(h!==!1&&g>h)throw new TypeError("Length ".concat(g," exceeds limit ").concat(h));let y=d.toLowerCase(),p=H1(y,f,t);return"".concat(y,"1").concat(xp.encode(f)).concat(p)}function a(d,f=90){li("bech32.decode input",d);let h=d.length;if(h<8||f!==!1&&h>f)throw new TypeError("invalid string length: ".concat(h," (").concat(d,"). Expected (8..").concat(f,")"));let w=d.toLowerCase();if(d!==w&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");let g=w.lastIndexOf("1");if(g===0||g===-1)throw new Error('Letter "1" must be present between prefix and data only');let y=w.slice(0,g),p=w.slice(g+1);if(p.length<6)throw new Error("Data must be at least 6 characters long");let m=xp.decode(p).slice(0,-6),v=H1(y,m,t);if(!p.endsWith(v))throw new Error("Invalid checksum in ".concat(d,': expected "').concat(v,'"'));return{prefix:y,words:m}}let c=D1(a);function l(d){let{prefix:f,words:h}=a(d,!1);return{prefix:f,words:h,bytes:r(h)}}function u(d,f){return i(d,o(f))}return{encode:i,decode:a,encodeFromBytes:u,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:s,toWords:o}}var Da=W1("bech32"),$a=W1("bech32m");var Cp={encode:e=>Bp(Dt).encode(e),decode:e=>Bp(Dt).decode(e)},Sp={encode:e=>_p.encode(e),decode:e=>_p.decode(e)},Pp={encode:e=>Ep.encode(e),decode:e=>Ep.decode(e)},Tp={to_words:Da.toWords,to_bytes:Da.fromWords,encode:(e,t,n=!1)=>Da.encode(e,t,n),decode:(e,t=!1)=>{let{prefix:n,words:r}=Da.decode(e,t);return{prefix:n,words:r}}},Np={to_words:$a.toWords,to_bytes:$a.fromWords,encode:(e,t,n=!1)=>$a.encode(e,t,n),decode:(e,t=!1)=>{let{prefix:n,words:r}=$a.decode(e,t);return{prefix:n,words:r}}};var zE=BigInt(0),jE=BigInt(255),F1=BigInt(256);function DE(e){if(e<=BigInt(255))return 1;if(e<=BigInt(65535))return 2;if(e<=BigInt(0xffffffff))return 4;if(e<=BigInt("0xffffffffffffffff"))return 8;if(e<=BigInt("0xffffffffffffffffffffffffffffffff"))return 16;if(e<=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"))return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function K1(e,t,n="be"){t===void 0&&(t=DE(e));let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(;e>zE;){let a=e&jE,c=Number(a);r?s.setUint8(i++,c):s.setUint8(i--,c),e=(e-a)/F1}return new Uint8Array(o)}function G1(e){let t=BigInt(0);for(let n=e.length-1;n>=0;n--)t=t*F1+BigInt(e[n]);return BigInt(t)}function Q1(e){let t=e.split("").map(Number);if(t.length%8!==0)throw new Error("Binary array is invalid length: ".concat(e.length));let n=new Uint8Array(t.length/8);for(let r=0,o=0;r<t.length;r+=8,o++){let s=0;for(let i=0;i<8;i++)s|=t[r+i]<<7-i;n[o]=s}return n}function Y1(e){let t=new Array(e.length*8),n=0;for(let r of e){if(r>255)throw new Error("Invalid byte value: ".concat(r,". Byte values must be between 0 and 255."));for(let o=7;o>=0;o--,n++)t[n]=r>>o&1}return t.join("")}function $E(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function X1(e,t,n="be"){t===void 0&&(t=$E(e));let r=n==="le",o=new ArrayBuffer(t),s=new DataView(o),i=r?0:t-1;for(;e>0;){let a=e&255;r?s.setUint8(i++,e):s.setUint8(i--,e),e=(e-a)/256}return new Uint8Array(o)}function J1(e){let t=0;for(let n=e.length-1;n>=0;n--)t=t*256+e[n],gp(t);return t}var Va={};Ar(Va,{bigint_replacer:()=>Op,bigint_reviver:()=>Lp,is_bytes:()=>Ap,is_hex:()=>nu,join_array:()=>Ha,parse_data:()=>Rp,set_buffer:()=>Ip});function nu(e){return e.match(/[^a-fA-F0-9]/)===null&&e.length%2===0}function Ap(e){return typeof e=="string"&&nu(e)||typeof e=="number"||typeof e=="bigint"||e instanceof Uint8Array?!0:!!(Array.isArray(e)&&e.every(t=>typeof t=="number"))}function Ip(e,t,n="be"){t===void 0&&(t=e.length),pp(e,t);let r=new Uint8Array(t).fill(0),o=n==="be"?0:t-e.length;return r.set(e,o),r}function Ha(e){let t,n=0,r=e.reduce((s,i)=>s+i.length,0),o=new Uint8Array(r);for(t=0;t<e.length;t++){let s=e[t];o.set(s,n),n+=s.length}return o}function Op(e,t){return typeof t=="bigint"?"".concat(t,"n"):t}function Lp(e,t){return typeof t=="string"&&/^[0-9]+n$/.test(t)?BigInt(t.slice(0,-1)):t}function Rp(e,t,n){let r=e.length,o=n/t;if(n%t!==0)throw new TypeError("Invalid parameters: ".concat(n," % ").concat(t," !== 0"));if(r!==n)throw new TypeError("Invalid data stream: ".concat(r," !== ").concat(n));if(r%t!==0)throw new TypeError("Invalid data stream: ".concat(r," % ").concat(t," !== 0"));let s=new Array(o);for(let i=0;i<o;i++){let a=i*t;s[i]=e.subarray(a,a+t)}return s}function ru(e,t,n){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Ip(e,t,n);if(Array.isArray(e)){let r=e.map(o=>ru(o,t,n));return Ha(r)}else{if(typeof e=="string")return yp(e,t,n);if(typeof e=="bigint")return K1(e,t,n);if(typeof e=="number")return X1(e,t,n);if(typeof e=="boolean")return Uint8Array.of(e?1:0)}throw new TypeError("Unsupported format:"+typeof e)}var X=class X extends Uint8Array{static random(t=32){let n=ci(t);return new X(n,t)}static now(t=4){let n=Math.floor(Date.now()/1e3);return new X(n,t)}constructor(t,n,r){if(t instanceof X&&n===void 0)return t;let o=ru(t,n,r);super(o)}get arr(){return[...this]}get num(){return this.to_num()}get big(){return this.to_big()}get str(){return this.to_str()}get hex(){return this.to_hex()}get raw(){return new Uint8Array(this)}get bin(){return this.to_bin()}get b58chk(){return this.to_b58chk()}get base64(){return this.to_base64()}get b64url(){return this.to_b64url()}get digest(){return this.to_hash()}get id(){return this.to_hash().hex}get stream(){return new Up(this)}to_num(t="be"){let n=t==="be"?this.reverse():this;return J1(n)}to_big(t="be"){let n=t==="be"?this.reverse():this;return G1(n)}to_bin(){return Y1(this)}to_hash(){let t=Dt(this);return new X(t)}to_json(t){t===void 0&&(t=Lp);let n=Ma(this);return JSON.parse(n,t)}to_bech32(t,n){let{encode:r,to_words:o}=Tp,s=o(this);return r(t,s,n)}to_bech32m(t,n){let{encode:r,to_words:o}=Np,s=o(this);return r(t,s,n)}to_str(){return Ma(this)}to_hex(){return wp(this)}to_bytes(){return new Uint8Array(this)}to_b58chk(){return Cp.encode(this)}to_base64(){return Sp.encode(this)}to_b64url(){return Pp.encode(this)}append(t){return X.join([this,X.bytes(t)])}equals(t){return Mp(t).hex===this.hex}prepend(t){return X.join([X.bytes(t),this])}reverse(){let t=new Uint8Array(this).reverse();return new X(t)}slice(t,n){let r=new Uint8Array(this).slice(t,n);return new X(r)}set(t,n){this.set(t,n)}subarray(t,n){let r=new Uint8Array(this).subarray(t,n);return new X(r)}write(t,n){let r=X.bytes(t);this.set(r,n)}add_varint(t){let n=X.calc_varint(this.length,t);return X.join([n,this])}toJSON(){return this.hex}toString(){return this.hex}static from(t){return new X(Uint8Array.from(t))}static of(...t){return new X(Uint8Array.of(...t))}static join(t){let n=t.map(o=>X.bytes(o)),r=Ha(n);return new X(r)}static sort(t,n){let r=t.map(o=>Mp(o,n).hex);return r.sort(),r.map(o=>X.hex(o,n))}static calc_varint(t,n){if(t<253)return X.num(t,1);if(t<65536)return X.of(253,...X.num(t,2,n));if(t<4294967296)return X.of(254,...X.num(t,4,n));if(BigInt(t)<BigInt(0x10000000000000000))return X.of(255,...X.num(t,8,n));throw new Error("Value is too large: ".concat(t))}};X.num=VE,X.big=ZE,X.bin=qE,X.raw=WE,X.str=FE,X.hex=KE,X.bytes=Mp,X.json=GE,X.base64=QE,X.b64url=YE,X.bech32=XE,X.bech32m=JE,X.b58chk=eB,X.encode=Ra,X.decode=Ma,X.parse=tB,X.is_bytes=Ap,X.is_hex=nu,X.is_equal=nB;var P=X;function VE(e,t,n){return new P(e,t,n)}function qE(e,t,n){return new P(Q1(e),t,n)}function ZE(e,t,n){return new P(e,t,n)}function WE(e,t,n){return new P(e,t,n)}function FE(e,t,n){return new P(Ra(e),t,n)}function KE(e,t,n){return new P(e,t,n)}function GE(e,t){t===void 0&&(t=Op);let n=JSON.stringify(e,t);return new P(Ra(n))}function QE(e){return new P(Sp.decode(e))}function YE(e){return new P(Pp.decode(e))}function XE(e,t,n){let{decode:r,to_bytes:o}=Tp,{prefix:s,words:i}=r(e,t),a=o(i);return typeof n=="string"&&Kl(s,n),new P(a)}function JE(e,t,n){let{decode:r,to_bytes:o}=Np,{prefix:s,words:i}=r(e,t),a=o(i);return typeof n=="string"&&Kl(s,n),new P(a)}function eB(e){return new P(Cp.decode(e))}function tB(e,t,n){let r=ru(e);return Rp(r,t,n).map(s=>P.bytes(s))}function nB(e,t){return new P(e).hex===new P(t).hex}function Mp(e,t,n){return new P(e,t,n)}var Up=class{constructor(t){this.data=P.bytes(t),this.size=this.data.length}peek(t){if(t>this.size)throw new Error("Size greater than stream: ".concat(t," > ").concat(this.size));return new P(this.data.slice(0,t))}read(t){let n=this.peek(t);return this.data=this.data.slice(t),this.size=this.data.length,n}read_varint(t){let n=this.read(1).num;switch(!0){case(n>=0&&n<253):return n;case n===253:return this.read(2).to_num(t);case n===254:return this.read(4).to_num(t);case n===255:return this.read(8).to_num(t);default:throw new Error("Varint is out of range: ".concat(n))}}};var ou=class extends ai{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,O1(t);let r=La(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return ii(this),this.iHash.update(t),this}digestInto(t){ii(this),si(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},zp=(e,t,n)=>new ou(e,t).update(n).digest();zp.create=(e,t)=>new ou(e,t);var qp={};Ar(qp,{aInRange:()=>zn,abool:()=>Wo,abytes:()=>en,bitGet:()=>aB,bitLen:()=>Hp,bitMask:()=>Za,bitSet:()=>cB,bytesToHex:()=>Fo,bytesToNumberBE:()=>Nt,bytesToNumberLE:()=>au,concatBytes:()=>ct,createHmacDrbg:()=>Vp,ensureBytes:()=>De,equalBytes:()=>iB,hexToBytes:()=>Go,hexToNumber:()=>$p,inRange:()=>no,isBytes:()=>to,memoized:()=>lu,notImplemented:()=>uB,numberToBytesBE:()=>xn,numberToBytesLE:()=>cu,numberToHexUnpadded:()=>Ko,numberToVarBytesBE:()=>sB,utf8ToBytes:()=>qa,validateObject:()=>jn});var su=BigInt(0),iu=BigInt(1),rB=BigInt(2);function to(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function en(e){if(!to(e))throw new Error("Uint8Array expected")}function Wo(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}var oB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fo(e){en(e);let t="";for(let n=0;n<e.length;n++)t+=oB[e[n]];return t}function Ko(e){let t=e.toString(16);return t.length&1?"0"+t:t}function $p(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?su:BigInt("0x"+e)}var ur={_0:48,_9:57,A:65,F:70,a:97,f:102};function ev(e){if(e>=ur._0&&e<=ur._9)return e-ur._0;if(e>=ur.A&&e<=ur.F)return e-(ur.A-10);if(e>=ur.a&&e<=ur.f)return e-(ur.a-10)}function Go(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){let i=ev(e.charCodeAt(s)),a=ev(e.charCodeAt(s+1));if(i===void 0||a===void 0){let c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[o]=i*16+a}return r}function Nt(e){return $p(Fo(e))}function au(e){return en(e),$p(Fo(Uint8Array.from(e).reverse()))}function xn(e,t){return Go(e.toString(16).padStart(t*2,"0"))}function cu(e,t){return xn(e,t).reverse()}function sB(e){return Go(Ko(e))}function De(e,t,n){let r;if(typeof t=="string")try{r=Go(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(to(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=r.length;if(typeof n=="number"&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return r}function ct(...e){let t=0;for(let r=0;r<e.length;r++){let o=e[r];en(o),t+=o.length}let n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){let s=e[r];n.set(s,o),o+=s.length}return n}function iB(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function qa(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}var jp=e=>typeof e=="bigint"&&su<=e;function no(e,t,n){return jp(e)&&jp(t)&&jp(n)&&t<=e&&e<n}function zn(e,t,n,r){if(!no(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Hp(e){let t;for(t=0;e>su;e>>=iu,t+=1);return t}function aB(e,t){return e>>BigInt(t)&iu}function cB(e,t,n){return e|(n?iu:su)<<BigInt(t)}var Za=e=>(rB<<BigInt(e-1))-iu,Dp=e=>new Uint8Array(e),tv=e=>Uint8Array.from(e);function Vp(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Dp(e),o=Dp(e),s=0,i=()=>{r.fill(1),o.fill(0),s=0},a=(...d)=>n(o,r,...d),c=(d=Dp())=>{o=a(tv([0]),d),r=a(),d.length!==0&&(o=a(tv([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<t;){r=a();let h=r.slice();f.push(h),d+=r.length}return ct(...f)};return(d,f)=>{i(),c(d);let h;for(;!(h=f(l()));)c();return i(),h}}var lB={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||to(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function jn(e,t,n={}){let r=(o,s,i)=>{let a=lB[s];if(typeof a!="function")throw new Error("invalid validator function");let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+c)};for(let[o,s]of Object.entries(t))r(o,s,!1);for(let[o,s]of Object.entries(n))r(o,s,!0);return e}var uB=()=>{throw new Error("not implemented")};function lu(e){let t=new WeakMap;return(n,...r)=>{let o=t.get(n);if(o!==void 0)return o;let s=e(n,...r);return t.set(n,s),s}}var $e=BigInt(0),Pe=BigInt(1),Qo=BigInt(2),dB=BigInt(3),Zp=BigInt(4),nv=BigInt(5),rv=BigInt(8),fB=BigInt(9),hB=BigInt(16);function Be(e,t){let n=e%t;return n>=$e?n:t+n}function ov(e,t,n){if(t<$e)throw new Error("invalid exponent, negatives unsupported");if(n<=$e)throw new Error("invalid modulus");if(n===Pe)return $e;let r=Pe;for(;t>$e;)t&Pe&&(r=r*e%n),e=e*e%n,t>>=Pe;return r}function $t(e,t,n){let r=e;for(;t-- >$e;)r*=r,r%=n;return r}function uu(e,t){if(e===$e)throw new Error("invert: expected non-zero number");if(t<=$e)throw new Error("invert: expected positive modulus, got "+t);let n=Be(e,t),r=t,o=$e,s=Pe,i=Pe,a=$e;for(;n!==$e;){let l=r/n,u=r%n,d=o-i*l,f=s-a*l;r=n,n=u,o=i,s=a,i=d,a=f}if(r!==Pe)throw new Error("invert: does not exist");return Be(o,t)}function pB(e){let t=(e-Pe)/Qo,n,r,o;for(n=e-Pe,r=0;n%Qo===$e;n/=Qo,r++);for(o=Qo;o<e&&ov(o,t,e)!==e-Pe;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){let i=(e+Pe)/Zp;return function(c,l){let u=c.pow(l,i);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let s=(n+Pe)/Qo;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,o),n),d=a.pow(c,s),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let g=a.sqr(f);h<l&&!a.eql(g,a.ONE);h++)g=a.sqr(g);let w=a.pow(u,Pe<<BigInt(l-h-1));u=a.sqr(w),d=a.mul(d,w),f=a.mul(f,u),l=h}return d}}function mB(e){if(e%Zp===dB){let t=(e+Pe)/Zp;return function(r,o){let s=r.pow(o,t);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%rv===nv){let t=(e-nv)/rv;return function(r,o){let s=r.mul(o,Qo),i=r.pow(s,t),a=r.mul(o,i),c=r.mul(r.mul(a,Qo),i),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),o))throw new Error("Cannot find square root");return l}}return e%hB,pB(e)}var gB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wp(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gB.reduce((r,o)=>(r[o]="function",r),t);return jn(e,n)}function yB(e,t,n){if(n<$e)throw new Error("invalid exponent, negatives unsupported");if(n===$e)return e.ONE;if(n===Pe)return t;let r=e.ONE,o=t;for(;n>$e;)n&Pe&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Pe;return r}function wB(e,t){let n=new Array(t.length),r=t.reduce((s,i,a)=>e.is0(i)?s:(n[a]=s,e.mul(s,i)),e.ONE),o=e.inv(r);return t.reduceRight((s,i,a)=>e.is0(i)?s:(n[a]=e.mul(s,n[a]),e.mul(s,i)),o),n}function Fp(e,t){let n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ro(e,t,n=!1,r={}){if(e<=$e)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Fp(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:s,MASK:Za(o),ZERO:$e,ONE:Pe,create:c=>Be(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return $e<=c&&c<e},is0:c=>c===$e,isOdd:c=>(c&Pe)===Pe,neg:c=>Be(-c,e),eql:(c,l)=>c===l,sqr:c=>Be(c*c,e),add:(c,l)=>Be(c+l,e),sub:(c,l)=>Be(c-l,e),mul:(c,l)=>Be(c*l,e),pow:(c,l)=>yB(a,c,l),div:(c,l)=>Be(c*uu(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>uu(c,e),sqrt:r.sqrt||(c=>(i||(i=mB(e)),i(a,c))),invertBatch:c=>wB(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?cu(c,s):xn(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?au(c):Nt(c)}});return Object.freeze(a)}function sv(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Kp(e){let t=sv(e);return t+Math.ceil(t/2)}function iv(e,t,n=!1){let r=e.length,o=sv(t),s=Kp(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);let i=n?au(e):Nt(e),a=Be(i,t-Pe)+Pe;return n?cu(a,o):xn(a,o)}var av=BigInt(0),du=BigInt(1);function Gp(e,t){let n=t.negate();return e?n:t}function cv(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Qp(e,t){cv(e,t);let n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function vB(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function xB(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}var Yp=new WeakMap,lv=new WeakMap;function Xp(e){return lv.get(e)||1}function uv(e,t){return{constTimeNegate:Gp,hasPrecomputes(n){return Xp(n)!==1},unsafeLadder(n,r,o=e.ZERO){let s=n;for(;r>av;)r&du&&(o=o.add(s)),s=s.double(),r>>=du;return o},precomputeWindow(n,r){let{windows:o,windowSize:s}=Qp(r,t),i=[],a=n,c=a;for(let l=0;l<o;l++){c=a,i.push(c);for(let u=1;u<s;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,o){let{windows:s,windowSize:i}=Qp(n,t),a=e.ZERO,c=e.BASE,l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<s;f++){let h=f*i,w=Number(o&l);o>>=d,w>i&&(w-=u,o+=du);let g=h,y=h+Math.abs(w)-1,p=f%2!==0,m=w<0;w===0?c=c.add(Gp(p,r[g])):a=a.add(Gp(m,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,o,s=e.ZERO){let{windows:i,windowSize:a}=Qp(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<i;d++){let f=d*a;if(o===av)break;let h=Number(o&c);if(o>>=u,h>a&&(h-=l,o+=du),h===0)continue;let w=r[f+Math.abs(h)-1];h<0&&(w=w.negate()),s=s.add(w)}return s},getPrecomputes(n,r,o){let s=Yp.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Yp.set(r,o(s))),s},wNAFCached(n,r,o){let s=Xp(n);return this.wNAF(s,this.getPrecomputes(s,n,o),r)},wNAFCachedUnsafe(n,r,o,s){let i=Xp(n);return i===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,n,o),r,s)},setWindowSize(n,r){cv(r,t),lv.set(n,r),Yp.delete(n)}}}function dv(e,t,n,r){if(vB(n,e),xB(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");let o=e.ZERO,s=Hp(BigInt(n.length)),i=s>12?s-3:s>4?s-2:s?2:1,a=(1<<i)-1,c=new Array(a+1).fill(o),l=Math.floor((t.BITS-1)/i)*i,u=o;for(let d=l;d>=0;d-=i){c.fill(o);for(let h=0;h<r.length;h++){let w=r[h],g=Number(w>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[h])}let f=o;for(let h=c.length-1,w=o;h>0;h--)w=w.add(c[h]),f=f.add(w);if(u=u.add(f),d!==0)for(let h=0;h<i;h++)u=u.double()}return u}function Jp(e){return Wp(e.Fp),jn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(L(k(k({},Fp(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function fv(e){e.lowS!==void 0&&Wo("lowS",e.lowS),e.prehash!==void 0&&Wo("prehash",e.prehash)}function kB(e){let t=Jp(e);jn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze(k({},t))}var{bytesToNumberBE:bB,hexToBytes:_B}=qp,em=class extends Error{constructor(t=""){super(t)}},dr={Err:em,_tlv:{encode:(e,t)=>{let{Err:n}=dr;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");let r=t.length/2,o=Ko(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");let s=r>127?Ko(o.length/2|128):"";return Ko(e)+s+o+t},decode(e,t){let{Err:n}=dr,r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");let o=t[r++],s=!!(o&128),i=0;if(!s)i=o;else{let c=o&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");let l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}let a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){let{Err:t}=dr;if(e<fr)throw new t("integer: negative integers are not allowed");let n=Ko(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){let{Err:t}=dr;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return bB(e)}},toSig(e){let{Err:t,_int:n,_tlv:r}=dr,o=typeof e=="string"?_B(e):e;en(o);let{v:s,l:i}=r.decode(48,o);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){let{_tlv:t,_int:n}=dr,r=t.encode(2,n.encode(e.r)),o=t.encode(2,n.encode(e.s)),s=r+o;return t.encode(48,s)}},fr=BigInt(0),Ge=BigInt(1),aA=BigInt(2),hv=BigInt(3),cA=BigInt(4);function EB(e){let t=kB(e),{Fp:n}=t,r=ro(t.n,t.nBitLength),o=t.toBytes||((g,y,p)=>{let m=y.toAffine();return ct(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),s=t.fromBytes||(g=>{let y=g.subarray(1),p=n.fromBytes(y.subarray(0,n.BYTES)),m=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:p,y:m}});function i(g){let{a:y,b:p}=t,m=n.sqr(g),v=n.mul(m,g);return n.add(n.add(v,n.mul(g,y)),p)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return no(g,Ge,t.n)}function c(g){let{allowedPrivateKeyLengths:y,nByteLength:p,wrapPrivateKey:m,n:v}=t;if(y&&typeof g!="bigint"){if(to(g)&&(g=Fo(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(p*2,"0")}let x;try{x=typeof g=="bigint"?g:Nt(De("private key",g,p))}catch(E){throw new Error("invalid private key, expected hex or "+p+" bytes, got "+typeof g)}return m&&(x=Be(x,v)),zn("private key",x,Ge,v),x}function l(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}let u=lu((g,y)=>{let{px:p,py:m,pz:v}=g;if(n.eql(v,n.ONE))return{x:p,y:m};let x=g.is0();y==null&&(y=x?n.ONE:n.inv(v));let E=n.mul(p,y),b=n.mul(m,y),_=n.mul(v,y);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:E,y:b}}),d=lu(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}let{x:y,y:p}=g.toAffine();if(!n.isValid(y)||!n.isValid(p))throw new Error("bad point: x or y not FE");let m=n.sqr(p),v=i(y);if(!n.eql(m,v))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(y,p,m){if(this.px=y,this.py=p,this.pz=m,y==null||!n.isValid(y))throw new Error("x required");if(p==null||!n.isValid(p))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required");Object.freeze(this)}static fromAffine(y){let{x:p,y:m}=y||{};if(!y||!n.isValid(p)||!n.isValid(m))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");let v=x=>n.eql(x,n.ZERO);return v(p)&&v(m)?f.ZERO:new f(p,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let p=n.invertBatch(y.map(m=>m.pz));return y.map((m,v)=>m.toAffine(p[v])).map(f.fromAffine)}static fromHex(y){let p=f.fromAffine(s(De("pointHex",y)));return p.assertValidity(),p}static fromPrivateKey(y){return f.BASE.multiply(c(y))}static msm(y,p){return dv(f,r,y,p)}_setWindowSize(y){w.setWindowSize(this,y)}assertValidity(){d(this)}hasEvenY(){let{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);let{px:p,py:m,pz:v}=this,{px:x,py:E,pz:b}=y,_=n.eql(n.mul(p,b),n.mul(x,v)),C=n.eql(n.mul(m,b),n.mul(E,v));return _&&C}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){let{a:y,b:p}=t,m=n.mul(p,hv),{px:v,py:x,pz:E}=this,b=n.ZERO,_=n.ZERO,C=n.ZERO,T=n.mul(v,v),N=n.mul(x,x),U=n.mul(E,E),D=n.mul(v,x);return D=n.add(D,D),C=n.mul(v,E),C=n.add(C,C),b=n.mul(y,C),_=n.mul(m,U),_=n.add(b,_),b=n.sub(N,_),_=n.add(N,_),_=n.mul(b,_),b=n.mul(D,b),C=n.mul(m,C),U=n.mul(y,U),D=n.sub(T,U),D=n.mul(y,D),D=n.add(D,C),C=n.add(T,T),T=n.add(C,T),T=n.add(T,U),T=n.mul(T,D),_=n.add(_,T),U=n.mul(x,E),U=n.add(U,U),T=n.mul(U,D),b=n.sub(b,T),C=n.mul(U,N),C=n.add(C,C),C=n.add(C,C),new f(b,_,C)}add(y){l(y);let{px:p,py:m,pz:v}=this,{px:x,py:E,pz:b}=y,_=n.ZERO,C=n.ZERO,T=n.ZERO,N=t.a,U=n.mul(t.b,hv),D=n.mul(p,x),F=n.mul(m,E),O=n.mul(v,b),B=n.add(p,m),S=n.add(x,E);B=n.mul(B,S),S=n.add(D,F),B=n.sub(B,S),S=n.add(p,v);let I=n.add(x,b);return S=n.mul(S,I),I=n.add(D,O),S=n.sub(S,I),I=n.add(m,v),_=n.add(E,b),I=n.mul(I,_),_=n.add(F,O),I=n.sub(I,_),T=n.mul(N,S),_=n.mul(U,O),T=n.add(_,T),_=n.sub(F,T),T=n.add(F,T),C=n.mul(_,T),F=n.add(D,D),F=n.add(F,D),O=n.mul(N,O),S=n.mul(U,S),F=n.add(F,O),O=n.sub(D,O),O=n.mul(N,O),S=n.add(S,O),D=n.mul(F,S),C=n.add(C,D),D=n.mul(I,S),_=n.mul(B,_),_=n.sub(_,D),D=n.mul(B,F),T=n.mul(I,T),T=n.add(T,D),new f(_,C,T)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return w.wNAFCached(this,y,f.normalizeZ)}multiplyUnsafe(y){let{endo:p,n:m}=t;zn("scalar",y,fr,m);let v=f.ZERO;if(y===fr)return v;if(this.is0()||y===Ge)return this;if(!p||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,y,f.normalizeZ);let{k1neg:x,k1:E,k2neg:b,k2:_}=p.splitScalar(y),C=v,T=v,N=this;for(;E>fr||_>fr;)E&Ge&&(C=C.add(N)),_&Ge&&(T=T.add(N)),N=N.double(),E>>=Ge,_>>=Ge;return x&&(C=C.negate()),b&&(T=T.negate()),T=new f(n.mul(T.px,p.beta),T.py,T.pz),C.add(T)}multiply(y){let{endo:p,n:m}=t;zn("scalar",y,Ge,m);let v,x;if(p){let{k1neg:E,k1:b,k2neg:_,k2:C}=p.splitScalar(y),{p:T,f:N}=this.wNAF(b),{p:U,f:D}=this.wNAF(C);T=w.constTimeNegate(E,T),U=w.constTimeNegate(_,U),U=new f(n.mul(U.px,p.beta),U.py,U.pz),v=T.add(U),x=N.add(D)}else{let{p:E,f:b}=this.wNAF(y);v=E,x=b}return f.normalizeZ([v,x])[0]}multiplyAndAddUnsafe(y,p,m){let v=f.BASE,x=(b,_)=>_===fr||_===Ge||!b.equals(v)?b.multiplyUnsafe(_):b.multiply(_),E=x(this,p).add(x(y,m));return E.is0()?void 0:E}toAffine(y){return u(this,y)}isTorsionFree(){let{h:y,isTorsionFree:p}=t;if(y===Ge)return!0;if(p)return p(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:p}=t;return y===Ge?this:p?p(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Wo("isCompressed",y),this.assertValidity(),o(f,this,y)}toHex(y=!0){return Wo("isCompressed",y),Fo(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);let h=t.nBitLength,w=uv(f,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function BB(e){let t=Jp(e);return jn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(k({lowS:!0},t))}function pv(e){let t=BB(e),{Fp:n,n:r}=t,o=n.BYTES+1,s=2*n.BYTES+1;function i(O){return Be(O,r)}function a(O){return uu(O,r)}let{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=EB(L(k({},t),{toBytes(O,B,S){let I=B.toAffine(),z=n.toBytes(I.x),A=ct;return Wo("isCompressed",S),S?A(Uint8Array.from([B.hasEvenY()?2:3]),z):A(Uint8Array.from([4]),z,n.toBytes(I.y))},fromBytes(O){let B=O.length,S=O[0],I=O.subarray(1);if(B===o&&(S===2||S===3)){let z=Nt(I);if(!no(z,Ge,n.ORDER))throw new Error("Point is not on curve");let A=u(z),W;try{W=n.sqrt(A)}catch(de){let fe=de instanceof Error?": "+de.message:"";throw new Error("Point is not on curve"+fe)}let K=(W&Ge)===Ge;return(S&1)===1!==K&&(W=n.neg(W)),{x:z,y:W}}else if(B===s&&S===4){let z=n.fromBytes(I.subarray(0,n.BYTES)),A=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:z,y:A}}else{let z=o,A=s;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+A+", got "+B)}}})),f=O=>Fo(xn(O,t.nByteLength));function h(O){let B=r>>Ge;return O>B}function w(O){return h(O)?i(-O):O}let g=(O,B,S)=>Nt(O.slice(B,S));class y{constructor(B,S,I){this.r=B,this.s=S,this.recovery=I,this.assertValidity()}static fromCompact(B){let S=t.nByteLength;return B=De("compactSignature",B,S*2),new y(g(B,0,S),g(B,S,2*S))}static fromDER(B){let{r:S,s:I}=dr.toSig(De("DER",B));return new y(S,I)}assertValidity(){zn("r",this.r,Ge,r),zn("s",this.s,Ge,r)}addRecoveryBit(B){return new y(this.r,this.s,B)}recoverPublicKey(B){let{r:S,s:I,recovery:z}=this,A=b(De("msgHash",B));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");let W=z===2||z===3?S+t.n:S;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(z&1)===0?"02":"03",Y=c.fromHex(K+f(W)),de=a(W),fe=i(-A*de),Le=i(I*de),Ae=c.BASE.multiplyAndAddUnsafe(Y,fe,Le);if(!Ae)throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Go(this.toDERHex())}toDERHex(){return dr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Go(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}let p={isValidPrivateKey(O){try{return l(O),!0}catch(B){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let O=Kp(t.n);return iv(t.randomBytes(O),t.n)},precompute(O=8,B=c.BASE){return B._setWindowSize(O),B.multiply(BigInt(3)),B}};function m(O,B=!0){return c.fromPrivateKey(O).toRawBytes(B)}function v(O){let B=to(O),S=typeof O=="string",I=(B||S)&&O.length;return B?I===o||I===s:S?I===2*o||I===2*s:O instanceof c}function x(O,B,S=!0){if(v(O))throw new Error("first arg must be private key");if(!v(B))throw new Error("second arg must be public key");return c.fromHex(B).multiply(l(O)).toRawBytes(S)}let E=t.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");let B=Nt(O),S=O.length*8-t.nBitLength;return S>0?B>>BigInt(S):B},b=t.bits2int_modN||function(O){return i(E(O))},_=Za(t.nBitLength);function C(O){return zn("num < 2^"+t.nBitLength,O,fr,_),xn(O,t.nByteLength)}function T(O,B,S=N){if(["recovered","canonical"].some(We=>We in S))throw new Error("sign() legacy options not supported");let{hash:I,randomBytes:z}=t,{lowS:A,prehash:W,extraEntropy:K}=S;A==null&&(A=!0),O=De("msgHash",O),fv(S),W&&(O=De("prehashed msgHash",I(O)));let Y=b(O),de=l(B),fe=[C(de),C(Y)];if(K!=null&&K!==!1){let We=K===!0?z(n.BYTES):K;fe.push(De("extraEntropy",We))}let Le=ct(...fe),Ae=Y;function Ue(We){let Ie=E(We);if(!d(Ie))return;let An=a(Ie),Nr=c.BASE.multiply(Ie).toAffine(),_t=i(Nr.x);if(_t===fr)return;let Ye=i(An*i(Ae+_t*de));if(Ye===fr)return;let Wt=(Nr.x===_t?0:2)|Number(Nr.y&Ge),Xn=Ye;return A&&h(Ye)&&(Xn=w(Ye),Wt^=1),new y(_t,Xn,Wt)}return{seed:Le,k2sig:Ue}}let N={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function D(O,B,S=N){let{seed:I,k2sig:z}=T(O,B,S),A=t;return Vp(A.hash.outputLen,A.nByteLength,A.hmac)(I,z)}c.BASE._setWindowSize(8);function F(O,B,S,I=U){var Wt;let z=O;B=De("msgHash",B),S=De("publicKey",S);let{lowS:A,prehash:W,format:K}=I;if(fv(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");let Y=typeof z=="string"||to(z),de=!Y&&!K&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!Y&&!de)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let fe,Le;try{if(de&&(fe=new y(z.r,z.s)),Y){try{K!=="compact"&&(fe=y.fromDER(z))}catch(Xn){if(!(Xn instanceof dr.Err))throw Xn}!fe&&K!=="der"&&(fe=y.fromCompact(z))}Le=c.fromHex(S)}catch(Xn){return!1}if(!fe||A&&fe.hasHighS())return!1;W&&(B=t.hash(B));let{r:Ae,s:Ue}=fe,We=b(B),Ie=a(Ue),An=i(We*Ie),Nr=i(Ae*Ie),_t=(Wt=c.BASE.multiplyAndAddUnsafe(Le,An,Nr))==null?void 0:Wt.toAffine();return _t?i(_t.x)===Ae:!1}return{CURVE:t,getPublicKey:m,getSharedSecret:x,sign:D,verify:F,ProjectivePoint:c,Signature:y,utils:p}}function CB(e){return{hash:e,hmac:(t,...n)=>zp(e,t,R1(...n)),randomBytes:ci}}function mv(e,t){let n=r=>pv(k(k({},e),CB(r)));return L(k({},n(t)),{create:n})}var SB=Nt;function oo(e,t){if(Wa(e),Wa(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);let n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function PB(e,t){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Wa(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function TB(e,t,n,r){en(e),en(t),Wa(n),t.length>255&&(t=r(ct(qa("H2C-OVERSIZE-DST-"),t)));let{outputLen:o,blockLen:s}=r,i=Math.ceil(n/o);if(n>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=ct(t,oo(t.length,1)),c=oo(0,s),l=oo(n,2),u=new Array(i),d=r(ct(c,e,l,oo(0,1),a));u[0]=r(ct(d,oo(1,1),a));for(let h=1;h<=i;h++){let w=[PB(d,u[h-1]),oo(h+1,1),a];u[h]=r(ct(...w))}return ct(...u).slice(0,n)}function NB(e,t,n,r,o){if(en(e),en(t),Wa(n),t.length>255){let s=Math.ceil(2*r/8);t=o.create({dkLen:s}).update(qa("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(oo(n,2)).update(t).update(oo(t.length,1)).digest()}function fu(e,t,n){jn(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:r,k:o,m:s,hash:i,expand:a,DST:c}=n;en(e),Wa(t);let l=typeof c=="string"?qa(c):c,u=r.toString(2).length,d=Math.ceil((u+o)/8),f=t*s*d,h;if(a==="xmd")h=TB(e,l,f,i);else if(a==="xof")h=NB(e,l,f,o,i);else if(a==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');let w=new Array(t);for(let g=0;g<t;g++){let y=new Array(s);for(let p=0;p<s;p++){let m=d*(p+g*s),v=h.subarray(m,m+d);y[p]=Be(SB(v),r)}w[g]=y}return w}var Ga=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fa=BigInt(1),pu=BigInt(2),gv=(e,t)=>(e+t/pu)/t;function wv(e){let t=Ga,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=$t(u,n,t)*u%t,f=$t(d,n,t)*u%t,h=$t(f,pu,t)*l%t,w=$t(h,o,t)*h%t,g=$t(w,s,t)*w%t,y=$t(g,a,t)*g%t,p=$t(y,c,t)*y%t,m=$t(p,a,t)*g%t,v=$t(m,n,t)*u%t,x=$t(v,i,t)*w%t,E=$t(x,r,t)*l%t,b=$t(E,pu,t);if(!nm.eql(nm.sqr(b),e))throw new Error("Cannot find square root");return b}var nm=ro(Ga,void 0,void 0,{sqrt:wv}),At=mv({a:BigInt(0),b:BigInt(7),Fp:nm,n:hu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=hu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Fa*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),a=gv(s*e,t),c=gv(-r*e,t),l=Be(e-a*n-c*o,t),u=Be(-a*r-c*s,t),d=l>i,f=u>i;if(d&&(l=t-l),f&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Dt),vv=BigInt(0),yv={};function mu(e,...t){let n=yv[e];if(n===void 0){let r=Dt(Uint8Array.from(e,o=>o.charCodeAt(0)));n=ct(r,r),yv[e]=n}return Dt(ct(n,...t))}var sm=e=>e.toRawBytes(!0).slice(1),rm=e=>xn(e,32),tm=e=>Be(e,Ga),Ka=e=>Be(e,hu),im=At.ProjectivePoint,AB=(e,t,n)=>im.BASE.multiplyAndAddUnsafe(e,t,n);function om(e){let t=At.utils.normPrivateKeyToScalar(e),n=im.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ka(-t),bytes:sm(n)}}function xv(e){zn("x",e,Fa,Ga);let t=tm(e*e),n=tm(t*e+BigInt(7)),r=wv(n);r%pu!==vv&&(r=tm(-r));let o=new im(e,r,Fa);return o.assertValidity(),o}var di=Nt;function kv(...e){return Ka(di(mu("BIP0340/challenge",...e)))}function IB(e){return om(e).bytes}function OB(e,t,n=ci(32)){let r=De("message",e),{bytes:o,scalar:s}=om(t),i=De("auxRand",n,32),a=rm(s^di(mu("BIP0340/aux",i))),c=mu("BIP0340/nonce",a,o,r),l=Ka(di(c));if(l===vv)throw new Error("sign failed: k is zero");let{bytes:u,scalar:d}=om(l),f=kv(u,o,r),h=new Uint8Array(64);if(h.set(u,0),h.set(rm(Ka(d+f*s)),32),!bv(h,r,o))throw new Error("sign: Invalid signature produced");return h}function bv(e,t,n){let r=De("signature",e,64),o=De("message",t),s=De("publicKey",n,32);try{let i=xv(di(s)),a=di(r.subarray(0,32));if(!no(a,Fa,Ga))return!1;let c=di(r.subarray(32,64));if(!no(c,Fa,hu))return!1;let l=kv(rm(a),sm(i),o),u=AB(i,c,Ka(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(i){return!1}}var Yo={getPublicKey:IB,sign:OB,verify:bv,utils:{randomPrivateKey:At.utils.randomPrivateKey,lift_x:xv,pointToBytes:sm,numberToBytesBE:xn,bytesToNumberBE:Nt,taggedHash:mu,mod:Be}};function am(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function vt(e,...t){if(!am(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Qa(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function cm(e,t){vt(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}var _v=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),kn=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),fi=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),LB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!LB)throw new Error("Non little-endian hardware is not supported");function RB(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function hi(e){if(typeof e=="string")e=RB(e);else if(am(e))e=Xo(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function Ev(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}var Bv=(e,t)=>{function n(r,...o){if(vt(r),e.nonceLength!==void 0){let u=o[0];if(!u)throw new Error("nonce / iv required");e.varSizeNonce?vt(u):vt(u,e.nonceLength)}let s=e.tagLength;s&&o[1]!==void 0&&vt(o[1]);let i=t(r,...o),a=(u,d)=>{if(d!==void 0){if(u!==2)throw new Error("cipher output not supported");vt(d)}},c=!1;return{encrypt(u,d){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,vt(u),a(i.encrypt.length,d),i.encrypt(u,d)},decrypt(u,d){if(vt(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(i.decrypt.length,d),i.decrypt(u,d)}}}return Object.assign(n,e),n};function Cv(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!Ya(t))throw new Error("invalid output, must be aligned");return t}function gu(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}function Ya(e){return e.byteOffset%4===0}function Xo(e){return Uint8Array.from(e)}function bn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}var hr=16,um=new Uint8Array(16),Dn=kn(um),MB=225,UB=(e,t,n,r)=>{let o=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^MB<<24&-(o&1)}},tn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function zB(e){e.reverse();let t=e[15]&1,n=0;for(let r=0;r<e.length;r++){let o=e[r];e[r]=o>>>1|n,n=(o&1)<<7}return e[0]^=-t&225,e}var jB=e=>e>64*1024?8:e>1024?4:2,yu=class{constructor(t,n){this.blockLen=hr,this.outputLen=hr,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=hi(t),vt(t,16);let r=fi(t),o=r.getUint32(0,!1),s=r.getUint32(4,!1),i=r.getUint32(8,!1),a=r.getUint32(12,!1),c=[];for(let w=0;w<128;w++)c.push({s0:tn(o),s1:tn(s),s2:tn(i),s3:tn(a)}),{s0:o,s1:s,s2:i,s3:a}=UB(o,s,i,a);let l=jB(n||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=l;let d=128/l,f=this.windowSize=2**l,h=[];for(let w=0;w<d;w++)for(let g=0;g<f;g++){let y=0,p=0,m=0,v=0;for(let x=0;x<l;x++){if(!(g>>>l-x-1&1))continue;let{s0:b,s1:_,s2:C,s3:T}=c[l*w+x];y^=b,p^=_,m^=C,v^=T}h.push({s0:y,s1:p,s2:m,s3:v})}this.t=h}_updateBlock(t,n,r,o){t^=this.s0,n^=this.s1,r^=this.s2,o^=this.s3;let{W:s,t:i,windowSize:a}=this,c=0,l=0,u=0,d=0,f=(1<<s)-1,h=0;for(let w of[t,n,r,o])for(let g=0;g<4;g++){let y=w>>>8*g&255;for(let p=8/s-1;p>=0;p--){let m=y>>>s*p&f,{s0:v,s1:x,s2:E,s3:b}=i[h*a+m];c^=v,l^=x,u^=E,d^=b,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=d}update(t){t=hi(t),Qa(this);let n=kn(t),r=Math.floor(t.length/hr),o=t.length%hr;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return o&&(um.set(t.subarray(r*hr)),this._updateBlock(Dn[0],Dn[1],Dn[2],Dn[3]),bn(Dn)),this}destroy(){let{t}=this;for(let n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){Qa(this),cm(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=kn(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t}digest(){let t=new Uint8Array(hr);return this.digestInto(t),this.destroy(),t}},lm=class extends yu{constructor(t,n){t=hi(t);let r=zB(Xo(t));super(r,n),bn(r)}update(t){t=hi(t),Qa(this);let n=kn(t),r=t.length%hr,o=Math.floor(t.length/hr);for(let s=0;s<o;s++)this._updateBlock(tn(n[s*4+3]),tn(n[s*4+2]),tn(n[s*4+1]),tn(n[s*4+0]));return r&&(um.set(t.subarray(o*hr)),this._updateBlock(tn(Dn[3]),tn(Dn[2]),tn(Dn[1]),tn(Dn[0])),bn(Dn)),this}digestInto(t){Qa(this),cm(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=kn(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t.reverse()}};function Sv(e){let t=(r,o)=>e(o,r.length).update(hi(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,o)=>e(r,o),t}var dm=Sv((e,t)=>new yu(e,t)),DB=Sv((e,t)=>new lm(e,t));var hm=16,$B=4,wu=new Uint8Array(hm),HB=283;function pm(e){return e<<1^HB&-(e>>7)}function Pv(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=pm(e);return n}var VB=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=pm(r))e[n]=r;let t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return bn(e),t})();var qB=e=>e<<24|e>>>8,fm=e=>e<<8|e>>>24;function ZB(e,t){if(e.length!==256)throw new Error("Wrong sbox length");let n=new Uint32Array(256).map((l,u)=>t(e[u])),r=n.map(fm),o=r.map(fm),s=o.map(fm),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let d=l*256+u;i[d]=n[l]^r[u],a[d]=o[l]^s[u],c[d]=e[l]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:o,T3:s,T01:i,T23:a}}var Nv=ZB(VB,e=>Pv(e,3)<<24|e<<16|e<<8|Pv(e,2));var WB=(()=>{let e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=pm(n))e[t]=n;return e})();function FB(e){vt(e);let t=e.length;if(![16,24,32].includes(t))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+t);let{sbox2:n}=Nv,r=[];Ya(e)||r.push(e=Xo(e));let o=kn(e),s=o.length,i=c=>Xa(n,c,c,c,c),a=new Uint32Array(t+28);a.set(o);for(let c=s;c<a.length;c++){let l=a[c-1];c%s===0?l=i(qB(l))^WB[c/s-1]:s>6&&c%s===4&&(l=i(l)),a[c]=a[c-s]^l}return bn(...r),a}function vu(e,t,n,r,o,s){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|s>>>24&255]}function Xa(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function Tv(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=Nv,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let w=0;w<l;w++){let g=e[c++]^vu(i,a,t,n,r,o),y=e[c++]^vu(i,a,n,r,o,t),p=e[c++]^vu(i,a,r,o,t,n),m=e[c++]^vu(i,a,o,t,n,r);t=g,n=y,r=p,o=m}let u=e[c++]^Xa(s,t,n,r,o),d=e[c++]^Xa(s,n,r,o,t),f=e[c++]^Xa(s,r,o,t,n),h=e[c++]^Xa(s,o,t,n,r);return{s0:u,s1:d,s2:f,s3:h}}function xu(e,t,n,r,o){vt(n,hm),vt(r),o=Cv(r.length,o);let s=n,i=kn(s),a=fi(s),c=kn(r),l=kn(o),u=t?0:12,d=r.length,f=a.getUint32(u,t),{s0:h,s1:w,s2:g,s3:y}=Tv(e,i[0],i[1],i[2],i[3]);for(let m=0;m+4<=c.length;m+=4)l[m+0]=c[m+0]^h,l[m+1]=c[m+1]^w,l[m+2]=c[m+2]^g,l[m+3]=c[m+3]^y,f=f+1>>>0,a.setUint32(u,f,t),{s0:h,s1:w,s2:g,s3:y}=Tv(e,i[0],i[1],i[2],i[3]);let p=hm*Math.floor(c.length/$B);if(p<d){let m=new Uint32Array([h,w,g,y]),v=_v(m);for(let x=p,E=0;x<d;x++,E++)o[x]=r[x]^v[E];bn(m)}return o}function KB(e,t,n,r,o){let s=o==null?0:o.length,i=e.create(n,r.length+s);o&&i.update(o),i.update(r);let a=new Uint8Array(16),c=fi(a);o&&gu(c,0,BigInt(s*8),t),gu(c,8,BigInt(r.length*8),t),i.update(a);let l=i.digest();return bn(a),l}var mm=Bv({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(t,n,r){if(n.length<8)throw new Error("aes/gcm: invalid nonce length");let o=16;function s(a,c,l){let u=KB(dm,!1,a,l,r);for(let d=0;d<c.length;d++)u[d]^=c[d];return u}function i(){let a=FB(t),c=wu.slice(),l=wu.slice();if(xu(a,!1,l,l,c),n.length===12)l.set(n);else{let d=wu.slice(),f=fi(d);gu(f,8,BigInt(n.length*8),!1);let h=dm.create(c).update(n).update(d);h.digestInto(l),h.destroy()}let u=xu(a,!1,l,wu);return{xk:a,authKey:c,counter:l,tagMask:u}}return{encrypt(a){let{xk:c,authKey:l,counter:u,tagMask:d}=i(),f=new Uint8Array(a.length+o),h=[c,l,u,d];Ya(a)||h.push(a=Xo(a)),xu(c,!1,u,a,f.subarray(0,a.length));let w=s(l,d,f.subarray(0,f.length-o));return h.push(w),f.set(w,a.length),bn(...h),f},decrypt(a){let{xk:c,authKey:l,counter:u,tagMask:d}=i(),f=[c,l,d,u];Ya(a)||f.push(a=Xo(a));let h=a.subarray(0,-o),w=a.subarray(-o),g=s(l,d,h);if(f.push(g),!Ev(g,w))throw new Error("aes/gcm: invalid ghash tag");let y=xu(c,!1,u,h);return bn(...f),y}}});function pi(e){let t=Yo.getPublicKey(e);return new P(t).hex}function Jo(e,t){let n=t.length===66?t:"02"+t,r=At.getSharedSecret(e,n,!0);return new P(r).slice(1).hex}function Av(e,t){let n=Yo.sign(t,e);return new P(n).hex}function Iv(e,t,n){return Yo.verify(n,e,t)}function ku(e,t,n){let r=P.str(t),o=P.hex(e),s=n!==void 0?P.hex(n,24):P.random(24),i=mm(o,s).encrypt(r);return new P(i).b64url+"?iv="+s.b64url}function bu(e,t){let[n,r]=t.split("?iv="),o=P.b64url(n),s=P.hex(e),i=P.b64url(r),a=mm(s,i).decrypt(o);return new P(a).str}function _u(){return P.random(16).hex}function gm(e){let t=JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]);return P.str(t).digest.hex}function GB(e,t){return e.tags.filter(n=>n.at(0)===t)}function Ov(e,t){return GB(e,"p").some(r=>r[1]===t)}var ce;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{let s={};for(let i of o)s[i]=i;return s},e.getValidEnumValues=o=>{let s=e.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),i={};for(let a of s)i[a]=o[a];return e.objectValues(i)},e.objectValues=o=>e.objectKeys(o).map(function(s){return o[s]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let s=[];for(let i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},e.find=(o,s)=>{for(let i of o)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,s=" | "){return o.map(i=>typeof i=="string"?"'".concat(i,"'"):i).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(ce||(ce={}));var wm;(function(e){e.mergeShapes=(t,n)=>k(k({},t),n)})(wm||(wm={}));var $=ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mr=e=>{switch(typeof e){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(e)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(e)?$.array:e===null?$.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$.promise:typeof Map<"u"&&e instanceof Map?$.map:typeof Set<"u"&&e instanceof Set?$.set:typeof Date<"u"&&e instanceof Date?$.date:$.object;default:return $.unknown}},R=ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),QB=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Ht=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){let n=t||function(s){return s.message},r={_errors:[]},o=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,c=0;for(;c<i.path.length;){let l=i.path[c];c===i.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(i))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return o(this),r}static assert(t){if(!(t instanceof e))throw new Error("Not a ZodError: ".concat(t))}toString(){return this.message}get message(){return JSON.stringify(this.issues,ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){let n={},r=[];for(let o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};Ht.create=e=>new Ht(e);var yi=(e,t)=>{let n;switch(e.code){case R.invalid_type:e.received===$.undefined?n="Required":n="Expected ".concat(e.expected,", received ").concat(e.received);break;case R.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,ce.jsonStringifyReplacer));break;case R.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(ce.joinValues(e.keys,", "));break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(ce.joinValues(e.options));break;case R.invalid_enum_value:n="Invalid enum value. Expected ".concat(ce.joinValues(e.options),", received '").concat(e.received,"'");break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),typeof e.validation.position=="number"&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):ce.assertNever(e.validation):e.validation!=="regex"?n="Invalid ".concat(e.validation):n="Invalid";break;case R.too_small:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):n="Invalid input";break;case R.too_big:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="bigint"?n="BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case R.not_finite:n="Number must be finite";break;default:n=t.defaultError,ce.assertNever(e)}return{message:n}},Mv=yi;function YB(e){Mv=e}function Eu(){return Mv}var Bu=e=>{let{data:t,path:n,errorMaps:r,issueData:o}=e,s=[...n,...o.path||[]],i=L(k({},o),{path:s});if(o.message!==void 0)return L(k({},o),{path:s,message:o.message});let a="",c=r.filter(l=>!!l).slice().reverse();for(let l of c)a=l(i,{data:t,defaultError:a}).message;return L(k({},o),{path:s,message:a})},XB=[];function j(e,t){let n=Eu(),r=Bu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===yi?void 0:yi].filter(o=>!!o)});e.common.issues.push(r)}var lt=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let o of n){if(o.status==="aborted")return Q;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){let r=[];for(let o of n){let s=await o.key,i=await o.value;r.push({key:s,value:i})}return e.mergeObjectSync(t,r)}static mergeObjectSync(t,n){let r={};for(let o of n){let{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return Q;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(r[s.value]=i.value)}return{status:t.value,value:r}}},Q=Object.freeze({status:"aborted"}),gi=e=>({status:"dirty",value:e}),xt=e=>({status:"valid",value:e}),vm=e=>e.status==="aborted",xm=e=>e.status==="dirty",es=e=>e.status==="valid",tc=e=>typeof Promise<"u"&&e instanceof Promise;function Cu(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Uv(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n}var q;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(q||(q={}));var Ja,ec,rn=class{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Lv=(e,t)=>{if(es(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new Ht(e.common.issues);return this._error=n,this._error}}};function te(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:o}:{errorMap:(i,a)=>{var c,l;let{message:u}=e;return i.code==="invalid_enum_value"?{message:u!=null?u:a.defaultError}:typeof a.data>"u"?{message:(c=u!=null?u:r)!==null&&c!==void 0?c:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(l=u!=null?u:n)!==null&&l!==void 0?l:a.defaultError}},description:o}}var ne=class{get description(){return this._def.description}_getType(t){return mr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:mr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new lt,ctx:{common:t.parent.common,data:t.data,parsedType:mr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(tc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;let o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mr(t)},s=this._parseSync({data:t,path:o.path,parent:o});return Lv(o,s)}"~validate"(t){var n,r;let o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mr(t)};if(!this["~standard"].async)try{let s=this._parseSync({data:t,path:[],parent:o});return es(s)?{value:s.value}:{issues:o.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(s=>es(s)?{value:s.value}:{issues:o.common.issues})}async parseAsync(t,n){let r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){let r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mr(t)},o=this._parse({data:t,path:r.path,parent:r}),s=await(tc(o)?o:Promise.resolve(o));return Lv(r,s)}refine(t,n){let r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{let i=t(o),a=()=>s.addIssue(k({code:R.custom},r(o)));return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new Vt({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return nn.create(this,this._def)}nullable(){return Hn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yr.create(this)}promise(){return ao.create(this,this._def)}or(t){return as.create([this,t],this._def)}and(t){return cs.create(this,t,this._def)}transform(t){return new Vt(L(k({},te(this._def)),{schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){let n=typeof t=="function"?t:()=>t;return new hs(L(k({},te(this._def)),{innerType:this,defaultValue:n,typeName:G.ZodDefault}))}brand(){return new nc(k({typeName:G.ZodBranded,type:this},te(this._def)))}catch(t){let n=typeof t=="function"?t:()=>t;return new ps(L(k({},te(this._def)),{innerType:this,catchValue:n,typeName:G.ZodCatch}))}describe(t){let n=this.constructor;return new n(L(k({},this._def),{description:t}))}pipe(t){return rc.create(this,t)}readonly(){return ms.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},JB=/^c[^\s-]{8,}$/i,eC=/^[0-9a-z]+$/,tC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rC=/^[a-z0-9_-]{21}$/i,oC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",ym,cC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,uC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pC=new RegExp("^".concat(zv,"$"));function jv(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):e.precision==null&&(t="".concat(t,"(\\.\\d+)?")),t}function mC(e){return new RegExp("^".concat(jv(e),"$"))}function Dv(e){let t="".concat(zv,"T").concat(jv(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function gC(e,t){return!!((t==="v4"||!t)&&cC.test(e)||(t==="v6"||!t)&&uC.test(e))}function yC(e,t){if(!oC.test(e))return!1;try{let[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch(n){return!1}}function wC(e,t){return!!((t==="v4"||!t)&&lC.test(e)||(t==="v6"||!t)&&dC.test(e))}var so=class e extends ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$.string){let s=this._getOrReturnCtx(t);return j(s,{code:R.invalid_type,expected:$.string,received:s.parsedType}),Q}let r=new lt,o;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(o=this._getOrReturnCtx(t,o),j(o,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(o=this._getOrReturnCtx(t,o),j(o,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(o=this._getOrReturnCtx(t,o),i?j(o,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&j(o,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")iC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"email",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")ym||(ym=new RegExp(aC,"u")),ym.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"emoji",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")nC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"uuid",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")rC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"nanoid",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")JB.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"cuid",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")eC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"cuid2",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")tC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"ulid",code:R.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch(i){o=this._getOrReturnCtx(t,o),j(o,{validation:"url",code:R.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"regex",code:R.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Dv(s).test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?pC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?mC(s).test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{code:R.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?sC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"duration",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?gC(t.data,s.version)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"ip",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?yC(t.data,s.alg)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"jwt",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?wC(t.data,s.version)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"cidr",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?fC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"base64",code:R.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?hC.test(t.data)||(o=this._getOrReturnCtx(t,o),j(o,{validation:"base64url",code:R.invalid_string,message:s.message}),r.dirty()):ce.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),k({validation:n,code:R.invalid_string},q.errToObj(r)))}_addCheck(t){return new e(L(k({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(k({kind:"email"},q.errToObj(t)))}url(t){return this._addCheck(k({kind:"url"},q.errToObj(t)))}emoji(t){return this._addCheck(k({kind:"emoji"},q.errToObj(t)))}uuid(t){return this._addCheck(k({kind:"uuid"},q.errToObj(t)))}nanoid(t){return this._addCheck(k({kind:"nanoid"},q.errToObj(t)))}cuid(t){return this._addCheck(k({kind:"cuid"},q.errToObj(t)))}cuid2(t){return this._addCheck(k({kind:"cuid2"},q.errToObj(t)))}ulid(t){return this._addCheck(k({kind:"ulid"},q.errToObj(t)))}base64(t){return this._addCheck(k({kind:"base64"},q.errToObj(t)))}base64url(t){return this._addCheck(k({kind:"base64url"},q.errToObj(t)))}jwt(t){return this._addCheck(k({kind:"jwt"},q.errToObj(t)))}ip(t){return this._addCheck(k({kind:"ip"},q.errToObj(t)))}cidr(t){return this._addCheck(k({kind:"cidr"},q.errToObj(t)))}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(k({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1},q.errToObj(t==null?void 0:t.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(k({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision},q.errToObj(t==null?void 0:t.message)))}duration(t){return this._addCheck(k({kind:"duration"},q.errToObj(t)))}regex(t,n){return this._addCheck(k({kind:"regex",regex:t},q.errToObj(n)))}includes(t,n){return this._addCheck(k({kind:"includes",value:t,position:n==null?void 0:n.position},q.errToObj(n==null?void 0:n.message)))}startsWith(t,n){return this._addCheck(k({kind:"startsWith",value:t},q.errToObj(n)))}endsWith(t,n){return this._addCheck(k({kind:"endsWith",value:t},q.errToObj(n)))}min(t,n){return this._addCheck(k({kind:"min",value:t},q.errToObj(n)))}max(t,n){return this._addCheck(k({kind:"max",value:t},q.errToObj(n)))}length(t,n){return this._addCheck(k({kind:"length",value:t},q.errToObj(n)))}nonempty(t){return this.min(1,q.errToObj(t))}trim(){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};so.create=e=>{var t;return new so(k({checks:[],typeName:G.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1},te(e)))};function vC(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,s=parseInt(e.toFixed(o).replace(".","")),i=parseInt(t.toFixed(o).replace(".",""));return s%i/Math.pow(10,o)}var ts=class e extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$.number){let s=this._getOrReturnCtx(t);return j(s,{code:R.invalid_type,expected:$.number,received:s.parsedType}),Q}let r,o=new lt;for(let s of this._def.checks)s.kind==="int"?ce.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),j(r,{code:R.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?vC(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),j(r,{code:R.not_finite,message:s.message}),o.dirty()):ce.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,q.toString(n))}gt(t,n){return this.setLimit("min",t,!1,q.toString(n))}lte(t,n){return this.setLimit("max",t,!0,q.toString(n))}lt(t,n){return this.setLimit("max",t,!1,q.toString(n))}setLimit(t,n,r,o){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:q.toString(o)}]}))}_addCheck(t){return new e(L(k({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:q.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:q.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:q.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(t)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ce.isInteger(t.value))}get isFinite(){let t=null,n=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};ts.create=e=>new ts(k({checks:[],typeName:G.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},te(e)));var ns=class e extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch(s){return this._getInvalidInput(t)}if(this._getType(t)!==$.bigint)return this._getInvalidInput(t);let r,o=new lt;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),j(r,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):ce.assertNever(s);return{status:o.value,value:t.data}}_getInvalidInput(t){let n=this._getOrReturnCtx(t);return j(n,{code:R.invalid_type,expected:$.bigint,received:n.parsedType}),Q}gte(t,n){return this.setLimit("min",t,!0,q.toString(n))}gt(t,n){return this.setLimit("min",t,!1,q.toString(n))}lte(t,n){return this.setLimit("max",t,!0,q.toString(n))}lt(t,n){return this.setLimit("max",t,!1,q.toString(n))}setLimit(t,n,r,o){return new e(L(k({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:q.toString(o)}]}))}_addCheck(t){return new e(L(k({},this._def),{checks:[...this._def.checks,t]}))}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:q.toString(n)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};ns.create=e=>{var t;return new ns(k({checks:[],typeName:G.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1},te(e)))};var rs=class extends ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$.boolean){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.boolean,received:r.parsedType}),Q}return xt(t.data)}};rs.create=e=>new rs(k({typeName:G.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},te(e)));var os=class e extends ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$.date){let s=this._getOrReturnCtx(t);return j(s,{code:R.invalid_type,expected:$.date,received:s.parsedType}),Q}if(isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return j(s,{code:R.invalid_date}),Q}let r=new lt,o;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(o=this._getOrReturnCtx(t,o),j(o,{code:R.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(o=this._getOrReturnCtx(t,o),j(o,{code:R.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ce.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e(L(k({},this._def),{checks:[...this._def.checks,t]}))}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:q.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:q.toString(n)})}get minDate(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};os.create=e=>new os(k({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:G.ZodDate},te(e)));var wi=class extends ne{_parse(t){if(this._getType(t)!==$.symbol){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.symbol,received:r.parsedType}),Q}return xt(t.data)}};wi.create=e=>new wi(k({typeName:G.ZodSymbol},te(e)));var ss=class extends ne{_parse(t){if(this._getType(t)!==$.undefined){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.undefined,received:r.parsedType}),Q}return xt(t.data)}};ss.create=e=>new ss(k({typeName:G.ZodUndefined},te(e)));var is=class extends ne{_parse(t){if(this._getType(t)!==$.null){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.null,received:r.parsedType}),Q}return xt(t.data)}};is.create=e=>new is(k({typeName:G.ZodNull},te(e)));var io=class extends ne{constructor(){super(...arguments),this._any=!0}_parse(t){return xt(t.data)}};io.create=e=>new io(k({typeName:G.ZodAny},te(e)));var gr=class extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xt(t.data)}};gr.create=e=>new gr(k({typeName:G.ZodUnknown},te(e)));var _n=class extends ne{_parse(t){let n=this._getOrReturnCtx(t);return j(n,{code:R.invalid_type,expected:$.never,received:n.parsedType}),Q}};_n.create=e=>new _n(k({typeName:G.ZodNever},te(e)));var vi=class extends ne{_parse(t){if(this._getType(t)!==$.undefined){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.void,received:r.parsedType}),Q}return xt(t.data)}};vi.create=e=>new vi(k({typeName:G.ZodVoid},te(e)));var yr=class e extends ne{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==$.array)return j(n,{code:R.invalid_type,expected:$.array,received:n.parsedType}),Q;if(o.exactLength!==null){let i=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(i||a)&&(j(n,{code:i?R.too_big:R.too_small,minimum:a?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(j(n,{code:R.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(j(n,{code:R.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>o.type._parseAsync(new rn(n,i,n.path,a)))).then(i=>lt.mergeArray(r,i));let s=[...n.data].map((i,a)=>o.type._parseSync(new rn(n,i,n.path,a)));return lt.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new e(L(k({},this._def),{minLength:{value:t,message:q.toString(n)}}))}max(t,n){return new e(L(k({},this._def),{maxLength:{value:t,message:q.toString(n)}}))}length(t,n){return new e(L(k({},this._def),{exactLength:{value:t,message:q.toString(n)}}))}nonempty(t){return this.min(1,t)}};yr.create=(e,t)=>new yr(k({type:e,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray},te(t)));function mi(e){if(e instanceof It){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=nn.create(mi(r))}return new It(L(k({},e._def),{shape:()=>t}))}else return e instanceof yr?new yr(L(k({},e._def),{type:mi(e.element)})):e instanceof nn?nn.create(mi(e.unwrap())):e instanceof Hn?Hn.create(mi(e.unwrap())):e instanceof $n?$n.create(e.items.map(t=>mi(t))):e}var It=class e extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),n=ce.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==$.object){let l=this._getOrReturnCtx(t);return j(l,{code:R.invalid_type,expected:$.object,received:l.parsedType}),Q}let{status:r,ctx:o}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof _n&&this._def.unknownKeys==="strip"))for(let l in o.data)i.includes(l)||a.push(l);let c=[];for(let l of i){let u=s[l],d=o.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new rn(o,d,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof _n){let l=this._def.unknownKeys;if(l==="passthrough")for(let u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:o.data[u]}});else if(l==="strict")a.length>0&&(j(o,{code:R.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let u of a){let d=o.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new rn(o,d,o.path,u)),alwaysSet:u in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let u of c){let d=await u.key,f=await u.value;l.push({key:d,value:f,alwaysSet:u.alwaysSet})}return l}).then(l=>lt.mergeObjectSync(r,l)):lt.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return q.errToObj,new e(k(L(k({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,r)=>{var o,s,i,a;let c=(i=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=q.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}))}strip(){return new e(L(k({},this._def),{unknownKeys:"strip"}))}passthrough(){return new e(L(k({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new e(L(k({},this._def),{shape:()=>k(k({},this._def.shape()),t)}))}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>k(k({},this._def.shape()),t._def.shape()),typeName:G.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new e(L(k({},this._def),{catchall:t}))}pick(t){let n={};return ce.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new e(L(k({},this._def),{shape:()=>n}))}omit(t){let n={};return ce.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new e(L(k({},this._def),{shape:()=>n}))}deepPartial(){return mi(this)}partial(t){let n={};return ce.objectKeys(this.shape).forEach(r=>{let o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new e(L(k({},this._def),{shape:()=>n}))}required(t){let n={};return ce.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof nn;)s=s._def.innerType;n[r]=s}}),new e(L(k({},this._def),{shape:()=>n}))}keyof(){return $v(ce.objectKeys(this.shape))}};It.create=(e,t)=>new It(k({shape:()=>e,unknownKeys:"strip",catchall:_n.create(),typeName:G.ZodObject},te(t)));It.strictCreate=(e,t)=>new It(k({shape:()=>e,unknownKeys:"strict",catchall:_n.create(),typeName:G.ZodObject},te(t)));It.lazycreate=(e,t)=>new It(k({shape:e,unknownKeys:"strip",catchall:_n.create(),typeName:G.ZodObject},te(t)));var as=class extends ne{_parse(t){let{ctx:n}=this._processInputParams(t),r=this._def.options;function o(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;let i=s.map(a=>new Ht(a.ctx.common.issues));return j(n,{code:R.invalid_union,unionErrors:i}),Q}if(n.common.async)return Promise.all(r.map(async s=>{let i=L(k({},n),{common:L(k({},n.common),{issues:[]}),parent:null});return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(o);{let s,i=[];for(let c of r){let l=L(k({},n),{common:L(k({},n.common),{issues:[]}),parent:null}),u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(c=>new Ht(c));return j(n,{code:R.invalid_union,unionErrors:a}),Q}}get options(){return this._def.options}};as.create=(e,t)=>new as(k({options:e,typeName:G.ZodUnion},te(t)));var pr=e=>e instanceof ls?pr(e.schema):e instanceof Vt?pr(e.innerType()):e instanceof us?[e.value]:e instanceof ds?e.options:e instanceof fs?ce.objectValues(e.enum):e instanceof hs?pr(e._def.innerType):e instanceof ss?[void 0]:e instanceof is?[null]:e instanceof nn?[void 0,...pr(e.unwrap())]:e instanceof Hn?[null,...pr(e.unwrap())]:e instanceof nc||e instanceof ms?pr(e.unwrap()):e instanceof ps?pr(e._def.innerType):[],Su=class e extends ne{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.object)return j(n,{code:R.invalid_type,expected:$.object,received:n.parsedType}),Q;let r=this.discriminator,o=n.data[r],s=this.optionsMap.get(o);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(j(n,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let o=new Map;for(let s of n){let i=pr(s.shape[t]);if(!i.length)throw new Error("A discriminator value for key `".concat(t,"` could not be extracted from all schema options"));for(let a of i){if(o.has(a))throw new Error("Discriminator property ".concat(String(t)," has duplicate value ").concat(String(a)));o.set(a,s)}}return new e(k({typeName:G.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o},te(r)))}};function km(e,t){let n=mr(e),r=mr(t);if(e===t)return{valid:!0,data:e};if(n===$.object&&r===$.object){let o=ce.objectKeys(t),s=ce.objectKeys(e).filter(a=>o.indexOf(a)!==-1),i=k(k({},e),t);for(let a of s){let c=km(e[a],t[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(n===$.array&&r===$.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let s=0;s<e.length;s++){let i=e[s],a=t[s],c=km(i,a);if(!c.valid)return{valid:!1};o.push(c.data)}return{valid:!0,data:o}}else return n===$.date&&r===$.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var cs=class extends ne{_parse(t){let{status:n,ctx:r}=this._processInputParams(t),o=(s,i)=>{if(vm(s)||vm(i))return Q;let a=km(s.value,i.value);return a.valid?((xm(s)||xm(i))&&n.dirty(),{status:n.value,value:a.data}):(j(r,{code:R.invalid_intersection_types}),Q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};cs.create=(e,t,n)=>new cs(k({left:e,right:t,typeName:G.ZodIntersection},te(n)));var $n=class e extends ne{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.array)return j(r,{code:R.invalid_type,expected:$.array,received:r.parsedType}),Q;if(r.data.length<this._def.items.length)return j(r,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&r.data.length>this._def.items.length&&(j(r,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let s=[...r.data].map((i,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new rn(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>lt.mergeArray(n,i)):lt.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new e(L(k({},this._def),{rest:t}))}};$n.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $n(k({items:e,typeName:G.ZodTuple,rest:null},te(t)))};var Pu=class e extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.object)return j(r,{code:R.invalid_type,expected:$.object,received:r.parsedType}),Q;let o=[],s=this._def.keyType,i=this._def.valueType;for(let a in r.data)o.push({key:s._parse(new rn(r,a,r.path,a)),value:i._parse(new rn(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?lt.mergeObjectAsync(n,o):lt.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ne?new e(k({keyType:t,valueType:n,typeName:G.ZodRecord},te(r))):new e(k({keyType:so.create(),valueType:t,typeName:G.ZodRecord},te(n)))}},xi=class extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.map)return j(r,{code:R.invalid_type,expected:$.map,received:r.parsedType}),Q;let o=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([a,c],l)=>({key:o._parse(new rn(r,a,r.path,[l,"key"])),value:s._parse(new rn(r,c,r.path,[l,"value"]))}));if(r.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of i){let l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Q;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{let a=new Map;for(let c of i){let l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Q;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}};xi.create=(e,t,n)=>new xi(k({valueType:t,keyType:e,typeName:G.ZodMap},te(n)));var ki=class e extends ne{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$.set)return j(r,{code:R.invalid_type,expected:$.set,received:r.parsedType}),Q;let o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(j(r,{code:R.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(j(r,{code:R.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());let s=this._def.valueType;function i(c){let l=new Set;for(let u of c){if(u.status==="aborted")return Q;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}let a=[...r.data.values()].map((c,l)=>s._parse(new rn(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(t,n){return new e(L(k({},this._def),{minSize:{value:t,message:q.toString(n)}}))}max(t,n){return new e(L(k({},this._def),{maxSize:{value:t,message:q.toString(n)}}))}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};ki.create=(e,t)=>new ki(k({valueType:e,minSize:null,maxSize:null,typeName:G.ZodSet},te(t)));var Tu=class e extends ne{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.function)return j(n,{code:R.invalid_type,expected:$.function,received:n.parsedType}),Q;function r(a,c){return Bu({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Eu(),yi].filter(l=>!!l),issueData:{code:R.invalid_arguments,argumentsError:c}})}function o(a,c){return Bu({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Eu(),yi].filter(l=>!!l),issueData:{code:R.invalid_return_type,returnTypeError:c}})}let s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof ao){let a=this;return xt(async function(...c){let l=new Ht([]),u=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(r(c,h)),l}),d=await Reflect.apply(i,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(h=>{throw l.addIssue(o(d,h)),l})})}else{let a=this;return xt(function(...c){let l=a._def.args.safeParse(c,s);if(!l.success)throw new Ht([r(c,l.error)]);let u=Reflect.apply(i,this,l.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new Ht([o(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e(L(k({},this._def),{args:$n.create(t).rest(gr.create())}))}returns(t){return new e(L(k({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new e(k({args:t||$n.create([]).rest(gr.create()),returns:n||gr.create(),typeName:G.ZodFunction},te(r)))}},ls=class extends ne{get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};ls.create=(e,t)=>new ls(k({getter:e,typeName:G.ZodLazy},te(t)));var us=class extends ne{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return j(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:t.data}}get value(){return this._def.value}};us.create=(e,t)=>new us(k({value:e,typeName:G.ZodLiteral},te(t)));function $v(e,t){return new ds(k({values:e,typeName:G.ZodEnum},te(t)))}var ds=class e extends ne{constructor(){super(...arguments),Ja.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),r=this._def.values;return j(n,{expected:ce.joinValues(r),received:n.parsedType,code:R.invalid_type}),Q}if(Cu(this,Ja,"f")||Uv(this,Ja,new Set(this._def.values),"f"),!Cu(this,Ja,"f").has(t.data)){let n=this._getOrReturnCtx(t),r=this._def.values;return j(n,{received:n.data,code:R.invalid_enum_value,options:r}),Q}return xt(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return e.create(t,k(k({},this._def),n))}exclude(t,n=this._def){return e.create(this.options.filter(r=>!t.includes(r)),k(k({},this._def),n))}};Ja=new WeakMap;ds.create=$v;var fs=class extends ne{constructor(){super(...arguments),ec.set(this,void 0)}_parse(t){let n=ce.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$.string&&r.parsedType!==$.number){let o=ce.objectValues(n);return j(r,{expected:ce.joinValues(o),received:r.parsedType,code:R.invalid_type}),Q}if(Cu(this,ec,"f")||Uv(this,ec,new Set(ce.getValidEnumValues(this._def.values)),"f"),!Cu(this,ec,"f").has(t.data)){let o=ce.objectValues(n);return j(r,{received:r.data,code:R.invalid_enum_value,options:o}),Q}return xt(t.data)}get enum(){return this._def.values}};ec=new WeakMap;fs.create=(e,t)=>new fs(k({values:e,typeName:G.ZodNativeEnum},te(t)));var ao=class extends ne{unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$.promise&&n.common.async===!1)return j(n,{code:R.invalid_type,expected:$.promise,received:n.parsedType}),Q;let r=n.parsedType===$.promise?n.data:Promise.resolve(n.data);return xt(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}};ao.create=(e,t)=>new ao(k({type:e,typeName:G.ZodPromise},te(t)));var Vt=class extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,s={addIssue:i=>{j(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let i=o.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return Q;let c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Q:c.status==="dirty"||n.value==="dirty"?gi(c.value):c});{if(n.value==="aborted")return Q;let a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?Q:a.status==="dirty"||n.value==="dirty"?gi(a.value):a}}if(o.type==="refinement"){let i=a=>{let c=o.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!es(i))return i;let a=o.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>es(i)?Promise.resolve(o.transform(i.value,s)).then(a=>({status:n.value,value:a})):i);ce.assertNever(o)}};Vt.create=(e,t,n)=>new Vt(k({schema:e,typeName:G.ZodEffects,effect:t},te(n)));Vt.createWithPreprocess=(e,t,n)=>new Vt(k({schema:t,effect:{type:"preprocess",transform:e},typeName:G.ZodEffects},te(n)));var nn=class extends ne{_parse(t){return this._getType(t)===$.undefined?xt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};nn.create=(e,t)=>new nn(k({innerType:e,typeName:G.ZodOptional},te(t)));var Hn=class extends ne{_parse(t){return this._getType(t)===$.null?xt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Hn.create=(e,t)=>new Hn(k({innerType:e,typeName:G.ZodNullable},te(t)));var hs=class extends ne{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return n.parsedType===$.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};hs.create=(e,t)=>new hs(k({innerType:e,typeName:G.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},te(t)));var ps=class extends ne{_parse(t){let{ctx:n}=this._processInputParams(t),r=L(k({},n),{common:L(k({},n.common),{issues:[]})}),o=this._def.innerType._parse({data:r.data,path:r.path,parent:k({},r)});return tc(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ht(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ht(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};ps.create=(e,t)=>new ps(k({innerType:e,typeName:G.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},te(t)));var bi=class extends ne{_parse(t){if(this._getType(t)!==$.nan){let r=this._getOrReturnCtx(t);return j(r,{code:R.invalid_type,expected:$.nan,received:r.parsedType}),Q}return{status:"valid",value:t.data}}};bi.create=e=>new bi(k({typeName:G.ZodNaN},te(e)));var xC=Symbol("zod_brand"),nc=class extends ne{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},rc=class e extends ne{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Q:s.status==="dirty"?(n.dirty(),gi(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{let o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Q:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new e({in:t,out:n,typeName:G.ZodPipeline})}},ms=class extends ne{_parse(t){let n=this._def.innerType._parse(t),r=o=>(es(o)&&(o.value=Object.freeze(o.value)),o);return tc(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}};ms.create=(e,t)=>new ms(k({innerType:e,typeName:G.ZodReadonly},te(t)));function Hv(e,t={},n){return e?io.create().superRefine((r,o)=>{var s,i;if(!e(r)){let a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(i=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&i!==void 0?i:!0,l=typeof a=="string"?{message:a}:a;o.addIssue(L(k({code:"custom"},l),{fatal:c}))}}):io.create()}var kC={object:It.lazycreate},G;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(G||(G={}));var bC=(e,t={message:"Input not instance of ".concat(e.name)})=>Hv(n=>n instanceof e,t),Vv=so.create,qv=ts.create,_C=bi.create,EC=ns.create,Zv=rs.create,BC=os.create,CC=wi.create,SC=ss.create,PC=is.create,TC=io.create,NC=gr.create,AC=_n.create,IC=vi.create,OC=yr.create,LC=It.create,RC=It.strictCreate,MC=as.create,UC=Su.create,zC=cs.create,jC=$n.create,DC=Pu.create,$C=xi.create,HC=ki.create,VC=Tu.create,qC=ls.create,ZC=us.create,WC=ds.create,FC=fs.create,KC=ao.create,Rv=Vt.create,GC=nn.create,QC=Hn.create,YC=Vt.createWithPreprocess,XC=rc.create,JC=()=>Vv().optional(),e4=()=>qv().optional(),t4=()=>Zv().optional(),n4={string:e=>so.create(L(k({},e),{coerce:!0})),number:e=>ts.create(L(k({},e),{coerce:!0})),boolean:e=>rs.create(L(k({},e),{coerce:!0})),bigint:e=>ns.create(L(k({},e),{coerce:!0})),date:e=>os.create(L(k({},e),{coerce:!0}))},r4=Q,Z=Object.freeze({__proto__:null,defaultErrorMap:yi,setErrorMap:YB,getErrorMap:Eu,makeIssue:Bu,EMPTY_PATH:XB,addIssueToContext:j,ParseStatus:lt,INVALID:Q,DIRTY:gi,OK:xt,isAborted:vm,isDirty:xm,isValid:es,isAsync:tc,get util(){return ce},get objectUtil(){return wm},ZodParsedType:$,getParsedType:mr,ZodType:ne,datetimeRegex:Dv,ZodString:so,ZodNumber:ts,ZodBigInt:ns,ZodBoolean:rs,ZodDate:os,ZodSymbol:wi,ZodUndefined:ss,ZodNull:is,ZodAny:io,ZodUnknown:gr,ZodNever:_n,ZodVoid:vi,ZodArray:yr,ZodObject:It,ZodUnion:as,ZodDiscriminatedUnion:Su,ZodIntersection:cs,ZodTuple:$n,ZodRecord:Pu,ZodMap:xi,ZodSet:ki,ZodFunction:Tu,ZodLazy:ls,ZodLiteral:us,ZodEnum:ds,ZodNativeEnum:fs,ZodPromise:ao,ZodEffects:Vt,ZodTransformer:Vt,ZodOptional:nn,ZodNullable:Hn,ZodDefault:hs,ZodCatch:ps,ZodNaN:bi,BRAND:xC,ZodBranded:nc,ZodPipeline:rc,ZodReadonly:ms,custom:Hv,Schema:ne,ZodSchema:ne,late:kC,get ZodFirstPartyTypeKind(){return G},coerce:n4,any:TC,array:OC,bigint:EC,boolean:Zv,date:BC,discriminatedUnion:UC,effect:Rv,enum:WC,function:VC,instanceof:bC,intersection:zC,lazy:qC,literal:ZC,map:$C,nan:_C,nativeEnum:FC,never:AC,null:PC,nullable:QC,number:qv,object:LC,oboolean:t4,onumber:e4,optional:GC,ostring:JC,pipeline:XC,preprocess:YC,promise:KC,record:DC,set:HC,strictObject:RC,string:Vv,symbol:CC,transformer:Rv,tuple:jC,undefined:SC,union:MC,unknown:NC,void:IC,NEVER:r4,ZodIssueCode:R,quotelessJson:QB,ZodError:Ht});var o4=Z.bigint(),s4=Z.boolean(),i4=Z.date(),a4=Z.number(),c4=Z.number().max(Number.MAX_SAFE_INTEGER),l4=Z.string(),u4=Z.number().min(5e8).max(Number.MAX_SAFE_INTEGER),d4=Z.string().url(),f4=Z.any(),_i=Z.string().regex(/^[0-9a-fA-F]*$/).refine(e=>e.length%2===0),h4=Z.union([Z.string(),Z.number(),Z.boolean(),Z.null()]),p4=_i.refine(e=>e.length===32),m4=_i.refine(e=>e.length===40),g4=_i.refine(e=>e.length===64),y4=_i.refine(e=>e.length===128),w4=_i.refine(e=>e.length===66),v4=Z.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/),x4=Z.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/),k4=Z.string().regex(/^[a-zA-Z0-9\-_]+={0,2}$/),b4=Z.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/),Ot={any:f4,base58:v4,base64:x4,b64url:k4,bech32:b4,big:o4,bool:s4,date:i4,hex32:g4,hex16:p4,hex20:m4,hex64:y4,hex:_i,literal:h4,num:a4,pubkey:w4,str:l4,stamp:u4,uint:c4,url:d4};var Wv=Ot.str.array(),Fv=Z.object({content:Ot.str,created_at:Ot.stamp,kind:Ot.num,pubkey:Ot.hex32,tags:Wv.array()}),Kv=Fv.extend({id:Ot.hex32}),_4=Kv.extend({sig:Ot.hex64}),Gv={signed:_4,tags:Wv,template:Fv,unsigned:Kv};var E4=Ot.hex16,B4=Ot.str,C4=Ot.str.min(3).max(256),S4=Z.tuple([C4,E4,B4]),Qv={envelope:S4};var co={base:Ot,event:Gv,msg:Qv};var Yv;(function(e){function t(o,s){if(o===!1)throw new Error(s!=null?s:"Assertion failed!")}e.ok=t;function n(o,s){if(typeof o>"u")throw new TypeError(s!=null?s:"Input is undefined!");if(o===null)throw new TypeError(s!=null?s:"Input is null!")}e.exists=n;function r(o,s,i){let a=P.bytes(o);if(a.length!==s)throw new Error(i!=null?i:"Invalid byte size: ".concat(a.hex," !== ").concat(s));return!0}e.size=r})(Yv||(Yv={}));var oc=()=>Math.floor(Date.now()/1e3);function Nu(e){return e instanceof Error?e.message:typeof e=="string"?e:String(e)}function Xv(e,t,n,r){var l;let o=(l=e.created_at)!=null?l:oc(),s=pi(r),i=Jo(r,n),a=ku(i,t),c=L(k({},e),{pubkey:s,content:a,created_at:o});return c.tags.push(["p",n]),P4(r,c)}function P4(e,t){let n=gm(t),r=Av(e,n);return L(k({},t),{id:n,sig:r})}function Jv(e){let a=e,{id:t,sig:n}=a,r=_c(a,["id","sig"]),s=co.event.signed.safeParse(e),i=gm(r);return s.success?t!==i?"event id mismatch":Iv(t,e.pubkey,n)?null:"invalid event signature":"event failed schema validation"}function tx(e,t){let n=Jv(e);if(n!==null)throw new Error(n);let r=pi(t);if(!Ov(e,r))throw new Error("pubkey not in peers list");let o=Jo(t,e.pubkey),s=bu(o,e.content);return JSON.parse(s)}function En(e){var n;let t=(n=e.id)!=null?n:_u();return L(k({},e),{id:t})}function nx(e,t,n){try{return JSON.stringify([e,n,t])}catch(r){throw new Error("failed to create message payload")}}function rx(e,t){let r=co.msg.envelope.safeParse(e);if(!r.success)throw!1,new Error("envelope failed schema validation");let[o,s,i]=r.data;return{env:t,data:i,id:s,tag:o}}function ox(e){if(!co.base.url.array().safeParse(e).success)throw new Error("invalid relay set: "+e)}function sx(e){if(!co.base.hex32.safeParse(e).success)throw new Error("invalid secret key: "+e)}var uo={};Ar(uo,{H1:()=>M4,H2:()=>U4,H3:()=>z4,H4:()=>j4,H5:()=>D4});var Bn=BigInt(0),Cn=BigInt(1),A4=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ei=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Bi=At.CURVE,lo=ro(Ei,32,!0),I4=At.ProjectivePoint,gs="FROST-secp256k1-SHA256-v1",Au={_0n:Bn,_1n:Cn,_N:Ei,_P:A4,CURVE:Bi,DOMAIN:gs,FIELD:lo,POINT:I4};var{POINT:O4,_N:L4,_P:RI}=Au;function ge(e){return Be(e,L4)}function _m(e){return new TextEncoder().encode(e)}function kt(e){let t=P.bytes(e);if(t.length<32||t.length>33)throw new Error("invalid pubkeky: "+t.hex+" "+t.length);return t.length===32&&(t=t.prepend(2)),O4.fromHex(t.hex)}var R4={m:1,p:Ei,k:128,expand:"xmd",hash:Dt};function Em(e){return L(k({},R4),{DST:e})}function M4(e){let t=gs+"rho",n=fu(e,1,Em(t));return P.big(n[0][0],32)}function U4(e){let t=gs+"chal",n=fu(e,1,Em(t));return P.big(n[0][0],32)}function z4(e){let t=gs+"nonce",n=fu(e,1,Em(t));return P.big(n[0][0],32)}function j4(e){let t=_m(gs+"msg"),n=Dt(new Uint8Array([...t,...e]));return new P(n)}function D4(e){let t=_m(gs+"com"),n=Dt(new Uint8Array([...t,...e]));return new P(n)}var pe={};Ar(pe,{DeserializeElement:()=>rS,DeserializeScalar:()=>sS,ElementAdd:()=>Iu,ElementAddMany:()=>eS,Identity:()=>X4,Order:()=>Y4,RandomScalar:()=>J4,ScalarBaseMulti:()=>Bm,ScalarMulti:()=>tS,SerializeElement:()=>nS,SerializeScalar:()=>oS});var He={};Ar(He,{equal_arr_size:()=>F4,exists:()=>H4,is_equal_set:()=>W4,is_included:()=>q4,is_unique_set:()=>Z4,ok:()=>$4,size:()=>V4});function $4(e,t){if(e===!1)throw new Error(t!=null?t:"Assertion failed!")}function H4(e){if(typeof e>"u")throw new TypeError("Input is undefined!");if(e===null)throw new TypeError("Input is null!")}function V4(e,t){let n=P.bytes(e);if(n.length!==t)throw new Error("Invalid byte size: ".concat(n.hex," !== ").concat(t));return!0}function q4(e,t){if(!e.includes(t))throw new Error("item is not included in array")}function Z4(e){for(let t of e)if(e.filter(r=>r===t).length!==1)throw new Error("item in set is not unique: "+String(t))}function W4(e){if(!e.every(t=>t===e[0]))throw new Error("set does not have equal items")}function F4(e,t){if(e.length!==t.length)throw new Error("array lengths are unequal: ".concat(e.length," !== ").concat(t.length))}function K4(e){let t=P.str(e).digest;return P.join([t,t])}function ix(e,...t){let n=K4(e),r=t.map(o=>P.bytes(o));return P.join([n,...r]).digest}var{POINT:cx,_0n:ax,_1n:G4,_N:Q4}=Au;function Y4(){return Q4}function X4(){return new cx(ax,G4,ax)}function J4(){let e=P.random(32).big;return ge(e)}function Iu(e,t){if(e===null&&t===null)throw new Error("both points are null!");if(e===null)return He.exists(t),t;if(t===null)return e;{let n=e.add(t);return n.assertValidity(),n}}function eS(e){let t=e.slice(1).reduce((n,r)=>Iu(n,r),e[0]);if(t===null)throw new Error("Summed point is null.");return t.assertValidity(),t}function tS(e,t){let n=e.multiply(t);return n.assertValidity(),n}function Bm(e){let n=At.ProjectivePoint.BASE.multiply(e);return n.assertValidity(),n}function nS(e){return P.bytes(e.toRawBytes(!0))}function rS(e){let t=P.bytes(e).hex;return cx.fromHex(t)}function oS(e){return new P(e,32)}function sS(e){return P.bytes(e).big}function Cm(e){let t=P.bytes(e).big,n=pe.ScalarBaseMulti(t);return pe.SerializeElement(n).hex}function ux(e,t,n){let r=lx(t,"bip340"),o=lx(e,"bip340");return He.size(r,32),He.size(o,32),ix("BIP0340/challenge",o,r,n).big}function lx(e,t){let n=P.bytes(e);if(t==="ecdsa")return n.length===32?n.prepend(2).hex:n.hex;if(t==="bip340")return n.length===33?n.slice(1).hex:n.hex;throw new Error("invalid pubkey type")}function dx(e){return e.map(t=>BigInt(t.idx))}function Sm(e){let t=[],n=e.sort((r,o)=>r.idx-o.idx);for(let{idx:r,hidden_pn:o,binder_pn:s}of n){let i=[pe.SerializeScalar(r),o,s];t=[...t,...i]}return P.join(t)}function Ou(e,t,n){let r=P.hex(n),o=uo.H4(r),s=Sm(e),i=uo.H5(s);return P.join([t,o,i])}function Lu(e,t){for(let n of e)if(t===n.idx)return P.bytes(n.factor).big;throw new Error("invalid participant")}function Ru(e,t){return e.map(({idx:n})=>{let r=pe.SerializeScalar(n),o=P.join([t,r]);return{idx:n,factor:uo.H1(o).hex}})}function Mu(e,t){let n=null;for(let{idx:r,binder_pn:o,hidden_pn:s}of e){let i=pe.DeserializeElement(s),a=pe.DeserializeElement(o),c=Lu(t,r),l=pe.ScalarMulti(a,c);n=pe.ElementAdd(n,i),n=pe.ElementAdd(n,l)}return He.exists(n),pe.SerializeElement(n).hex}function fx(e,t=[]){let n=t.map(l=>P.bytes(l).big),r=Cn,o=Ei-r,s=e,i=r,a=r,c=Bn;for(let l of n){let u=Bm(l);i=s.hasEvenY()?r:o,s=i===o?s.negate():s,s=Iu(s,u),s.assertValidity(),a=ge(i*a),c=ge(l+i*c)}return i=s.hasEvenY()?r:o,{parity:i,point:s,state:a,tweak:c}}function cS(e,t){let n=P.bytes(e).hex,r=kt(n),o=fx(r,t),s=o.point.toHex(!0);return{int_pk:n,int_pt:r,group_pk:s,group_pt:o}}function lS(e,t,n){let r=e.group_pk,o=Ou(t,r,n).hex,s=Ru(t,o),i=Mu(t,s),a=dx(t),c=ux(i,r,n);return n=P.bytes(n).hex,{bind_prefix:o,bind_factors:s,challenge:c,pnonces:t,group_pn:i,indexes:a,message:n}}function hx(e,t,n,r){let o=cS(e,r),s=lS(o,t,n);return k(k({},o),s)}function Pm(e,t){He.is_included(e,t),He.is_unique_set(e);let n=Cn,r=Cn;for(let o of e)o!==t&&(n=ge(lo.mul(n,o)),r=ge(lo.mul(r,o-t)));return ge(lo.div(n,r))}function Tm(e,t,n){He.is_unique_set(e);let r=Cn,o=Cn;for(let s of e)s!==t&&(r=ge(lo.mul(r,n-s)),o=ge(lo.mul(o,t-s)));return ge(lo.div(r,o))}function px(e,t,n){let r=e.filter(d=>d!==t.idx).map(d=>BigInt(d)),o=BigInt(t.idx),s=P.hex(t.seckey).big,i=kt(n),a=Tm(r,o,Bn),c=ge(a*s),l=i.multiply(c),u=pe.SerializeElement(l).hex;return{idx:t.idx,pubkey:u}}function mx(e){let t=null;for(let n of e)if(t===null)t=kt(n.pubkey);else{let r=kt(n.pubkey);t=t.add(r)}return He.exists(t),pe.SerializeElement(t).hex}function wx(e,t,n){let{bind_factors:r,challenge:o,indexes:s,group_pt:i}=e,a=Lu(r,t.idx),c=Pm(s,BigInt(t.idx));if(n.idx!==t.idx)throw new Error("commit index does not match share index: ".concat(n.idx," !== ").concat(t.idx));let l=P.bytes(n.hidden_sn).big,u=P.bytes(n.binder_sn).big,d=P.bytes(t.seckey).big;kt(e.group_pn).hasEvenY()||(l=Bi.n-l,u=Bi.n-u);let h=ge(i.parity*i.state*d),w=ge(l+u*a),g=ge(o*c*h+w);return{idx:t.idx,psig:P.big(g,32).hex,pubkey:Cm(t.seckey)}}function vx(e,t){let{challenge:n,pnonces:r,group_pt:o,group_pk:s,message:i}=e,a=Ou(r,s,i),c=Ru(r,a),l=Mu(r,c),u=t.map(h=>P.hex(h.psig).big).reduce((h,w)=>ge(h+w),Bn),d=ge(n*o.parity*o.tweak),f=ge(u+d);return P.join([l.slice(2),P.big(f,32)]).hex}function xx(e,t,n,r){let{bind_factors:o,challenge:s,indexes:i,group_pn:a,group_pt:c}=e,l=Lu(o,t.idx),u=kt(t.hidden_pn),d=kt(t.binder_pn),f=kt(n);kt(a).hasEvenY()||(u=pe.ScalarMulti(u,Bi.n-Cn),d=pe.ScalarMulti(d,Bi.n-Cn));let w=pe.ScalarMulti(d,l),g=pe.ElementAdd(u,w),y=Pm(i,BigInt(t.idx)),p=ge(c.parity*c.state),m=ge(s*y*p),v=P.hex(r).big,x=pe.ScalarBaseMulti(v),E=pe.ScalarMulti(f,m),b=pe.ElementAdd(g,E);return x.x===b.x}function kx(e,t,n){let r=px(e,n,t);return{idx:r.idx,keyshare:r.pubkey,members:e,ecdh_pk:t}}function bx(e){let t=e.map(n=>({idx:n.idx,pubkey:n.keyshare}));return mx(t)}var dS=Z.bigint(),fS=Z.boolean(),hS=Z.date(),pS=Z.number(),mS=Z.number().max(Number.MAX_SAFE_INTEGER),gS=Z.string(),yS=Z.number().min(5e8).max(Number.MAX_SAFE_INTEGER),wS=Z.any(),vS=Z.bigint().max(BigInt(100000000)*BigInt(21000000)),_x=Z.union([Z.string(),Z.number(),Z.boolean(),Z.null()]),Nm=Z.lazy(()=>Z.union([_x,Z.array(Nm),Z.record(Nm)])),sc=Z.string().regex(/^[0-9a-fA-F]*$/).refine(e=>e.length%2===0),xS=sc.refine(e=>e.length===40),kS=sc.refine(e=>e.length===64),bS=sc.refine(e=>e.length===66),_S=sc.refine(e=>e.length===128),ES=Z.string().regex(/^[1-9A-HJ-NP-Za-km-z]+$/),BS=Z.string().regex(/^[a-zA-Z0-9+/]+={0,2}$/),CS=Z.string().regex(/^[a-zA-Z0-9\-_]+={0,2}$/),SS=Z.string().regex(/^[a-z]+1[023456789acdefghjklmnpqrstuvwxyz]+$/),ie={any:wS,base58:ES,base64:BS,base64url:CS,bech32:SS,big:dS,bool:fS,date:hS,hex20:xS,hex32:kS,hex33:bS,hex64:_S,hex:sc,json:Nm,literal:_x,num:pS,sats:vS,str:gS,stamp:yS,uint:mS};var Ex=Z.object({idx:ie.num,pubkey:ie.hex33,hidden_pn:ie.hex33,binder_pn:ie.hex33}),PS=Z.object({commits:Z.array(Ex),group_pk:ie.hex33,threshold:ie.num}),TS=Z.object({idx:ie.num,binder_sn:ie.hex32,hidden_sn:ie.hex32,seckey:ie.hex32}),NS=Z.object({idx:ie.num,keyshare:ie.hex,members:ie.num.array(),ecdh_pk:ie.hex}),ic={commit:Ex,ecdh:NS,group:PS,share:TS};var AS=ic.commit.extend({bind_hash:ie.hex32,sid:ie.hex32,sighash:ie.hex32}),IS=ic.share.extend({bind_hash:ie.hex32,sid:ie.hex32,sighash:ie.hex32}),Bx=Z.tuple([ie.hex32,ie.hex32]),Cx=Z.tuple([ie.hex32]).rest(ie.hex32),Sx=Z.object({content:ie.str.nullable(),hashes:Cx.array(),members:ie.num.array(),stamp:ie.num,type:ie.str}),OS=Sx.extend({gid:ie.hex32,sid:ie.hex32}),LS=Z.object({idx:ie.num,psigs:Bx.array(),pubkey:ie.hex33,sid:ie.hex32}),Px={commit:AS,member:IS,psig_entry:Bx,psig_pkg:LS,session:OS,sighash_vec:Cx,template:Sx};var wr={base:ie,pkg:ic,sign:Px};function Uu(e){try{let t=wr.pkg.ecdh,n=JSON.parse(e.data),r=t.parse(n);return L(k({},e),{data:r})}catch(t){throw new Error("ecdh message failed validation")}}function Tx(e){try{let t=wr.sign.session,n=JSON.parse(e.data),r=t.parse(n);return L(k({},e),{data:r})}catch(t){throw new Error("session message failed validation")}}function Nx(e){try{let t=wr.sign.psig_pkg,n=JSON.parse(e.data),r=t.parse(n);return L(k({},e),{data:r})}catch(t){throw new Error("signature message failed validation")}}function Ax(e){try{return wr.pkg.group.parse(e)}catch(t){throw console.log("error:",t),new Error("group package failed validation")}}function Ix(e){try{return wr.pkg.share.parse(e)}catch(t){throw console.log("error:",t),new Error("share package failed validation")}}var vr=()=>Math.floor(Date.now()/1e3);function ut(e){return JSON.parse(JSON.stringify(e))}function zu(e){return e instanceof Map||Array.isArray(e)||typeof e!="object"?e:Object.keys(e).sort().filter(([t,n])=>n!==void 0).reduce((t,n)=>(t[n]=e[n],t),{})}function on(e){return e instanceof Error?e.message:typeof e=="string"?e:String(e)}function Ox(e,t,n){if(t.safeParse(e).success)return!0;if(n===void 0)return!1;throw new Error(n!=null?n:"object failed schema validation")}var le;(function(e){function t(a,c){if(a===!1)throw new Error(c!=null?c:"Assertion failed!")}e.ok=t;function n(a,c,l){if(a!==c)throw new Error(l!=null?l:"".concat(a," !== ").concat(c))}e.equal=n;function r(a,c){if(typeof a>"u")throw new TypeError(c!=null?c:"Input is undefined!");if(a===null)throw new TypeError(c!=null?c:"Input is null!")}e.exists=r;function o(a,c,l){let u=P.bytes(a);if(u.length!==c)throw new Error(l!=null?l:"Invalid byte size: ".concat(u.hex," !== ").concat(c));return!0}e.size=o;function s(a,c,l){r(c),Ox(c,a,l!=null?l:null)}e.schema=s;function i(a){if(typeof a!="string"||a.match(/[^a-fA-F0-9]/)!==null||a.length%2!==0)throw new Error("invalid hex:"+a)}e.is_hex=i})(le||(le={}));var Am=At.CURVE.n,RS=ro(Am,32,!0),Im=At.ProjectivePoint.BASE;function MS(e,t=!1){let n=ys(e).big%Am;return t?Im.multiply(n).hasEvenY()?P.big(n).hex:P.big(Am-n).hex:P.big(n).hex}function fo(e,t){let n=ys(e).big,o=Im.multiply(n).toHex(!0);return ho(o,t)}function Om(e,t,n=!1){let r=ys(e).big,o=ys(t).big,s=RS.add(r,o),i=P.big(s);return MS(i,n)}function Lm(e,t,n=!1){let r=jS(e),o=ys(t).big,s=US(e),i=Im.multiply(o),a=s.add(i);n&&!a.hasEvenY()&&(a=a.negate());let c=a.toHex(!0);return ho(c,r)}function US(e){try{let t=ho(e,"ecdsa");return At.ProjectivePoint.fromHex(t)}catch(t){throw new Error("invalid pubkey: "+e)}}function zS(e,t){try{let n=ys(e);return n.length===33&&t==="bip340"?n.slice(1):n.length===32&&t==="ecdsa"?n.prepend(2):n}catch(n){throw new Error("invalid pubkey: "+String(e))}}function ho(e,t){return zS(e,t).hex}function jS(e){let t=ys(e);if(t.length===33)return"ecdsa";if(t.length===32)return"bip340";throw new Error("invalid pubkey: "+String(e))}function ys(e){try{return P.bytes(e)}catch(t){throw new Error("invalid bytes: "+String(e))}}var Lx;(function(e){function t(o){return o instanceof Error?o.message:typeof o=="string"?o:String(o)}e.error=t;function n(o,s){return s.safeParse(o)}e.data=n;function r(o,s){let i=o.map(c=>s.safeParse(c)),a=i.filter(c=>!c.success).map(c=>c.error.errors.map(l=>"".concat(l.message,": ").concat(l.path)));return a.length!==0?{ok:!1,errors:a}:{ok:!0,data:i.map(c=>c.data)}}e.array=r})(Lx||(Lx={}));function ju(e,t){let n=()=>Math.random()>.5?1:-1,r=Math.min(e.length,t-1);return e.sort(n).slice(0,r)}function Du(e,t){let n=e.commits.filter(r=>t.includes(ho(r.pubkey,"bip340"))).map(r=>r.idx);return le.ok(n.length===t.length,"index count does not match pubkey count"),n}function Rx(e){return e.map(t=>t.pubkey)}function Mx(e){return e.filter(t=>t.policy.recv).map(t=>t.pubkey)}function Hu(e){return e.filter(t=>t.policy.send).map(t=>t.pubkey)}async function Ux(e,t){let n=e.config.middleware.ecdh;try{e.emit("/ecdh/handler/req",ut(t)),typeof n=="function"&&(t=n(e,t));let{members:r,ecdh_pk:o}=t.data,s=e.signer.gen_ecdh_share(r,o),i=En({data:JSON.stringify(s),id:t.id,tag:"/ecdh/res"}),a=await e.client.publish(i,t.env.pubkey);if(!a.ok)throw new Error("failed to publish response");e.emit("/ecdh/handler/res",ut(a.data))}catch(r){e.debug&&console.log(r),e.emit("/ecdh/handler/rej",[on(r),ut(t)])}}function zx(e){return async(t,n)=>{let r=e.group.threshold,o=Hu(e.peers),s=ju(n!=null?n:n=o,r),i=e.cache.ecdh.get(t);if(i!==void 0)return{ok:!0,data:e.signer.unwrap(i,t)};let a=Du(e.group,[e.pubkey,...s]),c=e.signer.gen_ecdh_share(a,t),l=null;try{l=await DS(e,s,c),e.emit("/ecdh/sender/res",ut(l))}catch(u){e.debug&&console.log(u);let d=on(u);return e.emit("/ecdh/sender/rej",[d,ut(c)]),{ok:!1,err:d}}try{le.ok(l!==null,"no responses from peers");let u=[c,...l.map(h=>h.data)],d=$S(u),f=e.signer.wrap(d,t);return e.cache.ecdh.set(t,f),e.emit("/ecdh/sender/ret",[t,d]),{ok:!0,data:d}}catch(u){e.debug&&console.log(u);let d=on(u);return e.emit("/ecdh/sender/err",[d,ut(l!=null?l:[])]),{ok:!1,err:d}}}}async function DS(e,t,n){let r={data:JSON.stringify(n),tag:"/ecdh/req"},o=await e.client.multicast(r,t);if(!o.sub.ok)throw new Error(o.sub.reason);return o.sub.inbox.map(s=>{let i=Uu(s);return le.ok(i!==null,"invalid ecdh response from pubkey: "+s.env.pubkey),i})}function $S(e){return bx(e)}async function jx(e,t){try{e.emit("/ping/handler/req",t);let n=e.peers.find(s=>s.pubkey===t.env.pubkey);if(n===void 0)throw new Error("peer data not found");let r=En({data:JSON.stringify(n.policy),id:t.id,tag:"/ping/res"}),o=await e.client.publish(r,t.env.pubkey);if(!o.ok)throw new Error("failed to publish response");e.update_peer(L(k({},n),{status:"online",updated:Date.now()})),e.emit("/ping/handler/res",ut(o.data))}catch(n){e.debug&&console.log(n),e.emit("/ping/handler/rej",[on(n),ut(t)])}}function Dx(e){return async t=>{let n=null;try{n=await HS(e,t),e.emit("/ping/sender/res",n)}catch(r){e.debug&&console.log(r);let o=on(r);return e.emit("/ping/sender/rej",[o,n]),{ok:!1,err:o}}try{le.ok(n!==null,"no response from peer");let r=vr(),o=VS(n),s=e.peers.find(a=>a.pubkey===n.env.pubkey);le.exists(s,"peer data not found");let i=L(k({},s),{policy:o,status:"online",updated:r});return e.update_peer(i),e.emit("/ping/sender/ret",i),{ok:!0,data:i}}catch(r){e.debug&&console.log(r);let o=on(r);return e.emit("/ping/sender/err",[o,n]),{ok:!1,err:o}}}}async function HS(e,t){let n=await e.client.request({data:"ping",tag:"/ping/req"},t,{});if(!n.ok)throw new Error(n.reason);return n.inbox[0]}function VS(e){return JSON.parse(e.data)}function $x(e){if(Array.isArray(e))return e;if(typeof e=="string")return[e];throw new Error("invalid message payload")}function Hx(e,t,n){let r=qx(e,t.idx,n),o=Lm(t.hidden_pn,r),s=Lm(t.binder_pn,r),[i]=n;return L(k({},t),{binder_pn:s,hidden_pn:o,bind_hash:r,sighash:i,sid:e})}function Vx(e,t,n){let r=qx(e,t.idx,n),o=Om(t.hidden_sn,r),s=Om(t.binder_sn,r),[i]=n;return L(k({},t),{binder_sn:s,hidden_sn:o,bind_hash:r,sighash:i,sid:e})}function qx(e,t,n){let r=P.bytes(e),o=P.num(t,4),s=P.join(n);return P.join([r,o,s]).digest.hex}function Zx(e){let t=Sm(e.commits);return P.join([t,e.group_pk]).digest.hex}function Wx(e,t){let n=e.find(r=>r.idx===t);return le.exists(n,"commit package not found for idx: "+t),n}function Rm(e,t){let n=t.idx,r=fo(t.seckey,"ecdsa");return e.commits.some(o=>o.idx===n&&o.pubkey===r)}var qS=()=>({content:null,stamp:vr(),type:"message"});function Fx(e,t,n={}){let r=typeof t=="string"?[[t]]:t,s=wr.sign.template.safeParse(L(k(k({},qS()),n),{hashes:r,members:e.sort()}));return s.success?s.data:null}function Kx(e,t){let n=Zx(e),r=ZS(n,t);return L(k({},t),{gid:n,sid:r})}function ZS(e,t){var c;let n=t.members.map(l=>P.bytes(l)),r=t.hashes.map(l=>P.join(l)),o=P.bytes((c=t.content)!=null?c:"00"),s=P.str(t.type),i=P.num(t.stamp,4);return P.join([e,...n,...r,o,s,i]).digest.hex}function WS(e,t,n){let r=Wx(e.commits,n);return t.hashes.map(o=>Hx(t.sid,r,o))}function Gx(e,t){return e.hashes.map(n=>Vx(e.sid,t,n))}function FS(e,t){return t.members.map(n=>WS(e,t,n)).flat()}function Vu(e,t){let n=e.commits.map(s=>s.pubkey),r=FS(e,t),o=new Map;for(let s of t.hashes){let[i,...a]=s,c=r.filter(u=>u.sighash===i),l=hx(e.group_pk,c,i,a);o.set(i,l)}return{pubkeys:n,session:t,sigmap:o}}function Qx(e,t){let n=e.session.sid,r=fo(t.seckey,"ecdsa"),o=e.session.hashes.map(a=>a[0]),s=Gx(e.session,t),i=o.map(a=>{let c=s.find(d=>d.sighash===a),l=e.sigmap.get(a);le.exists(c,"share not found for sighash: "+a),le.exists(l,"context not found for sighash: "+a);let u=GS(l,c);return[a,u]});return{idx:t.idx,psigs:i,pubkey:r,sid:n}}function Yx(e,t){let{idx:n,psigs:r,pubkey:o,sid:s}=t;if(s!==e.session.sid)return"session id mismatch";if(!e.pubkeys.includes(o))return"pubkey not found in group";for(let[i,a]of e.sigmap.entries()){let c=r.find(u=>u[0]===i);if(c===void 0)return"partial signature entry not found for sighash: "+i;let l=a.pnonces.find(u=>u.idx===n);if(l===void 0)return"commit package not found for psig idx: "+n;if(!xx(a,l,o,c[1]))return"partial signature invalid"}return null}function KS(e){return e.map(({idx:t,psigs:n,pubkey:r,sid:o})=>n.map(([s,i])=>({sighash:s,idx:t,pubkey:r,psig:i,sid:o}))).flat()}function Xx(e,t){let n=e.session.members.length,r=KS(t),o=[];for(let[s,i]of e.sigmap.entries()){let a=r.filter(u=>u.sighash===s);le.ok(a.length===n,"missing partial signatures for sighash: "+s);let c=i.group_pk,l=vx(i,a);o.push([s,c,l])}return o}function GS(e,t){let{idx:n,binder_sn:r,hidden_sn:o,seckey:s}=t;return wx(e,{idx:n,seckey:s},{idx:n,binder_sn:r,hidden_sn:o}).psig}async function Jx(e,t){let n=e.config.middleware.sign;try{e.emit("/sign/handler/req",ut(t)),typeof n=="function"&&(t=n(e,t));let r=e.signer.sign_session(t.data),o=En({data:JSON.stringify(r),id:t.id,tag:"/sign/res"}),s=await e.client.publish(o,t.env.pubkey);if(!s.ok)throw new Error("failed to publish response");e.emit("/sign/handler/res",ut(s.data))}catch(r){e.debug&&console.log(r),e.emit("/sign/handler/rej",[on(r),ut(t)])}}function e2(e){return async t=>{let n=$x(t);return e.queue.push(n)}}function t2(e){return async(t,n={})=>{var f;let r=typeof t=="string"?[[t]]:t,o=Hu(e.peers),s=(f=n.peers)!=null?f:n.peers=o,i=e.group.threshold,a=ju(s,i),c=Du(e.group,[e.pubkey,...a]),l=Fx(c,r,n);le.ok(l!==null,"invalid session template");let u=Kx(e.group,l),d=null;try{d=await QS(e,a,u),e.emit("/sign/sender/res",ut(d))}catch(h){e.debug&&console.log(h);let w=on(h);return e.emit("/sign/sender/rej",[w,u]),{ok:!1,err:w}}try{le.ok(d!==null,"no responses from peers");let h=YS(e,d,u);return e.emit("/sign/sender/ret",[u.sid,h]),{ok:!0,data:h}}catch(h){e.debug&&console.log(h);let w=on(h);return e.emit("/sign/sender/err",[w,d!=null?d:[]]),{ok:!1,err:w}}}}async function QS(e,t,n){let r=await e.client.multicast({data:JSON.stringify(n),tag:"/sign/req"},t);if(!r.sub.ok)throw new Error(r.sub.reason);return r.sub.inbox}function YS(e,t,n){let r=Vu(e.group,n),o=[e.signer.sign_session(n)];return t.forEach(s=>{let i=Nx(s),a=Yx(r,i.data);le.ok(a===null,a+" : "+s.env.pubkey),o.push(i.data)}),Xx(r,o)}var Zu=class{constructor(){this.eventMap=new Map}_get_event_handlers(t){let n=this.eventMap.get(t);if(!n){let r=new Set;return this.eventMap.set(t,r),r}return n}has(t){let n=this.eventMap.get(t);return n!==void 0&&n.size>0}on(t,n){this._get_event_handlers(t).add(n)}once(t,n){let r=o=>{this.off(t,r),qu(n,o)};this.on(t,r)}within(t,n,r){let o=s=>{qu(n,s)};setTimeout(()=>{this.off(t,o)},r),this.on(t,o)}emit(t,n){let r=[];this._get_event_handlers(t).forEach(o=>{let s=qu(o,n);s instanceof Promise&&r.push(s)}),this._get_event_handlers("*").forEach(o=>{let s=qu(o,[t,n]);s instanceof Promise&&r.push(s)}),Promise.allSettled(r)}off(t,n){this._get_event_handlers(t).delete(n)}clear(t){this.eventMap.delete(t)}};function qu(e,t){return Array.isArray(t)&&t.length>0?e.apply(null,t):e(t)}var JS=()=>({}),ac=class{constructor(t,n,r){this._config=k(k({},JS()),r),this._group=Ax(t),this._share=Ix(n),this._pubkey=fo(this._share.seckey,"bip340")}get config(){return this._config}get group(){return this._group}get pubkey(){return this._pubkey}gen_ecdh_share(t,n){return kx(t,n,this._share)}sign_message(t,n){let r=Yo.sign(t,this._share.seckey,n);return new P(r).hex}sign_session(t){let n=Vu(this._group,t);return Qx(n,this._share)}unwrap(t,n){let r=this._share.seckey,o=Jo(r,n);return bu(o,t)}wrap(t,n){let r=this._share.seckey,o=Jo(r,n);return ku(o,t)}};var Wu=class{constructor(t){this._node=t,this._ival=t.config.sign_interval,this._queue=[],this._timer=null}get node(){return this._node}get timer(){return this._timer}async push(t){return new Promise((n,r)=>{this._queue.push({sigvec:t,resolve:n,reject:r}),this.schedule()})}async process(){let t=[...this._queue];if(this._queue=[],this._timer=null,t.length!==0){this.node.emit("info","batch signing event ids: "+String(t.map(n=>n.sigvec[0])));try{let n=t.map(o=>o.sigvec),r=await this.node.req.sign(n);if(!r.ok){t.forEach(o=>o.reject(r.err));return}t.forEach(o=>{let s=r.data.find(i=>i[0]===o.sigvec[0]);s!==void 0?o.resolve(s):o.reject("signature missing from response")})}catch(n){t.forEach(r=>r.reject(n.message))}}}schedule(){this.timer===null&&(this._timer=setTimeout(()=>this.process(),this._ival))}};var xr=class{constructor(){this.eventMap=new Map}getEventHandlers(t){let n=this.eventMap.get(t);if(!n){let r=new Set;return this.eventMap.set(t,r),r}return n}has(t){let n=this.eventMap.get(t);return n!==void 0&&n.size>0}on(t,n){this.getEventHandlers(t).add(n)}once(t,n){let r=o=>{this.off(t,r),n(o)};this.on(t,r)}within(t,n,r){let o=s=>{n(s)};setTimeout(()=>{this.off(t,o)},r),this.on(t,o)}emit(t,n){let r=[];this.getEventHandlers(t).forEach(o=>{let s=o(n);s instanceof Promise&&r.push(s)}),this.getEventHandlers("*").forEach(o=>{let s=o(t,n);s instanceof Promise&&r.push(s)}),Promise.allSettled(r)}off(t,n){this.getEventHandlers(t).delete(n)}clear(t){this.eventMap.delete(t)}};function r2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Mm(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(t,", not of length=").concat(e.length))}function o2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");r2(e.outputLen),r2(e.blockLen)}function Ci(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function s2(e,t){Mm(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var Fu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var i2=e=>e instanceof Uint8Array;var Ku=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Sn=(e,t)=>e<<32-t|e>>>t,e8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!e8)throw new Error("Non little-endian hardware is not supported");function t8(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function cc(e){if(typeof e=="string"&&(e=t8(e)),!i2(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function a2(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!i2(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}var Si=class{clone(){return this._cloneInto()}},U7={}.toString;function c2(e){let t=r=>e().update(cc(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Gu(e=32){if(Fu&&typeof Fu.getRandomValues=="function")return Fu.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function n8(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var Qu=class extends Si{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ku(this.buffer)}update(t){Ci(this);let{view:n,buffer:r,blockLen:o}=this;t=cc(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Ku(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ci(this),s2(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;n8(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=Ku(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};var r8=(e,t,n)=>e&t^~e&n,o8=(e,t,n)=>e&t^e&n^t&n,s8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),po=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mo=new Uint32Array(64),Um=class extends Qu{constructor(){super(64,32,8,!1),this.A=po[0]|0,this.B=po[1]|0,this.C=po[2]|0,this.D=po[3]|0,this.E=po[4]|0,this.F=po[5]|0,this.G=po[6]|0,this.H=po[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)mo[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){let f=mo[d-15],h=mo[d-2],w=Sn(f,7)^Sn(f,18)^f>>>3,g=Sn(h,17)^Sn(h,19)^h>>>10;mo[d]=g+mo[d-7]+w+mo[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=Sn(a,6)^Sn(a,11)^Sn(a,25),h=u+f+r8(a,c,l)+s8[d]+mo[d]|0,g=(Sn(r,2)^Sn(r,13)^Sn(r,22))+o8(r,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=r,r=h+g|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){mo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Yu=c2(()=>new Um);var $m={};Ar($m,{bitGet:()=>f8,bitLen:()=>d8,bitMask:()=>lc,bitSet:()=>h8,bytesToHex:()=>ws,bytesToNumberBE:()=>tt,bytesToNumberLE:()=>ed,concatBytes:()=>kr,createHmacDrbg:()=>Dm,ensureBytes:()=>Ve,equalBytes:()=>l8,hexToBytes:()=>vs,hexToNumber:()=>jm,numberToBytesBE:()=>Pn,numberToBytesLE:()=>td,numberToHexUnpadded:()=>d2,numberToVarBytesBE:()=>c8,utf8ToBytes:()=>u8,validateObject:()=>go});var u2=BigInt(0),Xu=BigInt(1),i8=BigInt(2),Ju=e=>e instanceof Uint8Array,a8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ws(e){if(!Ju(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=a8[e[n]];return t}function d2(e){let t=e.toString(16);return t.length&1?"0".concat(t):t}function jm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":"0x".concat(e))}function vs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){let o=r*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function tt(e){return jm(ws(e))}function ed(e){if(!Ju(e))throw new Error("Uint8Array expected");return jm(ws(Uint8Array.from(e).reverse()))}function Pn(e,t){return vs(e.toString(16).padStart(t*2,"0"))}function td(e,t){return Pn(e,t).reverse()}function c8(e){return vs(d2(e))}function Ve(e,t,n){let r;if(typeof t=="string")try{r=vs(t)}catch(s){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(s))}else if(Ju(t))r=Uint8Array.from(t);else throw new Error("".concat(e," must be hex string or Uint8Array"));let o=r.length;if(typeof n=="number"&&o!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(o));return r}function kr(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!Ju(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function l8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function u8(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function d8(e){let t;for(t=0;e>u2;e>>=Xu,t+=1);return t}function f8(e,t){return e>>BigInt(t)&Xu}var h8=(e,t,n)=>e|(n?Xu:u2)<<BigInt(t),lc=e=>(i8<<BigInt(e-1))-Xu,zm=e=>new Uint8Array(e),l2=e=>Uint8Array.from(e);function Dm(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=zm(e),o=zm(e),s=0,i=()=>{r.fill(1),o.fill(0),s=0},a=(...d)=>n(o,r,...d),c=(d=zm())=>{o=a(l2([0]),d),r=a(),d.length!==0&&(o=a(l2([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,f=[];for(;d<t;){r=a();let h=r.slice();f.push(h),d+=r.length}return kr(...f)};return(d,f)=>{i(),c(d);let h;for(;!(h=f(l()));)c();return i(),h}}var p8={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function go(e,t,n={}){let r=(o,s,i)=>{let a=p8[s];if(typeof a!="function")throw new Error('Invalid validator "'.concat(s,'", expected function'));let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("Invalid param ".concat(String(o),"=").concat(c," (").concat(typeof c,"), expected ").concat(s))};for(let[o,s]of Object.entries(t))r(o,s,!1);for(let[o,s]of Object.entries(n))r(o,s,!0);return e}var Ze=BigInt(0),Te=BigInt(1),xs=BigInt(2),m8=BigInt(3),Hm=BigInt(4),f2=BigInt(5),h2=BigInt(8),g8=BigInt(9),y8=BigInt(16);function qe(e,t){let n=e%t;return n>=Ze?n:t+n}function w8(e,t,n){if(n<=Ze||t<Ze)throw new Error("Expected power/modulo > 0");if(n===Te)return Ze;let r=Te;for(;t>Ze;)t&Te&&(r=r*e%n),e=e*e%n,t>>=Te;return r}function qt(e,t,n){let r=e;for(;t-- >Ze;)r*=r,r%=n;return r}function nd(e,t){if(e===Ze||t<=Ze)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=qe(e,t),r=t,o=Ze,s=Te,i=Te,a=Ze;for(;n!==Ze;){let l=r/n,u=r%n,d=o-i*l,f=s-a*l;r=n,n=u,o=i,s=a,i=d,a=f}if(r!==Te)throw new Error("invert: does not exist");return qe(o,t)}function v8(e){let t=(e-Te)/xs,n,r,o;for(n=e-Te,r=0;n%xs===Ze;n/=xs,r++);for(o=xs;o<e&&w8(o,t,e)!==e-Te;o++);if(r===1){let i=(e+Te)/Hm;return function(c,l){let u=c.pow(l,i);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let s=(n+Te)/xs;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,o),n),d=a.pow(c,s),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let g=a.sqr(f);h<l&&!a.eql(g,a.ONE);h++)g=a.sqr(g);let w=a.pow(u,Te<<BigInt(l-h-1));u=a.sqr(w),d=a.mul(d,w),f=a.mul(f,u),l=h}return d}}function x8(e){if(e%Hm===m8){let t=(e+Te)/Hm;return function(r,o){let s=r.pow(o,t);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%h2===f2){let t=(e-f2)/h2;return function(r,o){let s=r.mul(o,xs),i=r.pow(s,t),a=r.mul(o,i),c=r.mul(r.mul(a,xs),i),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),o))throw new Error("Cannot find square root");return l}}return e%y8,v8(e)}var k8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vm(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=k8.reduce((r,o)=>(r[o]="function",r),t);return go(e,n)}function b8(e,t,n){if(n<Ze)throw new Error("Expected power > 0");if(n===Ze)return e.ONE;if(n===Te)return t;let r=e.ONE,o=t;for(;n>Ze;)n&Te&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Te;return r}function _8(e,t){let n=new Array(t.length),r=t.reduce((s,i,a)=>e.is0(i)?s:(n[a]=s,e.mul(s,i)),e.ONE),o=e.inv(r);return t.reduceRight((s,i,a)=>e.is0(i)?s:(n[a]=e.mul(s,n[a]),e.mul(s,i)),o),n}function qm(e,t){let n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function p2(e,t,n=!1,r={}){if(e<=Ze)throw new Error("Expected Field ORDER > 0, got ".concat(e));let{nBitLength:o,nByteLength:s}=qm(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let i=x8(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:s,MASK:lc(o),ZERO:Ze,ONE:Te,create:c=>qe(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("Invalid field element: expected bigint, got ".concat(typeof c));return Ze<=c&&c<e},is0:c=>c===Ze,isOdd:c=>(c&Te)===Te,neg:c=>qe(-c,e),eql:(c,l)=>c===l,sqr:c=>qe(c*c,e),add:(c,l)=>qe(c+l,e),sub:(c,l)=>qe(c-l,e),mul:(c,l)=>qe(c*l,e),pow:(c,l)=>b8(a,c,l),div:(c,l)=>qe(c*nd(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>nd(c,e),sqrt:r.sqrt||(c=>i(a,c)),invertBatch:c=>_8(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?td(c,s):Pn(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(c.length));return n?ed(c):tt(c)}});return Object.freeze(a)}function m2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Zm(e){let t=m2(e);return t+Math.ceil(t/2)}function g2(e,t,n=!1){let r=e.length,o=m2(t),s=Zm(t);if(r<16||r<s||r>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(r));let i=n?tt(e):ed(e),a=qe(i,t-Te)+Te;return n?td(a,o):Pn(a,o)}var B8=BigInt(0),Wm=BigInt(1);function y2(e,t){let n=(o,s)=>{let i=s.negate();return o?i:s},r=o=>{let s=Math.ceil(t/o)+1,i=2**(o-1);return{windows:s,windowSize:i}};return{constTimeNegate:n,unsafeLadder(o,s){let i=e.ZERO,a=o;for(;s>B8;)s&Wm&&(i=i.add(a)),a=a.double(),s>>=Wm;return i},precomputeWindow(o,s){let{windows:i,windowSize:a}=r(s),c=[],l=o,u=l;for(let d=0;d<i;d++){u=l,c.push(u);for(let f=1;f<a;f++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(o,s,i){let{windows:a,windowSize:c}=r(o),l=e.ZERO,u=e.BASE,d=BigInt(2**o-1),f=2**o,h=BigInt(o);for(let w=0;w<a;w++){let g=w*c,y=Number(i&d);i>>=h,y>c&&(y-=f,i+=Wm);let p=g,m=g+Math.abs(y)-1,v=w%2!==0,x=y<0;y===0?u=u.add(n(v,s[p])):l=l.add(n(x,s[m]))}return{p:l,f:u}},wNAFCached(o,s,i,a){let c=o._WINDOW_SIZE||1,l=s.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&s.set(o,a(l))),this.wNAF(c,l,i)}}}function Fm(e){return Vm(e.Fp),go(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(L(k(k({},qm(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function C8(e){let t=Fm(e);go(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(k({},t))}var{bytesToNumberBE:S8,hexToBytes:P8}=$m,ks={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=ks;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:S8(r),l:e.subarray(n+2)}},toSig(e){let{Err:t}=ks,n=typeof e=="string"?P8(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");let{d:o,l:s}=ks._parseInt(n.subarray(2)),{d:i,l:a}=ks._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:i}},hexFromSig(e){let t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{let u=l.toString(16);return u.length&1?"0".concat(u):u},r=t(n(e.s)),o=t(n(e.r)),s=r.length/2,i=o.length/2,a=n(s),c=n(i);return"30".concat(n(i+s+4),"02").concat(c).concat(o,"02").concat(a).concat(r)}},br=BigInt(0),sn=BigInt(1),J7=BigInt(2),w2=BigInt(3),e9=BigInt(4);function T8(e){let t=C8(e),{Fp:n}=t,r=t.toBytes||((w,g,y)=>{let p=g.toAffine();return kr(Uint8Array.from([4]),n.toBytes(p.x),n.toBytes(p.y))}),o=t.fromBytes||(w=>{let g=w.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),p=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:p}});function s(w){let{a:g,b:y}=t,p=n.sqr(w),m=n.mul(p,w);return n.add(n.add(m,n.mul(w,g)),y)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function i(w){return typeof w=="bigint"&&br<w&&w<t.n}function a(w){if(!i(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){let{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:p,n:m}=t;if(g&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=ws(w)),typeof w!="string"||!g.includes(w.length))throw new Error("Invalid key");w=w.padStart(y*2,"0")}let v;try{v=typeof w=="bigint"?w:tt(Ve("private key",w,y))}catch(x){throw new Error("private key must be ".concat(y," bytes, hex or bigint, not ").concat(typeof w))}return p&&(v=qe(v,m)),a(v),v}let l=new Map;function u(w){if(!(w instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(g,y,p){if(this.px=g,this.py=y,this.pz=p,g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(p==null||!n.isValid(p))throw new Error("z required")}static fromAffine(g){let{x:y,y:p}=g||{};if(!g||!n.isValid(y)||!n.isValid(p))throw new Error("invalid affine point");if(g instanceof d)throw new Error("projective point not allowed");let m=v=>n.eql(v,n.ZERO);return m(y)&&m(p)?d.ZERO:new d(y,p,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){let y=n.invertBatch(g.map(p=>p.pz));return g.map((p,m)=>p.toAffine(y[m])).map(d.fromAffine)}static fromHex(g){let y=d.fromAffine(o(Ve("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return d.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:g,y}=this.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");let p=n.sqr(y),m=s(g);if(!n.eql(p,m))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);let{px:y,py:p,pz:m}=this,{px:v,py:x,pz:E}=g,b=n.eql(n.mul(y,E),n.mul(v,m)),_=n.eql(n.mul(p,E),n.mul(x,m));return b&&_}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){let{a:g,b:y}=t,p=n.mul(y,w2),{px:m,py:v,pz:x}=this,E=n.ZERO,b=n.ZERO,_=n.ZERO,C=n.mul(m,m),T=n.mul(v,v),N=n.mul(x,x),U=n.mul(m,v);return U=n.add(U,U),_=n.mul(m,x),_=n.add(_,_),E=n.mul(g,_),b=n.mul(p,N),b=n.add(E,b),E=n.sub(T,b),b=n.add(T,b),b=n.mul(E,b),E=n.mul(U,E),_=n.mul(p,_),N=n.mul(g,N),U=n.sub(C,N),U=n.mul(g,U),U=n.add(U,_),_=n.add(C,C),C=n.add(_,C),C=n.add(C,N),C=n.mul(C,U),b=n.add(b,C),N=n.mul(v,x),N=n.add(N,N),C=n.mul(N,U),E=n.sub(E,C),_=n.mul(N,T),_=n.add(_,_),_=n.add(_,_),new d(E,b,_)}add(g){u(g);let{px:y,py:p,pz:m}=this,{px:v,py:x,pz:E}=g,b=n.ZERO,_=n.ZERO,C=n.ZERO,T=t.a,N=n.mul(t.b,w2),U=n.mul(y,v),D=n.mul(p,x),F=n.mul(m,E),O=n.add(y,p),B=n.add(v,x);O=n.mul(O,B),B=n.add(U,D),O=n.sub(O,B),B=n.add(y,m);let S=n.add(v,E);return B=n.mul(B,S),S=n.add(U,F),B=n.sub(B,S),S=n.add(p,m),b=n.add(x,E),S=n.mul(S,b),b=n.add(D,F),S=n.sub(S,b),C=n.mul(T,B),b=n.mul(N,F),C=n.add(b,C),b=n.sub(D,C),C=n.add(D,C),_=n.mul(b,C),D=n.add(U,U),D=n.add(D,U),F=n.mul(T,F),B=n.mul(N,B),D=n.add(D,F),F=n.sub(U,F),F=n.mul(T,F),B=n.add(B,F),U=n.mul(D,B),_=n.add(_,U),U=n.mul(S,B),b=n.mul(O,b),b=n.sub(b,U),U=n.mul(O,D),C=n.mul(S,C),C=n.add(C,U),new d(b,_,C)}subtract(g){return this.add(g.negate())}is0(){return this.equals(d.ZERO)}wNAF(g){return h.wNAFCached(this,l,g,y=>{let p=n.invertBatch(y.map(m=>m.pz));return y.map((m,v)=>m.toAffine(p[v])).map(d.fromAffine)})}multiplyUnsafe(g){let y=d.ZERO;if(g===br)return y;if(a(g),g===sn)return this;let{endo:p}=t;if(!p)return h.unsafeLadder(this,g);let{k1neg:m,k1:v,k2neg:x,k2:E}=p.splitScalar(g),b=y,_=y,C=this;for(;v>br||E>br;)v&sn&&(b=b.add(C)),E&sn&&(_=_.add(C)),C=C.double(),v>>=sn,E>>=sn;return m&&(b=b.negate()),x&&(_=_.negate()),_=new d(n.mul(_.px,p.beta),_.py,_.pz),b.add(_)}multiply(g){a(g);let y=g,p,m,{endo:v}=t;if(v){let{k1neg:x,k1:E,k2neg:b,k2:_}=v.splitScalar(y),{p:C,f:T}=this.wNAF(E),{p:N,f:U}=this.wNAF(_);C=h.constTimeNegate(x,C),N=h.constTimeNegate(b,N),N=new d(n.mul(N.px,v.beta),N.py,N.pz),p=C.add(N),m=T.add(U)}else{let{p:x,f:E}=this.wNAF(y);p=x,m=E}return d.normalizeZ([p,m])[0]}multiplyAndAddUnsafe(g,y,p){let m=d.BASE,v=(E,b)=>b===br||b===sn||!E.equals(m)?E.multiplyUnsafe(b):E.multiply(b),x=v(this,y).add(v(g,p));return x.is0()?void 0:x}toAffine(g){let{px:y,py:p,pz:m}=this,v=this.is0();g==null&&(g=v?n.ONE:n.inv(m));let x=n.mul(y,g),E=n.mul(p,g),b=n.mul(m,g);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(b,n.ONE))throw new Error("invZ was invalid");return{x,y:E}}isTorsionFree(){let{h:g,isTorsionFree:y}=t;if(g===sn)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:g,clearCofactor:y}=t;return g===sn?this:y?y(d,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return this.assertValidity(),r(d,this,g)}toHex(g=!0){return ws(this.toRawBytes(g))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);let f=t.nBitLength,h=y2(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:i}}function N8(e){let t=Fm(e);return go(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(k({lowS:!0},t))}function v2(e){let t=N8(e),{Fp:n,n:r}=t,o=n.BYTES+1,s=2*n.BYTES+1;function i(B){return br<B&&B<n.ORDER}function a(B){return qe(B,r)}function c(B){return nd(B,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=T8(L(k({},t),{toBytes(B,S,I){let z=S.toAffine(),A=n.toBytes(z.x),W=kr;return I?W(Uint8Array.from([S.hasEvenY()?2:3]),A):W(Uint8Array.from([4]),A,n.toBytes(z.y))},fromBytes(B){let S=B.length,I=B[0],z=B.subarray(1);if(S===o&&(I===2||I===3)){let A=tt(z);if(!i(A))throw new Error("Point is not on curve");let W=d(A),K=n.sqrt(W),Y=(K&sn)===sn;return(I&1)===1!==Y&&(K=n.neg(K)),{x:A,y:K}}else if(S===s&&I===4){let A=n.fromBytes(z.subarray(0,n.BYTES)),W=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:A,y:W}}else throw new Error("Point of length ".concat(S," was invalid. Expected ").concat(o," compressed bytes or ").concat(s," uncompressed bytes"))}})),h=B=>ws(Pn(B,t.nByteLength));function w(B){let S=r>>sn;return B>S}function g(B){return w(B)?a(-B):B}let y=(B,S,I)=>tt(B.slice(S,I));class p{constructor(S,I,z){this.r=S,this.s=I,this.recovery=z,this.assertValidity()}static fromCompact(S){let I=t.nByteLength;return S=Ve("compactSignature",S,I*2),new p(y(S,0,I),y(S,I,2*I))}static fromDER(S){let{r:I,s:z}=ks.toSig(Ve("DER",S));return new p(I,z)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new p(this.r,this.s,S)}recoverPublicKey(S){let{r:I,s:z,recovery:A}=this,W=_(Ve("msgHash",S));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");let K=A===2||A===3?I+t.n:I;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let Y=(A&1)===0?"02":"03",de=l.fromHex(Y+h(K)),fe=c(K),Le=a(-W*fe),Ae=a(z*fe),Ue=l.BASE.multiplyAndAddUnsafe(de,Le,Ae);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return vs(this.toDERHex())}toDERHex(){return ks.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return vs(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let m={isValidPrivateKey(B){try{return u(B),!0}catch(S){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let B=Zm(t.n);return g2(t.randomBytes(B),t.n)},precompute(B=8,S=l.BASE){return S._setWindowSize(B),S.multiply(BigInt(3)),S}};function v(B,S=!0){return l.fromPrivateKey(B).toRawBytes(S)}function x(B){let S=B instanceof Uint8Array,I=typeof B=="string",z=(S||I)&&B.length;return S?z===o||z===s:I?z===2*o||z===2*s:B instanceof l}function E(B,S,I=!0){if(x(B))throw new Error("first arg must be private key");if(!x(S))throw new Error("second arg must be public key");return l.fromHex(S).multiply(u(B)).toRawBytes(I)}let b=t.bits2int||function(B){let S=tt(B),I=B.length*8-t.nBitLength;return I>0?S>>BigInt(I):S},_=t.bits2int_modN||function(B){return a(b(B))},C=lc(t.nBitLength);function T(B){if(typeof B!="bigint")throw new Error("bigint expected");if(!(br<=B&&B<C))throw new Error("bigint expected < 2^".concat(t.nBitLength));return Pn(B,t.nByteLength)}function N(B,S,I=U){if(["recovered","canonical"].some(Ie=>Ie in I))throw new Error("sign() legacy options not supported");let{hash:z,randomBytes:A}=t,{lowS:W,prehash:K,extraEntropy:Y}=I;W==null&&(W=!0),B=Ve("msgHash",B),K&&(B=Ve("prehashed msgHash",z(B)));let de=_(B),fe=u(S),Le=[T(fe),T(de)];if(Y!=null){let Ie=Y===!0?A(n.BYTES):Y;Le.push(Ve("extraEntropy",Ie))}let Ae=kr(...Le),Ue=de;function We(Ie){let An=b(Ie);if(!f(An))return;let Nr=c(An),_t=l.BASE.multiply(An).toAffine(),Ye=a(_t.x);if(Ye===br)return;let Wt=a(Nr*a(Ue+Ye*fe));if(Wt===br)return;let Xn=(_t.x===Ye?0:2)|Number(_t.y&sn),Qg=Wt;return W&&w(Wt)&&(Qg=g(Wt),Xn^=1),new p(Ye,Qg,Xn)}return{seed:Ae,k2sig:We}}let U={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function F(B,S,I=U){let{seed:z,k2sig:A}=N(B,S,I),W=t;return Dm(W.hash.outputLen,W.nByteLength,W.hmac)(z,A)}l.BASE._setWindowSize(8);function O(B,S,I,z=D){var _t;let A=B;if(S=Ve("msgHash",S),I=Ve("publicKey",I),"strict"in z)throw new Error("options.strict was renamed to lowS");let{lowS:W,prehash:K}=z,Y,de;try{if(typeof A=="string"||A instanceof Uint8Array)try{Y=p.fromDER(A)}catch(Ye){if(!(Ye instanceof ks.Err))throw Ye;Y=p.fromCompact(A)}else if(typeof A=="object"&&typeof A.r=="bigint"&&typeof A.s=="bigint"){let{r:Ye,s:Wt}=A;Y=new p(Ye,Wt)}else throw new Error("PARSE");de=l.fromHex(I)}catch(Ye){if(Ye.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&Y.hasHighS())return!1;K&&(S=t.hash(S));let{r:fe,s:Le}=Y,Ae=_(S),Ue=c(Le),We=a(Ae*Ue),Ie=a(fe*Ue),An=(_t=l.BASE.multiplyAndAddUnsafe(de,We,Ie))==null?void 0:_t.toAffine();return An?a(An.x)===fe:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:E,sign:F,verify:O,ProjectivePoint:l,Signature:p,utils:m}}var rd=class extends Si{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,o2(t);let r=cc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return Ci(this),this.iHash.update(t),this}digestInto(t){Ci(this),Mm(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Km=(e,t,n)=>new rd(e,t).update(n).digest();Km.create=(e,t)=>new rd(e,t);function A8(e){return{hash:e,hmac:(t,...n)=>Km(e,t,a2(...n)),randomBytes:Gu}}function x2(e,t){let n=r=>v2(k(k({},e),A8(r)));return Object.freeze(L(k({},n(t)),{create:n}))}var ad=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),od=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_2=BigInt(1),sd=BigInt(2),k2=(e,t)=>(e+t/sd)/t;function E2(e){let t=ad,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=qt(u,n,t)*u%t,f=qt(d,n,t)*u%t,h=qt(f,sd,t)*l%t,w=qt(h,o,t)*h%t,g=qt(w,s,t)*w%t,y=qt(g,a,t)*g%t,p=qt(y,c,t)*y%t,m=qt(p,a,t)*g%t,v=qt(m,n,t)*u%t,x=qt(v,i,t)*w%t,E=qt(x,r,t)*l%t,b=qt(E,sd,t);if(!Qm.eql(Qm.sqr(b),e))throw new Error("Cannot find square root");return b}var Qm=p2(ad,void 0,void 0,{sqrt:E2}),yo=x2({a:BigInt(0),b:BigInt(7),Fp:Qm,n:od,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=od,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),a=k2(s*e,t),c=k2(-r*e,t),l=qe(e-a*n-c*o,t),u=qe(-a*r-c*s,t),d=l>i,f=u>i;if(d&&(l=t-l),f&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Yu),cd=BigInt(0),B2=e=>typeof e=="bigint"&&cd<e&&e<ad,I8=e=>typeof e=="bigint"&&cd<e&&e<od,b2={};function id(e,...t){let n=b2[e];if(n===void 0){let r=Yu(Uint8Array.from(e,o=>o.charCodeAt(0)));n=kr(r,r),b2[e]=n}return Yu(kr(n,...t))}var Jm=e=>e.toRawBytes(!0).slice(1),Ym=e=>Pn(e,32),Gm=e=>qe(e,ad),uc=e=>qe(e,od),eg=yo.ProjectivePoint,O8=(e,t,n)=>eg.BASE.multiplyAndAddUnsafe(e,t,n);function Xm(e){let t=yo.utils.normPrivateKeyToScalar(e),n=eg.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:uc(-t),bytes:Jm(n)}}function C2(e){if(!B2(e))throw new Error("bad x: need 0 < x < p");let t=Gm(e*e),n=Gm(t*e+BigInt(7)),r=E2(n);r%sd!==cd&&(r=Gm(-r));let o=new eg(e,r,_2);return o.assertValidity(),o}function S2(...e){return uc(tt(id("BIP0340/challenge",...e)))}function L8(e){return Xm(e).bytes}function R8(e,t,n=Gu(32)){let r=Ve("message",e),{bytes:o,scalar:s}=Xm(t),i=Ve("auxRand",n,32),a=Ym(s^tt(id("BIP0340/aux",i))),c=id("BIP0340/nonce",a,o,r),l=uc(tt(c));if(l===cd)throw new Error("sign failed: k is zero");let{bytes:u,scalar:d}=Xm(l),f=S2(u,o,r),h=new Uint8Array(64);if(h.set(u,0),h.set(Ym(uc(d+f*s)),32),!P2(h,r,o))throw new Error("sign: Invalid signature produced");return h}function P2(e,t,n){let r=Ve("signature",e,64),o=Ve("message",t),s=Ve("publicKey",n,32);try{let i=C2(tt(s)),a=tt(r.subarray(0,32));if(!B2(a))return!1;let c=tt(r.subarray(32,64));if(!I8(c))return!1;let l=S2(Ym(a),Jm(i),o),u=O8(i,c,uc(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch(i){return!1}}var Pi={getPublicKey:L8,sign:R8,verify:P2,utils:{randomPrivateKey:yo.utils.randomPrivateKey,lift_x:C2,pointToBytes:Jm,numberToBytesBE:Pn,bytesToNumberBE:tt,taggedHash:id,mod:qe}};var ld=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var tg=e=>e instanceof Uint8Array;var ud=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Tn=(e,t)=>e<<32-t|e>>>t,M8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!M8)throw new Error("Non little-endian hardware is not supported");var U8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Me(e){if(!tg(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=U8[e[n]];return t}function bs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){let o=r*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function z8(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function wo(e){if(typeof e=="string"&&(e=z8(e)),!tg(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function Ni(...e){let t=new Uint8Array(e.reduce((r,o)=>r+o.length,0)),n=0;return e.forEach(r=>{if(!tg(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}var Ti=class{clone(){return this._cloneInto()}};function ng(e){let t=r=>e().update(wo(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function dd(e=32){if(ld&&typeof ld.getRandomValues=="function")return ld.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function rg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function j8(e){if(typeof e!="boolean")throw new Error("Expected boolean, not ".concat(e))}function T2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(t,", not of length=").concat(e.length))}function D8(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rg(e.outputLen),rg(e.blockLen)}function $8(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function H8(e,t){T2(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var V8={number:rg,bool:j8,bytes:T2,hash:D8,exists:$8,output:H8},Zt=V8;function q8(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var fd=class extends Ti{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ud(this.buffer)}update(t){Zt.exists(this);let{view:n,buffer:r,blockLen:o}=this;t=wo(t);let s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=ud(t);for(;o<=s-i;i+=o)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Zt.exists(this),Zt.output(t,this),this.finished=!0;let{buffer:n,view:r,blockLen:o,isLE:s}=this,{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;q8(r,o-8,BigInt(this.length*8),s),this.process(r,0);let a=ud(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};var Z8=(e,t,n)=>e&t^~e&n,W8=(e,t,n)=>e&t^e&n^t&n,F8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xo=new Uint32Array(64),hd=class extends fd{constructor(){super(64,32,8,!1),this.A=vo[0]|0,this.B=vo[1]|0,this.C=vo[2]|0,this.D=vo[3]|0,this.E=vo[4]|0,this.F=vo[5]|0,this.G=vo[6]|0,this.H=vo[7]|0}get(){let{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:c}=this;return[t,n,r,o,s,i,a,c]}set(t,n,r,o,s,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)xo[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){let f=xo[d-15],h=xo[d-2],w=Tn(f,7)^Tn(f,18)^f>>>3,g=Tn(h,17)^Tn(h,19)^h>>>10;xo[d]=g+xo[d-7]+w+xo[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let f=Tn(a,6)^Tn(a,11)^Tn(a,25),h=u+f+Z8(a,c,l)+F8[d]+xo[d]|0,g=(Tn(r,2)^Tn(r,13)^Tn(r,22))+W8(r,o,s)|0;u=l,l=c,c=a,a=i+h|0,i=s,s=o,o=r,r=h+g|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,s,i,a,c,l,u)}roundClean(){xo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},og=class extends hd{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Vn=ng(()=>new hd),C9=ng(()=>new og);function Ai(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function _r(...e){let t=(o,s)=>i=>o(s(i)),n=Array.from(e).reverse().reduce((o,s)=>o?t(o,s.encode):s.encode,void 0),r=e.reduce((o,s)=>o?t(o,s.decode):s.decode,void 0);return{encode:n,decode:r}}function Er(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Ai(n),n<0||n>=e.length)throw new Error("Digit index outside alphabet: ".concat(n," (alphabet: ").concat(e.length,")"));return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error("alphabet.decode: not string element=".concat(n));let r=e.indexOf(n);if(r===-1)throw new Error('Unknown letter: "'.concat(n,'". Allowed: ').concat(e));return r})}}}function Br(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error("join.encode: non-string input=".concat(n));return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function md(e,t="="){if(Ai(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error("padding.encode: non-string input=".concat(r));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error("padding.decode: non-string input=".concat(o));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function R2(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function N2(e,t,n){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: wrong to=".concat(n,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0,o=[],s=Array.from(e);for(s.forEach(i=>{if(Ai(i),i<0||i>=t)throw new Error("Wrong integer: ".concat(i))});;){let i=0,a=!0;for(let c=r;c<s.length;c++){let l=s[c],u=t*i+l;if(!Number.isSafeInteger(u)||t*i/t!==i||u-l!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,s[c]=Math.floor(u/n),!Number.isSafeInteger(s[c])||s[c]*n+i!==u)throw new Error("convertRadix: carry overflow");if(a)s[c]?a=!1:r=c;else continue}if(o.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)o.push(0);return o.reverse()}var M2=(e,t)=>t?M2(t,e%t):e,pd=(e,t)=>e+(t-M2(e,t));function sg(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(pd(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(pd(t,n)));let o=0,s=0,i=2**n-1,a=[];for(let c of e){if(Ai(c),c>=2**t)throw new Error("convertRadix2: invalid data word=".concat(c," from=").concat(t));if(o=o<<t|c,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)a.push((o>>s-n&i)>>>0);o&=2**s-1}if(o=o<<n-s&i,!r&&s>=t)throw new Error("Excess padding");if(!r&&o)throw new Error("Non-zero padding: ".concat(o));return r&&s>0&&a.push(o>>>0),a}function K8(e){return Ai(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return N2(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(N2(t,e,2**8))}}}function ko(e,t=!1){if(Ai(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(pd(8,e)>32||pd(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return sg(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(sg(n,e,8,t))}}}function A2(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(n){}}}var G8=_r(ko(4),Er("0123456789ABCDEF"),Br("")),Q8=_r(ko(5),Er("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),md(5),Br("")),P9=_r(ko(5),Er("0123456789ABCDEFGHIJKLMNOPQRSTUV"),md(5),Br("")),T9=_r(ko(5),Er("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Br(""),R2(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),an=_r(ko(6),Er("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),md(6),Br("")),Y8=_r(ko(6),Er("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),md(6),Br("")),cg=e=>_r(K8(58),Er(e),Br("")),ig=cg("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),N9=cg("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),A9=cg("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),I2=[0,2,3,5,6,7,9,10,11],X8={encode(e){let t="";for(let n=0;n<e.length;n+=8){let r=e.subarray(n,n+8);t+=ig.encode(r).padStart(I2[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){let r=e.slice(n,n+11),o=I2.indexOf(r.length),s=ig.decode(r);for(let i=0;i<s.length-o;i++)if(s[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(t)}};var ag=_r(Er("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Br("")),O2=[996825010,642813549,513874426,1027748829,705979059];function dc(e){let t=e>>25,n=(e&33554431)<<5;for(let r=0;r<O2.length;r++)(t>>r&1)===1&&(n^=O2[r]);return n}function L2(e,t,n=1){let r=e.length,o=1;for(let s=0;s<r;s++){let i=e.charCodeAt(s);if(i<33||i>126)throw new Error("Invalid prefix (".concat(e,")"));o=dc(o)^i>>5}o=dc(o);for(let s=0;s<r;s++)o=dc(o)^e.charCodeAt(s)&31;for(let s of t)o=dc(o)^s;for(let s=0;s<6;s++)o=dc(o);return o^=n,ag.encode(sg([o%2**30],30,5,!1))}function U2(e){let t=e==="bech32"?1:734539939,n=ko(5),r=n.decode,o=n.encode,s=A2(r);function i(u,d,f=90){if(typeof u!="string")throw new Error("bech32.encode prefix should be string, not ".concat(typeof u));if(!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error("bech32.encode words should be array of numbers, not ".concat(typeof d));let h=u.length+7+d.length;if(f!==!1&&h>f)throw new TypeError("Length ".concat(h," exceeds limit ").concat(f));return u=u.toLowerCase(),"".concat(u,"1").concat(ag.encode(d)).concat(L2(u,d,t))}function a(u,d=90){if(typeof u!="string")throw new Error("bech32.decode input should be string, not ".concat(typeof u));if(u.length<8||d!==!1&&u.length>d)throw new TypeError("Wrong string length: ".concat(u.length," (").concat(u,"). Expected (8..").concat(d,")"));let f=u.toLowerCase();if(u!==f&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=f;let h=u.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');let w=u.slice(0,h),g=u.slice(h+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");let y=ag.decode(g).slice(0,-6),p=L2(w,y,t);if(!g.endsWith(p))throw new Error("Invalid checksum in ".concat(u,': expected "').concat(p,'"'));return{prefix:w,words:y}}let c=A2(a);function l(u){let{prefix:d,words:f}=a(u,!1);return{prefix:d,words:f,bytes:r(f)}}return{encode:i,decode:a,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:s,toWords:o}}var bo=U2("bech32"),I9=U2("bech32m"),J8={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},e6=_r(ko(4),Er("0123456789abcdef"),Br(""),R2(e=>{if(typeof e!="string"||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()})),t6={utf8:J8,hex:e6,base16:G8,base32:Q8,base64:an,base64url:Y8,base58:ig,base58xmr:X8},O9="Invalid encoding type. Available types: ".concat(Object.keys(t6).join(", "));function gd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, not ".concat(e))}function lg(e){if(typeof e!="boolean")throw new Error("boolean expected, not ".concat(e))}function ug(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function re(e,...t){if(!ug(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length ".concat(t,", not of length=").concat(e.length))}function _o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fc(e,t){re(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var yd=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);var oe=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Eo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),n6=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!n6)throw new Error("Non little-endian hardware is not supported");function r6(e){if(typeof e!="string")throw new Error("string expected, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function qn(e){if(typeof e=="string")e=r6(e);else if(ug(e))e=e.slice();else throw new Error("Uint8Array expected, got ".concat(typeof e));return e}function z2(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function _s(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}var Zn=(e,t)=>(Object.assign(t,e),t);function Es(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);let o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}var Cr=16,fg=new Uint8Array(16),Wn=oe(fg),o6=225,s6=(e,t,n,r)=>{let o=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^o6<<24&-(o&1)}},cn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function i6(e){e.reverse();let t=e[15]&1,n=0;for(let r=0;r<e.length;r++){let o=e[r];e[r]=o>>>1|n,n=(o&1)<<7}return e[0]^=-t&225,e}var a6=e=>e>64*1024?8:e>1024?4:2,wd=class{constructor(t,n){this.blockLen=Cr,this.outputLen=Cr,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,t=qn(t),re(t,16);let r=Eo(t),o=r.getUint32(0,!1),s=r.getUint32(4,!1),i=r.getUint32(8,!1),a=r.getUint32(12,!1),c=[];for(let w=0;w<128;w++)c.push({s0:cn(o),s1:cn(s),s2:cn(i),s3:cn(a)}),{s0:o,s1:s,s2:i,s3:a}=s6(o,s,i,a);let l=a6(n||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: wrong window size=".concat(l,", should be 2, 4 or 8"));this.W=l;let d=128/l,f=this.windowSize=2**l,h=[];for(let w=0;w<d;w++)for(let g=0;g<f;g++){let y=0,p=0,m=0,v=0;for(let x=0;x<l;x++){if(!(g>>>l-x-1&1))continue;let{s0:b,s1:_,s2:C,s3:T}=c[l*w+x];y^=b,p^=_,m^=C,v^=T}h.push({s0:y,s1:p,s2:m,s3:v})}this.t=h}_updateBlock(t,n,r,o){t^=this.s0,n^=this.s1,r^=this.s2,o^=this.s3;let{W:s,t:i,windowSize:a}=this,c=0,l=0,u=0,d=0,f=(1<<s)-1,h=0;for(let w of[t,n,r,o])for(let g=0;g<4;g++){let y=w>>>8*g&255;for(let p=8/s-1;p>=0;p--){let m=y>>>s*p&f,{s0:v,s1:x,s2:E,s3:b}=i[h*a+m];c^=v,l^=x,u^=E,d^=b,h+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=d}update(t){t=qn(t),_o(this);let n=oe(t),r=Math.floor(t.length/Cr),o=t.length%Cr;for(let s=0;s<r;s++)this._updateBlock(n[s*4+0],n[s*4+1],n[s*4+2],n[s*4+3]);return o&&(fg.set(t.subarray(r*Cr)),this._updateBlock(Wn[0],Wn[1],Wn[2],Wn[3]),Wn.fill(0)),this}destroy(){let{t}=this;for(let n of t)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(t){_o(this),fc(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=oe(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t}digest(){let t=new Uint8Array(Cr);return this.digestInto(t),this.destroy(),t}},dg=class extends wd{constructor(t,n){t=qn(t);let r=i6(t.slice());super(r,n),r.fill(0)}update(t){t=qn(t),_o(this);let n=oe(t),r=t.length%Cr,o=Math.floor(t.length/Cr);for(let s=0;s<o;s++)this._updateBlock(cn(n[s*4+3]),cn(n[s*4+2]),cn(n[s*4+1]),cn(n[s*4+0]));return r&&(fg.set(t.subarray(o*Cr)),this._updateBlock(cn(Wn[3]),cn(Wn[2]),cn(Wn[1]),cn(Wn[0])),Wn.fill(0)),this}digestInto(t){_o(this),fc(t,this),this.finished=!0;let{s0:n,s1:r,s2:o,s3:s}=this,i=oe(t);return i[0]=n,i[1]=r,i[2]=o,i[3]=s,t.reverse()}};function j2(e){let t=(r,o)=>e(o,r.length).update(qn(r)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(r,o)=>e(r,o),t}var hg=j2((e,t)=>new wd(e,t)),D2=j2((e,t)=>new dg(e,t));var bt=16,gg=4,vd=new Uint8Array(bt),c6=283;function yg(e){return e<<1^c6&-(e>>7)}function Ii(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=yg(e);return n}var mg=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=yg(r))e[n]=r;let t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),l6=mg.map((e,t)=>mg.indexOf(t)),u6=e=>e<<24|e>>>8,pg=e=>e<<8|e>>>24;function $2(e,t){if(e.length!==256)throw new Error("Wrong sbox length");let n=new Uint32Array(256).map((l,u)=>t(e[u])),r=n.map(pg),o=r.map(pg),s=o.map(pg),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let u=0;u<256;u++){let d=l*256+u;i[d]=n[l]^r[u],a[d]=o[l]^s[u],c[d]=e[l]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:o,T3:s,T01:i,T23:a}}var wg=$2(mg,e=>Ii(e,3)<<24|e<<16|e<<8|Ii(e,2)),H2=$2(l6,e=>Ii(e,11)<<24|Ii(e,13)<<16|Ii(e,9)<<8|Ii(e,14)),d6=(()=>{let e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=yg(n))e[t]=n;return e})();function Co(e){re(e);let t=e.length;if(![16,24,32].includes(t))throw new Error("aes: wrong key size: should be 16, 24 or 32, got: ".concat(t));let{sbox2:n}=wg,r=oe(e),o=r.length,s=a=>Fn(n,a,a,a,a),i=new Uint32Array(t+28);i.set(r);for(let a=o;a<i.length;a++){let c=i[a-1];a%o===0?c=s(u6(c))^d6[a/o-1]:o>6&&a%o===4&&(c=s(c)),i[a]=i[a-o]^c}return i}function V2(e){let t=Co(e),n=t.slice(),r=t.length,{sbox2:o}=wg,{T0:s,T1:i,T2:a,T3:c}=H2;for(let l=0;l<r;l+=4)for(let u=0;u<4;u++)n[l+u]=t[r-l-4+u];t.fill(0);for(let l=4;l<r-4;l++){let u=n[l],d=Fn(o,u,u,u,u);n[l]=s[d&255]^i[d>>>8&255]^a[d>>>16&255]^c[d>>>24]}return n}function Bo(e,t,n,r,o,s){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|s>>>24&255]}function Fn(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function ln(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=wg,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let w=0;w<l;w++){let g=e[c++]^Bo(i,a,t,n,r,o),y=e[c++]^Bo(i,a,n,r,o,t),p=e[c++]^Bo(i,a,r,o,t,n),m=e[c++]^Bo(i,a,o,t,n,r);t=g,n=y,r=p,o=m}let u=e[c++]^Fn(s,t,n,r,o),d=e[c++]^Fn(s,n,r,o,t),f=e[c++]^Fn(s,r,o,t,n),h=e[c++]^Fn(s,o,t,n,r);return{s0:u,s1:d,s2:f,s3:h}}function q2(e,t,n,r,o){let{sbox2:s,T01:i,T23:a}=H2,c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];let l=e.length/4-2;for(let w=0;w<l;w++){let g=e[c++]^Bo(i,a,t,o,r,n),y=e[c++]^Bo(i,a,n,t,o,r),p=e[c++]^Bo(i,a,r,n,t,o),m=e[c++]^Bo(i,a,o,r,n,t);t=g,n=y,r=p,o=m}let u=e[c++]^Fn(s,t,o,r,n),d=e[c++]^Fn(s,n,t,o,r),f=e[c++]^Fn(s,r,n,t,o),h=e[c++]^Fn(s,o,r,n,t);return{s0:u,s1:d,s2:f,s3:h}}function Oi(e,t){if(!t)return new Uint8Array(e);if(re(t),t.length<e)throw new Error("aes: wrong destination length, expected at least ".concat(e,", got: ").concat(t.length));return t}function f6(e,t,n,r){re(t,bt),re(n);let o=n.length;r=Oi(o,r);let s=t,i=oe(s),{s0:a,s1:c,s2:l,s3:u}=ln(e,i[0],i[1],i[2],i[3]),d=oe(n),f=oe(r);for(let w=0;w+4<=d.length;w+=4){f[w+0]=d[w+0]^a,f[w+1]=d[w+1]^c,f[w+2]=d[w+2]^l,f[w+3]=d[w+3]^u;let g=1;for(let y=s.length-1;y>=0;y--)g=g+(s[y]&255)|0,s[y]=g&255,g>>>=8;({s0:a,s1:c,s2:l,s3:u}=ln(e,i[0],i[1],i[2],i[3]))}let h=bt*Math.floor(d.length/gg);if(h<o){let w=new Uint32Array([a,c,l,u]),g=yd(w);for(let y=h,p=0;y<o;y++,p++)r[y]=n[y]^g[p]}return r}function hc(e,t,n,r,o){re(n,bt),re(r),o=Oi(r.length,o);let s=n,i=oe(s),a=Eo(s),c=oe(r),l=oe(o),u=t?0:12,d=r.length,f=a.getUint32(u,t),{s0:h,s1:w,s2:g,s3:y}=ln(e,i[0],i[1],i[2],i[3]);for(let m=0;m+4<=c.length;m+=4)l[m+0]=c[m+0]^h,l[m+1]=c[m+1]^w,l[m+2]=c[m+2]^g,l[m+3]=c[m+3]^y,f=f+1>>>0,a.setUint32(u,f,t),{s0:h,s1:w,s2:g,s3:y}=ln(e,i[0],i[1],i[2],i[3]);let p=bt*Math.floor(c.length/gg);if(p<d){let m=new Uint32Array([h,w,g,y]),v=yd(m);for(let x=p,E=0;x<d;x++,E++)o[x]=r[x]^v[E]}return o}var q9=Zn({blockSize:16,nonceLength:16},function(t,n){re(t),re(n,bt);function r(o,s){let i=Co(t),a=n.slice(),c=f6(i,a,o,s);return i.fill(0),a.fill(0),c}return{encrypt:(o,s)=>r(o,s),decrypt:(o,s)=>r(o,s)}});function Z2(e){if(re(e),e.length%bt!==0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ".concat(bt))}function W2(e,t,n){let r=e.length,o=r%bt;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");let s=oe(e);if(t){let c=bt-o;c||(c=bt),r=r+c}let i=Oi(r,n),a=oe(i);return{b:s,o:a,out:i}}function F2(e,t){if(!t)return e;let n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");let r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding byte: ".concat(r));let o=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function K2(e){let t=new Uint8Array(16),n=oe(t);t.set(e);let r=bt-e.length;for(let o=bt-r;o<bt;o++)t[o]=r;return n}var Z9=Zn({blockSize:16},function(t,n={}){re(t);let r=!n.disablePadding;return{encrypt:(o,s)=>{re(o);let{b:i,o:a,out:c}=W2(o,r,s),l=Co(t),u=0;for(;u+4<=i.length;){let{s0:d,s1:f,s2:h,s3:w}=ln(l,i[u+0],i[u+1],i[u+2],i[u+3]);a[u++]=d,a[u++]=f,a[u++]=h,a[u++]=w}if(r){let d=K2(o.subarray(u*4)),{s0:f,s1:h,s2:w,s3:g}=ln(l,d[0],d[1],d[2],d[3]);a[u++]=f,a[u++]=h,a[u++]=w,a[u++]=g}return l.fill(0),c},decrypt:(o,s)=>{Z2(o);let i=V2(t),a=Oi(o.length,s),c=oe(o),l=oe(a);for(let u=0;u+4<=c.length;){let{s0:d,s1:f,s2:h,s3:w}=q2(i,c[u+0],c[u+1],c[u+2],c[u+3]);l[u++]=d,l[u++]=f,l[u++]=h,l[u++]=w}return i.fill(0),F2(a,r)}}}),vg=Zn({blockSize:16,nonceLength:16},function(t,n,r={}){re(t),re(n,16);let o=!r.disablePadding;return{encrypt:(s,i)=>{let a=Co(t),{b:c,o:l,out:u}=W2(s,o,i),d=oe(n),f=d[0],h=d[1],w=d[2],g=d[3],y=0;for(;y+4<=c.length;)f^=c[y+0],h^=c[y+1],w^=c[y+2],g^=c[y+3],{s0:f,s1:h,s2:w,s3:g}=ln(a,f,h,w,g),l[y++]=f,l[y++]=h,l[y++]=w,l[y++]=g;if(o){let p=K2(s.subarray(y*4));f^=p[0],h^=p[1],w^=p[2],g^=p[3],{s0:f,s1:h,s2:w,s3:g}=ln(a,f,h,w,g),l[y++]=f,l[y++]=h,l[y++]=w,l[y++]=g}return a.fill(0),u},decrypt:(s,i)=>{Z2(s);let a=V2(t),c=oe(n),l=Oi(s.length,i),u=oe(s),d=oe(l),f=c[0],h=c[1],w=c[2],g=c[3];for(let y=0;y+4<=u.length;){let p=f,m=h,v=w,x=g;f=u[y+0],h=u[y+1],w=u[y+2],g=u[y+3];let{s0:E,s1:b,s2:_,s3:C}=q2(a,f,h,w,g);d[y++]=E^p,d[y++]=b^m,d[y++]=_^v,d[y++]=C^x}return a.fill(0),F2(l,o)}}}),W9=Zn({blockSize:16,nonceLength:16},function(t,n){re(t),re(n,16);function r(o,s,i){let a=Co(t),c=o.length;i=Oi(c,i);let l=oe(o),u=oe(i),d=s?u:l,f=oe(n),h=f[0],w=f[1],g=f[2],y=f[3];for(let m=0;m+4<=l.length;){let{s0:v,s1:x,s2:E,s3:b}=ln(a,h,w,g,y);u[m+0]=l[m+0]^v,u[m+1]=l[m+1]^x,u[m+2]=l[m+2]^E,u[m+3]=l[m+3]^b,h=d[m++],w=d[m++],g=d[m++],y=d[m++]}let p=bt*Math.floor(l.length/gg);if(p<c){({s0:h,s1:w,s2:g,s3:y}=ln(a,h,w,g,y));let m=yd(new Uint32Array([h,w,g,y]));for(let v=p,x=0;v<c;v++,x++)i[v]=o[v]^m[x];m.fill(0)}return a.fill(0),i}return{encrypt:(o,s)=>r(o,!0,s),decrypt:(o,s)=>r(o,!1,s)}});function G2(e,t,n,r,o){let s=e.create(n,r.length+((o==null?void 0:o.length)||0));o&&s.update(o),s.update(r);let i=new Uint8Array(16),a=Eo(i);return o&&Es(a,0,BigInt(o.length*8),t),Es(a,8,BigInt(r.length*8),t),s.update(i),s.digest()}var F9=Zn({blockSize:16,nonceLength:12,tagLength:16},function(t,n,r){if(re(n),n.length===0)throw new Error("aes/gcm: empty nonce");let o=16;function s(a,c,l){let u=G2(hg,!1,a,l,r);for(let d=0;d<c.length;d++)u[d]^=c[d];return u}function i(){let a=Co(t),c=vd.slice(),l=vd.slice();if(hc(a,!1,l,l,c),n.length===12)l.set(n);else{let d=vd.slice(),f=Eo(d);Es(f,8,BigInt(n.length*8),!1),hg.create(c).update(n).update(d).digestInto(l)}let u=hc(a,!1,l,vd);return{xk:a,authKey:c,counter:l,tagMask:u}}return{encrypt:a=>{re(a);let{xk:c,authKey:l,counter:u,tagMask:d}=i(),f=new Uint8Array(a.length+o);hc(c,!1,u,a,f);let h=s(l,d,f.subarray(0,f.length-o));return f.set(h,a.length),c.fill(0),f},decrypt:a=>{if(re(a),a.length<o)throw new Error("aes/gcm: ciphertext less than tagLen (".concat(o,")"));let{xk:c,authKey:l,counter:u,tagMask:d}=i(),f=a.subarray(0,-o),h=a.subarray(-o),w=s(l,d,f);if(!_s(w,h))throw new Error("aes/gcm: invalid ghash tag");let g=hc(c,!1,u,f);return l.fill(0),d.fill(0),c.fill(0),g}}}),xd=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error("".concat(e,": invalid value=").concat(r,", must be [").concat(t,"..").concat(n,"]"))},K9=Zn({blockSize:16,nonceLength:12,tagLength:16},function(t,n,r){let s=xd("AAD",0,68719476736),i=xd("plaintext",0,2**36),a=xd("nonce",12,12),c=xd("ciphertext",16,2**36+16);re(n),a(n.length),r&&(re(r),s(r.length));function l(){let f=t.length;if(f!==16&&f!==24&&f!==32)throw new Error("key length must be 16, 24 or 32 bytes, got: ".concat(f," bytes"));let h=Co(t),w=new Uint8Array(f),g=new Uint8Array(16),y=oe(n),p=0,m=y[0],v=y[1],x=y[2],E=0;for(let b of[g,w].map(oe)){let _=oe(b);for(let C=0;C<_.length;C+=2){let{s0:T,s1:N}=ln(h,p,m,v,x);_[C+0]=T,_[C+1]=N,p=++E}}return h.fill(0),{authKey:g,encKey:Co(w)}}function u(f,h,w){let g=G2(D2,!0,h,w,r);for(let E=0;E<12;E++)g[E]^=n[E];g[15]&=127;let y=oe(g),p=y[0],m=y[1],v=y[2],x=y[3];return{s0:p,s1:m,s2:v,s3:x}=ln(f,p,m,v,x),y[0]=p,y[1]=m,y[2]=v,y[3]=x,g}function d(f,h,w){let g=h.slice();return g[15]|=128,hc(f,!0,g,w)}return{encrypt:f=>{re(f),i(f.length);let{encKey:h,authKey:w}=l(),g=u(h,w,f),y=new Uint8Array(f.length+16);return y.set(g,f.length),y.set(d(h,g,f)),h.fill(0),w.fill(0),y},decrypt:f=>{re(f),c(f.length);let h=f.subarray(-16),{encKey:w,authKey:g}=l(),y=d(w,h,f.subarray(0,-16)),p=u(w,g,y);if(w.fill(0),g.fill(0),!_s(h,p))throw new Error("invalid polyval tag");return y}}});var nt=(e,t)=>e[t++]&255|(e[t++]&255)<<8,xg=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=qn(t),re(t,32);let n=nt(t,0),r=nt(t,2),o=nt(t,4),s=nt(t,6),i=nt(t,8),a=nt(t,10),c=nt(t,12),l=nt(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=nt(t,16+2*u)}process(t,n,r=!1){let o=r?0:2048,{h:s,r:i}=this,a=i[0],c=i[1],l=i[2],u=i[3],d=i[4],f=i[5],h=i[6],w=i[7],g=i[8],y=i[9],p=nt(t,n+0),m=nt(t,n+2),v=nt(t,n+4),x=nt(t,n+6),E=nt(t,n+8),b=nt(t,n+10),_=nt(t,n+12),C=nt(t,n+14),T=s[0]+(p&8191),N=s[1]+((p>>>13|m<<3)&8191),U=s[2]+((m>>>10|v<<6)&8191),D=s[3]+((v>>>7|x<<9)&8191),F=s[4]+((x>>>4|E<<12)&8191),O=s[5]+(E>>>1&8191),B=s[6]+((E>>>14|b<<2)&8191),S=s[7]+((b>>>11|_<<5)&8191),I=s[8]+((_>>>8|C<<8)&8191),z=s[9]+(C>>>5|o),A=0,W=A+T*a+N*(5*y)+U*(5*g)+D*(5*w)+F*(5*h);A=W>>>13,W&=8191,W+=O*(5*f)+B*(5*d)+S*(5*u)+I*(5*l)+z*(5*c),A+=W>>>13,W&=8191;let K=A+T*c+N*a+U*(5*y)+D*(5*g)+F*(5*w);A=K>>>13,K&=8191,K+=O*(5*h)+B*(5*f)+S*(5*d)+I*(5*u)+z*(5*l),A+=K>>>13,K&=8191;let Y=A+T*l+N*c+U*a+D*(5*y)+F*(5*g);A=Y>>>13,Y&=8191,Y+=O*(5*w)+B*(5*h)+S*(5*f)+I*(5*d)+z*(5*u),A+=Y>>>13,Y&=8191;let de=A+T*u+N*l+U*c+D*a+F*(5*y);A=de>>>13,de&=8191,de+=O*(5*g)+B*(5*w)+S*(5*h)+I*(5*f)+z*(5*d),A+=de>>>13,de&=8191;let fe=A+T*d+N*u+U*l+D*c+F*a;A=fe>>>13,fe&=8191,fe+=O*(5*y)+B*(5*g)+S*(5*w)+I*(5*h)+z*(5*f),A+=fe>>>13,fe&=8191;let Le=A+T*f+N*d+U*u+D*l+F*c;A=Le>>>13,Le&=8191,Le+=O*a+B*(5*y)+S*(5*g)+I*(5*w)+z*(5*h),A+=Le>>>13,Le&=8191;let Ae=A+T*h+N*f+U*d+D*u+F*l;A=Ae>>>13,Ae&=8191,Ae+=O*c+B*a+S*(5*y)+I*(5*g)+z*(5*w),A+=Ae>>>13,Ae&=8191;let Ue=A+T*w+N*h+U*f+D*d+F*u;A=Ue>>>13,Ue&=8191,Ue+=O*l+B*c+S*a+I*(5*y)+z*(5*g),A+=Ue>>>13,Ue&=8191;let We=A+T*g+N*w+U*h+D*f+F*d;A=We>>>13,We&=8191,We+=O*u+B*l+S*c+I*a+z*(5*y),A+=We>>>13,We&=8191;let Ie=A+T*y+N*g+U*w+D*h+F*f;A=Ie>>>13,Ie&=8191,Ie+=O*d+B*u+S*l+I*c+z*a,A+=Ie>>>13,Ie&=8191,A=(A<<2)+A|0,A=A+W|0,W=A&8191,A=A>>>13,K+=A,s[0]=W,s[1]=K,s[2]=Y,s[3]=de,s[4]=fe,s[5]=Le,s[6]=Ae,s[7]=Ue,s[8]=We,s[9]=Ie}finalize(){let{h:t,pad:n}=this,r=new Uint16Array(10),o=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=o,o=t[a]>>>13,t[a]&=8191;t[0]+=o*5,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,r[0]=t[0]+5,o=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+o,o=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(o^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)t[a]=t[a]&s|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+n[0];t[0]=i&65535;for(let a=1;a<8;a++)i=(t[a]+n[a]|0)+(i>>>16)|0,t[a]=i&65535}update(t){_o(this);let{buffer:n,blockLen:r}=this;t=qn(t);let o=t.length;for(let s=0;s<o;){let i=Math.min(r-this.pos,o-s);if(i===r){for(;r<=o-s;s+=r)this.process(t,s);continue}n.set(t.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){_o(this),fc(t,this),this.finished=!0;let{buffer:n,h:r}=this,{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let i=0;i<8;i++)t[s++]=r[i]>>>0,t[s++]=r[i]>>>8;return t}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let r=t.slice(0,n);return this.destroy(),r}};function h6(e){let t=(r,o)=>e(o).update(qn(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}var Q2=h6(e=>new xg(e));var X2=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),p6=X2("expand 16-byte k"),m6=X2("expand 32-byte k"),g6=oe(p6),J2=oe(m6),tM=J2.slice();function V(e,t){return e<<t|e>>>32-t}function kg(e){return e.byteOffset%4===0}var kd=64,y6=16,ek=2**32-1,Y2=new Uint32Array;function w6(e,t,n,r,o,s,i,a){let c=o.length,l=new Uint8Array(kd),u=oe(l),d=kg(o)&&kg(s),f=d?oe(o):Y2,h=d?oe(s):Y2;for(let w=0;w<c;i++){if(e(t,n,r,u,i,a),i>=ek)throw new Error("arx: counter overflow");let g=Math.min(kd,c-w);if(d&&g===kd){let y=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let p=0,m;p<y6;p++)m=y+p,h[m]=f[m]^u[p];w+=kd;continue}for(let y=0,p;y<g;y++)p=w+y,s[p]=o[p]^l[y];w+=g}}function bg(e,t){let{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=z2({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return gd(o),gd(i),lg(s),lg(n),(a,c,l,u,d=0)=>{re(a),re(c),re(l);let f=l.length;if(u||(u=new Uint8Array(f)),re(u),gd(d),d<0||d>=ek)throw new Error("arx: counter overflow");if(u.length<f)throw new Error("arx: output (".concat(u.length,") is shorter than data (").concat(f,")"));let h=[],w=a.length,g,y;if(w===32)g=a.slice(),h.push(g),y=J2;else if(w===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=g6,h.push(g);else throw new Error("arx: invalid 32-byte key, got length=".concat(w));kg(c)||(c=c.slice(),h.push(c));let p=oe(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,p,oe(c.subarray(0,16)),p),c=c.subarray(16)}let m=16-o;if(m!==c.length)throw new Error("arx: nonce must be ".concat(m," or 16 bytes"));if(m!==12){let x=new Uint8Array(12);x.set(c,s?0:12-c.length),c=x,h.push(c)}let v=oe(c);for(w6(e,y,p,v,l,u,d,i);h.length>0;)h.pop().fill(0);return u}}function rk(e,t,n,r,o,s=20){let i=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],h=t[3],w=t[4],g=t[5],y=t[6],p=t[7],m=o,v=n[0],x=n[1],E=n[2],b=i,_=a,C=c,T=l,N=u,U=d,D=f,F=h,O=w,B=g,S=y,I=p,z=m,A=v,W=x,K=E;for(let de=0;de<s;de+=2)b=b+N|0,z=V(z^b,16),O=O+z|0,N=V(N^O,12),b=b+N|0,z=V(z^b,8),O=O+z|0,N=V(N^O,7),_=_+U|0,A=V(A^_,16),B=B+A|0,U=V(U^B,12),_=_+U|0,A=V(A^_,8),B=B+A|0,U=V(U^B,7),C=C+D|0,W=V(W^C,16),S=S+W|0,D=V(D^S,12),C=C+D|0,W=V(W^C,8),S=S+W|0,D=V(D^S,7),T=T+F|0,K=V(K^T,16),I=I+K|0,F=V(F^I,12),T=T+F|0,K=V(K^T,8),I=I+K|0,F=V(F^I,7),b=b+U|0,K=V(K^b,16),S=S+K|0,U=V(U^S,12),b=b+U|0,K=V(K^b,8),S=S+K|0,U=V(U^S,7),_=_+D|0,z=V(z^_,16),I=I+z|0,D=V(D^I,12),_=_+D|0,z=V(z^_,8),I=I+z|0,D=V(D^I,7),C=C+F|0,A=V(A^C,16),O=O+A|0,F=V(F^O,12),C=C+F|0,A=V(A^C,8),O=O+A|0,F=V(F^O,7),T=T+N|0,W=V(W^T,16),B=B+W|0,N=V(N^B,12),T=T+N|0,W=V(W^T,8),B=B+W|0,N=V(N^B,7);let Y=0;r[Y++]=i+b|0,r[Y++]=a+_|0,r[Y++]=c+C|0,r[Y++]=l+T|0,r[Y++]=u+N|0,r[Y++]=d+U|0,r[Y++]=f+D|0,r[Y++]=h+F|0,r[Y++]=w+O|0,r[Y++]=g+B|0,r[Y++]=y+S|0,r[Y++]=p+I|0,r[Y++]=m+z|0,r[Y++]=v+A|0,r[Y++]=x+W|0,r[Y++]=E+K|0}function v6(e,t,n,r){let o=e[0],s=e[1],i=e[2],a=e[3],c=t[0],l=t[1],u=t[2],d=t[3],f=t[4],h=t[5],w=t[6],g=t[7],y=n[0],p=n[1],m=n[2],v=n[3];for(let E=0;E<20;E+=2)o=o+c|0,y=V(y^o,16),f=f+y|0,c=V(c^f,12),o=o+c|0,y=V(y^o,8),f=f+y|0,c=V(c^f,7),s=s+l|0,p=V(p^s,16),h=h+p|0,l=V(l^h,12),s=s+l|0,p=V(p^s,8),h=h+p|0,l=V(l^h,7),i=i+u|0,m=V(m^i,16),w=w+m|0,u=V(u^w,12),i=i+u|0,m=V(m^i,8),w=w+m|0,u=V(u^w,7),a=a+d|0,v=V(v^a,16),g=g+v|0,d=V(d^g,12),a=a+d|0,v=V(v^a,8),g=g+v|0,d=V(d^g,7),o=o+l|0,v=V(v^o,16),w=w+v|0,l=V(l^w,12),o=o+l|0,v=V(v^o,8),w=w+v|0,l=V(l^w,7),s=s+u|0,y=V(y^s,16),g=g+y|0,u=V(u^g,12),s=s+u|0,y=V(y^s,8),g=g+y|0,u=V(u^g,7),i=i+d|0,p=V(p^i,16),f=f+p|0,d=V(d^f,12),i=i+d|0,p=V(p^i,8),f=f+p|0,d=V(d^f,7),a=a+c|0,m=V(m^a,16),h=h+m|0,c=V(c^h,12),a=a+c|0,m=V(m^a,8),h=h+m|0,c=V(c^h,7);let x=0;r[x++]=o,r[x++]=s,r[x++]=i,r[x++]=a,r[x++]=y,r[x++]=p,r[x++]=m,r[x++]=v}var bd=bg(rk,{counterRight:!1,counterLength:4,allowShortKeys:!1}),x6=bg(rk,{counterRight:!1,counterLength:8,extendNonceFn:v6,allowShortKeys:!1});var k6=new Uint8Array(16),tk=(e,t)=>{e.update(t);let n=t.length%16;n&&e.update(k6.subarray(n))},b6=new Uint8Array(32);function nk(e,t,n,r,o){let s=e(t,n,b6),i=Q2.create(s);o&&tk(i,o),tk(i,r);let a=new Uint8Array(16),c=Eo(a);Es(c,0,BigInt(o?o.length:0),!0),Es(c,8,BigInt(r.length),!0),i.update(a);let l=i.digest();return s.fill(0),l}var ok=e=>(t,n,r)=>(re(t,32),re(n),{encrypt:(s,i)=>{let a=s.length,c=a+16;i?re(i,c):i=new Uint8Array(c),e(t,n,s,i,1);let l=nk(e,t,n,i.subarray(0,-16),r);return i.set(l,a),i},decrypt:(s,i)=>{let a=s.length,c=a-16;if(a<16)throw new Error("encrypted data must be at least 16 bytes");i?re(i,c):i=new Uint8Array(c);let l=s.subarray(0,-16),u=s.subarray(-16),d=nk(e,t,n,l,r);if(!_s(u,d))throw new Error("invalid tag");return e(t,n,l,i,1),i}}),aM=Zn({blockSize:64,nonceLength:12,tagLength:16},ok(bd)),cM=Zn({blockSize:64,nonceLength:24,tagLength:16},ok(x6));var _d=class extends Ti{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Zt.hash(t);let r=wo(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return Zt.exists(this),this.iHash.update(t),this}digestInto(t){Zt.exists(this),Zt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Li=(e,t,n)=>new _d(e,t).update(n).digest();Li.create=(e,t)=>new _d(e,t);function ik(e,t,n){return Zt.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Li(e,wo(n),wo(t))}var _g=new Uint8Array([0]),sk=new Uint8Array;function ak(e,t,n,r=32){if(Zt.hash(e),Zt.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");let o=Math.ceil(r/e.outputLen);n===void 0&&(n=sk);let s=new Uint8Array(o*e.outputLen),i=Li.create(e,t),a=i._cloneInto(),c=new Uint8Array(i.outputLen);for(let l=0;l<o;l++)_g[0]=l+1,a.update(l===0?sk:c).update(n).update(_g).digestInto(c),s.set(c,e.outputLen*l),i._cloneInto(a);return i.destroy(),a.destroy(),c.fill(0),_g.fill(0),s.slice(0,r)}var _6=Object.defineProperty,Ne=(e,t)=>{for(var n in t)_6(e,n,{get:t[n],enumerable:!0})},Bs=Symbol("verified"),E6=e=>e instanceof Object;function Cg(e){if(!E6(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}var B6={};Ne(B6,{Queue:()=>uk,QueueNode:()=>lk,binarySearch:()=>Sg,insertEventIntoAscendingList:()=>S6,insertEventIntoDescendingList:()=>C6,normalizeURL:()=>Ri,utf8Decoder:()=>Sr,utf8Encoder:()=>Nn});var Sr=new TextDecoder("utf-8"),Nn=new TextEncoder;function Ri(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function C6(e,t){let[n,r]=Sg(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return r||e.splice(n,0,t),e}function S6(e,t){let[n,r]=Sg(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return r||e.splice(n,0,t),e}function Sg(e,t){let n=0,r=e.length-1;for(;n<=r;){let o=Math.floor((n+r)/2),s=t(e[o]);if(s===0)return[o,!0];s<0?r=o-1:n=o+1}return[n,!1]}var lk=class{constructor(e){ee(this,"value");ee(this,"next",null);ee(this,"prev",null);this.value=e}},uk=class{constructor(){ee(this,"first");ee(this,"last");this.first=null,this.last=null}enqueue(e){let t=new lk(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let t=this.first;return this.first=null,this.last=null,t.value}let e=this.first;return this.first=e.next,e.value}},P6=class{generateSecretKey(){return Pi.utils.randomPrivateKey()}getPublicKey(e){return Me(Pi.getPublicKey(e))}finalizeEvent(e,t){let n=e;return n.pubkey=Me(Pi.getPublicKey(t)),n.id=Ed(n),n.sig=Me(Pi.sign(Ed(n),t)),n[Bs]=!0,n}verifyEvent(e){if(typeof e[Bs]=="boolean")return e[Bs];let t=Ed(e);if(t!==e.id)return e[Bs]=!1,!1;try{let n=Pi.verify(e.sig,t,e.pubkey);return e[Bs]=n,n}catch(n){return e[Bs]=!1,!1}}};function T6(e){if(!Cg(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Ed(e){let t=Vn(Nn.encode(T6(e)));return Me(t)}var Bd=new P6,N6=Bd.generateSecretKey,dk=Bd.getPublicKey,Kn=Bd.finalizeEvent,Cd=Bd.verifyEvent,A6={};Ne(A6,{Application:()=>OP,BadgeAward:()=>D6,BadgeDefinition:()=>CP,BlockedRelaysList:()=>uP,BookmarkList:()=>aP,Bookmarksets:()=>_P,Calendar:()=>DP,CalendarEventRSVP:()=>$P,ChannelCreation:()=>yk,ChannelHideMessage:()=>xk,ChannelMessage:()=>vk,ChannelMetadata:()=>wk,ChannelMuteUser:()=>kk,ClassifiedListing:()=>MP,ClientAuth:()=>_k,CommunitiesList:()=>cP,CommunityDefinition:()=>qP,CommunityPostApproval:()=>Q6,Contacts:()=>U6,CreateOrUpdateProduct:()=>TP,CreateOrUpdateStall:()=>PP,Curationsets:()=>EP,Date:()=>zP,DirectMessageRelaysList:()=>pP,DraftClassifiedListing:()=>UP,DraftLong:()=>AP,Emojisets:()=>IP,EncryptedDirectMessage:()=>z6,EventDeletion:()=>j6,FileMetadata:()=>q6,FileServerPreference:()=>mP,Followsets:()=>xP,GenericRepost:()=>H6,Genericlists:()=>kP,GiftWrap:()=>bk,HTTPAuth:()=>Ng,Handlerinformation:()=>VP,Handlerrecommendation:()=>HP,Highlights:()=>rP,InterestsList:()=>fP,Interestsets:()=>SP,JobFeedback:()=>J6,JobRequest:()=>Y6,JobResult:()=>X6,Label:()=>G6,LightningPubRPC:()=>yP,LiveChatMessage:()=>Z6,LiveEvent:()=>LP,LongFormArticle:()=>NP,Metadata:()=>L6,Mutelist:()=>oP,NWCWalletInfo:()=>gP,NWCWalletRequest:()=>Ek,NWCWalletResponse:()=>wP,NostrConnect:()=>vP,OpenTimestamps:()=>V6,Pinlist:()=>sP,PrivateDirectMessage:()=>$6,ProblemTracker:()=>W6,ProfileBadges:()=>BP,PublicChatsList:()=>lP,Reaction:()=>Tg,RecommendRelay:()=>M6,RelayList:()=>iP,Relaysets:()=>bP,Report:()=>F6,Reporting:()=>K6,Repost:()=>Pg,Seal:()=>gk,SearchRelaysList:()=>dP,ShortTextNote:()=>R6,Time:()=>jP,UserEmojiList:()=>hP,UserStatuses:()=>RP,Zap:()=>nP,ZapGoal:()=>eP,ZapRequest:()=>tP,classifyKind:()=>I6,isEphemeralKind:()=>pk,isKind:()=>O6,isParameterizedReplaceableKind:()=>mk,isRegularKind:()=>fk,isReplaceableKind:()=>hk});function fk(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function hk(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function pk(e){return 2e4<=e&&e<3e4}function mk(e){return 3e4<=e&&e<4e4}function I6(e){return fk(e)?"regular":hk(e)?"replaceable":pk(e)?"ephemeral":mk(e)?"parameterized":"unknown"}function O6(e,t){let n=t instanceof Array?t:[t];return Cg(e)&&n.includes(e.kind)||!1}var L6=0,R6=1,M6=2,U6=3,z6=4,j6=5,Pg=6,Tg=7,D6=8,gk=13,$6=14,H6=16,yk=40,wk=41,vk=42,xk=43,kk=44,V6=1040,bk=1059,q6=1063,Z6=1311,W6=1971,F6=1984,K6=1984,G6=1985,Q6=4550,Y6=5999,X6=6999,J6=7e3,eP=9041,tP=9734,nP=9735,rP=9802,oP=1e4,sP=10001,iP=10002,aP=10003,cP=10004,lP=10005,uP=10006,dP=10007,fP=10015,hP=10030,pP=10050,mP=10096,gP=13194,yP=21e3,_k=22242,Ek=23194,wP=23195,vP=24133,Ng=27235,xP=3e4,kP=30001,bP=30002,_P=30003,EP=30004,BP=30008,CP=30009,SP=30015,PP=30017,TP=30018,NP=30023,AP=30024,IP=30030,OP=30078,LP=30311,RP=30315,MP=30402,UP=30403,zP=31922,jP=31923,DP=31924,$P=31925,HP=31989,VP=31990,qP=34550;function ZP(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),o=e["#".concat(r)];if(o&&!t.tags.find(([s,i])=>s===n.slice(1)&&o.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function WP(e,t){for(let n=0;n<e.length;n++)if(ZP(e[n],t))return!0;return!1}var FP={};Ne(FP,{getHex64:()=>Sd,getInt:()=>Bk,getSubscriptionId:()=>Ck,matchEventId:()=>KP,matchEventKind:()=>QP,matchEventPubkey:()=>GP});function Sd(e,t){let n=t.length+3,r=e.indexOf('"'.concat(t,'":'))+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function Bk(e,t){let n=t.length,r=e.indexOf('"'.concat(t,'":'))+n+3,o=e.slice(r),s=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,s),10)}function Ck(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(o===-1)return null;let s=r+1+o;return e.slice(r+1,s)}function KP(e,t){return t===Sd(e,"id")}function GP(e,t){return t===Sd(e,"pubkey")}function QP(e,t){return t===Bk(e,"kind")}var YP={};Ne(YP,{makeAuthEvent:()=>Sk});function Sk(e,t){return{kind:_k,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function XP(){return new Promise(e=>{let t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var JP=e=>(e[Bs]=!0,!0),Pk=class{constructor(e,t){ee(this,"url");ee(this,"_connected",!1);ee(this,"onclose",null);ee(this,"onnotice",e=>console.debug("NOTICE from ".concat(this.url,": ").concat(e)));ee(this,"_onauth",null);ee(this,"baseEoseTimeout",4400);ee(this,"connectionTimeout",4400);ee(this,"publishTimeout",4400);ee(this,"openSubs",new Map);ee(this,"connectionTimeoutHandle");ee(this,"connectionPromise");ee(this,"openCountRequests",new Map);ee(this,"openEventPublishes",new Map);ee(this,"ws");ee(this,"incomingMessageQueue",new uk);ee(this,"queueRunning",!1);ee(this,"challenge");ee(this,"serial",0);ee(this,"verifyEvent");ee(this,"_WebSocket");this.url=Ri(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){let n=new Pk(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var r;t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(r=this.onclose)==null||r.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var n;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await XP();this.queueRunning=!1}handleNext(){var n,r,o;let e=this.incomingMessageQueue.dequeue();if(!e)return!1;let t=Ck(e);if(t){let s=this.openSubs.get(t);if(!s)return;let i=Sd(e,"id"),a=(n=s.alreadyHaveEvent)==null?void 0:n.call(s,i);if((r=s.receivedEvent)==null||r.call(s,this,i),a)return}try{let s=JSON.parse(e);switch(s[0]){case"EVENT":{let i=this.openSubs.get(s[1]),a=s[2];this.verifyEvent(a)&&WP(i.filters,a)&&i.onevent(a);return}case"COUNT":{let i=s[1],a=s[2],c=this.openCountRequests.get(i);c&&(c.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{let i=this.openSubs.get(s[1]);if(!i)return;i.receivedEose();return}case"OK":{let i=s[1],a=s[2],c=s[3],l=this.openEventPublishes.get(i);l&&(a?l.resolve(c):l.reject(new Error(c)),this.openEventPublishes.delete(i));return}case"CLOSED":{let i=s[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(s[2]);return}case"NOTICE":this.onnotice(s[1]);return;case"AUTH":{this.challenge=s[1],(o=this._onauth)==null||o.call(this,s[1]);return}}}catch(s){return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");let t=await e(Sk(this.url,this.challenge)),n=new Promise((r,o)=>{this.openEventPublishes.set(t.id,{resolve:r,reject:o})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){let t=new Promise((n,r)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:r})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),setTimeout(()=>{let n=this.openEventPublishes.get(e.id);n&&(n.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout),t}async count(e,t){this.serial++;let n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((o,s)=>{this.openCountRequests.set(n,{resolve:o,reject:s})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){let n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;let n=t.id||"sub:"+this.serial,r=new e5(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},e5=class{constructor(e,t,n,r){ee(this,"relay");ee(this,"id");ee(this,"closed",!1);ee(this,"eosed",!1);ee(this,"filters");ee(this,"alreadyHaveEvent");ee(this,"receivedEvent");ee(this,"onevent");ee(this,"oneose");ee(this,"onclose");ee(this,"eoseTimeout");ee(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(o=>{console.warn("onevent() callback not defined for subscription '".concat(this.id,"' in relay ").concat(this.relay.url,". event received:"),o)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},t5;try{t5=WebSocket}catch(e){}var n5=class{constructor(e){ee(this,"relays",new Map);ee(this,"seenOn",new Map);ee(this,"trackRelays",!1);ee(this,"verifyEvent");ee(this,"trustedRelayURLs",new Set);ee(this,"_WebSocket");this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation}async ensureRelay(e,t){e=Ri(e);let n=this.relays.get(e);return n||(n=new Pk(e,{verifyEvent:this.trustedRelayURLs.has(e)?JP:this.verifyEvent,websocketImplementation:this._WebSocket}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Ri).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){return this.subscribeManyMap(Object.fromEntries(e.map(r=>[r,t])),n)}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(d,f)=>{let h=this.seenOn.get(f);h||(h=new Set,this.seenOn.set(f,h)),h.add(d)});let n=new Set,r=[],o=Object.keys(e).length,s=[],i=d=>{var f;s[d]=!0,s.filter(h=>h).length===o&&((f=t.oneose)==null||f.call(t),i=()=>{})},a=[],c=(d,f)=>{var h;i(d),a[d]=f,a.filter(w=>w).length===o&&((h=t.onclose)==null||h.call(t,a),c=()=>{})},l=d=>{var h;if((h=t.alreadyHaveEvent)!=null&&h.call(t,d))return!0;let f=n.has(d);return n.add(d),f},u=Promise.all(Object.entries(e).map(async(d,f,h)=>{if(h.indexOf(d)!==f){c(f,"duplicate url");return}let[w,g]=d;w=Ri(w);let y;try{y=await this.ensureRelay(w,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(m){c(f,(m==null?void 0:m.message)||String(m));return}let p=y.subscribe(g,L(k({},t),{oneose:()=>i(f),onclose:m=>c(f,m),alreadyHaveEvent:l,eoseTimeout:t.maxWait}));r.push(p)}));return{async close(){await u,r.forEach(d=>{d.close()})}}}subscribeManyEose(e,t,n){let r=this.subscribeMany(e,t,L(k({},n),{oneose(){r.close()}}));return r}async querySync(e,t,n){return new Promise(async r=>{let o=[];this.subscribeManyEose(e,[t],L(k({},n),{onevent(s){o.push(s)},onclose(s){r(o)}}))})}async get(e,t,n){t.limit=1;let r=await this.querySync(e,t,n);return r.sort((o,s)=>s.created_at-o.created_at),r[0]||null}publish(e,t){return e.map(Ri).map(async(n,r,o)=>{if(o.indexOf(n)!==r)return Promise.reject("duplicate url");let s=await this.ensureRelay(n);return s.publish(t).then(i=>{if(this.trackRelays){let a=this.seenOn.get(t.id);a||(a=new Set,this.seenOn.set(t.id,a)),a.add(s)}return i})})}listConnectionStatus(){let e=new Map;return this.relays.forEach((t,n)=>e.set(n,t.connected)),e}destroy(){this.relays.forEach(e=>e.close()),this.relays=new Map}},Tk;try{Tk=WebSocket}catch(e){}var Nk=class extends n5{constructor(){super({verifyEvent:Cd,websocketImplementation:Tk})}},r5={};Ne(r5,{BECH32_REGEX:()=>Ak,Bech32MaxSize:()=>Ag,NostrTypeGuard:()=>o5,decode:()=>Pd,encodeBytes:()=>Nd,naddrEncode:()=>d5,neventEncode:()=>u5,noteEncode:()=>c5,nprofileEncode:()=>l5,npubEncode:()=>a5,nsecEncode:()=>i5});var o5={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},Ag=5e3,Ak=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function s5(e){let t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Pd(e){var o,s,i,a,c,l,u;let{prefix:t,words:n}=bo.decode(e,Ag),r=new Uint8Array(bo.fromWords(n));switch(t){case"nprofile":{let d=Eg(r);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Me(d[0][0]),relays:d[1]?d[1].map(f=>Sr.decode(f)):[]}}}case"nevent":{let d=Eg(r);if(!((s=d[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Me(d[0][0]),relays:d[1]?d[1].map(f=>Sr.decode(f)):[],author:(i=d[2])!=null&&i[0]?Me(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(Me(d[3][0]),16):void 0}}}case"naddr":{let d=Eg(r);if(!((c=d[0])!=null&&c[0]))throw new Error("missing TLV 0 for naddr");if(!((l=d[2])!=null&&l[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=d[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Sr.decode(d[0][0]),pubkey:Me(d[2][0]),kind:parseInt(Me(d[3][0]),16),relays:d[1]?d[1].map(f=>Sr.decode(f)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Me(r)};default:throw new Error("unknown prefix ".concat(t))}}function Eg(e){let t={},n=e;for(;n.length>0;){let r=n[0],o=n[1],s=n.slice(2,2+o);if(n=n.slice(2+o),s.length<o)throw new Error("not enough data to read on TLV ".concat(r));t[r]=t[r]||[],t[r].push(s)}return t}function i5(e){return Nd("nsec",e)}function a5(e){return Nd("npub",bs(e))}function c5(e){return Nd("note",bs(e))}function Td(e,t){let n=bo.toWords(t);return bo.encode(e,n,Ag)}function Nd(e,t){return Td(e,t)}function l5(e){let t=Ig({0:[bs(e.pubkey)],1:(e.relays||[]).map(n=>Nn.encode(n))});return Td("nprofile",t)}function u5(e){let t;e.kind!==void 0&&(t=s5(e.kind));let n=Ig({0:[bs(e.id)],1:(e.relays||[]).map(r=>Nn.encode(r)),2:e.author?[bs(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Td("nevent",n)}function d5(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Ig({0:[Nn.encode(e.identifier)],1:(e.relays||[]).map(r=>Nn.encode(r)),2:[bs(e.pubkey)],3:[new Uint8Array(t)]});return Td("naddr",n)}function Ig(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(o=>{let s=new Uint8Array(o.length+2);s.set([parseInt(n)],0),s.set([o.length],1),s.set(o,2),t.push(s)})}),Ni(...t)}var f5={};Ne(f5,{decrypt:()=>h5,encrypt:()=>Ik});async function Ik(e,t,n){let r=e instanceof Uint8Array?Me(e):e,o=yo.getSharedSecret(r,"02"+t),s=Ok(o),i=Uint8Array.from(dd(16)),a=Nn.encode(n),c=vg(s,i).encrypt(a),l=an.encode(new Uint8Array(c)),u=an.encode(new Uint8Array(i.buffer));return"".concat(l,"?iv=").concat(u)}async function h5(e,t,n){let r=e instanceof Uint8Array?Me(e):e,[o,s]=n.split("?iv="),i=yo.getSharedSecret(r,"02"+t),a=Ok(i),c=an.decode(s),l=an.decode(o),u=vg(a,c).decrypt(l);return Sr.decode(u)}function Ok(e){return e.slice(1,33)}var p5={};Ne(p5,{NIP05_REGEX:()=>Og,isNip05:()=>m5,isValid:()=>w5,queryProfile:()=>Lk,searchDomain:()=>y5,useFetchImplementation:()=>g5});var Og=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,m5=e=>Og.test(e||""),Ad;try{Ad=fetch}catch(e){}function g5(e){Ad=e}async function y5(e,t=""){try{let n="https://".concat(e,"/.well-known/nostr.json?name=").concat(t),r=await Ad(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch(n){return{}}}async function Lk(e){var o;let t=e.match(Og);if(!t)return null;let[,n="_",r]=t;try{let s="https://".concat(r,"/.well-known/nostr.json?name=").concat(n),i=await Ad(s,{redirect:"manual"});if(i.status!==200)throw Error("Wrong response code");let a=await i.json(),c=a.names[n];return c?{pubkey:c,relays:(o=a.relays)==null?void 0:o[c]}:null}catch(s){return null}}async function w5(e,t){let n=await Lk(t);return n?n.pubkey===e:!1}var v5={};Ne(v5,{parse:()=>x5});function x5(e){let t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]},n,r;for(let o=e.tags.length-1;o>=0;o--){let s=e.tags[o];if(s[0]==="e"&&s[1]){let[i,a,c,l,u]=s,d={id:a,relays:c?[c]:[],author:u};if(l==="root"){t.root=d;continue}if(l==="reply"){t.reply=d;continue}if(l==="mention"){t.mentions.push(d);continue}n?r=d:n=d,t.mentions.push(d);continue}if(s[0]==="q"&&s[1]){let[i,a,c]=s;t.quotes.push({id:a,relays:c?[c]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(o=>{if(!o)return;let s=t.mentions.indexOf(o);if(s!==-1&&t.mentions.splice(s,1),o.author){let i=t.profiles.find(a=>a.pubkey===o.author);i&&i.relays&&(o.relays||(o.relays=[]),i.relays.forEach(a=>{var c;((c=o.relays)==null?void 0:c.indexOf(a))===-1&&o.relays.push(a)}),i.relays=o.relays)}}),t.mentions.forEach(o=>{if(o.author){let s=t.profiles.find(i=>i.pubkey===o.author);s&&s.relays&&(o.relays||(o.relays=[]),s.relays.forEach(i=>{o.relays.indexOf(i)===-1&&o.relays.push(i)}),s.relays=o.relays)}}),t}var k5={};Ne(k5,{fetchRelayInformation:()=>_5,useFetchImplementation:()=>b5});var Rk;try{Rk=fetch}catch(e){}function b5(e){Rk=e}async function _5(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var E5={};Ne(E5,{fastEventHash:()=>Uk,getPow:()=>Mk,minePow:()=>B5});function Mk(e){let t=0;for(let n=0;n<64;n+=8){let r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function B5(e,t){let n=0,r=e,o=["nonce",n.toString(),t.toString()];for(r.tags.push(o);;){let s=Math.floor(new Date().getTime()/1e3);if(s!==r.created_at&&(n=0,r.created_at=s),o[1]=(++n).toString(),r.id=Uk(r),Mk(r.id)>=t)break}return r}function Uk(e){return Me(Vn(Nn.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var C5={};Ne(C5,{finishRepostEvent:()=>S5,getRepostedEvent:()=>P5,getRepostedEventPointer:()=>zk});function S5(e,t,n,r){var o;return Kn({kind:Pg,tags:[...(o=e.tags)!=null?o:[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},r)}function zk(e){if(e.kind!==Pg)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function P5(e,{skipVerification:t}={}){let n=zk(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch(o){return}if(r.id===n.id&&!(!t&&!Cd(r)))return r}var T5={};Ne(T5,{NOSTR_URI_REGEX:()=>Id,parse:()=>A5,test:()=>N5});var Id=new RegExp("nostr:(".concat(Ak.source,")"));function N5(e){return typeof e=="string"&&new RegExp("^".concat(Id.source,"$")).test(e)}function A5(e){let t=e.match(new RegExp("^".concat(Id.source,"$")));if(!t)throw new Error("Invalid Nostr URI: ".concat(e));return{uri:t[0],value:t[1],decoded:Pd(t[1])}}var I5={};Ne(I5,{finishReactionEvent:()=>O5,getReactedEventPointer:()=>L5});function O5(e,t,n){var o,s;let r=t.tags.filter(i=>i.length>=2&&(i[0]==="e"||i[0]==="p"));return Kn(L(k({},e),{kind:Tg,tags:[...(o=e.tags)!=null?o:[],...r,["e",t.id],["p",t.pubkey]],content:(s=e.content)!=null?s:"+"}),n)}function L5(e){if(e.kind!==Tg)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var R5={};Ne(R5,{matchAll:()=>M5,regex:()=>Lg,replaceAll:()=>U5});var Lg=()=>new RegExp("\\b".concat(Id.source,"\\b"),"g");function*M5(e){let t=e.matchAll(Lg());for(let n of t)try{let[r,o]=n;yield{uri:r,value:o,decoded:Pd(o),start:n.index,end:n.index+r.length}}catch(r){}}function U5(e,t){return e.replaceAll(Lg(),(n,r)=>t({uri:n,value:r,decoded:Pd(r)}))}var z5={};Ne(z5,{channelCreateEvent:()=>j5,channelHideMessageEvent:()=>H5,channelMessageEvent:()=>$5,channelMetadataEvent:()=>D5,channelMuteUserEvent:()=>V5});var j5=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Kn({kind:yk,tags:[...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},D5=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Kn({kind:wk,tags:[["e",e.channel_create_event_id],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},$5=(e,t)=>{var r;let n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Kn({kind:vk,tags:[...n,...(r=e.tags)!=null?r:[]],content:e.content,created_at:e.created_at},t)},H5=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Kn({kind:xk,tags:[["e",e.channel_message_event_id],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},V5=(e,t)=>{var r;let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Kn({kind:kk,tags:[["p",e.pubkey_to_mute],...(r=e.tags)!=null?r:[]],content:n,created_at:e.created_at},t)},q5={};Ne(q5,{EMOJI_SHORTCODE_REGEX:()=>jk,matchAll:()=>Z5,regex:()=>Rg,replaceAll:()=>W5});var jk=/:(\w+):/,Rg=()=>new RegExp("\\B".concat(jk.source,"\\B"),"g");function*Z5(e){let t=e.matchAll(Rg());for(let n of t)try{let[r,o]=n;yield{shortcode:r,name:o,start:n.index,end:n.index+r.length}}catch(r){}}function W5(e,t){return e.replaceAll(Rg(),(n,r)=>t({shortcode:n,name:r}))}var F5={};Ne(F5,{useFetchImplementation:()=>K5,validateGithub:()=>G5});var Mg;try{Mg=fetch}catch(e){}function K5(e){Mg=e}async function G5(e,t,n){try{return await(await Mg("https://gist.github.com/".concat(t,"/").concat(n,"/raw"))).text()==="Verifying that I control the following Nostr public key: ".concat(e)}catch(r){return!1}}var Q5={};Ne(Q5,{decrypt:()=>Dg,encrypt:()=>jg,getConversationKey:()=>Ug,v2:()=>tT});var Dk=1,$k=65535;function Ug(e,t){let n=yo.getSharedSecret(e,"02"+t).subarray(1,33);return ik(Vn,n,"nip44-v2")}function Hk(e,t){let n=ak(Vn,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function zg(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;let t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function Y5(e){if(!Number.isSafeInteger(e)||e<Dk||e>$k)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");let t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function X5(e){let t=Nn.encode(e),n=t.length,r=Y5(n),o=new Uint8Array(zg(n)-n);return Ni(r,t,o)}function J5(e){let t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<Dk||t>$k||n.length!==t||e.length!==2+zg(t))throw new Error("invalid padding");return Sr.decode(n)}function Vk(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");let r=Ni(n,t);return Li(Vn,e,r)}function eT(e){if(typeof e!="string")throw new Error("payload must be a valid string");let t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=an.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}let r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);let o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function jg(e,t,n=dd(32)){let{chacha_key:r,chacha_nonce:o,hmac_key:s}=Hk(t,n),i=X5(e),a=bd(r,o,i),c=Vk(s,a,n);return an.encode(Ni(new Uint8Array([2]),n,a,c))}function Dg(e,t){let{nonce:n,ciphertext:r,mac:o}=eT(e),{chacha_key:s,chacha_nonce:i,hmac_key:a}=Hk(t,n),c=Vk(a,r,n);if(!_s(c,o))throw new Error("invalid MAC");let l=bd(s,i,r);return J5(l)}var tT={utils:{getConversationKey:Ug,calcPaddedLen:zg},encrypt:jg,decrypt:Dg},nT={};Ne(nT,{makeNwcRequestEvent:()=>oT,parseConnectionString:()=>rT});function rT(e){let{pathname:t,searchParams:n}=new URL(e),r=t,o=n.get("relay"),s=n.get("secret");if(!r||!o||!s)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:s}}async function oT(e,t,n){let o=await Ik(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),s={kind:Ek,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return Kn(s,t)}var sT={};Ne(sT,{getZapEndpoint:()=>aT,makeZapReceipt:()=>uT,makeZapRequest:()=>cT,useFetchImplementation:()=>iT,validateZapRequest:()=>lT});var $g;try{$g=fetch}catch(e){}function iT(e){$g=e}async function aT(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:i}=bo.decode(n,1e3),a=bo.fromWords(i);t=Sr.decode(a)}else if(r){let[i,a]=r.split("@");t=new URL("/.well-known/lnurlp/".concat(i),"https://".concat(a)).toString()}else return null;let s=await(await $g(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch(t){}return null}function cT({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&s.tags.push(["e",t]),s}function lT(e){let t;try{t=JSON.parse(e)}catch(s){return"Invalid zap request JSON."}if(!Cg(t))return"Zap request is not a valid Nostr event.";if(!Cd(t))return"Invalid signature on zap request.";let n=t.tags.find(([s,i])=>s==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([s,i])=>s==="e"&&i);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,i])=>s==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function uT({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e),s=o.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...s,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var dT={};Ne(dT,{createRumor:()=>Kk,createSeal:()=>Gk,createWrap:()=>Qk,unwrapEvent:()=>Yk,unwrapManyEvents:()=>pT,wrapEvent:()=>Bg,wrapManyEvents:()=>hT});var fT=2*24*60*60,qk=()=>Math.round(Date.now()/1e3),Zk=()=>Math.round(qk()-Math.random()*fT),Wk=(e,t)=>Ug(e,t),Fk=(e,t,n)=>jg(JSON.stringify(e),Wk(t,n)),ck=(e,t)=>JSON.parse(Dg(e.content,Wk(t,e.pubkey)));function Kk(e,t){let n=L(k({created_at:qk(),content:"",tags:[]},e),{pubkey:dk(t)});return n.id=Ed(n),n}function Gk(e,t,n){return Kn({kind:gk,content:Fk(e,t,n),created_at:Zk(),tags:[]},t)}function Qk(e,t){let n=N6();return Kn({kind:bk,content:Fk(e,n,t),created_at:Zk(),tags:[["p",t]]},n)}function Bg(e,t,n){let r=Kk(e,t),o=Gk(r,t,n);return Qk(o,n)}function hT(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");let r=dk(t),o=[Bg(e,t,r)];return n.forEach(s=>{o.push(Bg(e,t,s))}),o}function Yk(e,t){let n=ck(e,t);return ck(n,t)}function pT(e,t){let n=[];return e.forEach(r=>{n.push(Yk(r,t))}),n.sort((r,o)=>r.created_at-o.created_at),n}var mT={};Ne(mT,{getToken:()=>gT,hashPayload:()=>Hg,unpackEventFromToken:()=>Jk,validateEvent:()=>sb,validateEventKind:()=>tb,validateEventMethodTag:()=>rb,validateEventPayloadTag:()=>ob,validateEventTimestamp:()=>eb,validateEventUrlTag:()=>nb,validateToken:()=>yT});var Xk="Nostr ";async function gT(e,t,n,r=!1,o){let s={kind:Ng,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&s.tags.push(["payload",Hg(o)]);let i=await n(s);return(r?Xk:"")+an.encode(Nn.encode(JSON.stringify(i)))}async function yT(e,t,n){let r=await Jk(e).catch(s=>{throw s});return await sb(r,t,n).catch(s=>{throw s})}async function Jk(e){if(!e)throw new Error("Missing token");e=e.replace(Xk,"");let t=Sr.decode(an.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function eb(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function tb(e){return e.kind===Ng}function nb(e,t){let n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function rb(e,t){let n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Hg(e){let t=Vn(Nn.encode(JSON.stringify(e)));return Me(t)}function ob(e,t){let n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;let r=Hg(t);return n.length>0&&n[1]===r}async function sb(e,t,n,r){if(!Cd(e))throw new Error("Invalid nostr event, signature invalid");if(!tb(e))throw new Error("Invalid nostr event, kind invalid");if(!eb(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!nb(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!rb(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!ob(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var wT=()=>({envelope:{kind:20004,tags:[]},filter:{kinds:[20004],since:oc()},req_timeout:5e3,since_offset:5,start_delay:2e3}),Mi=class extends xr{constructor(t,n,r={}){super(),this._inbox={event:new xr,id:new xr,peer:new xr,tag:new xr},this._sub=null,this._handler=o=>{try{let s=tx(o,this._seckey.hex),i=rx(s,o);this.emit("message",i),this.inbox.id.emit(i.id,i),this.inbox.peer.emit(i.env.pubkey,i),this.inbox.tag.emit(i.tag,i)}catch(s){this.emit("bounced",[o.id,Nu(s)])}},this._publish=async(o,s,i)=>{var h;let a=(h=i==null?void 0:i.cache)!=null?h:new Map,c=xT(this,i),l=nx(o.tag,o.data,o.id),u=Xv(c,l,s,this._seckey.hex),d=L(k({},o),{env:u}),f=this._pool.publish(this.relays,u);return this._inbox.event.emit("published",d),Promise.all(f).then(w=>{let g=this.relays.filter(v=>!w.includes(v)),y=o.id,p=w.length>0,m={acks:w,fails:g,ok:p,peer_pk:s,data:d};return a.set(s,m),this._inbox.event.emit("settled",L(k({},m),{msg_id:y})),L(k({},m),{ok:p,msg_id:y})})},ox(t),sx(n),this._seckey=new P(n),this._pubkey=pi(this._seckey.hex),this._config=vT(r),this._filter=ib(this,r.filter),this._pool=new Nk,this._relays=t,this.emit("info",["filter:",JSON.stringify(this.filter,null,2)])}_subscribe(t,n=this.config.req_timeout,r=_u()){var o;return this._filter=ib(this,t),this.filter["#p"]=[...(o=this.filter["#p"])!=null?o:[],this.pubkey],this._sub=this._pool.subscribeMany(this.relays,[this._filter],{id:r,oneose:()=>this.emit("subscribed",[r,this.filter]),onevent:this._handler}),new Promise(s=>{let i=setTimeout(()=>s("timeout"),n),a=c=>{clearTimeout(i),s(c)};this.within("subscribed",([c])=>{c===r&&a(null)},n)})}get config(){return this._config}get filter(){return this._filter}get inbox(){return this._inbox}get pubkey(){return this._pubkey}get relays(){return this._relays}async broadcast(t,n,r){let o=new Map,s=En(t),i=n.map(a=>this._publish(s,a,r));return Promise.all(i).then(a=>{let l={ok:a.every(u=>u.ok),cache:o,msg_id:s.id,peers:n};return a.forEach(u=>o.set(u.peer_pk,u)),this.emit("broadcast",l),k({},l)})}async connect(t=this.config.req_timeout){let n=await this._subscribe(this._filter,t);if(n!==null)throw new Error(n);return this.emit("ready",this),this}async close(){this._sub!==null&&this._sub.close(),this._pool.close!==void 0&&this._pool.close(this.relays),this.emit("close",this)}async request(t,n,r){let o=En(t),s=this.subscribe({id:o.id,peers:[n]},r);return this.publish(o,n,r),s}async multicast(t,n,r={}){let o=En(t),s=this.subscribe({id:o.id,peers:n},r),i=this.broadcast(o,n,r);return Promise.all([s,i]).then(([a,c])=>({sub:a,pub:c}))}async publish(t,n,r){let o=En(t);return this._publish(o,n,r)}async subscribe(t,n){let r=kT(this,n);return new Promise(o=>{let{timeout:s,threshold:i}=r,{id:a,peers:c=[],tag:l}=t,u=new Set,d=new Set,f=setTimeout(()=>h(!1,"timeout"),s),h=(g,y)=>{clearTimeout(f);let p={ok:g,authors:Array.from(u),inbox:Array.from(d),peers:c,reason:y};this.emit("resolved",p),o(k({},p))},w=g=>typeof a=="string"&&a!==g.id||typeof l=="string"&&l!==g.tag||c.length>0&&!c.includes(g.env.pubkey);this.within("message",g=>{w(g)||(u.add(g.env.pubkey),d.add(g)),typeof i=="number"&&u.size>=i&&h(!0,"threshold"),Array.isArray(c)&&c.every(y=>u.has(y))&&h(!0,"complete")},s)})}async update(t){return this._sub!==null&&this._sub.close(),this._subscribe(t)}};function vT(e={}){let t=wT(),n=k(k({},t.envelope),e.envelope),r=k(k({},t.filter),e.filter);return L(k({},t),{envelope:n,filter:r})}function xT(e,t={}){var a,c;let i=t,{created_at:n=oc(),tags:r=[]}=i,o=_c(i,["created_at","tags"]),s=e.config.envelope;return r=[...(a=s.tags)!=null?a:[],...(c=t.tags)!=null?c:[]],L(k(k({},s),o),{created_at:n,tags:r})}function ib(e,t={}){return k(k({},e.config.filter),t)}function kT(e,t={}){var r;let n=(r=t.timeout)!=null?r:e.config.req_timeout;return L(k({},t),{timeout:n})}var bT=()=>({debug:!1,middleware:{},policies:[],sign_interval:100}),pc=class extends Zu{constructor(t,n,r,o){super(),this._cache=ET(o),this._config=_T(o),this._queue=new Wu(this),this._signer=new ac(t,n,o),this._peers=BT(this),this._client=new Mi(r,n.seckey,{filter:{authors:Rx(this.peers)}}),this._client.on("message",s=>{if(this.emit("message",s),!!this._filter(s))try{switch(s.tag){case"/ping/req":{jx(this,s);break}case"/ecdh/req":{let i=Uu(s);Ux(this,i);break}case"/sign/req":{let i=Tx(s);Jx(this,i);break}}}catch(i){this.emit("bounced",[Nu(i),s])}})}_filter(t){return t.tag==="/ping/req"||Mx(this.peers).includes(t.env.pubkey)?!0:(this.emit("bounced",["unauthorized",t]),!1)}get cache(){return this._cache}get client(){return this._client}get config(){return this._config}get debug(){return this._config.debug}get group(){return this._signer.group}get queue(){return this._queue}get peers(){return this._peers}get pubkey(){return ho(this.signer.pubkey,"bip340")}get req(){return{ecdh:zx(this),ping:Dx(this),queue:e2(this),sign:t2(this)}}get signer(){return this._signer}async connect(){return await this.client.connect(),this.emit("ready",this),this}async close(){return await this.client.close(),this.emit("closed",this),this}update_peer(t){let n=this.peers.findIndex(r=>r.pubkey===t.pubkey);n!==-1&&(this._peers[n]=k(k({},this._peers[n]),t))}};function _T(e={}){return k(k({},bT()),e)}function ET(e={}){var t,n;return{ecdh:(n=(t=e.cache)==null?void 0:t.ecdh)!=null?n:new Map}}function BT(e){var s;let t=vr(),n=e.pubkey,r=e.group.commits.map(i=>ho(i.pubkey,"bip340")).filter(i=>i!==n),o=[];for(let i of r){let a=e.config.policies.find(l=>l.pubkey===i),c=(s=a==null?void 0:a.policy)!=null?s:{send:!0,recv:!0};o.push({policy:c,pubkey:i,status:"offline",updated:t})}return o}function Rd(e){return mc(e).to_bech32m("bfgroup")}function Ui(e){let t=P.bech32m(e);return gc(t)}function mc(e){let t=P.num(e.threshold,4),n=P.hex(e.group_pk,33),r=e.commits.map(o=>ST(o));return P.join([n,t,...r])}function gc(e){let t=new P(e).stream,n=t.read(33).hex,r=t.read(4).num;le.ok(t.size%103===0,"commit data is malformed");let o=t.size/103,s=[];for(let i=0;i<o;i++){let a=t.read(103);s.push(PT(a))}return le.size(t.data,0),zu({commits:s,group_pk:n,threshold:r})}function ST(e){let t=P.num(e.idx,4),n=P.hex(e.pubkey,33),r=P.hex(e.binder_pn,33),o=P.hex(e.hidden_pn,33);return P.join([t,n,r,o])}function PT(e){let t=new P(e).stream;le.size(t.data,103);let n=t.read(4).num,r=t.read(33).hex,o=t.read(33).hex,s=t.read(33).hex;return le.size(t.data,0),{idx:n,binder_pn:o,hidden_pn:s,pubkey:r}}function zd(e){let t=yc(e);return le.size(t,100),t.to_bech32m("bfshare")}function zi(e){let t=P.bech32m(e);return wc(t)}function yc(e){let t=P.num(e.idx,4),n=P.hex(e.seckey,32),r=P.hex(e.binder_sn,32),o=P.hex(e.hidden_sn,32);return P.join([t,n,r,o])}function wc(e){let t=new P(e).stream;le.size(t.data,100);let n=t.read(4).num,r=t.read(32).hex,o=t.read(32).hex,s=t.read(32).hex;return le.size(t.data,0),zu({idx:n,binder_sn:o,hidden_sn:s,seckey:r})}var db=100;function fb(e,t){le.ok(Rm(e,t),"share not included in group");let n=mc(e),r=yc(t);return P.join([r,n]).to_bech32m("bfcred")}function hb(e){let t=P.bech32m(e),n=t.slice(0,db),r=t.slice(db),o=gc(r),s=wc(n);return le.ok(Rm(o,s),"share not included in group"),{group:o,share:s}}var qg;(function(e){e.cred={encode:fb,decode:hb},e.group={encode:Rd,decode:Ui,serialize:mc,deserialize:gc},e.share={encode:zd,decode:zi,serialize:yc,deserialize:wc}})(qg||(qg={}));var Zg="frostr-demo",pb={group:null,share:null,relays:[],peers:[],logs:[]};var jd=class{constructor(t,n){this._subs=new Set;this._defaults=n,this._store_key=t}get_defaults(){return this._defaults}get(){try{let t=localStorage.getItem(this._store_key);return t?JSON.parse(t):this._defaults}catch(t){return this._defaults}}reset(){this.set(this._defaults)}set(t){try{localStorage.setItem(this._store_key,JSON.stringify(t)),this._notify_subs()}catch(n){console.error("Error saving to localStorage:",n)}}subscribe(t){return this._subs.add(t),()=>this._subs.delete(t)}update(t){this.set(k(k({},this.get()),t))}_notify_subs(){this._subs.forEach(t=>t())}};var ji=J(Et(),1);var vb=J(ae(),1);function wb(e){let t=(0,ji.createContext)(null);return{StoreProvider:({children:o})=>{let[s,i]=(0,ji.useState)(e.get()),a=()=>{e.reset(),i(e.get_defaults())},c=l=>{let u=k(k({},s),l);e.set(u),i(u)};return(0,vb.jsx)(t.Provider,{value:{data:s,reset:a,update:c},children:o})},useStore:()=>{let o=(0,ji.useContext)(t);if(o===null)throw new Error("useStore must be used within a StoreProvider");return o}}}var zT=new URLSearchParams(window.location.search),xb=zT.get("name"),jT=xb?"".concat(Zg,"-").concat(xb):Zg,DT=new jd(jT,pb),{StoreProvider:kb,useStore:dt}=wb(DT);var So=J(Et(),1);function _b(){let[e,t]=(0,So.useState)("stopped"),n=dt(),r=(0,So.useRef)(null),o=(0,So.useRef)(n.data);(0,So.useEffect)(()=>{o.current=n.data},[n.data]);let s=()=>{if(!$T(n.data))return;n.update({logs:[]});let{group:a,share:c,peers:l,relays:u}=n.data,d=u.map(f=>f.url);r.current=new pc(a,c,d,{policies:l}),r.current.once("ready",()=>{console.log("node ready"),t("online")}),r.current.once("error",f=>{console.error("node error:",f),t("offline")}),r.current.once("closed",()=>{console.log("node closed"),t("offline")}),r.current.on("*",(f,h)=>{if(f==="message")return;let w={timestamp:new Date().toISOString(),message:String(f),type:"info"};n.update({logs:HT(o.current,w)}),console.log("event received:",f),console.dir(h,{depth:null})}),r.current.connect()},i=()=>{r.current&&(r.current=null)};return(0,So.useEffect)(()=>{s()},[n.data.group,n.data.share,n.data.relays,n.data.peers]),{ref:r,reset:s,stop:i,status:e}}function $T(e){return e.group!==null&&e.share!==null&&e.relays.length>0}function HT(e,t){let n=[...e.logs,t];if(n.length>100){let r=n.length-100;n=n.slice(r)}return n}var $d=J(Et(),1),Cb=J(ae(),1),Eb=(0,$d.createContext)(null);function Bb({children:e}){let t=_b();return(0,Cb.jsx)(Eb.Provider,{value:t,children:e})}function Hd(){let e=(0,$d.useContext)(Eb);if(e===null)throw new Error("useNode must be used within a NodeProvider");return e}var Pr=J(ae(),1);function Sb(){return(0,Pr.jsxs)("div",{className:"page-header",children:[(0,Pr.jsx)("img",{src:"assets/frostr-icon.png",alt:"Frost Logo",className:"frost-logo"}),(0,Pr.jsx)("div",{className:"title-container",children:(0,Pr.jsx)("h1",{children:"FROSTR Web Demo"})}),(0,Pr.jsx)("p",{children:"FROSTR Web Demo"}),(0,Pr.jsx)("a",{href:"https://frostr.org",target:"_blank",rel:"noopener noreferrer",children:"https://frostr.org"}),(0,Pr.jsx)("div",{className:"alpha-pill alpha-pill-standalone",children:"alpha edition"})]})}var Wb=J(Et(),1);var un=J(ae(),1);function Pb(){let e=dt(),t=async()=>{e.update({logs:[]})};return(0,un.jsxs)("div",{className:"console-container",children:[(0,un.jsx)("h2",{className:"section-header",children:"Event Console"}),(0,un.jsx)("p",{className:"description",children:"Monitor events from your bifrost node."}),(0,un.jsx)("div",{className:"console-output",children:e.data.logs.length===0?(0,un.jsx)("div",{className:"console-empty",children:"No events logged yet"}):e.data.logs.map((n,r)=>(0,un.jsxs)("div",{className:"console-entry",children:[(0,un.jsx)("span",{className:"console-timestamp",children:new Date(n.timestamp).toLocaleTimeString()}),(0,un.jsx)("span",{className:"console-message console-".concat(n.type),children:n.message})]},r))}),(0,un.jsx)("div",{className:"console-controls",children:(0,un.jsx)("button",{className:"button",onClick:t,children:"Clear Console"})})]})}var Cs=J(ae(),1);function Tb(){var t;let e=Hd();return(0,Cs.jsxs)("div",{className:"dashboard-container",children:[(0,Cs.jsx)("h2",{className:"section-header",children:"Node Status"}),(0,Cs.jsxs)("pre",{children:["pubkey: ",((t=e.ref.current)==null?void 0:t.pubkey)||"unknown"]}),(0,Cs.jsxs)("pre",{children:["status: ",e.status]}),(0,Cs.jsx)("button",{className:"button",onClick:()=>e.reset(),children:"Reset Node"})]})}var Vd=J(Et(),1);var ft=J(ae(),1);function Nb(){let e=Hd(),t=dt(),[n,r]=(0,Vd.useState)([]),o=async()=>{if(!e.ref.current)return;let s=vr(),i=e.ref.current.peers,a=i.filter(l=>l.updated<s-5);console.log("peers",i),console.log("stale",a);let c=[];for(let l of a)c.push(e.ref.current.req.ping(l.pubkey).then(u=>{let d=[...n.filter(f=>f.pubkey!==l.pubkey)];d.push({pubkey:l.pubkey,status:u.ok?"online":"offline"}),r(d)}));console.log("pings",c),await Promise.all(c),t.update({peers:e.ref.current.peers})};return(0,Vd.useEffect)(()=>{if(e.status!=="online")return;o();let s=setInterval(o,3e4);return()=>clearInterval(s)},[]),(0,ft.jsxs)("div",{className:"dashboard-container",children:[(0,ft.jsx)("h2",{className:"section-header",children:"Peer Status"}),n.length===0?(0,ft.jsx)("p",{children:"waiting for peers..."}):(0,ft.jsxs)("table",{children:[(0,ft.jsx)("thead",{children:(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("th",{children:"Pubkey"}),(0,ft.jsx)("th",{children:"Status"})]})}),(0,ft.jsx)("tbody",{children:n.map(s=>(0,ft.jsxs)("tr",{children:[(0,ft.jsx)("td",{className:"pubkey-cell",children:s.pubkey}),(0,ft.jsx)("td",{children:(0,ft.jsx)("span",{className:"status-indicator ".concat(s.status),children:s.status})})]},s.pubkey))})]}),(0,ft.jsx)("button",{className:"button",onClick:o,disabled:e.status!=="online",children:"Refresh"})]})}var Gn=J(Et(),1);var Po=J(Et(),1);var Ss=class e{constructor(t,n,r,o,s){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),r&&typeof r=="object"?this._onDecode=n:(console.warn(r||o||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=n),n=typeof r=="object"?r:{},this._onDecodeError=n.onDecodeError||(typeof r=="function"?r:this._onDecodeError),this._calculateScanRegion=n.calculateScanRegion||(typeof o=="function"?o:this._calculateScanRegion),this._preferredCamera=n.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof r=="number"?r:typeof o=="number"?o:this._legacyCanvasSize,this._maxScansPerSecond=n.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let i=!1;if(t.hidden&&(t.hidden=!1,i=!0),document.body.contains(t)||(document.body.appendChild(t),i=!0),r=t.parentElement,n.highlightScanRegion||n.highlightCodeOutline){if(o=!!n.overlay,this.$overlay=n.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!o&&n.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(a){}r.insertBefore(this.$overlay,this.$video.nextSibling)}n.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let a=window.getComputedStyle(t);a.display==="none"&&(t.style.setProperty("display","block","important"),i=!0),a.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),i=!0),i&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(t){return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="videoinput"),r;try{t&&(await n()).every(o=>!o.label)&&(r=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(o){}try{return(await n()).map((o,s)=>({id:o.deviceId,label:o.label||(s===0?"Default Camera":"Camera ".concat(s+1))}))}finally{r&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),e._stopVideoStream(r))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch(n){return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),e._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:n}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(t):(this._setVideoMirror(n),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let n=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(n(),!0):(await new Promise(r=>setTimeout(r,300)),this._paused?(n(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,n,r,o,s=!1,i=!1){let a,c=!1;n&&("scanRegion"in n||"qrEngine"in n||"canvas"in n||"disallowCanvasResizing"in n||"alsoTryWithoutScanRegion"in n||"returnDetailedScanResult"in n)?(a=n.scanRegion,r=n.qrEngine,o=n.canvas,s=n.disallowCanvasResizing||!1,i=n.alsoTryWithoutScanRegion||!1,c=!0):console.warn(n||r||o||s||i?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),n=!!r;try{let l,u;[r,l]=await Promise.all([r||e.createQrEngine(),e._loadImage(t)]),[o,u]=e._drawToCanvas(l,a,o,s);let d;if(r instanceof Worker){let f=r;n||e._postWorkerMessageSync(f,"inversionMode","both"),d=await new Promise((h,w)=>{let g,y,p,m=-1;y=x=>{x.data.id===m&&(f.removeEventListener("message",y),f.removeEventListener("error",p),clearTimeout(g),x.data.data!==null?h({data:x.data.data,cornerPoints:e._convertPoints(x.data.cornerPoints,a)}):w(e.NO_QR_CODE_FOUND))},p=x=>{f.removeEventListener("message",y),f.removeEventListener("error",p),clearTimeout(g),w("Scanner error: "+(x?x.message||x:"Unknown Error"))},f.addEventListener("message",y),f.addEventListener("error",p),g=setTimeout(()=>p("timeout"),1e4);let v=u.getImageData(0,0,o.width,o.height);m=e._postWorkerMessageSync(f,"decode",v,[v.data.buffer])})}else d=await Promise.race([new Promise((f,h)=>window.setTimeout(()=>h("Scanner error: timeout"),1e4)),(async()=>{try{var[f]=await r.detect(o);if(!f)throw e.NO_QR_CODE_FOUND;return{data:f.rawValue,cornerPoints:e._convertPoints(f.cornerPoints,a)}}catch(h){if(f=h.message||h,/not implemented|service unavailable/.test(f))return e._disableBarcodeDetector=!0,e.scanImage(t,{scanRegion:a,canvas:o,disallowCanvasResizing:s,alsoTryWithoutScanRegion:i});throw"Scanner error: ".concat(f)}})()]);return c?d:d.data}catch(l){if(!a||!i)throw l;let u=await e.scanImage(t,{qrEngine:r,canvas:o,disallowCanvasResizing:s});return c?u:u.data}finally{n||e._postWorkerMessage(r,"close")}}setGrayscaleWeights(t,n,r,o=!0){e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:n,blue:r,useIntegerApproximation:o})}setInversionMode(t){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>Promise.resolve().then(()=>(Ib(),Ab)).then(r=>r.createWorker()),!(!e._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let n=navigator.userAgentData;return n&&n.brands.some(({brand:r})=>/Chromium/i.test(r))&&/mac ?OS/i.test(n.platform)&&await n.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:r,platformVersion:o})=>/arm/i.test(r||"arm")&&13<=parseInt(o||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let n=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-n)/2),y:Math.round((t.videoHeight-n)/2),width:n,height:n,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,n=t.videoWidth,r=t.videoHeight,o=t.offsetWidth,s=t.offsetHeight,i=t.offsetLeft,a=t.offsetTop,c=window.getComputedStyle(t),l=c.objectFit,u=n/r,d=o/s;switch(l){case"none":var f=n,h=r;break;case"fill":f=o,h=s;break;default:(l==="cover"?u>d:u<d)?(h=s,f=h*u):(f=o,h=f/u),l==="scale-down"&&(f=Math.min(f,n),h=Math.min(h,r))}var[w,g]=c.objectPosition.split(" ").map((p,m)=>{let v=parseFloat(p);return p.endsWith("%")?(m?s-h:o-f)*v/100:v});c=this._scanRegion.width||n,d=this._scanRegion.height||r,l=this._scanRegion.x||0;var y=this._scanRegion.y||0;u=this.$overlay.style,u.width="".concat(c/n*f,"px"),u.height="".concat(d/r*h,"px"),u.top="".concat(a+g+y/r*h,"px"),r=/scaleX\(-1\)/.test(t.style.transform),u.left="".concat(i+(r?o-w-f:w)+(r?n-l-c:l)/n*f,"px"),u.transform=t.style.transform}})}static _convertPoints(t,n){if(!n)return t;let r=n.x||0,o=n.y||0,s=n.width&&n.downScaledWidth?n.width/n.downScaledWidth:1;n=n.height&&n.downScaledHeight?n.height/n.downScaledHeight:1;for(let i of t)i.x=i.x*s+r,i.y=i.y*n+o;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,n=1e3/this._maxScansPerSecond;t<n&&await new Promise(o=>setTimeout(o,n-t)),this._lastScanTimestamp=Date.now();try{var r=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(o){if(!this._active)return;this._onDecodeError(o)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=e.createQrEngine()),r?(this._onDecode?this._onDecode(r):this._legacyOnDecode&&this._legacyOnDecode(r.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox","".concat(this._scanRegion.x||0," ")+"".concat(this._scanRegion.y||0," ")+"".concat(this._scanRegion.width||this.$video.videoWidth," ")+"".concat(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",r.cornerPoints.map(({x:o,y:s})=>"".concat(o,",").concat(s)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==e.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",n=[{width:{min:1024}},{width:{min:768}},{}],r=n.map(o=>Object.assign({},o,{[t]:{exact:this._preferredCamera}}));for(let o of[...r,...n])try{let s=await navigator.mediaDevices.getUserMedia({video:o,audio:!1}),i=this._getFacingMode(s)||(o.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:i}}catch(s){}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let n of t.getTracks())n.stop(),t.removeTrack(n)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,n,r,o=!1){r=r||document.createElement("canvas");let s=n&&n.x?n.x:0,i=n&&n.y?n.y:0,a=n&&n.width?n.width:t.videoWidth||t.width,c=n&&n.height?n.height:t.videoHeight||t.height;return o||(o=n&&n.downScaledWidth?n.downScaledWidth:a,n=n&&n.downScaledHeight?n.downScaledHeight:c,r.width!==o&&(r.width=o),r.height!==n&&(r.height=n)),n=r.getContext("2d",{alpha:!1}),n.imageSmoothingEnabled=!1,n.drawImage(t,s,i,a,c,0,0,r.width,r.height),[r,n]}static async _loadImage(t){if(t instanceof Image)return await e._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let n=new Image;n.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await e._awaitImageLoad(n),n}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(n.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((n,r)=>{let o=s=>{t.removeEventListener("load",o),t.removeEventListener("error",o),s instanceof ErrorEvent?r("Image load error"):n()};t.addEventListener("load",o),t.addEventListener("error",o)})}static async _postWorkerMessage(t,n,r,o){return e._postWorkerMessageSync(await t,n,r,o)}static _postWorkerMessageSync(t,n,r,o){if(!(t instanceof Worker))return-1;let s=e._workerMessageId++;return t.postMessage({id:s,type:n,data:r},o),s}};Ss.DEFAULT_CANVAS_SIZE=400;Ss.NO_QR_CODE_FOUND="No QR code found";Ss._disableBarcodeDetector=!1;Ss._workerMessageId=0;var Ob=Ss;var Di=J(ae(),1),Lb={container:{width:"100%",maxWidth:"400px",margin:"1rem auto",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden",position:"relative",backgroundColor:"#000"},video:{width:"100%",height:"auto",display:"block"}};function qd({onResult:e,onError:t}){let n=(0,Po.useRef)(null),r=(0,Po.useRef)(null),[o,s]=(0,Po.useState)(null),[i,a]=(0,Po.useState)(null);return(0,Po.useEffect)(()=>{let c=null;return(async()=>{if(!n.current){s("Video element not found");return}try{c=new Ob(n.current,u=>{e(u.data),c==null||c.stop()},{returnDetailedScanResult:!0}),await c.start(),s(null),a(!0),r.current=c}catch(u){let d=u instanceof Error?u:new Error("Failed to initialize scanner");s(d.message),t?t(d):console.error("Failed to start QR scanner:",d)}})(),()=>{c&&(c.stop(),c.destroy())}},[e,t]),(0,Di.jsxs)("div",{style:Lb.container,children:[(0,Di.jsx)("video",{ref:n,style:Lb.video,playsInline:!0,autoPlay:!0,muted:!0}),o&&(0,Di.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"1rem",borderRadius:"4px",textAlign:"center",zIndex:1e3},children:[o,i===!1&&(0,Di.jsx)("div",{style:{marginTop:"1rem"},children:"Please grant camera permissions to use the QR scanner"})]})]})}var ht=J(ae(),1);function Mb(){var f;let e=dt(),[t,n]=(0,Gn.useState)(""),[r,o]=(0,Gn.useState)(null),[s,i]=(0,Gn.useState)(!1),[a,c]=(0,Gn.useState)(!1),[l,u]=(0,Gn.useState)(!1),d=()=>{if(r===null){if(t==="")e.update({group:null});else try{let h=Ui(t);if(h===null)return;e.update({group:h})}catch(h){console.log(h),o("failed to decode package data")}c(!0),setTimeout(()=>c(!1),1500)}};return(0,Gn.useEffect)(()=>{let h=new URLSearchParams(window.location.search),w=e.data.group,g=h.get("g");if(!w&&g){let y=Rb(g);if(y===null)return;n(g),e.update({group:y})}},[e.data.group]),(0,Gn.useEffect)(()=>{try{e.data.group!==null?n(Ub(e.data.group)):n("")}catch(h){n("")}},[e.data.group]),(0,Gn.useEffect)(()=>{if(t==="")o(null);else if(!t.startsWith("bfgroup"))o('input must start with "bfgroup"');else if(!ZT(t))o("input contains invalid characters");else{let h=Rb(t);o(h!==null?null:"failed to decode package data")}},[t]),(0,ht.jsxs)("div",{className:"container",children:[(0,ht.jsx)("h2",{className:"section-header",children:"Group Package"}),(0,ht.jsx)("p",{className:"description",children:"Paste your encoded group string (starts with bfgroup). It contains information about your signing group."}),(0,ht.jsxs)("div",{className:"content-container",children:[(0,ht.jsxs)("div",{className:"input-with-button",children:[(0,ht.jsx)("input",{type:s?"text":"password",value:t,onChange:h=>n(h.target.value.trim()),placeholder:"bfgroup1..."}),(0,ht.jsxs)("div",{className:"input-actions",children:[(0,ht.jsx)("button",{className:"button",onClick:()=>i(!s),children:s?"hide":"show"}),(0,ht.jsx)("button",{className:"button",onClick:()=>u(!l),children:l?"stop scan":"scan"}),(0,ht.jsx)("button",{className:"button action-button ".concat(a?"saved-button":""),onClick:d,disabled:!WT(t,e.data.group)||r!==null,children:a?"Saved":"Save"})]})]}),l&&(0,ht.jsx)(qd,{onResult:h=>{n(h.trim()),u(!1)},onError:h=>{console.error("QR scan error:",h)}}),t!==""&&r===null&&s&&(0,ht.jsx)("pre",{className:"code-display",children:(f=FT(t))!=null?f:"invalid group package"}),(0,ht.jsx)("div",{className:"notification-container",children:r&&(0,ht.jsx)("p",{className:"error-text",children:r})})]})]})}function ZT(e){return/^bfgroup1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(e)}function WT(e,t){if(t===null)return e!=="";{let n=Ub(t);return e!==n}}function Ub(e){try{return e!==null?Rd(e):""}catch(t){return""}}function Rb(e){try{return e!==""?Ui(e):null}catch(t){return null}}function FT(e){try{let t=Ui(e);return JSON.stringify(t,null,2)}catch(t){return null}}var Ps=J(Et(),1);var Ce=J(ae(),1);function zb(){let e=dt(),[t,n]=(0,Ps.useState)(e.data.peers),[r,o]=(0,Ps.useState)(!1),[s,i]=(0,Ps.useState)(!1),a=()=>{e.update({peers:t}),o(!1),i(!0),setTimeout(()=>i(!1),1500)},c=()=>{n(e.data.peers),o(!1)},l=(u,d,f)=>{n(h=>{let w=[...h!=null?h:[]];return w[u].policy[d]=f,w}),o(!0)};return(0,Ps.useEffect)(()=>{n(e.data.peers)},[e.data.peers]),(0,Ps.useEffect)(()=>{let{share:u,group:d,peers:f}=e.data;u&&d&&f.length===0?n(KT(d,u.idx)):(!u||!d)&&n([])},[e.data.share,e.data.group]),(0,Ce.jsxs)("div",{className:"container",children:[(0,Ce.jsx)("h2",{className:"section-header",children:"Peer Connections"}),(0,Ce.jsx)("p",{className:"description",children:'Configure how you communicate with other peers in your signing group. "Request" will send signature requests to that peer, and "Respond" will co-sign requests from that peer.'}),t===null&&(0,Ce.jsx)("p",{className:"description",children:"You must configure your node's credentials first."}),t!==null&&(0,Ce.jsxs)("div",{children:[(0,Ce.jsxs)("table",{children:[(0,Ce.jsx)("thead",{children:(0,Ce.jsxs)("tr",{children:[(0,Ce.jsx)("th",{children:"Peer Public Key"}),(0,Ce.jsx)("th",{className:"checkbox-cell",children:"Send"}),(0,Ce.jsx)("th",{className:"checkbox-cell",children:"Receive"})]})}),(0,Ce.jsx)("tbody",{children:t.map((u,d)=>(0,Ce.jsxs)("tr",{children:[(0,Ce.jsx)("td",{className:"pubkey-cell",children:u.pubkey}),(0,Ce.jsx)("td",{className:"checkbox-cell",children:(0,Ce.jsx)("input",{type:"checkbox",className:"peer-checkbox",checked:u.policy.send,onChange:()=>l(d,"send",!u.policy.send)})}),(0,Ce.jsx)("td",{className:"checkbox-cell",children:(0,Ce.jsx)("input",{type:"checkbox",className:"peer-checkbox",checked:u.policy.recv,onChange:()=>l(d,"recv",!u.policy.recv)})})]},d))})]}),(0,Ce.jsxs)("div",{className:"action-buttons",children:[(0,Ce.jsx)("button",{onClick:a,disabled:!r,className:"button button-primary action-button ".concat(s?"saved-button":""),children:s?"Saved":"Save"}),r&&(0,Ce.jsx)("button",{onClick:c,className:"button",children:"Cancel"})]})]})]})}function KT(e,t){return e.commits.filter(n=>n.idx!==t).map(n=>({pubkey:n.pubkey,policy:{send:!1,recv:!0}}))}var Qn=J(Et(),1);var me=J(ae(),1);function jb(){let e=dt(),[t,n]=(0,Qn.useState)(e.data.relays),[r,o]=(0,Qn.useState)(""),[s,i]=(0,Qn.useState)(!1),[a,c]=(0,Qn.useState)(null),[l,u]=(0,Qn.useState)(!1),d=()=>{e.update({relays:t}),i(!1),u(!0),setTimeout(()=>u(!1),1500)},f=()=>{n(e.data.relays),i(!1)},h=(y,p)=>{n(m=>{let v=[...m];return v[y]=L(k({},v[y]),{[p]:!v[y][p]}),v}),i(!0)},w=()=>{r.trim()&&(r.startsWith("wss://")||r.startsWith("ws://")?GT(r)?t.some(y=>y.url===r)?c("Relay already exists"):(n(y=>[...y,{url:r,read:!0,write:!0}]),o(""),i(!0)):c("Invalid URL format"):c("Relay URL must start with wss:// or ws://"))},g=y=>{n(p=>p.filter((m,v)=>v!==y)),i(!0)};return(0,Qn.useEffect)(()=>{let p=new URLSearchParams(window.location.search).getAll("r");if(p.length>0){let m=[];for(let v of p)t.some(x=>x.url===v)||m.push({url:v,read:!0,write:!0});m.length>0&&e.update({relays:[...t,...m]})}},[e.data.relays]),(0,Qn.useEffect)(()=>{a!==null&&c(null)},[r]),(0,Qn.useEffect)(()=>{n(e.data.relays)},[e.data.relays]),(0,me.jsxs)("div",{className:"container",children:[(0,me.jsx)("h2",{className:"section-header",children:"Relay Connections"}),(0,me.jsx)("p",{className:"description",children:'Configure which relays your node will use to communicate. "Read" will enable listening for inbound requests, and "Write" will enable publishing outbound requests.'}),(0,me.jsxs)("table",{children:[(0,me.jsx)("thead",{children:(0,me.jsxs)("tr",{children:[(0,me.jsx)("th",{className:"url-column",children:"Relay URL"}),(0,me.jsx)("th",{className:"checkbox-cell",children:"Read"}),(0,me.jsx)("th",{className:"checkbox-cell",children:"Write"}),(0,me.jsx)("th",{className:"action-cell",children:"Actions"})]})}),(0,me.jsx)("tbody",{children:t.map((y,p)=>(0,me.jsxs)("tr",{children:[(0,me.jsx)("td",{children:y.url}),(0,me.jsx)("td",{className:"checkbox-cell",children:(0,me.jsx)("input",{type:"checkbox",className:"relay-checkbox",checked:y.read,onChange:()=>h(p,"read")})}),(0,me.jsx)("td",{className:"checkbox-cell",children:(0,me.jsx)("input",{type:"checkbox",className:"relay-checkbox",checked:y.write,onChange:()=>h(p,"write")})}),(0,me.jsx)("td",{className:"action-cell",children:(0,me.jsx)("button",{onClick:()=>g(p),className:"button button-remove",children:"Remove"})})]},p))})]}),(0,me.jsxs)("div",{className:"input-group relay-controls",children:[(0,me.jsx)("input",{type:"text",value:r,onChange:y=>o(y.target.value),placeholder:"wss://relay.example.com",className:"relay-input"}),(0,me.jsx)("button",{onClick:w,className:"button add-relay-button",children:"Add Relay"})]}),(0,me.jsxs)("div",{className:"action-buttons",children:[(0,me.jsx)("button",{onClick:d,disabled:!s,className:"button button-primary action-button ".concat(l?"saved-button":""),children:l?"Saved":"Save"}),s&&(0,me.jsx)("button",{onClick:f,className:"button",children:"Cancel"}),(0,me.jsx)("div",{className:"notification-container",children:a&&(0,me.jsx)("p",{className:"error-text",children:a})})]})]})}function GT(e){try{return new URL(e),!0}catch(t){return!1}}var $i=J(ae(),1);function Db(){let e=dt();return(0,$i.jsxs)("div",{className:"container",children:[(0,$i.jsx)("h2",{className:"section-header",children:"Reset Store"}),(0,$i.jsx)("p",{className:"description",children:"Reset the store to the initial state."}),(0,$i.jsx)("button",{onClick:()=>{e.reset()},className:"button",children:"Reset Store"})]})}var Tr=J(Et(),1);var pt=J(ae(),1);function $b(){var f;let e=dt(),[t,n]=(0,Tr.useState)(""),[r,o]=(0,Tr.useState)(null),[s,i]=(0,Tr.useState)(!1),[a,c]=(0,Tr.useState)(!1),[l,u]=(0,Tr.useState)(!1),d=()=>{if(r===null){if(t==="")e.update({share:null});else try{let h=zi(t);if(h===null)return;e.update({share:h})}catch(h){console.log(h),o("failed to decode package data")}c(!0),setTimeout(()=>c(!1),1500)}};return(0,Tr.useEffect)(()=>{try{e.data.share!==null?n(Hb(e.data.share)):n("")}catch(h){n("")}},[e.data.share]),(0,Tr.useEffect)(()=>{if(t==="")o(null);else if(!t.startsWith("bfshare"))o('input must start with "bfshare"');else if(!QT(t))o("input contains invalid characters");else{let h=XT(t);o(h!==null?null:"failed to decode package data")}},[t]),(0,pt.jsxs)("div",{className:"container",children:[(0,pt.jsx)("h2",{className:"section-header",children:"Share Package"}),(0,pt.jsx)("p",{className:"description",children:"Paste your encoded share string (starts with bfshare). It contains secret information about your signing share."}),(0,pt.jsxs)("div",{className:"content-container",children:[(0,pt.jsxs)("div",{className:"input-with-button",children:[(0,pt.jsx)("input",{type:s?"text":"password",value:t,onChange:h=>n(h.target.value.trim()),placeholder:"bfshare..."}),(0,pt.jsxs)("div",{className:"input-actions",children:[(0,pt.jsx)("button",{className:"button",onClick:()=>i(!s),children:s?"hide":"show"}),(0,pt.jsx)("button",{className:"button",onClick:()=>u(!l),children:l?"stop scan":"scan"}),(0,pt.jsx)("button",{className:"button action-button ".concat(a?"saved-button":""),onClick:d,disabled:!YT(t,e.data.share)||r!==null,children:a?"Saved":"Save"})]})]}),l&&(0,pt.jsx)(qd,{onResult:h=>{n(h.trim()),u(!1)},onError:h=>{console.error("QR scan error:",h)}}),t!==""&&r===null&&s&&(0,pt.jsx)("pre",{className:"code-display",children:(f=JT(t))!=null?f:"invalid share package"}),(0,pt.jsx)("div",{className:"notification-container",children:r&&(0,pt.jsx)("p",{className:"error-text",children:r})})]})]})}function QT(e){return/^bfshare1[023456789acdefghjklmnpqrstuvwxyz]+$/.test(e)}function YT(e,t){if(t===null)return e!=="";{let n=Hb(t);return e!==n}}function Hb(e){try{return e!==null?zd(e):""}catch(t){return""}}function XT(e){try{return e!==""?zi(e):null}catch(t){return null}}function JT(e){try{let t=zi(e);return JSON.stringify(t,null,2)}catch(t){return null}}var Yn=J(ae(),1);function Vb(){return(0,Yn.jsxs)(Yn.Fragment,{children:[(0,Yn.jsx)(Mb,{}),(0,Yn.jsx)($b,{}),(0,Yn.jsx)(zb,{}),(0,Yn.jsx)(jb,{}),(0,Yn.jsx)(Db,{})]})}var To=J(ae(),1);var qb=()=>(0,To.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,To.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,To.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});var Zb=()=>(0,To.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,To.jsx)("polyline",{points:"4 17 10 11 4 5"}),(0,To.jsx)("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]});var Qe=J(ae(),1);function Fb(){let[e,t]=(0,Wb.useState)("dashboard");return(0,Qe.jsxs)("div",{className:"tabs-container",children:[(0,Qe.jsx)("div",{className:"tabs-nav-wrapper",children:(0,Qe.jsxs)("div",{className:"tabs-navigation",children:[(0,Qe.jsxs)("button",{className:"tab-button ".concat(e==="dashboard"?"active":""),onClick:()=>t("dashboard"),children:[(0,Qe.jsx)(Zb,{}),(0,Qe.jsx)("span",{children:"Dashboard"})]}),(0,Qe.jsxs)("button",{className:"tab-button ".concat(e==="settings"?"active":""),onClick:()=>t("settings"),children:[(0,Qe.jsx)(qb,{}),(0,Qe.jsx)("span",{children:"Settings"})]})]})}),(0,Qe.jsxs)("div",{className:"tab-content",children:[e==="dashboard"&&(0,Qe.jsxs)("div",{className:"tab-panel",children:[(0,Qe.jsx)(Tb,{}),(0,Qe.jsx)(Nb,{}),(0,Qe.jsx)(Pb,{})]}),e==="settings"&&(0,Qe.jsx)("div",{className:"tab-panel",children:(0,Qe.jsx)(Vb,{})})]})]})}var vc=J(ae(),1);function Kb(){return(0,vc.jsxs)("div",{className:"app",children:[(0,vc.jsx)(Sb,{}),(0,vc.jsx)(Fb,{})]})}var Wg=document.createElement("link");Wg.rel="stylesheet";Wg.href="styles/global.css";document.head.appendChild(Wg);var Fg=document.createElement("link");Fg.rel="stylesheet";Fg.href="styles/layout.css";document.head.appendChild(Fg);var Kg=document.createElement("link");Kg.rel="stylesheet";Kg.href="styles/node.css";document.head.appendChild(Kg);var Gg=document.createElement("link");Gg.rel="stylesheet";Gg.href="styles/settings.css";document.head.appendChild(Gg);var xc=J(ae(),1),Yb=document.getElementById("root");if(!Yb)throw new Error("[ app ] root container not found");var tN=(0,Qb.createRoot)(Yb);tN.render((0,xc.jsx)(Gb.StrictMode,{children:(0,xc.jsx)(kb,{children:(0,xc.jsx)(Bb,{children:(0,xc.jsx)(Kb,{})})})}));
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ciphers/esm/utils.js:
@noble/ciphers/esm/utils.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=app.js.map
